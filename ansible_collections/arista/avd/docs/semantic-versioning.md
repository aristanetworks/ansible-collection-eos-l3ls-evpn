<!--
  ~ Copyright (c) 2023-2024 Arista Networks, Inc.
  ~ Use of this source code is governed by the Apache License 2.0
  ~ that can be found in the LICENSE file.
  -->

# Semantic Versioning

The AVD project follows Semantic Versioning ([SemVer](https://semver.org/)).

This document describes which attributes and APIs are stable and follow SemVer and which ones may change between minor releases.

## Ansible Collection (arista.avd)

All roles input variables follow SemVer. Any breaking changes will, at a minimum, be communicated with a deprecation notice in the previous release. Keys will then be documented as removed in the next major release.

### Roles

| Roles | Inputs Follow SemVer | Outputs Follow SemVer | Notes |
| ----- | :------------------: | :-------------------: | ----- |
| `eos_designs`<br>Structured configuration | ✅ | ✘ | - eos_designs `structured_configuration` may change between minor releases.<br><samp>&nbsp;&nbsp;- </samp>Structured configuration can change to use new keys when keys are deprecated in the `eos_cli_config_gen` role.<br><samp>&nbsp;&nbsp;- </samp>The resulting EOS CLI configuration generated from eos_cli_config_gen will be maintained, unless in rare cases when addressing a bug. |
|`eos_designs`<br>Documentation | ✅ | ✘ | - Fabric documentation artifacts including may change between minor releases.<br><samp>&nbsp;&nbsp;- </samp>Breaking changes to CSV output will be communicated in the release notes. |
| `eos_cli_config_gen`<br>EOS configuration | ✅ | ✅ | - EOS configuration generated by `eos_cli_config_gen` follows SemVer.<br><samp>&nbsp;&nbsp;- </samp>Breaking changes may occur in rare cases when addressing a bug.<br><samp>&nbsp;&nbsp;- </samp>Reordering of the CLI output may occur but without impacting the resulting configuration on EOS. |
| `eos_cli_config_gen`<br>Documentation | ✅ | ✘ | - Device documentation artifacts may change during minor releases.|
| `cvp_configlet_upload` | ✅ | ✅ | |
| `eos_config_deploy_cvp` | ✅ | ✘ | - Structured configuration output may change during minor releases to accommodate changes in the ansible-cvp collection. <br><samp>&nbsp;&nbsp;- </samp>The resulting CloudVision configuration will be maintained, unless in rare cases, when addressing a bug.<br><samp>&nbsp;&nbsp;- </samp>Breaking changes will be communicated in the release notes. |
| `cv_deploy` | ✅ | ✅ |- The resulting CloudVision configuration will be maintained, unless in rare cases, when addressing a bug. |
| `eos_config_deploy_eapi` | ✅ | ✅ | |
| `eos_validate_state` | ✅ | ✘ | - The generated reports and other artifacts may change between minor releases.<br><samp>&nbsp;&nbsp;- </samp>Breaking changes to CSV outputs will be communicated in the release notes.|
| `dhcp_provisioner` | ✅ | ✘ | - Structured configuration output may change during minor releases to accommodate changes in the ansible-cvp collection.<br><samp>&nbsp;&nbsp;- </samp>The resulting DHCP configuration will be maintained, unless in rare cases, when addressing a bug. |
| `build_output_folders` | ✅ | ✅ | |

### Plugins

- Placeholder

## PyAVD

All functions input variables follow SemVer. Any breaking changes will, at a minimum, be communicated with a deprecation notice in the previous release. Keys will then be documented as removed in the next major release.

!!! warning

    Internal/undocumented code is not covered by SemVer. Changes may not be documented in release notes.

| Functions | Inputs Follow SemVer | Outputs Follow SemVer | Notes |
| --------- | :------------------: | :-------------------: | ----- |
| `validate_inputs()` | ✅ | N/A | |
| `get_avd_facts()` | ✅ | ✘  | - `avd_facts` output may change between minor releases. |
| `get_device_structured_config()` | ✅ | ✘  | - `structured_configuration` may change between minor releases.<br><samp>&nbsp;&nbsp;- </samp>Structure config can change to use new keys when keys are deprecated in the `get_device_config()` function.<br><samp>&nbsp;&nbsp;- </samp>The resulting EOS CLI configuration generated from the `get_device_config()` function will be maintained, unless in rare cases when addressing a bug. |
| `validate_structured_config()` | ✅ | N/A | |
| `get_device_config()` | ✅ | ✅ | - EOS CLI configuration generated from eos_cli_config_gen follows SemVer.<br><samp>&nbsp;&nbsp;- </samp> Breaking changes may occur in rare cases when addressing a bug.<br><samp>&nbsp;&nbsp;- </samp> Reordering of the CLI output may occur but without impacting the resulting configuration on EOS. |
| `get_device_doc()` | ✅ | ✘  | - Device documentation artifacts may change during minor releases. |

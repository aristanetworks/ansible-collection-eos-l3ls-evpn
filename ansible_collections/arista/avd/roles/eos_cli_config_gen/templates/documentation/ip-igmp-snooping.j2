{% if ip_igmp_snooping is arista.avd.defined %}

## IP IGMP Snooping

### IP IGMP Snooping Summary

| Setting | Value |
| ------- | ----- |
{%     if ip_igmp_snooping.globally_enabled is arista.avd.defined(false) %}
| IGMP Snooping | Disabled |
{%     elif ip_igmp_snooping.globally_enabled is arista.avd.defined(true) %}
| IGMP Snooping | Enabled |
{%         if ip_igmp_snooping.fast_leave is arista.avd.defined %}
| Fast-leave | {{ ip_igmp_snooping.fast_leave }} |
{%         endif %}
{%         if ip_igmp_snooping.interface_restart_query is arista.avd.defined %}
| Interface Restart Query | {{ ip_igmp_snooping.interface_restart_query }} |
{%         endif %}
{%         if ip_igmp_snooping.proxy is arista.avd.defined %}
| Proxy | {{ ip_igmp_snooping.proxy }} |
{%         endif %}
{%         if ip_igmp_snooping.restart_query_interval is arista.avd.defined %}
| Restart Query Interval | {{ ip_igmp_snooping.restart_query_interval }} |
{%         endif %}
{%         if ip_igmp_snooping.robustness_variable is arista.avd.defined %}
| Robustness Variable | {{ ip_igmp_snooping.robustness_variable }} |
{%         endif %}
{%         if ip_igmp_snooping.querier is arista.avd.defined %}

| Querier Setting | Value |
| --------------- | ----- |
{%             for querier_setting in ip_igmp_snooping.querier | arista.avd.natural_sort if ip_igmp_snooping.querier[querier_setting] is arista.avd.defined %}
| {{ querier_setting | replace("_", " ") | title }} | {{ ip_igmp_snooping.querier[querier_setting] }} |
{%             endfor %}
{%         endif %}
{%         if ip_igmp_snooping.vlans is arista.avd.defined %}
{%             set igmp_settings_vlans = [] %}

| Vlan | IGMP Snooping |
| ---- | ------------- |
{%             for vlan in ip_igmp_snooping.vlans | arista.avd.natural_sort %}
{%                 if ip_igmp_snooping.vlans[vlan].enabled is arista.avd.defined(false) %}
| {{ vlan }} | Disabled |
{%                 elif ip_igmp_snooping.vlans[vlan].enabled is arista.avd.defined(true) %}
| {{ vlan }} | Enabled |
{%                     if ip_igmp_snooping.vlans[vlan].enabled and ip_igmp_snooping.vlans[vlan] | length > 1 %}
{%                         do igmp_settings_vlans.append(vlan) %}
{%                     endif %}
{%                 endif %}
{%             endfor %}
{%             for vlan in igmp_settings_vlans %}

#### IP IGMP Snooping Vlan {{ vlan }} Summary

| Setting | Value |
| ------- | ----- |
{%                 if ip_igmp_snooping.vlans[vlan].fast_leave is arista.avd.defined %}
| Fast-leave | {{ ip_igmp_snooping.vlans[vlan].fast_leave }} |
{%                 endif %}
{%                 if ip_igmp_snooping.vlans[vlan].max_groups is arista.avd.defined %}
| Max Groups | {{ ip_igmp_snooping.vlans[vlan].max_groups }} |
{%                 endif %}
{%                 if ip_igmp_snooping.vlans[vlan].proxy is arista.avd.defined %}
| Proxy | {{ ip_igmp_snooping.vlans[vlan].proxy }} |
{%                 endif %}
{%                 if ip_igmp_snooping.vlans[vlan].querier is arista.avd.defined %}

| Querier Setting | Value |
| --------------- | ----- |
{%                     for querier_setting in ip_igmp_snooping.vlans[vlan].querier | arista.avd.natural_sort if ip_igmp_snooping.vlans[vlan].querier[querier_setting] is arista.avd.defined %}
| {{ querier_setting | replace("_", " ") | title }} | {{ ip_igmp_snooping.vlans[vlan].querier[querier_setting] }} |
{%                     endfor %}
{%                 endif %}
{%             endfor %}
{%         endif %}
{%     endif %}

### IP IGMP Snooping Device Configuration

```eos
{%     include 'eos/ip-igmp-snooping.j2' %}
```
{% endif %}

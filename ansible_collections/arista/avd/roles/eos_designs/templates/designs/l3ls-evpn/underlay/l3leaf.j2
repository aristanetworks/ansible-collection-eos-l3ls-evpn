{# Add one blank line after each included template #}
{% include 'designs/l3ls-evpn/underlay/interfaces/loopback-interfaces.j2' %}

{% include 'designs/l3ls-evpn/underlay/interfaces/l3leaf-ethernet-interfaces.j2' %}

{% include 'designs/l3ls-evpn/underlay/interfaces/l3leaf-port-channel-interfaces.j2' %}

{% include 'designs/l3ls-evpn/underlay/l3leaf-vlans.j2' %}

{% include 'designs/l3ls-evpn/underlay/interfaces/l3leaf-vlan-interfaces.j2' %}

{# EBGP #}
{% if switch.underlay_routing_protocol == "ebgp" %}
{%     include 'designs/l3ls-evpn/underlay/ebgp/l3leaf-router-bgp.j2'%}

{%     include 'designs/l3ls-evpn/underlay/ebgp/prefix-lists.j2' %}

{%     include 'designs/l3ls-evpn/underlay/ebgp/route-maps.j2' %}

{% elif switch.underlay_routing_protocol == "isis" %}
{%     include 'designs/l3ls-evpn/underlay/isis/l3leaf-router-isis.j2'%}

{% elif switch.underlay_routing_protocol == "ospf" %}
{%     include 'designs/l3ls-evpn/underlay/ospf/l3leaf-router-ospf.j2'%}

{% endif %}

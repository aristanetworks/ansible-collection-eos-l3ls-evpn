---
type: l3leaf

fabric_sflow:
  uplinks: false
  downlinks: false
  endpoints: false
  l3_edge: false
  core_interfaces: false
  mlag_interfaces: false

l3leaf:
  defaults:
    platform: vEOS-lab
    loopback_ipv4_pool: 10.254.1.0/27
    uplink_interfaces: ['Ethernet1', 'Ethernet2']
    uplink_switches: ['sflow-tests-spine3', 'sflow-tests-spine3']
    uplink_ipv4_pool: 10.254.2.0/24
    vtep_loopback_ipv4_pool: 10.254.11.0/27
    mlag_interfaces: ['Ethernet11', 'Ethernet12']
    mlag_peer_ipv4_pool: 10.254.1.64/27
    mlag_peer_l3_ipv4_pool: 10.254.1.96/27
    spanning_tree_priority: 4096
    spanning_tree_mode: mstp


  nodes:
    sflow-tests-leaf3:
      id: 3
      bgp_as: 65103
      mgmt_ip: 192.168.0.103/24
      uplink_switch_interfaces:
        - Ethernet1
        - Ethernet2


    sflow-tests-leaf4:
      id: 4
      bgp_as: 65104
      mgmt_ip: 192.168.0.104/24
      uplink_switch_interfaces:
        - Ethernet3
        - Ethernet4
  node_groups:
    sflow-tests-leaf-mlag-default:
      bgp_as: 65106
      nodes:
        sflow-tests-leaf7:
          id: 7
          mgmt_ip: 192.168.0.107/24
          uplink_switch_interfaces:
            - Ethernet7
            - Ethernet8
        sflow-tests-leaf8:
          id: 8
          mgmt_ip: 192.168.0.108/24
          uplink_switch_interfaces:
            - Ethernet9
            - Ethernet10

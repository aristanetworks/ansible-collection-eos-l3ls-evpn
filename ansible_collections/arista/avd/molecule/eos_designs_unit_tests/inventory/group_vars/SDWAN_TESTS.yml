---
# Testing sdwan
wan_mode: sdwan

bgp_as: 65000

sdwan_regions:
  - name: AVD_Land_West
    id: 42
    description: AVD Region
    zones:
      - name: danger
        id: 42
        description: Danger Zone
        sites:
          - name: Site421
            id: 421
          - name: Site422
            id: 422
  - name: AVD_Land_East
    id: 43
    description: AVD Region
    zones:
      - name: Roswell
        id: 51
        description: Zone 51
        sites:
          - name: Site511
            id: 511

bgp_peer_groups:
  wan_overlay_peers:
    password: "htm4AZe9mIQOO1uiMuGgYQ=="

sdwan_pathfinders:
  # Not testing the overloading
  - hostname: sdwan-pathfinder

wan_ipsec_profiles:
  control_plane:
    shared_key: ABCDEF1234567890
  data_plane:
    shared_key: ABCDEF1234567890666

default_node_types:
  - node_type: wan-controller
    match_hostnames:
      - "^sdwan-pathfinder$"
  - node_type: transit
    match_hostnames:
      - "^sdwan-transit$"
  - node_type: edge
    match_hostnames:
      - "^sdwan-edge$"

edge:
  defaults:
    loopback_ipv4_pool: 192.168.42.0/24
  nodes:
    - name: sdwan-edge
      sdwan_site: Site511
      id: 1

transit:
  defaults:
    loopback_ipv4_pool: 192.168.42.0/24
  nodes:
    - name: sdwan-transit
      sdwan_site: Site422
      id: 1

wan_controller:
  defaults:
    loopback_ipv4_pool: 192.168.42.0/24
  nodes:
    - name: sdwan-pathfinder
      sdwan_site: Site421
      id: 1

---
mgmt_gateway: 192.168.200.5

default_node_types:
  - match_hostnames:
      - AUTO_NODE_TYPE_L3LEAF.*
    node_type: l3leaf
  - match_hostnames:
      - AUTO_NODE_TYPE_SPINE.*
    node_type: spine
  - match_hostnames:
      - AUTO_NODE_TYPE_L2LEAF.*
    node_type: l2leaf

l3leaf:
  defaults:
    filter:
      only_vlans_in_use: true
    loopback_ipv4_pool: 10.0.255.0/24
    vtep_loopback_ipv4_pool: 10.0.254.0/24
    virtual_router_mac_address: 00:1c:73:00:dc:01
    bgp_as: 65000
    mlag_peer_ipv4_pool: 10.255.252.0/24
    mlag_peer_l3_ipv4_pool: 10.255.0.0/24
    mlag_interfaces: ['Ethernet21/1', 'Ethernet22/1']
  node_groups:
    - group: AUTO_NODE_TYPE_L3LEAF
      nodes:
        - name: AUTO_NODE_TYPE_L3LEAF_1A
          id: 1
        - name: AUTO_NODE_TYPE_L3LEAF_1B
          id: 2

l2leaf:
  defaults:
    uplink_interfaces: ['Ethernet49', 'Ethernet50']
    uplink_switches: [AUTO_NODE_TYPE_L3LEAF_1A, AUTO_NODE_TYPE_L3LEAF_1B]
    uplink_port_channel_id: 111
    uplink_switch_port_channel_id: 222
  node_groups:
    - group: AUTO_NODE_TYPE_L2LEAF
      mlag_peer_ipv4_pool: 10.255.252.0/24
      mlag_peer_l3_ipv4_pool: 10.255.0.0/24
      mlag_interfaces: ['Ethernet21/1', 'Ethernet22/1']
      nodes:
        - name: AUTO_NODE_TYPE_L2LEAF_1A
          id: 3
          uplink_port_channel_id: 123
          uplink_switch_port_channel_id: 456
          uplink_switch_interfaces: ['Ethernet33', 'Ethernet33']
        - name: AUTO_NODE_TYPE_L2LEAF_1B
          id: 4
          uplink_port_channel_id: 123
          uplink_switch_port_channel_id: 456
          uplink_switch_interfaces: ['Ethernet34', 'Ethernet34']
  nodes:
    - name: AUTO_NODE_TYPE_L2LEAF_2
      id: 5
      uplink_switch_interfaces: ['Ethernet35', 'Ethernet35']
    - name: AUTO_NODE_TYPE_L2LEAF_3
      id: 6
      uplink_port_channel_id: 333
      uplink_switch_port_channel_id: 444
      uplink_switch_interfaces: ['Ethernet36', 'Ethernet36']

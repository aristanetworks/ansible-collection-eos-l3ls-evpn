---
# Minimum config to only test the specific feature.
l3leaf:
  defaults:
    loopback_ipv4_pool: 10.42.0.0/24
    bgp_as: 42
    vtep_loopback_ipv4_pool: 10.43.0.0/24
  nodes:
    duplicate-vrfs:
      id: 42

type: l3leaf

tenants:
  - name: TenantA
    mac_vrf_id_base: 10000
    vrfs:
      - name: TG_100
        vrf_vni: 200
        svis:
          - id: 200
            name: svi200
            enabled: True
            ip_address: 10.2.0.1/24

  - name: TenantB
    mac_vrf_id_base: 10000
    vrfs:
      # duplicate vrf name
      - name: TG_100
        vrf_vni: 100
        svis:
          - id: 100
            name: svi100
            enabled: True
            ip_address: 10.1.0.1/24

expected_error_message: "Duplicate VRF 'TG_100' found in Tenant 'TenantB'. Other VRF is in Tenant 'TenantA'."

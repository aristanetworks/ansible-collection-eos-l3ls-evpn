router_bgp:
  as: 65101
  router_id: 192.168.255.3
  bgp_defaults:
    - no bgp default ipv4-unicast
    - distance bgp 20 200 200
    - graceful-restart restart-time 300
    - graceful-restart
    - maximum-paths 2 ecmp 2
  peer_groups:
    - name: EVPN-OVERLAY-PEERS
      type: evpn
      remote_as: 65001
      update_source: Loopback0
      bfd: true
      ebgp_multihop: 3
      password: "q+VNViP5i4rVjW1cxFv2wA=="
      send_community: all
      maximum_routes: 0
      default_originate:
        enabled: true
        route_map: RM-FOO
        always: true
      rib_in_pre_policy_retain:
        enabled: true
        all: true
    - name: MLAG-IPv4-UNDERLAY-PEER
      type: ipv4
      remote_as: 65101
      # Test no config generation
      default_originate:
      # Test no config generation
      rib_in_pre_policy_retain:
  neighbors:
    - ip_address: 192.168.255.1
      peer_group: EVPN-OVERLAY-PEERS
    - ip_address: 192.168.255.2
      peer_group: EVPN-OVERLAY-PEERS
  address_family_ipv4_labeled_unicast:
    update_wait_for_convergence: true
    aigp_session:
      ebgp: true
      confederation: true
    bgp:
      additional_paths:
        receive: true
        send:
          ecmp: true
          ecmp_limit: 20
      missing_policy:
        direction_in_action: deny
      next_hop_unchanged: true
    label_local_termination: implicit-null
    networks:
      - prefix: 203.0.113.0/25
        route_map: RM-TEST
      - prefix: 203.0.113.128/25
    tunnel_source_protocols:
      - protocol: isis segment-routing
      - protocol: ldp
        rcf: TEST(ARGS)
    neighbors:
      - ip_address: 198.51.100.1
        activate: true
        additional_paths:
          receive: true
          send:
            ecmp: true
        graceful_restart: true
        maximum_advertised_routes: 0
        rcf_in: RCF_TEST(ARGS)
      - ip_address: 198.51.100.2
        aigp_session: true
        multi_path: true
        graceful_restart_helper:
          stale_route_map: RM_STALE
        next_hop_unchanged: true
        route_map_out: RM_OUT_TEST

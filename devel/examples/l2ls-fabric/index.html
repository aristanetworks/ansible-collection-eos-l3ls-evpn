
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Arista Validated Design collection's documentation">
      
      
        <meta name="author" content="Arista Ansible Team">
      
      
      
        <link rel="prev" href="../dual-dc-l3ls/index.html">
      
      
        <link rel="next" href="../campus-fabric/index.html">
      
      <link rel="icon" href="../../docs/_media/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.0.15">
    
    
      
        <title>Example for L2LS Fabric - Arista AVD collection</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../docs/stylesheets/extra.material.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#example-for-l2ls-fabric" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="Arista AVD collection" class="md-header__button md-logo" aria-label="Arista AVD collection" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Arista AVD collection
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Example for L2LS Fabric
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aristanetworks/ansible-avd" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    AVD on Github
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Arista AVD collection" class="md-nav__button md-logo" aria-label="Arista AVD collection" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>

    </a>
    Arista AVD collection
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aristanetworks/ansible-avd" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    AVD on Github
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/getting-started/intro-to-ansible-and-avd.html" class="md-nav__link">
        Introduction to Ansible and AVD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../single-dc-l3ls/index.html" class="md-nav__link">
        Example for Single DC L3LS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dual-dc-l3ls/index.html" class="md-nav__link">
        Example for Dual DC L3LS
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Example for L2LS Fabric
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="index.html" class="md-nav__link md-nav__link--active">
        Example for L2LS Fabric
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-requirements" class="md-nav__link">
    Installation &amp; Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-overview" class="md-nav__link">
    Design Overview
  </a>
  
    <nav class="md-nav" aria-label="Design Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#physical-l2ls-topology" class="md-nav__link">
    Physical L2LS Topology
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-eos-switch-configuration" class="md-nav__link">
    Basic EOS Switch Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansible-inventory" class="md-nav__link">
    Ansible Inventory
  </a>
  
    <nav class="md-nav" aria-label="Ansible Inventory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inventoryyml" class="md-nav__link">
    inventory.yml
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avd-fabric-variables" class="md-nav__link">
    AVD Fabric Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-playbooks" class="md-nav__link">
    The Playbooks
  </a>
  
    <nav class="md-nav" aria-label="The Playbooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#playbook-run" class="md-nav__link">
    Playbook Run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eos-intended-configurations" class="md-nav__link">
    EOS Intended Configurations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-routing-to-spines" class="md-nav__link">
    Add Routing to Spines
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../campus-fabric/index.html" class="md-nav__link">
        Example for Campus Fabric
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/installation/collection-installation.html" class="md-nav__link">
        Collection Installation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          How-To
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          How-To
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/how-to/first-project.html" class="md-nav__link">
        Build Your First AVD Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/how-to/first-cvp-avd-project.html" class="md-nav__link">
        Build Your First AVD & CVP Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/how-to/lab-with-nat.html" class="md-nav__link">
        Use NAT Gateway With eAPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/how-to/tower-integration.html" class="md-nav__link">
        AWX & Tower Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/how-to/ztp.html" class="md-nav__link">
        Configure ZTP Server With CVP Collection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/how-to/vscode-container.html" class="md-nav__link">
        Setup Ansible AVD With VS Code Container
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../docs/input-variable-validation-BETA.html" class="md-nav__link">
        Validation of Input Variables (BETA)
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Roles Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Roles Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
      
      
      
        <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
          eos_designs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          eos_designs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/index.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/connected-endpoints.html" class="md-nav__link">
        Connected Endpoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/l3-edge.html" class="md-nav__link">
        DCI & L3 Edge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/fabric-topology.html" class="md-nav__link">
        Fabric Topology
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/fabric-variables.html" class="md-nav__link">
        Fabric Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/management-settings.html" class="md-nav__link">
        Management Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/network-services.html" class="md-nav__link">
        Network Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/ptp.html" class="md-nav__link">
        PTP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/node-types.html" class="md-nav__link">
        Node Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/platform-settings.html" class="md-nav__link">
        Platform Specific Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/custom-structured-configuration.html" class="md-nav__link">
        Custom Structured Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_12" >
      
      
      
        <label class="md-nav__link" for="__nav_6_1_12" id="__nav_6_1_12_label" tabindex="0">
          MPLS Design (BETA)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1_12">
          <span class="md-nav__icon md-icon"></span>
          MPLS Design (BETA)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/fabric-topology-mpls-BETA.html" class="md-nav__link">
        Fabric Topology MPLS (BETA)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/fabric-variables-mpls-BETA.html" class="md-nav__link">
        Fabric Variables MPLS (BETA)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/core-interfaces-BETA.html" class="md-nav__link">
        Core Interfaces (BETA)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/network-services-mpls-BETA.html" class="md-nav__link">
        Network Services MPLS (BETA)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/connected-endpoints-mpls-BETA.html" class="md-nav__link">
        Connected Endpoints MPLS (BETA)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
      
      
      
        <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
          eos_cli_config_gen
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          eos_cli_config_gen
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/index.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/inputs/Role%20Inputs.html" class="md-nav__link">
        Role Inputs
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_6_2_3" id="__nav_6_2_3_label" tabindex="0">
          Data Model
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2_3">
          <span class="md-nav__icon md-icon"></span>
          Data Model
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/ACLs.html" class="md-nav__link">
        ACLs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Address%20Locking.html" class="md-nav__link">
        Address Locking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Aliases.html" class="md-nav__link">
        Aliases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Authentication.html" class="md-nav__link">
        Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Banners.html" class="md-nav__link">
        Banners
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/DHCP%20Relay.html" class="md-nav__link">
        DHCP Relay
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/EOS%20CLI.html" class="md-nav__link">
        EOS CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Endpoint%20Security.html" class="md-nav__link">
        Endpoint Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Errdisable.html" class="md-nav__link">
        Errdisable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Filters.html" class="md-nav__link">
        Filters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Flow%20Tracking.html" class="md-nav__link">
        Flow Tracking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Hardware.html" class="md-nav__link">
        Hardware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/IP%20DHCP%20Relay.html" class="md-nav__link">
        IP DHCP Relay
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/IP%20Hardware.html" class="md-nav__link">
        IP Hardware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/IP%20ICMP%20Redirect.html" class="md-nav__link">
        IP ICMP Redirect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/IP%20NAT.html" class="md-nav__link">
        IP NAT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/IPv6%20Hardware.html" class="md-nav__link">
        IPv6 Hardware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Interfaces.html" class="md-nav__link">
        Interfaces
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/L2%20Protocol%20Forwarding.html" class="md-nav__link">
        L2 Protocol Forwarding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/LACP.html" class="md-nav__link">
        LACP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/LLDP.html" class="md-nav__link">
        LLDP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Link%20Tracking%20Groups.html" class="md-nav__link">
        Link Tracking Groups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/MAC%20Address-table.html" class="md-nav__link">
        MAC Address-table
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/MAC%20Security.html" class="md-nav__link">
        MAC Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/MCS%20Client.html" class="md-nav__link">
        MCS Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/MLAG.html" class="md-nav__link">
        MLAG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/MPLS.html" class="md-nav__link">
        MPLS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Maintenance%20Mode.html" class="md-nav__link">
        Maintenance Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Management.html" class="md-nav__link">
        Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Monitoring.html" class="md-nav__link">
        Monitoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Multicast.html" class="md-nav__link">
        Multicast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/PTP.html" class="md-nav__link">
        PTP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Patch%20Panel.html" class="md-nav__link">
        Patch Panel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Power%20over%20Ethernet.html" class="md-nav__link">
        Power over Ethernet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Prompt.html" class="md-nav__link">
        Prompt
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Quality%20of%20Service.html" class="md-nav__link">
        Quality of Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Routing.html" class="md-nav__link">
        Routing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Service%20Unsupported%20Transceiver.html" class="md-nav__link">
        Service Unsupported Transceiver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Spanning%20Tree.html" class="md-nav__link">
        Spanning Tree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/System%20Boot%20Settings.html" class="md-nav__link">
        System Boot Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/System%20Control-Plane.html" class="md-nav__link">
        System Control-Plane
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Terminal%20Settings.html" class="md-nav__link">
        Terminal Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Traffic%20Policies.html" class="md-nav__link">
        Traffic Policies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/VLAN%20Internal%20Order.html" class="md-nav__link">
        VLAN Internal Order
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/VLANs.html" class="md-nav__link">
        VLANs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/docs/data_model/Virtual%20Source%20NAT.html" class="md-nav__link">
        Virtual Source NAT
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/cvp_configlet_upload/index.html" class="md-nav__link">
        cvp_configlet_upload
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_config_deploy_cvp/index.html" class="md-nav__link">
        eos_config_deploy_cvp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_config_deploy_eapi/index.html" class="md-nav__link">
        eos_config_deploy_eapi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_validate_state/index.html" class="md-nav__link">
        eos_validate_state
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_snapshot/index.html" class="md-nav__link">
        eos_snapshot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/dhcp_provisioner/index.html" class="md-nav__link">
        dhcp_provisioner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/build_output_folders/index.html" class="md-nav__link">
        build_output_folders
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Modules Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Modules Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/modules/inventory_to_container.rst.html" class="md-nav__link">
        Module Inventory to Containers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/modules/configlet_build_config.rst.html" class="md-nav__link">
        Module Configlet Build Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/index.html" class="md-nav__link">
        AVD Plugins & Filters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://cvp.avd.sh/" class="md-nav__link">
        CloudVision Module Documentation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Contributing to AVD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Contributing to AVD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/contribution/overview.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/contribution/setup-environment.html" class="md-nav__link">
        Setup Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/contribution/setup-git.html" class="md-nav__link">
        Git Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/contribution/getting-started.html" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/contribution/style-guide.html" class="md-nav__link">
        Code Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/contribution/development.html" class="md-nav__link">
        Development Tips & Tricks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          External Resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          External Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.ansible.com/ansible/latest/user_guide/collections_using.html" class="md-nav__link">
        Ansible Collection User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.ansible.com/ansible/latest/user_guide/index.html" class="md-nav__link">
        Ansible User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          Release Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/release-notes/4.x.x.html" class="md-nav__link">
        4.x.x
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/release-notes/3.x.x.html" class="md-nav__link">
        3.x.x
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/release-notes/2.x.x.html" class="md-nav__link">
        2.x.x
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/release-notes/1.1.x.html" class="md-nav__link">
        1.1.x
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/release-notes/1.0.x.html" class="md-nav__link">
        1.0.x
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
      
      
      
        <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
          Porting Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Porting Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/porting-guides/4.x.x.html" class="md-nav__link">
        4.x.x
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
      
      
      
        <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://galaxy.ansible.com/arista/avd" class="md-nav__link">
        AVD on Ansible Galaxy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://cvp.avd.sh/en/latest/" class="md-nav__link">
        Arista CVP Collection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/arista-netdevops-community/avd-install" class="md-nav__link">
        Arista Installation Script
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://aristanetworks.github.io/netdevops-examples/" class="md-nav__link">
        Arista NetDevOps Community
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="example-for-l2ls-fabric">Example for L2LS Fabric<a class="headerlink" href="#example-for-l2ls-fabric" title="Permanent link">&para;</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>This example includes and describes all the AVD files used to build a Layer 2 Leaf Spine (L2LS) Fabric, with the following nodes:</p>
<ul>
<li>2 Spine nodes</li>
<li>4 Leaf nodes</li>
</ul>
<p>The network fabric in this example is layer 2; an external firewall (FW) or layer 3 (L3) device will handle routing. Later, in this example, we will discuss adding L3 routing to the Spines. But, first, we will focus on defining the fabric variables to build this L2LS Topology. Before we start, we must ensure that we have installed AVD with the requirements covered in the Installation &amp; Requirements section.</p>
<p>The example is meant as a starting foundation. You may build more advanced fabrics based on this design. To keep things simple, the Arista eAPI will be used to communicate with the switches.</p>
<details class="info" open="open">
<summary>Info</summary>
<p>The configurations may also be applied with CloudVision with a few updates to your playbook and Ansible variables.</p>
</details>
<h2 id="installation-requirements">Installation &amp; Requirements<a class="headerlink" href="#installation-requirements" title="Permanent link">&para;</a></h2>
<ol>
<li>Install AVD - Installation guide found <a href="../../docs/installation/collection-installation.html">here</a>.</li>
<li>Install Ansible module requirements - Instructions found <a href="../../docs/installation/collection-installation.html">here</a>.</li>
<li>Run the following playbook which will copy Getting Started examples to your current working directory.</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># current working directory: ~/ansible-avd-examples</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>ansible-playbook<span class="w"> </span>arista.avd.install_examples
</code></pre></div>
<p>The output will show something similar to the following. If not, please ensure that AVD and all requirements are correctly installed.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="w"> </span>~/ansible-avd-examples#<span class="w"> </span>ansible-playbook<span class="w"> </span>arista.avd.install_examples
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>PLAY<span class="w"> </span><span class="o">[</span>Install<span class="w"> </span>Examples<span class="o">]</span>***************************************************************************************************************************************************************************************************************************************************************
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>TASK<span class="w"> </span><span class="o">[</span>Copy<span class="w"> </span>all<span class="w"> </span>examples<span class="w"> </span>to<span class="w"> </span>~/ansible-avd-examples<span class="o">]</span>*****************************************************************************************************************************************************
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>changed:<span class="w"> </span><span class="o">[</span>localhost<span class="o">]</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>PLAY<span class="w"> </span>RECAP
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>****************************************************************************************************************************************************************************************************************************************************************************
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>localhost<span class="w">                  </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</code></pre></div>
<p>After the playbook has run successfully, the following directory structure will be created.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>ansible-avd-examples/<span class="w">     </span><span class="o">(</span>directory<span class="w"> </span>where<span class="w"> </span>playbook<span class="w"> </span>was<span class="w"> </span>run<span class="o">)</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span>├──<span class="w"> </span>l2ls-fabric/
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span>├──<span class="w"> </span>documentation/
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span>├──<span class="w"> </span>group_vars/
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span>├──<span class="w"> </span>images/
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span>├──<span class="w"> </span>intended/
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span>├──<span class="w"> </span>switch-basic-configurations/
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span>├──<span class="w"> </span>ansible.cfg
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">    </span>├──<span class="w"> </span>build.yml
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">    </span>├──<span class="w"> </span>deploy.yml
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">    </span>├──<span class="w"> </span>inventory.yml
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">    </span>└──<span class="w"> </span>README.md<span class="w"> </span><span class="o">(</span>this<span class="w"> </span>document<span class="o">)</span>
</code></pre></div>
<details class="info" open="open">
<summary>Info</summary>
<p>If the content of any file in the example is <strong><em>modified</em></strong> and the playbook is run again, the file <strong><em>will not</em></strong> be overwritten. However, if any file in the example is <strong><em>deleted</em></strong> and the playbook is run again, the file will be re-created.</p>
</details>
<h2 id="design-overview">Design Overview<a class="headerlink" href="#design-overview" title="Permanent link">&para;</a></h2>
<h3 id="physical-l2ls-topology">Physical L2LS Topology<a class="headerlink" href="#physical-l2ls-topology" title="Permanent link">&para;</a></h3>
<p>The drawing below shows the physical topology used in this example. The interface assignment shown here are referenced across the entire example, so keep that in mind if this example must be adapted to a different topology.</p>
<p><img alt="Figure: 1" src="images/pure_L2LS_topo.svg" /></p>
<details class="note" open="open">
<summary>Note</summary>
<p>The FW/L3 Device and individual hosts (A-D) in this example are not managed by AVD, but the switch ports connecting to these devices are.</p>
</details>
<h2 id="basic-eos-switch-configuration">Basic EOS Switch Configuration<a class="headerlink" href="#basic-eos-switch-configuration" title="Permanent link">&para;</a></h2>
<p>Basic connectivity between the Ansible controller host and the switches must be established before Ansible can be used to deploy configurations. The following should be configured on all switches:</p>
<ul>
<li>Switch Hostname</li>
<li>IP enabled interface</li>
<li>Username and Password defined</li>
<li>Management eAPI enabled</li>
</ul>
<details class="info" open="open">
<summary>Info</summary>
<p>When using vEOS/cEOS virtual switches, <code>Management0</code> is used. When using actual hardware switches, <code>Management1</code> is used. The included basic switch configurations may need to be adjusted for your environment.</p>
</details>
<p>Below is the basic configuration file for SPINE1:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>!
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>no<span class="w"> </span>aaa<span class="w"> </span>root
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>!
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>username<span class="w"> </span>admin<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>secret<span class="w"> </span>sha512<span class="w"> </span><span class="nv">$6$eucN5ngreuExDgwS$xnD7T8jO</span>..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>!
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>hostname<span class="w"> </span>SPINE1
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>!
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>vrf<span class="w"> </span>instance<span class="w"> </span>MGMT
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>!
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>management<span class="w"> </span>api<span class="w"> </span>http-commands
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">   </span>!
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">      </span>no<span class="w"> </span>shutdown
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>!
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>interface<span class="w"> </span>Management0
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">172</span>.100.100.101/24
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>!
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>ip<span class="w"> </span>routing
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>no<span class="w"> </span>ip<span class="w"> </span>routing<span class="w"> </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>!
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>ip<span class="w"> </span>route<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">0</span>.0.0.0/0<span class="w"> </span><span class="m">172</span>.100.100.1
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>!
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>management<span class="w"> </span>ssh
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">      </span>no<span class="w"> </span>shutdown
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>!
</code></pre></div>
<h2 id="ansible-inventory">Ansible Inventory<a class="headerlink" href="#ansible-inventory" title="Permanent link">&para;</a></h2>
<p>Now that we understand the physical L2LS topology, we need to create the Ansible inventory that represents this topology. The following is a textual and graphical representation of the Ansible inventory group variables and naming scheme used in this example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>- DC1
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>  - DC1_FABRIC
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    - DC1_SPINES
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    - DC1_LEAFS
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>  - DC1_NETWORK_SERVICES
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    - DC1_SPINES
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    - DC1_LEAFS
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>  - DC1_NETWORK_PORTS
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    - DC1_SPINES
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    - DC1_LEAFS
</code></pre></div>
<p>DC1 represents the highest level within the hierarchy. Ansible variables defined at this level will be applied to all nodes in the fabric. Ansible groups have parent and child relationships. For example, both DC1_SPINES and DC1_LEAFS are children of DC1_FABRIC. Groups of Groups are possible and allow variables to be shared at any level within the hierarchy. For example, DC1_NETWORK_SERVICES is a group with two other groups defined as children: DC1_SPINES and DC1_LEAFS. The same applies to the group named DC1_NETWORK_PORTS. You will see these groups listed at the bottom of the inventory file.</p>
<p>This naming convention makes it possible to extend anything quickly but can be changed based on your preferences. The names of all groups and hosts must be unique.</p>
<p><img alt="Figure: 2" src="images/ansible_groups.svg" /></p>
<h3 id="inventoryyml">inventory.yml<a class="headerlink" href="#inventoryyml" title="Permanent link">&para;</a></h3>
<p>The below inventory file represents two Spines and four Leafs. The nodes are defined under the groups DC1_SPINES and DC1_LEAFS, respectively. We apply group variables (group_vars) to these groups to define their functionality and configurations.</p>
<p>The hostnames specified in the inventory must exist either in DNS or in the hosts file on your Ansible host to allow successful name lookup and be able to reach the switches directly. A successful ping from the Ansible host to each inventory host verifies name resolution (e.g., ping SPINE1).</p>
<p>Alternatively, if DNS is not available, define the variable ansible_host to be an IP address for each device.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># inventory.yml</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nt">DC1</span><span class="p">:</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span><span class="nt">children</span><span class="p">:</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="nt">DC1_FABRIC</span><span class="p">:</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">      </span><span class="nt">children</span><span class="p">:</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">        </span><span class="nt">DC1_SPINES</span><span class="p">:</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">          </span><span class="nt">hosts</span><span class="p">:</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">            </span><span class="nt">SPINE1</span><span class="p">:</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">              </span><span class="nt">ansible_host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.101</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">            </span><span class="nt">SPINE2</span><span class="p">:</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">              </span><span class="nt">ansible_host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.102</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">        </span><span class="nt">DC1_LEAFS</span><span class="p">:</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">          </span><span class="nt">hosts</span><span class="p">:</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">            </span><span class="nt">LEAF1</span><span class="p">:</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">              </span><span class="nt">ansible_host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.105</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">            </span><span class="nt">LEAF2</span><span class="p">:</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">              </span><span class="nt">ansible_host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.106</span>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="w">            </span><span class="nt">LEAF3</span><span class="p">:</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="w">              </span><span class="nt">ansible_host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.107</span>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="w">            </span><span class="nt">LEAF4</span><span class="p">:</span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="w">              </span><span class="nt">ansible_host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.108</span>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="w">    </span><span class="nt">DC1_NETWORK_SERVICES</span><span class="p">:</span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a><span class="w">      </span><span class="nt">children</span><span class="p">:</span>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="w">        </span><span class="nt">DC1_LEAFS</span><span class="p">:</span>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="w">        </span><span class="nt">DC1_SPINES</span><span class="p">:</span>
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="w">    </span><span class="nt">DC1_NETWORK_PORTS</span><span class="p">:</span>
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a><span class="w">      </span><span class="nt">children</span><span class="p">:</span>
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a><span class="w">        </span><span class="nt">DC1_LEAFS</span><span class="p">:</span>
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a><span class="w">        </span><span class="nt">DC1_SPINES</span><span class="p">:</span>
</code></pre></div>
<h2 id="avd-fabric-variables">AVD Fabric Variables<a class="headerlink" href="#avd-fabric-variables" title="Permanent link">&para;</a></h2>
<p>To apply AVD variables to the nodes in the fabric, we make use of Ansible group_vars. How and where you define the variables is your choice. The group_vars table below is one example of AVD fabric variables.</p>
<table>
<thead>
<tr>
<th>group_vars/</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DC1.yml</td>
<td>Global settings for all devices</td>
</tr>
<tr>
<td>DC1_FABRIC.yml</td>
<td>Fabric, Topology, and Device settings</td>
</tr>
<tr>
<td>DC1_SPINES.yml</td>
<td>Device type for Spines</td>
</tr>
<tr>
<td>DC1_LEAFS.yml</td>
<td>Device type for Leafs</td>
</tr>
<tr>
<td>DC1_NETWORK_SERVICES.yml</td>
<td>VLANs</td>
</tr>
<tr>
<td>DC1_NETWORK_PORTS.yml</td>
<td>Port Profiles and Connected Endpoint settings</td>
</tr>
</tbody>
</table>
<p>The tabs below show the Ansible <strong>group_vars</strong> used in this example.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:6"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><input id="__tabbed_1_6" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">DC1</label><label for="__tabbed_1_2">DC1_FABRIC</label><label for="__tabbed_1_3">DC1_SPINES</label><label for="__tabbed_1_4">DC1_LEAFS</label><label for="__tabbed_1_5">DC1_NETWORK_SERVICES</label><label for="__tabbed_1_6">DC1_NETWORK_PORTS</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>At the top level (DC1), the following variables are defined in <strong>group_vars/DC1.yml</strong>. These Ansible variables apply to all nodes in the fabric and is a common place to set AAA, users, NTP, and management interface settings. Update local_users and passwords for your environment.</p>
<p>You can create a sha512_password by creating a username and password on a switch and copy/paste it within double quotes here.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nn">---</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c1">### group_vars/DC1.yml</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nt">aaa_authentication</span><span class="p">:</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">  </span><span class="nt">policies</span><span class="p">:</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="nt">local</span><span class="p">:</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">      </span><span class="nt">allow_nopassword</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="c1"># local users</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="nt">local_users</span><span class="p">:</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">  </span><span class="c1"># Username with no password configured</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">  </span><span class="nt">arista</span><span class="p">:</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">    </span><span class="nt">privilege</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">    </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">network-admin</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">    </span><span class="nt">no_password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">  </span><span class="c1"># Username with a password</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">  </span><span class="nt">admin</span><span class="p">:</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="w">    </span><span class="nt">privilege</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="w">    </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">network-admin</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">    </span><span class="nt">sha512_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.&quot;</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="c1"># OOB Management network default gateway.</span>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="nt">mgmt_gateway</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.1</span>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="nt">mgmt_interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Management0</span>
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="c1"># dns servers.</span>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="nt">name_servers</span><span class="p">:</span>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8.8.4.4</span>
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8.8.8.8</span>
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="c1"># NTP Servers IP or DNS name, first NTP server will be prefered, and sourced from Managment VRF</span>
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a><span class="nt">ntp</span><span class="p">:</span>
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="w">  </span><span class="nt">servers</span><span class="p">:</span>
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">time.google.com</span>
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a><span class="w">      </span><span class="nt">preferred</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a><span class="w">      </span><span class="nt">vrf</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MGMT</span>
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pool.ntp.org</span>
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a><span class="w">      </span><span class="nt">vrf</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MGMT</span>
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a><span class="c1"># Establish exec/enable role when logging in to switch</span>
<a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a><span class="nt">aaa_authorization</span><span class="p">:</span>
<a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a><span class="w">  </span><span class="nt">exec</span><span class="p">:</span>
<a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a><span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">local</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>At the Fabric level (DC1_FABRIC), the following variables are defined in <strong>group_vars/DC1_FABRIC.yml</strong>. The fabric name, design type (l2ls), spine and leaf defaults, ansible authentication, and interface links are defined at this level. Other variables you must supply include: spanning-tree mode and priority along with an mlag IP pool.</p>
<p>Variables applied under the node key type (spine/leaf) defaults section are inherited to nodes under each type. These variables may be overwritten under the node itself.</p>
<p>The spine interface used by a particular leaf is defined from the leaf&rsquo;s perspective with a variable called <code>uplink_switch_interfaces</code>. For example, LEAF2 has a unique variable <code>uplink_switch_interfaces: [Ethernet2, Ethernet2]</code> defined. This means that LEAF2 is connected to SPINE1&rsquo;s Ethernet2 and SPINE2&rsquo;s Ethernet2, respectively.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nn">---</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="c1">### group_vars/DC1_FABRIC.yml</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1"># Set the Fabric Name - must match an Ansible Inventroy Group</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="nt">fabric_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DC1_FABRIC</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c1"># Set Design Type to L2ls</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="nt">design</span><span class="p">:</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">l2ls</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="c1"># Ansible connectivity definitions</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="c1"># eAPI connectivity via HTTPS is specified (as opposed to CLI via SSH)</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="nt">ansible_connection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ansible.netcommon.httpapi</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="c1"># Specifies that we are indeed using Arista EOS</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="nt">ansible_network_os</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arista.eos.eos</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="c1"># This user/password must exist on the switches to enable Ansible access</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="nt">ansible_user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="nt">ansible_password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="c1"># User escalation (to enter enable mode)</span>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="nt">ansible_become</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="nt">ansible_become_method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enable</span>
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="c1"># Use SSL (HTTPS)</span>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="nt">ansible_httpapi_use_ssl</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="c1"># Do not try to validate certs</span>
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="nt">ansible_httpapi_validate_certs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a>
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="c1"># Spine Switches (L2 only)</span>
<a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a><span class="nt">spine</span><span class="p">:</span>
<a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a><span class="w">  </span><span class="nt">defaults</span><span class="p">:</span>
<a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="w">    </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cEOS-LAB</span>
<a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="w">    </span><span class="nt">spanning_tree_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mstp</span>
<a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a><span class="w">    </span><span class="nt">spanning_tree_priority</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4096</span>
<a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="w">    </span><span class="nt">mlag_peer_ipv4_pool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.0.0/24</span>
<a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="w">    </span><span class="nt">mlag_interfaces</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet47</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Ethernet48</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a><span class="w">  </span><span class="nt">node_groups</span><span class="p">:</span>
<a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a><span class="w">    </span><span class="nt">SPINES</span><span class="p">:</span>
<a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a><span class="w">        </span><span class="nt">SPINE1</span><span class="p">:</span>
<a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a><span class="w">          </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a><span class="w">          </span><span class="nt">mgmt_ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.101/24</span>
<a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a><span class="w">        </span><span class="nt">SPINE2</span><span class="p">:</span>
<a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a><span class="w">          </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a><span class="w">          </span><span class="nt">mgmt_ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.102/24</span>
<a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a>
<a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a><span class="c1"># Leaf Switches</span>
<a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a><span class="nt">leaf</span><span class="p">:</span>
<a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a><span class="w">  </span><span class="nt">defaults</span><span class="p">:</span>
<a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a><span class="w">    </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cEOS-LAB</span>
<a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a><span class="w">    </span><span class="nt">mlag_peer_ipv4_pool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.0.0/24</span>
<a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a><span class="w">    </span><span class="nt">uplink_switches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">SPINE1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">SPINE2</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a><span class="w">    </span><span class="nt">uplink_interfaces</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Ethernet2</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a><span class="w">    </span><span class="nt">mlag_interfaces</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet47</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Ethernet48</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a><span class="w">    </span><span class="nt">spanning_tree_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mstp</span>
<a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a><span class="w">    </span><span class="nt">spanning_tree_priority</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">16384</span>
<a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a>
<a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a><span class="w">  </span><span class="nt">node_groups</span><span class="p">:</span>
<a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a><span class="w">    </span><span class="nt">RACK1</span><span class="p">:</span>
<a id="__codelineno-7-58" name="__codelineno-7-58" href="#__codelineno-7-58"></a><span class="w">      </span><span class="nt">mlag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-7-59" name="__codelineno-7-59" href="#__codelineno-7-59"></a><span class="w">      </span><span class="nt">filter</span><span class="p">:</span>
<a id="__codelineno-7-60" name="__codelineno-7-60" href="#__codelineno-7-60"></a><span class="w">        </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">bluezone</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">greenzone</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-61" name="__codelineno-7-61" href="#__codelineno-7-61"></a><span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<a id="__codelineno-7-62" name="__codelineno-7-62" href="#__codelineno-7-62"></a><span class="w">        </span><span class="nt">LEAF1</span><span class="p">:</span>
<a id="__codelineno-7-63" name="__codelineno-7-63" href="#__codelineno-7-63"></a><span class="w">          </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-7-64" name="__codelineno-7-64" href="#__codelineno-7-64"></a><span class="w">          </span><span class="nt">mgmt_ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.105/24</span>
<a id="__codelineno-7-65" name="__codelineno-7-65" href="#__codelineno-7-65"></a><span class="w">          </span><span class="nt">uplink_switch_interfaces</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Ethernet1</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-66" name="__codelineno-7-66" href="#__codelineno-7-66"></a><span class="w">        </span><span class="nt">LEAF2</span><span class="p">:</span>
<a id="__codelineno-7-67" name="__codelineno-7-67" href="#__codelineno-7-67"></a><span class="w">          </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="__codelineno-7-68" name="__codelineno-7-68" href="#__codelineno-7-68"></a><span class="w">          </span><span class="nt">mgmt_ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.106/24</span>
<a id="__codelineno-7-69" name="__codelineno-7-69" href="#__codelineno-7-69"></a><span class="w">          </span><span class="nt">uplink_switch_interfaces</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Ethernet2</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-70" name="__codelineno-7-70" href="#__codelineno-7-70"></a><span class="w">    </span><span class="nt">RACK2</span><span class="p">:</span>
<a id="__codelineno-7-71" name="__codelineno-7-71" href="#__codelineno-7-71"></a><span class="w">      </span><span class="nt">mlag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-7-72" name="__codelineno-7-72" href="#__codelineno-7-72"></a><span class="w">      </span><span class="nt">filter</span><span class="p">:</span>
<a id="__codelineno-7-73" name="__codelineno-7-73" href="#__codelineno-7-73"></a><span class="w">        </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">bluezone</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">orangezone</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-74" name="__codelineno-7-74" href="#__codelineno-7-74"></a><span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<a id="__codelineno-7-75" name="__codelineno-7-75" href="#__codelineno-7-75"></a><span class="w">        </span><span class="nt">LEAF3</span><span class="p">:</span>
<a id="__codelineno-7-76" name="__codelineno-7-76" href="#__codelineno-7-76"></a><span class="w">          </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<a id="__codelineno-7-77" name="__codelineno-7-77" href="#__codelineno-7-77"></a><span class="w">          </span><span class="nt">mgmt_ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.107/24</span>
<a id="__codelineno-7-78" name="__codelineno-7-78" href="#__codelineno-7-78"></a><span class="w">          </span><span class="nt">uplink_switch_interfaces</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Ethernet3</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-79" name="__codelineno-7-79" href="#__codelineno-7-79"></a><span class="w">        </span><span class="nt">LEAF4</span><span class="p">:</span>
<a id="__codelineno-7-80" name="__codelineno-7-80" href="#__codelineno-7-80"></a><span class="w">          </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<a id="__codelineno-7-81" name="__codelineno-7-81" href="#__codelineno-7-81"></a><span class="w">          </span><span class="nt">mgmt_ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.100.100.108/24</span>
<a id="__codelineno-7-82" name="__codelineno-7-82" href="#__codelineno-7-82"></a><span class="w">          </span><span class="nt">uplink_switch_interfaces</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet4</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Ethernet4</span><span class="p p-Indicator">]</span>
<a id="__codelineno-7-83" name="__codelineno-7-83" href="#__codelineno-7-83"></a>
<a id="__codelineno-7-84" name="__codelineno-7-84" href="#__codelineno-7-84"></a><span class="c1">#### Override for vEOS/cEOS Lab Caveats ####</span>
<a id="__codelineno-7-85" name="__codelineno-7-85" href="#__codelineno-7-85"></a><span class="nt">p2p_uplinks_mtu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1500</span>
<a id="__codelineno-7-86" name="__codelineno-7-86" href="#__codelineno-7-86"></a>
<a id="__codelineno-7-87" name="__codelineno-7-87" href="#__codelineno-7-87"></a><span class="c1"># Documentation</span>
<a id="__codelineno-7-88" name="__codelineno-7-88" href="#__codelineno-7-88"></a><span class="nt">eos_designs_documentation</span><span class="p">:</span>
<a id="__codelineno-7-89" name="__codelineno-7-89" href="#__codelineno-7-89"></a><span class="w">  </span><span class="nt">connected_endpoints</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>In an L2LS design, there are two types of spine nodes: <code>spine</code> and <code>l3spine</code>. In AVD. the node type defines the functionality and the EOS CLI configuration to be generated. For an L2LS design, we will use node type: spine. Later, we will add routing to the Spines by changing the node type to l3spine.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nn">---</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c1">### group_vars/DC1_SPINES.yml</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">spine</span><span class="w">     </span><span class="c1"># Must be either spine|l3spine</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>In an L2LS design, we have one type of leaf node: <code>leaf</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nn">---</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="c1">### group_vars/DC1_LEAFS.yml</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">leaf</span><span class="w">     </span><span class="c1"># Must be leaf</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>You add VLANs to the Fabric by updating the <strong>group_vars/DC1_NETWORK_SERVICES.yml</strong>. Each VLAN will be given a name and a list of tags. The tags filter the VLAN to specific Leaf Pairs. These variables are applied to spine and leaf nodes since they are a part of this group.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nn">---</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="c1">### group_vars/DC1_NETWORK_SERVICES.yml</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="nt">tenants</span><span class="p">:</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">  </span><span class="nt">MY_FABRIC</span><span class="p">:</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">    </span><span class="nt">l2vlans</span><span class="p">:</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">      </span><span class="nt">10</span><span class="p">:</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;BLUE-NET&#39;</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">        </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">bluezone</span><span class="p p-Indicator">]</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">      </span><span class="nt">20</span><span class="p">:</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;GREEN-NET&#39;</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">        </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">greenzone</span><span class="p p-Indicator">]</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">      </span><span class="nt">30</span><span class="p">:</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;ORANGE-NET&#39;</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">        </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">orangezone</span><span class="p p-Indicator">]</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Our fabric would not be complete without connecting some devices to it. We define connected endpoints and port profiles in <strong>group_vars/DC1_NETWORKS_PORTS.yml</strong>. Each endpoint&rsquo;s adapter defines which switch port(s) and port profile to use. In our example, we have four hosts and a firewall connected to the fabric. The connected endpoints keys are used for logical separation and apply to interface descriptions. These variables are applied to spine and leaf nodes since they are a part of this inventory group.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nn">---</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="c1">### group_vars/DC1_NETWORK_PORTS.yml</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="nt">connected_endpoints_keys</span><span class="p">:</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">  </span><span class="nt">servers</span><span class="p">:</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">server</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">  </span><span class="nt">firewalls</span><span class="p">:</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">firewall</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">  </span><span class="nt">routers</span><span class="p">:</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">router</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="nt">port_profiles</span><span class="p">:</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">  </span><span class="nt">PP-DEFAULTS</span><span class="p">:</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">    </span><span class="nt">spanning_tree_portfast</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">edge</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">  </span><span class="nt">PP-BLUE</span><span class="p">:</span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">access</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">    </span><span class="nt">vlans</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10&quot;</span>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">    </span><span class="nt">parent_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PP-DEFAULTS</span>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="w">  </span><span class="nt">PP-GREEN</span><span class="p">:</span>
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">access</span>
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">    </span><span class="nt">vlans</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;20&quot;</span>
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="w">    </span><span class="nt">parent_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PP-DEFAULTS</span>
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">  </span><span class="nt">PP-ORANGE</span><span class="p">:</span>
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">access</span>
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="w">    </span><span class="nt">vlans</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;30&quot;</span>
<a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="w">    </span><span class="nt">parent_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PP-DEFAULTS</span>
<a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="w">  </span><span class="nt">PP-FIREWALL</span><span class="p">:</span>
<a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">trunk</span>
<a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="w">    </span><span class="nt">vlans</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10,20,30&quot;</span>
<a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a>
<a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="nt">servers</span><span class="p">:</span>
<a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a>
<a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="w">  </span><span class="nt">HostA</span><span class="p">:</span>
<a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="w">    </span><span class="nt">rack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POD1</span>
<a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a><span class="w">    </span><span class="nt">adapters</span><span class="p">:</span>
<a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">endpoint_ports</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Eth1</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a><span class="w">        </span><span class="nt">switch_ports</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet3</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-38" name="__codelineno-11-38" href="#__codelineno-11-38"></a><span class="w">        </span><span class="nt">switches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">LEAF1</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-39" name="__codelineno-11-39" href="#__codelineno-11-39"></a><span class="w">        </span><span class="nt">profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PP-BLUE</span>
<a id="__codelineno-11-40" name="__codelineno-11-40" href="#__codelineno-11-40"></a><span class="w">  </span><span class="nt">HostB</span><span class="p">:</span>
<a id="__codelineno-11-41" name="__codelineno-11-41" href="#__codelineno-11-41"></a><span class="w">    </span><span class="nt">rack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POD1</span>
<a id="__codelineno-11-42" name="__codelineno-11-42" href="#__codelineno-11-42"></a><span class="w">    </span><span class="nt">adapters</span><span class="p">:</span>
<a id="__codelineno-11-43" name="__codelineno-11-43" href="#__codelineno-11-43"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">endpoint_ports</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Eth1</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-44" name="__codelineno-11-44" href="#__codelineno-11-44"></a><span class="w">        </span><span class="nt">switch_ports</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet3</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-45" name="__codelineno-11-45" href="#__codelineno-11-45"></a><span class="w">        </span><span class="nt">switches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">LEAF2</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-46" name="__codelineno-11-46" href="#__codelineno-11-46"></a><span class="w">        </span><span class="nt">profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PP-GREEN</span>
<a id="__codelineno-11-47" name="__codelineno-11-47" href="#__codelineno-11-47"></a><span class="w">  </span><span class="nt">HostC</span><span class="p">:</span>
<a id="__codelineno-11-48" name="__codelineno-11-48" href="#__codelineno-11-48"></a><span class="w">    </span><span class="nt">rack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POD2</span>
<a id="__codelineno-11-49" name="__codelineno-11-49" href="#__codelineno-11-49"></a><span class="w">    </span><span class="nt">adapters</span><span class="p">:</span>
<a id="__codelineno-11-50" name="__codelineno-11-50" href="#__codelineno-11-50"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">endpoint_ports</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Eth1</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-51" name="__codelineno-11-51" href="#__codelineno-11-51"></a><span class="w">        </span><span class="nt">switch_ports</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet3</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-52" name="__codelineno-11-52" href="#__codelineno-11-52"></a><span class="w">        </span><span class="nt">switches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">LEAF3</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-53" name="__codelineno-11-53" href="#__codelineno-11-53"></a><span class="w">        </span><span class="nt">profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PP-BLUE</span>
<a id="__codelineno-11-54" name="__codelineno-11-54" href="#__codelineno-11-54"></a><span class="w">  </span><span class="nt">Host2</span><span class="p">:</span>
<a id="__codelineno-11-55" name="__codelineno-11-55" href="#__codelineno-11-55"></a><span class="w">    </span><span class="nt">rack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POD2</span>
<a id="__codelineno-11-56" name="__codelineno-11-56" href="#__codelineno-11-56"></a><span class="w">    </span><span class="nt">adapters</span><span class="p">:</span>
<a id="__codelineno-11-57" name="__codelineno-11-57" href="#__codelineno-11-57"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">endpoint_ports</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Eth1</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-58" name="__codelineno-11-58" href="#__codelineno-11-58"></a><span class="w">        </span><span class="nt">switch_ports</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet3</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-59" name="__codelineno-11-59" href="#__codelineno-11-59"></a><span class="w">        </span><span class="nt">switches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">LEAF4</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-60" name="__codelineno-11-60" href="#__codelineno-11-60"></a><span class="w">        </span><span class="nt">profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PP-ORANGE</span>
<a id="__codelineno-11-61" name="__codelineno-11-61" href="#__codelineno-11-61"></a>
<a id="__codelineno-11-62" name="__codelineno-11-62" href="#__codelineno-11-62"></a><span class="nt">firewalls</span><span class="p">:</span>
<a id="__codelineno-11-63" name="__codelineno-11-63" href="#__codelineno-11-63"></a>
<a id="__codelineno-11-64" name="__codelineno-11-64" href="#__codelineno-11-64"></a><span class="w">  </span><span class="nt">FIREWALL</span><span class="p">:</span>
<a id="__codelineno-11-65" name="__codelineno-11-65" href="#__codelineno-11-65"></a><span class="w">    </span><span class="nt">adapters</span><span class="p">:</span>
<a id="__codelineno-11-66" name="__codelineno-11-66" href="#__codelineno-11-66"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">endpoint_ports</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Eth1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Eth2</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-67" name="__codelineno-11-67" href="#__codelineno-11-67"></a><span class="w">        </span><span class="nt">switch_ports</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet5</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Ethernet5</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-68" name="__codelineno-11-68" href="#__codelineno-11-68"></a><span class="w">        </span><span class="nt">switches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">SPINE1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">SPINE2</span><span class="p p-Indicator">]</span>
<a id="__codelineno-11-69" name="__codelineno-11-69" href="#__codelineno-11-69"></a><span class="w">        </span><span class="nt">profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PP-FIREWALL</span>
<a id="__codelineno-11-70" name="__codelineno-11-70" href="#__codelineno-11-70"></a><span class="w">        </span><span class="nt">port_channel</span><span class="p">:</span>
<a id="__codelineno-11-71" name="__codelineno-11-71" href="#__codelineno-11-71"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">active</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="the-playbooks">The Playbooks<a class="headerlink" href="#the-playbooks" title="Permanent link">&para;</a></h2>
<p>Now that we have defined all of our Ansible variables (AVD inputs), it is time to generate some configs. To make things simple, we provide two playbooks. One playbook will allow you to build and view EOS CLI intended configurations per device. The second playbook has an additional task to deploy the configurations to your switches. The playbooks are provided in the tabs below. The playbook is straightforward as it imports two AVD roles: eos_designs and eos_cli_config_gen, which do all the heavy lifting. The combination of these two roles produces recommended configurations that follow Arista Design Guides.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">build.yml</label><label for="__tabbed_2_2">deploy.yml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nn">---</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="c1"># build.yml</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build Configs</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DC1_FABRIC</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate AVD Structured Configurations and Fabric Documentation</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">      </span><span class="nt">ansible.builtin.import_role</span><span class="p">:</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arista.avd.eos_designs</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate Device Configurations and Documentation</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">      </span><span class="nt">ansible.builtin.import_role</span><span class="p">:</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arista.avd.eos_cli_config_gen</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nn">---</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1"># deploy.yml</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build and Deploy Configs</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DC1_FABRIC</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate AVD Structured Configurations and Fabric Documentation</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">      </span><span class="nt">ansible.builtin.import_role</span><span class="p">:</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arista.avd.eos_designs</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate Device Configurations and Documentation</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="w">      </span><span class="nt">ansible.builtin.import_role</span><span class="p">:</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arista.avd.eos_cli_config_gen</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy Configurations to Devices</span>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="w">      </span><span class="nt">ansible.builtin.import_role</span><span class="p">:</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arista.avd.eos_config_deploy_eapi</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="playbook-run">Playbook Run<a class="headerlink" href="#playbook-run" title="Permanent link">&para;</a></h3>
<p>To build the configurations files, run the playbook called <code>build.yml</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">### Build configurations</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>ansible-playbook<span class="w"> </span>playbooks/build.yml
</code></pre></div>
<p>After the playbook run finishes, EOS CLI intended configuration files were written to <code>intended/configs</code>.</p>
<p>To build and deploy the configurations to your switches, run the playbook called <code>deploy.yml</code>. This assumes that your Ansible host has access and authentication rights to the switches. Those auth variables were defined in DC1_FABRIC.yml.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">### Build configurations &amp; Push Configs to switches</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>ansible-playbook<span class="w"> </span>playbooks/deploy.yml
</code></pre></div>
<h3 id="eos-intended-configurations">EOS Intended Configurations<a class="headerlink" href="#eos-intended-configurations" title="Permanent link">&para;</a></h3>
<p>Your configuration files should be similar to these.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:6"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><input id="__tabbed_3_4" name="__tabbed_3" type="radio" /><input id="__tabbed_3_5" name="__tabbed_3" type="radio" /><input id="__tabbed_3_6" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">SPINE1</label><label for="__tabbed_3_2">SPINE2</label><label for="__tabbed_3_3">LEAF1</label><label for="__tabbed_3_4">LEAF2</label><label for="__tabbed_3_5">LEAF3</label><label for="__tabbed_3_6">LEAF4</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>!RANCID-CONTENT-TYPE:<span class="w"> </span>arista
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>!
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>vlan<span class="w"> </span>internal<span class="w"> </span>order<span class="w"> </span>ascending<span class="w"> </span>range<span class="w"> </span><span class="m">1006</span><span class="w"> </span><span class="m">1199</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>!
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>transceiver<span class="w"> </span>qsfp<span class="w"> </span>default-mode<span class="w"> </span>4x10G
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>!
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>service<span class="w"> </span>routing<span class="w"> </span>protocols<span class="w"> </span>model<span class="w"> </span>multi-agent
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>!
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>hostname<span class="w"> </span>SPINE1
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.4.4
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.8.8
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>!
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>pool.ntp.org
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>time.google.com<span class="w"> </span>prefer
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>!
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>spanning-tree<span class="w"> </span>mode<span class="w"> </span>mstp
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>no<span class="w"> </span>spanning-tree<span class="w"> </span>vlan-id<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a>spanning-tree<span class="w"> </span>mst<span class="w"> </span><span class="m">0</span><span class="w"> </span>priority<span class="w"> </span><span class="m">4096</span>
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a>!
<a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>aaa<span class="w"> </span>authentication<span class="w"> </span>policy<span class="w"> </span><span class="nb">local</span><span class="w"> </span>allow-nopassword-remote-login
<a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a>aaa<span class="w"> </span>authorization<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>default<span class="w"> </span><span class="nb">local</span>
<a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a>!
<a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a>no<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>password
<a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a>no<span class="w"> </span>aaa<span class="w"> </span>root
<a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a>!
<a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a>username<span class="w"> </span>admin<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>secret<span class="w"> </span>sha512<span class="w"> </span><span class="nv">$6$eucN5ngreuExDgwS$xnD7T8jO</span>..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.
<a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a>username<span class="w"> </span>arista<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>nopassword
<a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a>!
<a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a>vlan<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a><span class="w">   </span>name<span class="w"> </span>BLUE-NET
<a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a>!
<a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a>vlan<span class="w"> </span><span class="m">20</span>
<a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a><span class="w">   </span>name<span class="w"> </span>GREEN-NET
<a id="__codelineno-16-34" name="__codelineno-16-34" href="#__codelineno-16-34"></a>!
<a id="__codelineno-16-35" name="__codelineno-16-35" href="#__codelineno-16-35"></a>vlan<span class="w"> </span><span class="m">30</span>
<a id="__codelineno-16-36" name="__codelineno-16-36" href="#__codelineno-16-36"></a><span class="w">   </span>name<span class="w"> </span>ORANGE-NET
<a id="__codelineno-16-37" name="__codelineno-16-37" href="#__codelineno-16-37"></a>!
<a id="__codelineno-16-38" name="__codelineno-16-38" href="#__codelineno-16-38"></a>vlan<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-16-39" name="__codelineno-16-39" href="#__codelineno-16-39"></a><span class="w">   </span>name<span class="w"> </span>MLAG_PEER
<a id="__codelineno-16-40" name="__codelineno-16-40" href="#__codelineno-16-40"></a><span class="w">   </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-16-41" name="__codelineno-16-41" href="#__codelineno-16-41"></a>!
<a id="__codelineno-16-42" name="__codelineno-16-42" href="#__codelineno-16-42"></a>vrf<span class="w"> </span>instance<span class="w"> </span>MGMT
<a id="__codelineno-16-43" name="__codelineno-16-43" href="#__codelineno-16-43"></a>!
<a id="__codelineno-16-44" name="__codelineno-16-44" href="#__codelineno-16-44"></a>interface<span class="w"> </span>Port-Channel1
<a id="__codelineno-16-45" name="__codelineno-16-45" href="#__codelineno-16-45"></a><span class="w">   </span>description<span class="w"> </span>RACK1_Po1
<a id="__codelineno-16-46" name="__codelineno-16-46" href="#__codelineno-16-46"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-47" name="__codelineno-16-47" href="#__codelineno-16-47"></a><span class="w">   </span>switchport
<a id="__codelineno-16-48" name="__codelineno-16-48" href="#__codelineno-16-48"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>,20
<a id="__codelineno-16-49" name="__codelineno-16-49" href="#__codelineno-16-49"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-16-50" name="__codelineno-16-50" href="#__codelineno-16-50"></a><span class="w">   </span>mlag<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-16-51" name="__codelineno-16-51" href="#__codelineno-16-51"></a>!
<a id="__codelineno-16-52" name="__codelineno-16-52" href="#__codelineno-16-52"></a>interface<span class="w"> </span>Port-Channel3
<a id="__codelineno-16-53" name="__codelineno-16-53" href="#__codelineno-16-53"></a><span class="w">   </span>description<span class="w"> </span>RACK2_Po1
<a id="__codelineno-16-54" name="__codelineno-16-54" href="#__codelineno-16-54"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-55" name="__codelineno-16-55" href="#__codelineno-16-55"></a><span class="w">   </span>switchport
<a id="__codelineno-16-56" name="__codelineno-16-56" href="#__codelineno-16-56"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>,30
<a id="__codelineno-16-57" name="__codelineno-16-57" href="#__codelineno-16-57"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-16-58" name="__codelineno-16-58" href="#__codelineno-16-58"></a><span class="w">   </span>mlag<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-16-59" name="__codelineno-16-59" href="#__codelineno-16-59"></a>!
<a id="__codelineno-16-60" name="__codelineno-16-60" href="#__codelineno-16-60"></a>interface<span class="w"> </span>Port-Channel5
<a id="__codelineno-16-61" name="__codelineno-16-61" href="#__codelineno-16-61"></a><span class="w">   </span>description<span class="w"> </span>FIREWALL
<a id="__codelineno-16-62" name="__codelineno-16-62" href="#__codelineno-16-62"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-63" name="__codelineno-16-63" href="#__codelineno-16-63"></a><span class="w">   </span>switchport
<a id="__codelineno-16-64" name="__codelineno-16-64" href="#__codelineno-16-64"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>,20,30
<a id="__codelineno-16-65" name="__codelineno-16-65" href="#__codelineno-16-65"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-16-66" name="__codelineno-16-66" href="#__codelineno-16-66"></a><span class="w">   </span>mlag<span class="w"> </span><span class="m">5</span>
<a id="__codelineno-16-67" name="__codelineno-16-67" href="#__codelineno-16-67"></a>!
<a id="__codelineno-16-68" name="__codelineno-16-68" href="#__codelineno-16-68"></a>interface<span class="w"> </span>Port-Channel47
<a id="__codelineno-16-69" name="__codelineno-16-69" href="#__codelineno-16-69"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_SPINE2_Po47
<a id="__codelineno-16-70" name="__codelineno-16-70" href="#__codelineno-16-70"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-71" name="__codelineno-16-71" href="#__codelineno-16-71"></a><span class="w">   </span>switchport
<a id="__codelineno-16-72" name="__codelineno-16-72" href="#__codelineno-16-72"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">2</span>-4094
<a id="__codelineno-16-73" name="__codelineno-16-73" href="#__codelineno-16-73"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-16-74" name="__codelineno-16-74" href="#__codelineno-16-74"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-16-75" name="__codelineno-16-75" href="#__codelineno-16-75"></a>!
<a id="__codelineno-16-76" name="__codelineno-16-76" href="#__codelineno-16-76"></a>interface<span class="w"> </span>Ethernet1
<a id="__codelineno-16-77" name="__codelineno-16-77" href="#__codelineno-16-77"></a><span class="w">   </span>description<span class="w"> </span>LEAF1_Ethernet1
<a id="__codelineno-16-78" name="__codelineno-16-78" href="#__codelineno-16-78"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-79" name="__codelineno-16-79" href="#__codelineno-16-79"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-16-80" name="__codelineno-16-80" href="#__codelineno-16-80"></a>!
<a id="__codelineno-16-81" name="__codelineno-16-81" href="#__codelineno-16-81"></a>interface<span class="w"> </span>Ethernet2
<a id="__codelineno-16-82" name="__codelineno-16-82" href="#__codelineno-16-82"></a><span class="w">   </span>description<span class="w"> </span>LEAF2_Ethernet1
<a id="__codelineno-16-83" name="__codelineno-16-83" href="#__codelineno-16-83"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-84" name="__codelineno-16-84" href="#__codelineno-16-84"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-16-85" name="__codelineno-16-85" href="#__codelineno-16-85"></a>!
<a id="__codelineno-16-86" name="__codelineno-16-86" href="#__codelineno-16-86"></a>interface<span class="w"> </span>Ethernet3
<a id="__codelineno-16-87" name="__codelineno-16-87" href="#__codelineno-16-87"></a><span class="w">   </span>description<span class="w"> </span>LEAF3_Ethernet1
<a id="__codelineno-16-88" name="__codelineno-16-88" href="#__codelineno-16-88"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-89" name="__codelineno-16-89" href="#__codelineno-16-89"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">3</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-16-90" name="__codelineno-16-90" href="#__codelineno-16-90"></a>!
<a id="__codelineno-16-91" name="__codelineno-16-91" href="#__codelineno-16-91"></a>interface<span class="w"> </span>Ethernet4
<a id="__codelineno-16-92" name="__codelineno-16-92" href="#__codelineno-16-92"></a><span class="w">   </span>description<span class="w"> </span>LEAF4_Ethernet1
<a id="__codelineno-16-93" name="__codelineno-16-93" href="#__codelineno-16-93"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-94" name="__codelineno-16-94" href="#__codelineno-16-94"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">3</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-16-95" name="__codelineno-16-95" href="#__codelineno-16-95"></a>!
<a id="__codelineno-16-96" name="__codelineno-16-96" href="#__codelineno-16-96"></a>interface<span class="w"> </span>Ethernet5
<a id="__codelineno-16-97" name="__codelineno-16-97" href="#__codelineno-16-97"></a><span class="w">   </span>description<span class="w"> </span>FIREWALL_Eth1
<a id="__codelineno-16-98" name="__codelineno-16-98" href="#__codelineno-16-98"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-99" name="__codelineno-16-99" href="#__codelineno-16-99"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">5</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-16-100" name="__codelineno-16-100" href="#__codelineno-16-100"></a>!
<a id="__codelineno-16-101" name="__codelineno-16-101" href="#__codelineno-16-101"></a>interface<span class="w"> </span>Ethernet47
<a id="__codelineno-16-102" name="__codelineno-16-102" href="#__codelineno-16-102"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_SPINE2_Ethernet47
<a id="__codelineno-16-103" name="__codelineno-16-103" href="#__codelineno-16-103"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-104" name="__codelineno-16-104" href="#__codelineno-16-104"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-16-105" name="__codelineno-16-105" href="#__codelineno-16-105"></a>!
<a id="__codelineno-16-106" name="__codelineno-16-106" href="#__codelineno-16-106"></a>interface<span class="w"> </span>Ethernet48
<a id="__codelineno-16-107" name="__codelineno-16-107" href="#__codelineno-16-107"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_SPINE2_Ethernet48
<a id="__codelineno-16-108" name="__codelineno-16-108" href="#__codelineno-16-108"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-109" name="__codelineno-16-109" href="#__codelineno-16-109"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-16-110" name="__codelineno-16-110" href="#__codelineno-16-110"></a>!
<a id="__codelineno-16-111" name="__codelineno-16-111" href="#__codelineno-16-111"></a>interface<span class="w"> </span>Management0
<a id="__codelineno-16-112" name="__codelineno-16-112" href="#__codelineno-16-112"></a><span class="w">   </span>description<span class="w"> </span>oob_management
<a id="__codelineno-16-113" name="__codelineno-16-113" href="#__codelineno-16-113"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-114" name="__codelineno-16-114" href="#__codelineno-16-114"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-16-115" name="__codelineno-16-115" href="#__codelineno-16-115"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">172</span>.100.100.101/24
<a id="__codelineno-16-116" name="__codelineno-16-116" href="#__codelineno-16-116"></a>!
<a id="__codelineno-16-117" name="__codelineno-16-117" href="#__codelineno-16-117"></a>interface<span class="w"> </span>Vlan4094
<a id="__codelineno-16-118" name="__codelineno-16-118" href="#__codelineno-16-118"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER
<a id="__codelineno-16-119" name="__codelineno-16-119" href="#__codelineno-16-119"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-120" name="__codelineno-16-120" href="#__codelineno-16-120"></a><span class="w">   </span>mtu<span class="w"> </span><span class="m">1500</span>
<a id="__codelineno-16-121" name="__codelineno-16-121" href="#__codelineno-16-121"></a><span class="w">   </span>no<span class="w"> </span>autostate
<a id="__codelineno-16-122" name="__codelineno-16-122" href="#__codelineno-16-122"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.0.0/31
<a id="__codelineno-16-123" name="__codelineno-16-123" href="#__codelineno-16-123"></a>no<span class="w"> </span>ip<span class="w"> </span>routing<span class="w"> </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-16-124" name="__codelineno-16-124" href="#__codelineno-16-124"></a>!
<a id="__codelineno-16-125" name="__codelineno-16-125" href="#__codelineno-16-125"></a>mlag<span class="w"> </span>configuration
<a id="__codelineno-16-126" name="__codelineno-16-126" href="#__codelineno-16-126"></a><span class="w">   </span>domain-id<span class="w"> </span>SPINES
<a id="__codelineno-16-127" name="__codelineno-16-127" href="#__codelineno-16-127"></a><span class="w">   </span>local-interface<span class="w"> </span>Vlan4094
<a id="__codelineno-16-128" name="__codelineno-16-128" href="#__codelineno-16-128"></a><span class="w">   </span>peer-address<span class="w"> </span><span class="m">192</span>.168.0.1
<a id="__codelineno-16-129" name="__codelineno-16-129" href="#__codelineno-16-129"></a><span class="w">   </span>peer-link<span class="w"> </span>Port-Channel47
<a id="__codelineno-16-130" name="__codelineno-16-130" href="#__codelineno-16-130"></a><span class="w">   </span>reload-delay<span class="w"> </span>mlag<span class="w"> </span><span class="m">300</span>
<a id="__codelineno-16-131" name="__codelineno-16-131" href="#__codelineno-16-131"></a><span class="w">   </span>reload-delay<span class="w"> </span>non-mlag<span class="w"> </span><span class="m">330</span>
<a id="__codelineno-16-132" name="__codelineno-16-132" href="#__codelineno-16-132"></a>!
<a id="__codelineno-16-133" name="__codelineno-16-133" href="#__codelineno-16-133"></a>ip<span class="w"> </span>route<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">0</span>.0.0.0/0<span class="w"> </span><span class="m">172</span>.100.100.1
<a id="__codelineno-16-134" name="__codelineno-16-134" href="#__codelineno-16-134"></a>!
<a id="__codelineno-16-135" name="__codelineno-16-135" href="#__codelineno-16-135"></a>management<span class="w"> </span>api<span class="w"> </span>http-commands
<a id="__codelineno-16-136" name="__codelineno-16-136" href="#__codelineno-16-136"></a><span class="w">   </span>protocol<span class="w"> </span>https
<a id="__codelineno-16-137" name="__codelineno-16-137" href="#__codelineno-16-137"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-138" name="__codelineno-16-138" href="#__codelineno-16-138"></a><span class="w">   </span>!
<a id="__codelineno-16-139" name="__codelineno-16-139" href="#__codelineno-16-139"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-16-140" name="__codelineno-16-140" href="#__codelineno-16-140"></a><span class="w">      </span>no<span class="w"> </span>shutdown
<a id="__codelineno-16-141" name="__codelineno-16-141" href="#__codelineno-16-141"></a>!
<a id="__codelineno-16-142" name="__codelineno-16-142" href="#__codelineno-16-142"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>!RANCID-CONTENT-TYPE:<span class="w"> </span>arista
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>!
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>vlan<span class="w"> </span>internal<span class="w"> </span>order<span class="w"> </span>ascending<span class="w"> </span>range<span class="w"> </span><span class="m">1006</span><span class="w"> </span><span class="m">1199</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>!
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>transceiver<span class="w"> </span>qsfp<span class="w"> </span>default-mode<span class="w"> </span>4x10G
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>!
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>service<span class="w"> </span>routing<span class="w"> </span>protocols<span class="w"> </span>model<span class="w"> </span>multi-agent
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>!
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>hostname<span class="w"> </span>SPINE2
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.4.4
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.8.8
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>!
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>pool.ntp.org
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>time.google.com<span class="w"> </span>prefer
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>!
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>spanning-tree<span class="w"> </span>mode<span class="w"> </span>mstp
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>no<span class="w"> </span>spanning-tree<span class="w"> </span>vlan-id<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>spanning-tree<span class="w"> </span>mst<span class="w"> </span><span class="m">0</span><span class="w"> </span>priority<span class="w"> </span><span class="m">4096</span>
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>!
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>aaa<span class="w"> </span>authentication<span class="w"> </span>policy<span class="w"> </span><span class="nb">local</span><span class="w"> </span>allow-nopassword-remote-login
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>aaa<span class="w"> </span>authorization<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>default<span class="w"> </span><span class="nb">local</span>
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>!
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>no<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>password
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>no<span class="w"> </span>aaa<span class="w"> </span>root
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>!
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>username<span class="w"> </span>admin<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>secret<span class="w"> </span>sha512<span class="w"> </span><span class="nv">$6$eucN5ngreuExDgwS$xnD7T8jO</span>..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>username<span class="w"> </span>arista<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>nopassword
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a>!
<a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a>vlan<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a><span class="w">   </span>name<span class="w"> </span>BLUE-NET
<a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a>!
<a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a>vlan<span class="w"> </span><span class="m">20</span>
<a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a><span class="w">   </span>name<span class="w"> </span>GREEN-NET
<a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a>!
<a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a>vlan<span class="w"> </span><span class="m">30</span>
<a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a><span class="w">   </span>name<span class="w"> </span>ORANGE-NET
<a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a>!
<a id="__codelineno-17-38" name="__codelineno-17-38" href="#__codelineno-17-38"></a>vlan<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-17-39" name="__codelineno-17-39" href="#__codelineno-17-39"></a><span class="w">   </span>name<span class="w"> </span>MLAG_PEER
<a id="__codelineno-17-40" name="__codelineno-17-40" href="#__codelineno-17-40"></a><span class="w">   </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-17-41" name="__codelineno-17-41" href="#__codelineno-17-41"></a>!
<a id="__codelineno-17-42" name="__codelineno-17-42" href="#__codelineno-17-42"></a>vrf<span class="w"> </span>instance<span class="w"> </span>MGMT
<a id="__codelineno-17-43" name="__codelineno-17-43" href="#__codelineno-17-43"></a>!
<a id="__codelineno-17-44" name="__codelineno-17-44" href="#__codelineno-17-44"></a>interface<span class="w"> </span>Port-Channel1
<a id="__codelineno-17-45" name="__codelineno-17-45" href="#__codelineno-17-45"></a><span class="w">   </span>description<span class="w"> </span>RACK1_Po1
<a id="__codelineno-17-46" name="__codelineno-17-46" href="#__codelineno-17-46"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-47" name="__codelineno-17-47" href="#__codelineno-17-47"></a><span class="w">   </span>switchport
<a id="__codelineno-17-48" name="__codelineno-17-48" href="#__codelineno-17-48"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>,20
<a id="__codelineno-17-49" name="__codelineno-17-49" href="#__codelineno-17-49"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-17-50" name="__codelineno-17-50" href="#__codelineno-17-50"></a><span class="w">   </span>mlag<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-17-51" name="__codelineno-17-51" href="#__codelineno-17-51"></a>!
<a id="__codelineno-17-52" name="__codelineno-17-52" href="#__codelineno-17-52"></a>interface<span class="w"> </span>Port-Channel3
<a id="__codelineno-17-53" name="__codelineno-17-53" href="#__codelineno-17-53"></a><span class="w">   </span>description<span class="w"> </span>RACK2_Po1
<a id="__codelineno-17-54" name="__codelineno-17-54" href="#__codelineno-17-54"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-55" name="__codelineno-17-55" href="#__codelineno-17-55"></a><span class="w">   </span>switchport
<a id="__codelineno-17-56" name="__codelineno-17-56" href="#__codelineno-17-56"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>,30
<a id="__codelineno-17-57" name="__codelineno-17-57" href="#__codelineno-17-57"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-17-58" name="__codelineno-17-58" href="#__codelineno-17-58"></a><span class="w">   </span>mlag<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-17-59" name="__codelineno-17-59" href="#__codelineno-17-59"></a>!
<a id="__codelineno-17-60" name="__codelineno-17-60" href="#__codelineno-17-60"></a>interface<span class="w"> </span>Port-Channel5
<a id="__codelineno-17-61" name="__codelineno-17-61" href="#__codelineno-17-61"></a><span class="w">   </span>description<span class="w"> </span>FIREWALL
<a id="__codelineno-17-62" name="__codelineno-17-62" href="#__codelineno-17-62"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-63" name="__codelineno-17-63" href="#__codelineno-17-63"></a><span class="w">   </span>switchport
<a id="__codelineno-17-64" name="__codelineno-17-64" href="#__codelineno-17-64"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>,20,30
<a id="__codelineno-17-65" name="__codelineno-17-65" href="#__codelineno-17-65"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-17-66" name="__codelineno-17-66" href="#__codelineno-17-66"></a><span class="w">   </span>mlag<span class="w"> </span><span class="m">5</span>
<a id="__codelineno-17-67" name="__codelineno-17-67" href="#__codelineno-17-67"></a>!
<a id="__codelineno-17-68" name="__codelineno-17-68" href="#__codelineno-17-68"></a>interface<span class="w"> </span>Port-Channel47
<a id="__codelineno-17-69" name="__codelineno-17-69" href="#__codelineno-17-69"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_SPINE1_Po47
<a id="__codelineno-17-70" name="__codelineno-17-70" href="#__codelineno-17-70"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-71" name="__codelineno-17-71" href="#__codelineno-17-71"></a><span class="w">   </span>switchport
<a id="__codelineno-17-72" name="__codelineno-17-72" href="#__codelineno-17-72"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">2</span>-4094
<a id="__codelineno-17-73" name="__codelineno-17-73" href="#__codelineno-17-73"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-17-74" name="__codelineno-17-74" href="#__codelineno-17-74"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-17-75" name="__codelineno-17-75" href="#__codelineno-17-75"></a>!
<a id="__codelineno-17-76" name="__codelineno-17-76" href="#__codelineno-17-76"></a>interface<span class="w"> </span>Ethernet1
<a id="__codelineno-17-77" name="__codelineno-17-77" href="#__codelineno-17-77"></a><span class="w">   </span>description<span class="w"> </span>LEAF1_Ethernet2
<a id="__codelineno-17-78" name="__codelineno-17-78" href="#__codelineno-17-78"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-79" name="__codelineno-17-79" href="#__codelineno-17-79"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-17-80" name="__codelineno-17-80" href="#__codelineno-17-80"></a>!
<a id="__codelineno-17-81" name="__codelineno-17-81" href="#__codelineno-17-81"></a>interface<span class="w"> </span>Ethernet2
<a id="__codelineno-17-82" name="__codelineno-17-82" href="#__codelineno-17-82"></a><span class="w">   </span>description<span class="w"> </span>LEAF2_Ethernet2
<a id="__codelineno-17-83" name="__codelineno-17-83" href="#__codelineno-17-83"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-84" name="__codelineno-17-84" href="#__codelineno-17-84"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-17-85" name="__codelineno-17-85" href="#__codelineno-17-85"></a>!
<a id="__codelineno-17-86" name="__codelineno-17-86" href="#__codelineno-17-86"></a>interface<span class="w"> </span>Ethernet3
<a id="__codelineno-17-87" name="__codelineno-17-87" href="#__codelineno-17-87"></a><span class="w">   </span>description<span class="w"> </span>LEAF3_Ethernet2
<a id="__codelineno-17-88" name="__codelineno-17-88" href="#__codelineno-17-88"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-89" name="__codelineno-17-89" href="#__codelineno-17-89"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">3</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-17-90" name="__codelineno-17-90" href="#__codelineno-17-90"></a>!
<a id="__codelineno-17-91" name="__codelineno-17-91" href="#__codelineno-17-91"></a>interface<span class="w"> </span>Ethernet4
<a id="__codelineno-17-92" name="__codelineno-17-92" href="#__codelineno-17-92"></a><span class="w">   </span>description<span class="w"> </span>LEAF4_Ethernet2
<a id="__codelineno-17-93" name="__codelineno-17-93" href="#__codelineno-17-93"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-94" name="__codelineno-17-94" href="#__codelineno-17-94"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">3</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-17-95" name="__codelineno-17-95" href="#__codelineno-17-95"></a>!
<a id="__codelineno-17-96" name="__codelineno-17-96" href="#__codelineno-17-96"></a>interface<span class="w"> </span>Ethernet5
<a id="__codelineno-17-97" name="__codelineno-17-97" href="#__codelineno-17-97"></a><span class="w">   </span>description<span class="w"> </span>FIREWALL_Eth2
<a id="__codelineno-17-98" name="__codelineno-17-98" href="#__codelineno-17-98"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-99" name="__codelineno-17-99" href="#__codelineno-17-99"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">5</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-17-100" name="__codelineno-17-100" href="#__codelineno-17-100"></a>!
<a id="__codelineno-17-101" name="__codelineno-17-101" href="#__codelineno-17-101"></a>interface<span class="w"> </span>Ethernet47
<a id="__codelineno-17-102" name="__codelineno-17-102" href="#__codelineno-17-102"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_SPINE1_Ethernet47
<a id="__codelineno-17-103" name="__codelineno-17-103" href="#__codelineno-17-103"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-104" name="__codelineno-17-104" href="#__codelineno-17-104"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-17-105" name="__codelineno-17-105" href="#__codelineno-17-105"></a>!
<a id="__codelineno-17-106" name="__codelineno-17-106" href="#__codelineno-17-106"></a>interface<span class="w"> </span>Ethernet48
<a id="__codelineno-17-107" name="__codelineno-17-107" href="#__codelineno-17-107"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_SPINE1_Ethernet48
<a id="__codelineno-17-108" name="__codelineno-17-108" href="#__codelineno-17-108"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-109" name="__codelineno-17-109" href="#__codelineno-17-109"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-17-110" name="__codelineno-17-110" href="#__codelineno-17-110"></a>!
<a id="__codelineno-17-111" name="__codelineno-17-111" href="#__codelineno-17-111"></a>interface<span class="w"> </span>Management0
<a id="__codelineno-17-112" name="__codelineno-17-112" href="#__codelineno-17-112"></a><span class="w">   </span>description<span class="w"> </span>oob_management
<a id="__codelineno-17-113" name="__codelineno-17-113" href="#__codelineno-17-113"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-114" name="__codelineno-17-114" href="#__codelineno-17-114"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-17-115" name="__codelineno-17-115" href="#__codelineno-17-115"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">172</span>.100.100.102/24
<a id="__codelineno-17-116" name="__codelineno-17-116" href="#__codelineno-17-116"></a>!
<a id="__codelineno-17-117" name="__codelineno-17-117" href="#__codelineno-17-117"></a>interface<span class="w"> </span>Vlan4094
<a id="__codelineno-17-118" name="__codelineno-17-118" href="#__codelineno-17-118"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER
<a id="__codelineno-17-119" name="__codelineno-17-119" href="#__codelineno-17-119"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-120" name="__codelineno-17-120" href="#__codelineno-17-120"></a><span class="w">   </span>mtu<span class="w"> </span><span class="m">1500</span>
<a id="__codelineno-17-121" name="__codelineno-17-121" href="#__codelineno-17-121"></a><span class="w">   </span>no<span class="w"> </span>autostate
<a id="__codelineno-17-122" name="__codelineno-17-122" href="#__codelineno-17-122"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.0.1/31
<a id="__codelineno-17-123" name="__codelineno-17-123" href="#__codelineno-17-123"></a>no<span class="w"> </span>ip<span class="w"> </span>routing<span class="w"> </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-17-124" name="__codelineno-17-124" href="#__codelineno-17-124"></a>!
<a id="__codelineno-17-125" name="__codelineno-17-125" href="#__codelineno-17-125"></a>mlag<span class="w"> </span>configuration
<a id="__codelineno-17-126" name="__codelineno-17-126" href="#__codelineno-17-126"></a><span class="w">   </span>domain-id<span class="w"> </span>SPINES
<a id="__codelineno-17-127" name="__codelineno-17-127" href="#__codelineno-17-127"></a><span class="w">   </span>local-interface<span class="w"> </span>Vlan4094
<a id="__codelineno-17-128" name="__codelineno-17-128" href="#__codelineno-17-128"></a><span class="w">   </span>peer-address<span class="w"> </span><span class="m">192</span>.168.0.0
<a id="__codelineno-17-129" name="__codelineno-17-129" href="#__codelineno-17-129"></a><span class="w">   </span>peer-link<span class="w"> </span>Port-Channel47
<a id="__codelineno-17-130" name="__codelineno-17-130" href="#__codelineno-17-130"></a><span class="w">   </span>reload-delay<span class="w"> </span>mlag<span class="w"> </span><span class="m">300</span>
<a id="__codelineno-17-131" name="__codelineno-17-131" href="#__codelineno-17-131"></a><span class="w">   </span>reload-delay<span class="w"> </span>non-mlag<span class="w"> </span><span class="m">330</span>
<a id="__codelineno-17-132" name="__codelineno-17-132" href="#__codelineno-17-132"></a>!
<a id="__codelineno-17-133" name="__codelineno-17-133" href="#__codelineno-17-133"></a>ip<span class="w"> </span>route<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">0</span>.0.0.0/0<span class="w"> </span><span class="m">172</span>.100.100.1
<a id="__codelineno-17-134" name="__codelineno-17-134" href="#__codelineno-17-134"></a>!
<a id="__codelineno-17-135" name="__codelineno-17-135" href="#__codelineno-17-135"></a>management<span class="w"> </span>api<span class="w"> </span>http-commands
<a id="__codelineno-17-136" name="__codelineno-17-136" href="#__codelineno-17-136"></a><span class="w">   </span>protocol<span class="w"> </span>https
<a id="__codelineno-17-137" name="__codelineno-17-137" href="#__codelineno-17-137"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-138" name="__codelineno-17-138" href="#__codelineno-17-138"></a><span class="w">   </span>!
<a id="__codelineno-17-139" name="__codelineno-17-139" href="#__codelineno-17-139"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-17-140" name="__codelineno-17-140" href="#__codelineno-17-140"></a><span class="w">      </span>no<span class="w"> </span>shutdown
<a id="__codelineno-17-141" name="__codelineno-17-141" href="#__codelineno-17-141"></a>!
<a id="__codelineno-17-142" name="__codelineno-17-142" href="#__codelineno-17-142"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>!RANCID-CONTENT-TYPE:<span class="w"> </span>arista
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>!
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>vlan<span class="w"> </span>internal<span class="w"> </span>order<span class="w"> </span>ascending<span class="w"> </span>range<span class="w"> </span><span class="m">1006</span><span class="w"> </span><span class="m">1199</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>!
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>transceiver<span class="w"> </span>qsfp<span class="w"> </span>default-mode<span class="w"> </span>4x10G
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>!
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>service<span class="w"> </span>routing<span class="w"> </span>protocols<span class="w"> </span>model<span class="w"> </span>multi-agent
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>!
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>hostname<span class="w"> </span>LEAF1
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.4.4
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.8.8
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>!
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>pool.ntp.org
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>time.google.com<span class="w"> </span>prefer
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>!
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>spanning-tree<span class="w"> </span>mode<span class="w"> </span>mstp
<a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>no<span class="w"> </span>spanning-tree<span class="w"> </span>vlan-id<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>spanning-tree<span class="w"> </span>mst<span class="w"> </span><span class="m">0</span><span class="w"> </span>priority<span class="w"> </span><span class="m">16384</span>
<a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a>!
<a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>aaa<span class="w"> </span>authentication<span class="w"> </span>policy<span class="w"> </span><span class="nb">local</span><span class="w"> </span>allow-nopassword-remote-login
<a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a>aaa<span class="w"> </span>authorization<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>default<span class="w"> </span><span class="nb">local</span>
<a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a>!
<a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a>no<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>password
<a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a>no<span class="w"> </span>aaa<span class="w"> </span>root
<a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a>!
<a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>username<span class="w"> </span>admin<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>secret<span class="w"> </span>sha512<span class="w"> </span><span class="nv">$6$eucN5ngreuExDgwS$xnD7T8jO</span>..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.
<a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a>username<span class="w"> </span>arista<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>nopassword
<a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a>!
<a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a>vlan<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-18-30" name="__codelineno-18-30" href="#__codelineno-18-30"></a><span class="w">   </span>name<span class="w"> </span>BLUE-NET
<a id="__codelineno-18-31" name="__codelineno-18-31" href="#__codelineno-18-31"></a>!
<a id="__codelineno-18-32" name="__codelineno-18-32" href="#__codelineno-18-32"></a>vlan<span class="w"> </span><span class="m">20</span>
<a id="__codelineno-18-33" name="__codelineno-18-33" href="#__codelineno-18-33"></a><span class="w">   </span>name<span class="w"> </span>GREEN-NET
<a id="__codelineno-18-34" name="__codelineno-18-34" href="#__codelineno-18-34"></a>!
<a id="__codelineno-18-35" name="__codelineno-18-35" href="#__codelineno-18-35"></a>vlan<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-18-36" name="__codelineno-18-36" href="#__codelineno-18-36"></a><span class="w">   </span>name<span class="w"> </span>MLAG_PEER
<a id="__codelineno-18-37" name="__codelineno-18-37" href="#__codelineno-18-37"></a><span class="w">   </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-18-38" name="__codelineno-18-38" href="#__codelineno-18-38"></a>!
<a id="__codelineno-18-39" name="__codelineno-18-39" href="#__codelineno-18-39"></a>vrf<span class="w"> </span>instance<span class="w"> </span>MGMT
<a id="__codelineno-18-40" name="__codelineno-18-40" href="#__codelineno-18-40"></a>!
<a id="__codelineno-18-41" name="__codelineno-18-41" href="#__codelineno-18-41"></a>interface<span class="w"> </span>Port-Channel1
<a id="__codelineno-18-42" name="__codelineno-18-42" href="#__codelineno-18-42"></a><span class="w">   </span>description<span class="w"> </span>SPINES_Po1
<a id="__codelineno-18-43" name="__codelineno-18-43" href="#__codelineno-18-43"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-44" name="__codelineno-18-44" href="#__codelineno-18-44"></a><span class="w">   </span>switchport
<a id="__codelineno-18-45" name="__codelineno-18-45" href="#__codelineno-18-45"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>,20
<a id="__codelineno-18-46" name="__codelineno-18-46" href="#__codelineno-18-46"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-18-47" name="__codelineno-18-47" href="#__codelineno-18-47"></a><span class="w">   </span>mlag<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-18-48" name="__codelineno-18-48" href="#__codelineno-18-48"></a>!
<a id="__codelineno-18-49" name="__codelineno-18-49" href="#__codelineno-18-49"></a>interface<span class="w"> </span>Port-Channel47
<a id="__codelineno-18-50" name="__codelineno-18-50" href="#__codelineno-18-50"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF2_Po47
<a id="__codelineno-18-51" name="__codelineno-18-51" href="#__codelineno-18-51"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-52" name="__codelineno-18-52" href="#__codelineno-18-52"></a><span class="w">   </span>switchport
<a id="__codelineno-18-53" name="__codelineno-18-53" href="#__codelineno-18-53"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">2</span>-4094
<a id="__codelineno-18-54" name="__codelineno-18-54" href="#__codelineno-18-54"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-18-55" name="__codelineno-18-55" href="#__codelineno-18-55"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-18-56" name="__codelineno-18-56" href="#__codelineno-18-56"></a>!
<a id="__codelineno-18-57" name="__codelineno-18-57" href="#__codelineno-18-57"></a>interface<span class="w"> </span>Ethernet1
<a id="__codelineno-18-58" name="__codelineno-18-58" href="#__codelineno-18-58"></a><span class="w">   </span>description<span class="w"> </span>SPINE1_Ethernet1
<a id="__codelineno-18-59" name="__codelineno-18-59" href="#__codelineno-18-59"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-60" name="__codelineno-18-60" href="#__codelineno-18-60"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-18-61" name="__codelineno-18-61" href="#__codelineno-18-61"></a>!
<a id="__codelineno-18-62" name="__codelineno-18-62" href="#__codelineno-18-62"></a>interface<span class="w"> </span>Ethernet2
<a id="__codelineno-18-63" name="__codelineno-18-63" href="#__codelineno-18-63"></a><span class="w">   </span>description<span class="w"> </span>SPINE2_Ethernet1
<a id="__codelineno-18-64" name="__codelineno-18-64" href="#__codelineno-18-64"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-65" name="__codelineno-18-65" href="#__codelineno-18-65"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-18-66" name="__codelineno-18-66" href="#__codelineno-18-66"></a>!
<a id="__codelineno-18-67" name="__codelineno-18-67" href="#__codelineno-18-67"></a>interface<span class="w"> </span>Ethernet3
<a id="__codelineno-18-68" name="__codelineno-18-68" href="#__codelineno-18-68"></a><span class="w">   </span>description<span class="w"> </span>HostA_Eth1
<a id="__codelineno-18-69" name="__codelineno-18-69" href="#__codelineno-18-69"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-70" name="__codelineno-18-70" href="#__codelineno-18-70"></a><span class="w">   </span>switchport<span class="w"> </span>access<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-18-71" name="__codelineno-18-71" href="#__codelineno-18-71"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>access
<a id="__codelineno-18-72" name="__codelineno-18-72" href="#__codelineno-18-72"></a><span class="w">   </span>switchport
<a id="__codelineno-18-73" name="__codelineno-18-73" href="#__codelineno-18-73"></a><span class="w">   </span>spanning-tree<span class="w"> </span>portfast
<a id="__codelineno-18-74" name="__codelineno-18-74" href="#__codelineno-18-74"></a>!
<a id="__codelineno-18-75" name="__codelineno-18-75" href="#__codelineno-18-75"></a>interface<span class="w"> </span>Ethernet47
<a id="__codelineno-18-76" name="__codelineno-18-76" href="#__codelineno-18-76"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF2_Ethernet47
<a id="__codelineno-18-77" name="__codelineno-18-77" href="#__codelineno-18-77"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-78" name="__codelineno-18-78" href="#__codelineno-18-78"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-18-79" name="__codelineno-18-79" href="#__codelineno-18-79"></a>!
<a id="__codelineno-18-80" name="__codelineno-18-80" href="#__codelineno-18-80"></a>interface<span class="w"> </span>Ethernet48
<a id="__codelineno-18-81" name="__codelineno-18-81" href="#__codelineno-18-81"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF2_Ethernet48
<a id="__codelineno-18-82" name="__codelineno-18-82" href="#__codelineno-18-82"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-83" name="__codelineno-18-83" href="#__codelineno-18-83"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-18-84" name="__codelineno-18-84" href="#__codelineno-18-84"></a>!
<a id="__codelineno-18-85" name="__codelineno-18-85" href="#__codelineno-18-85"></a>interface<span class="w"> </span>Management0
<a id="__codelineno-18-86" name="__codelineno-18-86" href="#__codelineno-18-86"></a><span class="w">   </span>description<span class="w"> </span>oob_management
<a id="__codelineno-18-87" name="__codelineno-18-87" href="#__codelineno-18-87"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-88" name="__codelineno-18-88" href="#__codelineno-18-88"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-18-89" name="__codelineno-18-89" href="#__codelineno-18-89"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">172</span>.100.100.105/24
<a id="__codelineno-18-90" name="__codelineno-18-90" href="#__codelineno-18-90"></a>!
<a id="__codelineno-18-91" name="__codelineno-18-91" href="#__codelineno-18-91"></a>interface<span class="w"> </span>Vlan4094
<a id="__codelineno-18-92" name="__codelineno-18-92" href="#__codelineno-18-92"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER
<a id="__codelineno-18-93" name="__codelineno-18-93" href="#__codelineno-18-93"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-94" name="__codelineno-18-94" href="#__codelineno-18-94"></a><span class="w">   </span>mtu<span class="w"> </span><span class="m">1500</span>
<a id="__codelineno-18-95" name="__codelineno-18-95" href="#__codelineno-18-95"></a><span class="w">   </span>no<span class="w"> </span>autostate
<a id="__codelineno-18-96" name="__codelineno-18-96" href="#__codelineno-18-96"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.0.0/31
<a id="__codelineno-18-97" name="__codelineno-18-97" href="#__codelineno-18-97"></a>no<span class="w"> </span>ip<span class="w"> </span>routing<span class="w"> </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-18-98" name="__codelineno-18-98" href="#__codelineno-18-98"></a>!
<a id="__codelineno-18-99" name="__codelineno-18-99" href="#__codelineno-18-99"></a>mlag<span class="w"> </span>configuration
<a id="__codelineno-18-100" name="__codelineno-18-100" href="#__codelineno-18-100"></a><span class="w">   </span>domain-id<span class="w"> </span>RACK1
<a id="__codelineno-18-101" name="__codelineno-18-101" href="#__codelineno-18-101"></a><span class="w">   </span>local-interface<span class="w"> </span>Vlan4094
<a id="__codelineno-18-102" name="__codelineno-18-102" href="#__codelineno-18-102"></a><span class="w">   </span>peer-address<span class="w"> </span><span class="m">192</span>.168.0.1
<a id="__codelineno-18-103" name="__codelineno-18-103" href="#__codelineno-18-103"></a><span class="w">   </span>peer-link<span class="w"> </span>Port-Channel47
<a id="__codelineno-18-104" name="__codelineno-18-104" href="#__codelineno-18-104"></a><span class="w">   </span>reload-delay<span class="w"> </span>mlag<span class="w"> </span><span class="m">300</span>
<a id="__codelineno-18-105" name="__codelineno-18-105" href="#__codelineno-18-105"></a><span class="w">   </span>reload-delay<span class="w"> </span>non-mlag<span class="w"> </span><span class="m">330</span>
<a id="__codelineno-18-106" name="__codelineno-18-106" href="#__codelineno-18-106"></a>!
<a id="__codelineno-18-107" name="__codelineno-18-107" href="#__codelineno-18-107"></a>ip<span class="w"> </span>route<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">0</span>.0.0.0/0<span class="w"> </span><span class="m">172</span>.100.100.1
<a id="__codelineno-18-108" name="__codelineno-18-108" href="#__codelineno-18-108"></a>!
<a id="__codelineno-18-109" name="__codelineno-18-109" href="#__codelineno-18-109"></a>management<span class="w"> </span>api<span class="w"> </span>http-commands
<a id="__codelineno-18-110" name="__codelineno-18-110" href="#__codelineno-18-110"></a><span class="w">   </span>protocol<span class="w"> </span>https
<a id="__codelineno-18-111" name="__codelineno-18-111" href="#__codelineno-18-111"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-112" name="__codelineno-18-112" href="#__codelineno-18-112"></a><span class="w">   </span>!
<a id="__codelineno-18-113" name="__codelineno-18-113" href="#__codelineno-18-113"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-18-114" name="__codelineno-18-114" href="#__codelineno-18-114"></a><span class="w">      </span>no<span class="w"> </span>shutdown
<a id="__codelineno-18-115" name="__codelineno-18-115" href="#__codelineno-18-115"></a>!
<a id="__codelineno-18-116" name="__codelineno-18-116" href="#__codelineno-18-116"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>!RANCID-CONTENT-TYPE:<span class="w"> </span>arista
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>!
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>vlan<span class="w"> </span>internal<span class="w"> </span>order<span class="w"> </span>ascending<span class="w"> </span>range<span class="w"> </span><span class="m">1006</span><span class="w"> </span><span class="m">1199</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>!
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>transceiver<span class="w"> </span>qsfp<span class="w"> </span>default-mode<span class="w"> </span>4x10G
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>!
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>service<span class="w"> </span>routing<span class="w"> </span>protocols<span class="w"> </span>model<span class="w"> </span>multi-agent
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>!
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>hostname<span class="w"> </span>LEAF2
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.4.4
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.8.8
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>!
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>pool.ntp.org
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>time.google.com<span class="w"> </span>prefer
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>!
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>spanning-tree<span class="w"> </span>mode<span class="w"> </span>mstp
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>no<span class="w"> </span>spanning-tree<span class="w"> </span>vlan-id<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>spanning-tree<span class="w"> </span>mst<span class="w"> </span><span class="m">0</span><span class="w"> </span>priority<span class="w"> </span><span class="m">16384</span>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>!
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>aaa<span class="w"> </span>authentication<span class="w"> </span>policy<span class="w"> </span><span class="nb">local</span><span class="w"> </span>allow-nopassword-remote-login
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>aaa<span class="w"> </span>authorization<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>default<span class="w"> </span><span class="nb">local</span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>!
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>no<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>password
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a>no<span class="w"> </span>aaa<span class="w"> </span>root
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>!
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a>username<span class="w"> </span>admin<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>secret<span class="w"> </span>sha512<span class="w"> </span><span class="nv">$6$eucN5ngreuExDgwS$xnD7T8jO</span>..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a>username<span class="w"> </span>arista<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>nopassword
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a>!
<a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a>vlan<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a><span class="w">   </span>name<span class="w"> </span>BLUE-NET
<a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a>!
<a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a>vlan<span class="w"> </span><span class="m">20</span>
<a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a><span class="w">   </span>name<span class="w"> </span>GREEN-NET
<a id="__codelineno-19-34" name="__codelineno-19-34" href="#__codelineno-19-34"></a>!
<a id="__codelineno-19-35" name="__codelineno-19-35" href="#__codelineno-19-35"></a>vlan<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-19-36" name="__codelineno-19-36" href="#__codelineno-19-36"></a><span class="w">   </span>name<span class="w"> </span>MLAG_PEER
<a id="__codelineno-19-37" name="__codelineno-19-37" href="#__codelineno-19-37"></a><span class="w">   </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-19-38" name="__codelineno-19-38" href="#__codelineno-19-38"></a>!
<a id="__codelineno-19-39" name="__codelineno-19-39" href="#__codelineno-19-39"></a>vrf<span class="w"> </span>instance<span class="w"> </span>MGMT
<a id="__codelineno-19-40" name="__codelineno-19-40" href="#__codelineno-19-40"></a>!
<a id="__codelineno-19-41" name="__codelineno-19-41" href="#__codelineno-19-41"></a>interface<span class="w"> </span>Port-Channel1
<a id="__codelineno-19-42" name="__codelineno-19-42" href="#__codelineno-19-42"></a><span class="w">   </span>description<span class="w"> </span>SPINES_Po1
<a id="__codelineno-19-43" name="__codelineno-19-43" href="#__codelineno-19-43"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-44" name="__codelineno-19-44" href="#__codelineno-19-44"></a><span class="w">   </span>switchport
<a id="__codelineno-19-45" name="__codelineno-19-45" href="#__codelineno-19-45"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>,20
<a id="__codelineno-19-46" name="__codelineno-19-46" href="#__codelineno-19-46"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-19-47" name="__codelineno-19-47" href="#__codelineno-19-47"></a><span class="w">   </span>mlag<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-19-48" name="__codelineno-19-48" href="#__codelineno-19-48"></a>!
<a id="__codelineno-19-49" name="__codelineno-19-49" href="#__codelineno-19-49"></a>interface<span class="w"> </span>Port-Channel47
<a id="__codelineno-19-50" name="__codelineno-19-50" href="#__codelineno-19-50"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF1_Po47
<a id="__codelineno-19-51" name="__codelineno-19-51" href="#__codelineno-19-51"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-52" name="__codelineno-19-52" href="#__codelineno-19-52"></a><span class="w">   </span>switchport
<a id="__codelineno-19-53" name="__codelineno-19-53" href="#__codelineno-19-53"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">2</span>-4094
<a id="__codelineno-19-54" name="__codelineno-19-54" href="#__codelineno-19-54"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-19-55" name="__codelineno-19-55" href="#__codelineno-19-55"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-19-56" name="__codelineno-19-56" href="#__codelineno-19-56"></a>!
<a id="__codelineno-19-57" name="__codelineno-19-57" href="#__codelineno-19-57"></a>interface<span class="w"> </span>Ethernet1
<a id="__codelineno-19-58" name="__codelineno-19-58" href="#__codelineno-19-58"></a><span class="w">   </span>description<span class="w"> </span>SPINE1_Ethernet2
<a id="__codelineno-19-59" name="__codelineno-19-59" href="#__codelineno-19-59"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-60" name="__codelineno-19-60" href="#__codelineno-19-60"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-19-61" name="__codelineno-19-61" href="#__codelineno-19-61"></a>!
<a id="__codelineno-19-62" name="__codelineno-19-62" href="#__codelineno-19-62"></a>interface<span class="w"> </span>Ethernet2
<a id="__codelineno-19-63" name="__codelineno-19-63" href="#__codelineno-19-63"></a><span class="w">   </span>description<span class="w"> </span>SPINE2_Ethernet2
<a id="__codelineno-19-64" name="__codelineno-19-64" href="#__codelineno-19-64"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-65" name="__codelineno-19-65" href="#__codelineno-19-65"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-19-66" name="__codelineno-19-66" href="#__codelineno-19-66"></a>!
<a id="__codelineno-19-67" name="__codelineno-19-67" href="#__codelineno-19-67"></a>interface<span class="w"> </span>Ethernet3
<a id="__codelineno-19-68" name="__codelineno-19-68" href="#__codelineno-19-68"></a><span class="w">   </span>description<span class="w"> </span>HostB_Eth1
<a id="__codelineno-19-69" name="__codelineno-19-69" href="#__codelineno-19-69"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-70" name="__codelineno-19-70" href="#__codelineno-19-70"></a><span class="w">   </span>switchport<span class="w"> </span>access<span class="w"> </span>vlan<span class="w"> </span><span class="m">20</span>
<a id="__codelineno-19-71" name="__codelineno-19-71" href="#__codelineno-19-71"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>access
<a id="__codelineno-19-72" name="__codelineno-19-72" href="#__codelineno-19-72"></a><span class="w">   </span>switchport
<a id="__codelineno-19-73" name="__codelineno-19-73" href="#__codelineno-19-73"></a><span class="w">   </span>spanning-tree<span class="w"> </span>portfast
<a id="__codelineno-19-74" name="__codelineno-19-74" href="#__codelineno-19-74"></a>!
<a id="__codelineno-19-75" name="__codelineno-19-75" href="#__codelineno-19-75"></a>interface<span class="w"> </span>Ethernet47
<a id="__codelineno-19-76" name="__codelineno-19-76" href="#__codelineno-19-76"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF1_Ethernet47
<a id="__codelineno-19-77" name="__codelineno-19-77" href="#__codelineno-19-77"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-78" name="__codelineno-19-78" href="#__codelineno-19-78"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-19-79" name="__codelineno-19-79" href="#__codelineno-19-79"></a>!
<a id="__codelineno-19-80" name="__codelineno-19-80" href="#__codelineno-19-80"></a>interface<span class="w"> </span>Ethernet48
<a id="__codelineno-19-81" name="__codelineno-19-81" href="#__codelineno-19-81"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF1_Ethernet48
<a id="__codelineno-19-82" name="__codelineno-19-82" href="#__codelineno-19-82"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-83" name="__codelineno-19-83" href="#__codelineno-19-83"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-19-84" name="__codelineno-19-84" href="#__codelineno-19-84"></a>!
<a id="__codelineno-19-85" name="__codelineno-19-85" href="#__codelineno-19-85"></a>interface<span class="w"> </span>Management0
<a id="__codelineno-19-86" name="__codelineno-19-86" href="#__codelineno-19-86"></a><span class="w">   </span>description<span class="w"> </span>oob_management
<a id="__codelineno-19-87" name="__codelineno-19-87" href="#__codelineno-19-87"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-88" name="__codelineno-19-88" href="#__codelineno-19-88"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-19-89" name="__codelineno-19-89" href="#__codelineno-19-89"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">172</span>.100.100.106/24
<a id="__codelineno-19-90" name="__codelineno-19-90" href="#__codelineno-19-90"></a>!
<a id="__codelineno-19-91" name="__codelineno-19-91" href="#__codelineno-19-91"></a>interface<span class="w"> </span>Vlan4094
<a id="__codelineno-19-92" name="__codelineno-19-92" href="#__codelineno-19-92"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER
<a id="__codelineno-19-93" name="__codelineno-19-93" href="#__codelineno-19-93"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-94" name="__codelineno-19-94" href="#__codelineno-19-94"></a><span class="w">   </span>mtu<span class="w"> </span><span class="m">1500</span>
<a id="__codelineno-19-95" name="__codelineno-19-95" href="#__codelineno-19-95"></a><span class="w">   </span>no<span class="w"> </span>autostate
<a id="__codelineno-19-96" name="__codelineno-19-96" href="#__codelineno-19-96"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.0.1/31
<a id="__codelineno-19-97" name="__codelineno-19-97" href="#__codelineno-19-97"></a>no<span class="w"> </span>ip<span class="w"> </span>routing<span class="w"> </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-19-98" name="__codelineno-19-98" href="#__codelineno-19-98"></a>!
<a id="__codelineno-19-99" name="__codelineno-19-99" href="#__codelineno-19-99"></a>mlag<span class="w"> </span>configuration
<a id="__codelineno-19-100" name="__codelineno-19-100" href="#__codelineno-19-100"></a><span class="w">   </span>domain-id<span class="w"> </span>RACK1
<a id="__codelineno-19-101" name="__codelineno-19-101" href="#__codelineno-19-101"></a><span class="w">   </span>local-interface<span class="w"> </span>Vlan4094
<a id="__codelineno-19-102" name="__codelineno-19-102" href="#__codelineno-19-102"></a><span class="w">   </span>peer-address<span class="w"> </span><span class="m">192</span>.168.0.0
<a id="__codelineno-19-103" name="__codelineno-19-103" href="#__codelineno-19-103"></a><span class="w">   </span>peer-link<span class="w"> </span>Port-Channel47
<a id="__codelineno-19-104" name="__codelineno-19-104" href="#__codelineno-19-104"></a><span class="w">   </span>reload-delay<span class="w"> </span>mlag<span class="w"> </span><span class="m">300</span>
<a id="__codelineno-19-105" name="__codelineno-19-105" href="#__codelineno-19-105"></a><span class="w">   </span>reload-delay<span class="w"> </span>non-mlag<span class="w"> </span><span class="m">330</span>
<a id="__codelineno-19-106" name="__codelineno-19-106" href="#__codelineno-19-106"></a>!
<a id="__codelineno-19-107" name="__codelineno-19-107" href="#__codelineno-19-107"></a>ip<span class="w"> </span>route<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">0</span>.0.0.0/0<span class="w"> </span><span class="m">172</span>.100.100.1
<a id="__codelineno-19-108" name="__codelineno-19-108" href="#__codelineno-19-108"></a>!
<a id="__codelineno-19-109" name="__codelineno-19-109" href="#__codelineno-19-109"></a>management<span class="w"> </span>api<span class="w"> </span>http-commands
<a id="__codelineno-19-110" name="__codelineno-19-110" href="#__codelineno-19-110"></a><span class="w">   </span>protocol<span class="w"> </span>https
<a id="__codelineno-19-111" name="__codelineno-19-111" href="#__codelineno-19-111"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-112" name="__codelineno-19-112" href="#__codelineno-19-112"></a><span class="w">   </span>!
<a id="__codelineno-19-113" name="__codelineno-19-113" href="#__codelineno-19-113"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-19-114" name="__codelineno-19-114" href="#__codelineno-19-114"></a><span class="w">      </span>no<span class="w"> </span>shutdown
<a id="__codelineno-19-115" name="__codelineno-19-115" href="#__codelineno-19-115"></a>!
<a id="__codelineno-19-116" name="__codelineno-19-116" href="#__codelineno-19-116"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>!RANCID-CONTENT-TYPE:<span class="w"> </span>arista
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>!
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>vlan<span class="w"> </span>internal<span class="w"> </span>order<span class="w"> </span>ascending<span class="w"> </span>range<span class="w"> </span><span class="m">1006</span><span class="w"> </span><span class="m">1199</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>!
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>transceiver<span class="w"> </span>qsfp<span class="w"> </span>default-mode<span class="w"> </span>4x10G
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>!
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>service<span class="w"> </span>routing<span class="w"> </span>protocols<span class="w"> </span>model<span class="w"> </span>multi-agent
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>!
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>hostname<span class="w"> </span>LEAF3
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.4.4
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.8.8
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>!
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>pool.ntp.org
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>time.google.com<span class="w"> </span>prefer
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a>!
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>spanning-tree<span class="w"> </span>mode<span class="w"> </span>mstp
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a>no<span class="w"> </span>spanning-tree<span class="w"> </span>vlan-id<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a>spanning-tree<span class="w"> </span>mst<span class="w"> </span><span class="m">0</span><span class="w"> </span>priority<span class="w"> </span><span class="m">16384</span>
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a>!
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a>aaa<span class="w"> </span>authentication<span class="w"> </span>policy<span class="w"> </span><span class="nb">local</span><span class="w"> </span>allow-nopassword-remote-login
<a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a>aaa<span class="w"> </span>authorization<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>default<span class="w"> </span><span class="nb">local</span>
<a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a>!
<a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a>no<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>password
<a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a>no<span class="w"> </span>aaa<span class="w"> </span>root
<a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a>!
<a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a>username<span class="w"> </span>admin<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>secret<span class="w"> </span>sha512<span class="w"> </span><span class="nv">$6$eucN5ngreuExDgwS$xnD7T8jO</span>..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.
<a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a>username<span class="w"> </span>arista<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>nopassword
<a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a>!
<a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a>vlan<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a><span class="w">   </span>name<span class="w"> </span>BLUE-NET
<a id="__codelineno-20-31" name="__codelineno-20-31" href="#__codelineno-20-31"></a>!
<a id="__codelineno-20-32" name="__codelineno-20-32" href="#__codelineno-20-32"></a>vlan<span class="w"> </span><span class="m">30</span>
<a id="__codelineno-20-33" name="__codelineno-20-33" href="#__codelineno-20-33"></a><span class="w">   </span>name<span class="w"> </span>ORANGE-NET
<a id="__codelineno-20-34" name="__codelineno-20-34" href="#__codelineno-20-34"></a>!
<a id="__codelineno-20-35" name="__codelineno-20-35" href="#__codelineno-20-35"></a>vlan<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-20-36" name="__codelineno-20-36" href="#__codelineno-20-36"></a><span class="w">   </span>name<span class="w"> </span>MLAG_PEER
<a id="__codelineno-20-37" name="__codelineno-20-37" href="#__codelineno-20-37"></a><span class="w">   </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-20-38" name="__codelineno-20-38" href="#__codelineno-20-38"></a>!
<a id="__codelineno-20-39" name="__codelineno-20-39" href="#__codelineno-20-39"></a>vrf<span class="w"> </span>instance<span class="w"> </span>MGMT
<a id="__codelineno-20-40" name="__codelineno-20-40" href="#__codelineno-20-40"></a>!
<a id="__codelineno-20-41" name="__codelineno-20-41" href="#__codelineno-20-41"></a>interface<span class="w"> </span>Port-Channel1
<a id="__codelineno-20-42" name="__codelineno-20-42" href="#__codelineno-20-42"></a><span class="w">   </span>description<span class="w"> </span>SPINES_Po3
<a id="__codelineno-20-43" name="__codelineno-20-43" href="#__codelineno-20-43"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-44" name="__codelineno-20-44" href="#__codelineno-20-44"></a><span class="w">   </span>switchport
<a id="__codelineno-20-45" name="__codelineno-20-45" href="#__codelineno-20-45"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>,30
<a id="__codelineno-20-46" name="__codelineno-20-46" href="#__codelineno-20-46"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-20-47" name="__codelineno-20-47" href="#__codelineno-20-47"></a><span class="w">   </span>mlag<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-20-48" name="__codelineno-20-48" href="#__codelineno-20-48"></a>!
<a id="__codelineno-20-49" name="__codelineno-20-49" href="#__codelineno-20-49"></a>interface<span class="w"> </span>Port-Channel47
<a id="__codelineno-20-50" name="__codelineno-20-50" href="#__codelineno-20-50"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF4_Po47
<a id="__codelineno-20-51" name="__codelineno-20-51" href="#__codelineno-20-51"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-52" name="__codelineno-20-52" href="#__codelineno-20-52"></a><span class="w">   </span>switchport
<a id="__codelineno-20-53" name="__codelineno-20-53" href="#__codelineno-20-53"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">2</span>-4094
<a id="__codelineno-20-54" name="__codelineno-20-54" href="#__codelineno-20-54"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-20-55" name="__codelineno-20-55" href="#__codelineno-20-55"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-20-56" name="__codelineno-20-56" href="#__codelineno-20-56"></a>!
<a id="__codelineno-20-57" name="__codelineno-20-57" href="#__codelineno-20-57"></a>interface<span class="w"> </span>Ethernet1
<a id="__codelineno-20-58" name="__codelineno-20-58" href="#__codelineno-20-58"></a><span class="w">   </span>description<span class="w"> </span>SPINE1_Ethernet3
<a id="__codelineno-20-59" name="__codelineno-20-59" href="#__codelineno-20-59"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-60" name="__codelineno-20-60" href="#__codelineno-20-60"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-20-61" name="__codelineno-20-61" href="#__codelineno-20-61"></a>!
<a id="__codelineno-20-62" name="__codelineno-20-62" href="#__codelineno-20-62"></a>interface<span class="w"> </span>Ethernet2
<a id="__codelineno-20-63" name="__codelineno-20-63" href="#__codelineno-20-63"></a><span class="w">   </span>description<span class="w"> </span>SPINE2_Ethernet3
<a id="__codelineno-20-64" name="__codelineno-20-64" href="#__codelineno-20-64"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-65" name="__codelineno-20-65" href="#__codelineno-20-65"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-20-66" name="__codelineno-20-66" href="#__codelineno-20-66"></a>!
<a id="__codelineno-20-67" name="__codelineno-20-67" href="#__codelineno-20-67"></a>interface<span class="w"> </span>Ethernet3
<a id="__codelineno-20-68" name="__codelineno-20-68" href="#__codelineno-20-68"></a><span class="w">   </span>description<span class="w"> </span>HostC_Eth1
<a id="__codelineno-20-69" name="__codelineno-20-69" href="#__codelineno-20-69"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-70" name="__codelineno-20-70" href="#__codelineno-20-70"></a><span class="w">   </span>switchport<span class="w"> </span>access<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-20-71" name="__codelineno-20-71" href="#__codelineno-20-71"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>access
<a id="__codelineno-20-72" name="__codelineno-20-72" href="#__codelineno-20-72"></a><span class="w">   </span>switchport
<a id="__codelineno-20-73" name="__codelineno-20-73" href="#__codelineno-20-73"></a><span class="w">   </span>spanning-tree<span class="w"> </span>portfast
<a id="__codelineno-20-74" name="__codelineno-20-74" href="#__codelineno-20-74"></a>!
<a id="__codelineno-20-75" name="__codelineno-20-75" href="#__codelineno-20-75"></a>interface<span class="w"> </span>Ethernet47
<a id="__codelineno-20-76" name="__codelineno-20-76" href="#__codelineno-20-76"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF4_Ethernet47
<a id="__codelineno-20-77" name="__codelineno-20-77" href="#__codelineno-20-77"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-78" name="__codelineno-20-78" href="#__codelineno-20-78"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-20-79" name="__codelineno-20-79" href="#__codelineno-20-79"></a>!
<a id="__codelineno-20-80" name="__codelineno-20-80" href="#__codelineno-20-80"></a>interface<span class="w"> </span>Ethernet48
<a id="__codelineno-20-81" name="__codelineno-20-81" href="#__codelineno-20-81"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF4_Ethernet48
<a id="__codelineno-20-82" name="__codelineno-20-82" href="#__codelineno-20-82"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-83" name="__codelineno-20-83" href="#__codelineno-20-83"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-20-84" name="__codelineno-20-84" href="#__codelineno-20-84"></a>!
<a id="__codelineno-20-85" name="__codelineno-20-85" href="#__codelineno-20-85"></a>interface<span class="w"> </span>Management0
<a id="__codelineno-20-86" name="__codelineno-20-86" href="#__codelineno-20-86"></a><span class="w">   </span>description<span class="w"> </span>oob_management
<a id="__codelineno-20-87" name="__codelineno-20-87" href="#__codelineno-20-87"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-88" name="__codelineno-20-88" href="#__codelineno-20-88"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-20-89" name="__codelineno-20-89" href="#__codelineno-20-89"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">172</span>.100.100.107/24
<a id="__codelineno-20-90" name="__codelineno-20-90" href="#__codelineno-20-90"></a>!
<a id="__codelineno-20-91" name="__codelineno-20-91" href="#__codelineno-20-91"></a>interface<span class="w"> </span>Vlan4094
<a id="__codelineno-20-92" name="__codelineno-20-92" href="#__codelineno-20-92"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER
<a id="__codelineno-20-93" name="__codelineno-20-93" href="#__codelineno-20-93"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-94" name="__codelineno-20-94" href="#__codelineno-20-94"></a><span class="w">   </span>mtu<span class="w"> </span><span class="m">1500</span>
<a id="__codelineno-20-95" name="__codelineno-20-95" href="#__codelineno-20-95"></a><span class="w">   </span>no<span class="w"> </span>autostate
<a id="__codelineno-20-96" name="__codelineno-20-96" href="#__codelineno-20-96"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.0.4/31
<a id="__codelineno-20-97" name="__codelineno-20-97" href="#__codelineno-20-97"></a>no<span class="w"> </span>ip<span class="w"> </span>routing<span class="w"> </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-20-98" name="__codelineno-20-98" href="#__codelineno-20-98"></a>!
<a id="__codelineno-20-99" name="__codelineno-20-99" href="#__codelineno-20-99"></a>mlag<span class="w"> </span>configuration
<a id="__codelineno-20-100" name="__codelineno-20-100" href="#__codelineno-20-100"></a><span class="w">   </span>domain-id<span class="w"> </span>RACK2
<a id="__codelineno-20-101" name="__codelineno-20-101" href="#__codelineno-20-101"></a><span class="w">   </span>local-interface<span class="w"> </span>Vlan4094
<a id="__codelineno-20-102" name="__codelineno-20-102" href="#__codelineno-20-102"></a><span class="w">   </span>peer-address<span class="w"> </span><span class="m">192</span>.168.0.5
<a id="__codelineno-20-103" name="__codelineno-20-103" href="#__codelineno-20-103"></a><span class="w">   </span>peer-link<span class="w"> </span>Port-Channel47
<a id="__codelineno-20-104" name="__codelineno-20-104" href="#__codelineno-20-104"></a><span class="w">   </span>reload-delay<span class="w"> </span>mlag<span class="w"> </span><span class="m">300</span>
<a id="__codelineno-20-105" name="__codelineno-20-105" href="#__codelineno-20-105"></a><span class="w">   </span>reload-delay<span class="w"> </span>non-mlag<span class="w"> </span><span class="m">330</span>
<a id="__codelineno-20-106" name="__codelineno-20-106" href="#__codelineno-20-106"></a>!
<a id="__codelineno-20-107" name="__codelineno-20-107" href="#__codelineno-20-107"></a>ip<span class="w"> </span>route<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">0</span>.0.0.0/0<span class="w"> </span><span class="m">172</span>.100.100.1
<a id="__codelineno-20-108" name="__codelineno-20-108" href="#__codelineno-20-108"></a>!
<a id="__codelineno-20-109" name="__codelineno-20-109" href="#__codelineno-20-109"></a>management<span class="w"> </span>api<span class="w"> </span>http-commands
<a id="__codelineno-20-110" name="__codelineno-20-110" href="#__codelineno-20-110"></a><span class="w">   </span>protocol<span class="w"> </span>https
<a id="__codelineno-20-111" name="__codelineno-20-111" href="#__codelineno-20-111"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-112" name="__codelineno-20-112" href="#__codelineno-20-112"></a><span class="w">   </span>!
<a id="__codelineno-20-113" name="__codelineno-20-113" href="#__codelineno-20-113"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-20-114" name="__codelineno-20-114" href="#__codelineno-20-114"></a><span class="w">      </span>no<span class="w"> </span>shutdown
<a id="__codelineno-20-115" name="__codelineno-20-115" href="#__codelineno-20-115"></a>!
<a id="__codelineno-20-116" name="__codelineno-20-116" href="#__codelineno-20-116"></a>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>!RANCID-CONTENT-TYPE:<span class="w"> </span>arista
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>!
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>vlan<span class="w"> </span>internal<span class="w"> </span>order<span class="w"> </span>ascending<span class="w"> </span>range<span class="w"> </span><span class="m">1006</span><span class="w"> </span><span class="m">1199</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>!
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>transceiver<span class="w"> </span>qsfp<span class="w"> </span>default-mode<span class="w"> </span>4x10G
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>!
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>service<span class="w"> </span>routing<span class="w"> </span>protocols<span class="w"> </span>model<span class="w"> </span>multi-agent
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>!
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>hostname<span class="w"> </span>LEAF4
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.4.4
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>ip<span class="w"> </span>name-server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">8</span>.8.8.8
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>!
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>pool.ntp.org
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>ntp<span class="w"> </span>server<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span>time.google.com<span class="w"> </span>prefer
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>!
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>spanning-tree<span class="w"> </span>mode<span class="w"> </span>mstp
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>no<span class="w"> </span>spanning-tree<span class="w"> </span>vlan-id<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a>spanning-tree<span class="w"> </span>mst<span class="w"> </span><span class="m">0</span><span class="w"> </span>priority<span class="w"> </span><span class="m">16384</span>
<a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a>!
<a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a>aaa<span class="w"> </span>authentication<span class="w"> </span>policy<span class="w"> </span><span class="nb">local</span><span class="w"> </span>allow-nopassword-remote-login
<a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a>aaa<span class="w"> </span>authorization<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>default<span class="w"> </span><span class="nb">local</span>
<a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a>!
<a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a>no<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>password
<a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a>no<span class="w"> </span>aaa<span class="w"> </span>root
<a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a>!
<a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a>username<span class="w"> </span>admin<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>secret<span class="w"> </span>sha512<span class="w"> </span><span class="nv">$6$eucN5ngreuExDgwS$xnD7T8jO</span>..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.
<a id="__codelineno-21-27" name="__codelineno-21-27" href="#__codelineno-21-27"></a>username<span class="w"> </span>arista<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>role<span class="w"> </span>network-admin<span class="w"> </span>nopassword
<a id="__codelineno-21-28" name="__codelineno-21-28" href="#__codelineno-21-28"></a>!
<a id="__codelineno-21-29" name="__codelineno-21-29" href="#__codelineno-21-29"></a>vlan<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-21-30" name="__codelineno-21-30" href="#__codelineno-21-30"></a><span class="w">   </span>name<span class="w"> </span>BLUE-NET
<a id="__codelineno-21-31" name="__codelineno-21-31" href="#__codelineno-21-31"></a>!
<a id="__codelineno-21-32" name="__codelineno-21-32" href="#__codelineno-21-32"></a>vlan<span class="w"> </span><span class="m">30</span>
<a id="__codelineno-21-33" name="__codelineno-21-33" href="#__codelineno-21-33"></a><span class="w">   </span>name<span class="w"> </span>ORANGE-NET
<a id="__codelineno-21-34" name="__codelineno-21-34" href="#__codelineno-21-34"></a>!
<a id="__codelineno-21-35" name="__codelineno-21-35" href="#__codelineno-21-35"></a>vlan<span class="w"> </span><span class="m">4094</span>
<a id="__codelineno-21-36" name="__codelineno-21-36" href="#__codelineno-21-36"></a><span class="w">   </span>name<span class="w"> </span>MLAG_PEER
<a id="__codelineno-21-37" name="__codelineno-21-37" href="#__codelineno-21-37"></a><span class="w">   </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-21-38" name="__codelineno-21-38" href="#__codelineno-21-38"></a>!
<a id="__codelineno-21-39" name="__codelineno-21-39" href="#__codelineno-21-39"></a>vrf<span class="w"> </span>instance<span class="w"> </span>MGMT
<a id="__codelineno-21-40" name="__codelineno-21-40" href="#__codelineno-21-40"></a>!
<a id="__codelineno-21-41" name="__codelineno-21-41" href="#__codelineno-21-41"></a>interface<span class="w"> </span>Port-Channel1
<a id="__codelineno-21-42" name="__codelineno-21-42" href="#__codelineno-21-42"></a><span class="w">   </span>description<span class="w"> </span>SPINES_Po3
<a id="__codelineno-21-43" name="__codelineno-21-43" href="#__codelineno-21-43"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-44" name="__codelineno-21-44" href="#__codelineno-21-44"></a><span class="w">   </span>switchport
<a id="__codelineno-21-45" name="__codelineno-21-45" href="#__codelineno-21-45"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">10</span>,30
<a id="__codelineno-21-46" name="__codelineno-21-46" href="#__codelineno-21-46"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-21-47" name="__codelineno-21-47" href="#__codelineno-21-47"></a><span class="w">   </span>mlag<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-21-48" name="__codelineno-21-48" href="#__codelineno-21-48"></a>!
<a id="__codelineno-21-49" name="__codelineno-21-49" href="#__codelineno-21-49"></a>interface<span class="w"> </span>Port-Channel47
<a id="__codelineno-21-50" name="__codelineno-21-50" href="#__codelineno-21-50"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF3_Po47
<a id="__codelineno-21-51" name="__codelineno-21-51" href="#__codelineno-21-51"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-52" name="__codelineno-21-52" href="#__codelineno-21-52"></a><span class="w">   </span>switchport
<a id="__codelineno-21-53" name="__codelineno-21-53" href="#__codelineno-21-53"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>allowed<span class="w"> </span>vlan<span class="w"> </span><span class="m">2</span>-4094
<a id="__codelineno-21-54" name="__codelineno-21-54" href="#__codelineno-21-54"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>trunk
<a id="__codelineno-21-55" name="__codelineno-21-55" href="#__codelineno-21-55"></a><span class="w">   </span>switchport<span class="w"> </span>trunk<span class="w"> </span>group<span class="w"> </span>MLAG
<a id="__codelineno-21-56" name="__codelineno-21-56" href="#__codelineno-21-56"></a>!
<a id="__codelineno-21-57" name="__codelineno-21-57" href="#__codelineno-21-57"></a>interface<span class="w"> </span>Ethernet1
<a id="__codelineno-21-58" name="__codelineno-21-58" href="#__codelineno-21-58"></a><span class="w">   </span>description<span class="w"> </span>SPINE1_Ethernet4
<a id="__codelineno-21-59" name="__codelineno-21-59" href="#__codelineno-21-59"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-60" name="__codelineno-21-60" href="#__codelineno-21-60"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-21-61" name="__codelineno-21-61" href="#__codelineno-21-61"></a>!
<a id="__codelineno-21-62" name="__codelineno-21-62" href="#__codelineno-21-62"></a>interface<span class="w"> </span>Ethernet2
<a id="__codelineno-21-63" name="__codelineno-21-63" href="#__codelineno-21-63"></a><span class="w">   </span>description<span class="w"> </span>SPINE2_Ethernet4
<a id="__codelineno-21-64" name="__codelineno-21-64" href="#__codelineno-21-64"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-65" name="__codelineno-21-65" href="#__codelineno-21-65"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">1</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-21-66" name="__codelineno-21-66" href="#__codelineno-21-66"></a>!
<a id="__codelineno-21-67" name="__codelineno-21-67" href="#__codelineno-21-67"></a>interface<span class="w"> </span>Ethernet3
<a id="__codelineno-21-68" name="__codelineno-21-68" href="#__codelineno-21-68"></a><span class="w">   </span>description<span class="w"> </span>Host2_Eth1
<a id="__codelineno-21-69" name="__codelineno-21-69" href="#__codelineno-21-69"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-70" name="__codelineno-21-70" href="#__codelineno-21-70"></a><span class="w">   </span>switchport<span class="w"> </span>access<span class="w"> </span>vlan<span class="w"> </span><span class="m">30</span>
<a id="__codelineno-21-71" name="__codelineno-21-71" href="#__codelineno-21-71"></a><span class="w">   </span>switchport<span class="w"> </span>mode<span class="w"> </span>access
<a id="__codelineno-21-72" name="__codelineno-21-72" href="#__codelineno-21-72"></a><span class="w">   </span>switchport
<a id="__codelineno-21-73" name="__codelineno-21-73" href="#__codelineno-21-73"></a><span class="w">   </span>spanning-tree<span class="w"> </span>portfast
<a id="__codelineno-21-74" name="__codelineno-21-74" href="#__codelineno-21-74"></a>!
<a id="__codelineno-21-75" name="__codelineno-21-75" href="#__codelineno-21-75"></a>interface<span class="w"> </span>Ethernet47
<a id="__codelineno-21-76" name="__codelineno-21-76" href="#__codelineno-21-76"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF3_Ethernet47
<a id="__codelineno-21-77" name="__codelineno-21-77" href="#__codelineno-21-77"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-78" name="__codelineno-21-78" href="#__codelineno-21-78"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-21-79" name="__codelineno-21-79" href="#__codelineno-21-79"></a>!
<a id="__codelineno-21-80" name="__codelineno-21-80" href="#__codelineno-21-80"></a>interface<span class="w"> </span>Ethernet48
<a id="__codelineno-21-81" name="__codelineno-21-81" href="#__codelineno-21-81"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER_LEAF3_Ethernet48
<a id="__codelineno-21-82" name="__codelineno-21-82" href="#__codelineno-21-82"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-83" name="__codelineno-21-83" href="#__codelineno-21-83"></a><span class="w">   </span>channel-group<span class="w"> </span><span class="m">47</span><span class="w"> </span>mode<span class="w"> </span>active
<a id="__codelineno-21-84" name="__codelineno-21-84" href="#__codelineno-21-84"></a>!
<a id="__codelineno-21-85" name="__codelineno-21-85" href="#__codelineno-21-85"></a>interface<span class="w"> </span>Management0
<a id="__codelineno-21-86" name="__codelineno-21-86" href="#__codelineno-21-86"></a><span class="w">   </span>description<span class="w"> </span>oob_management
<a id="__codelineno-21-87" name="__codelineno-21-87" href="#__codelineno-21-87"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-88" name="__codelineno-21-88" href="#__codelineno-21-88"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-21-89" name="__codelineno-21-89" href="#__codelineno-21-89"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">172</span>.100.100.108/24
<a id="__codelineno-21-90" name="__codelineno-21-90" href="#__codelineno-21-90"></a>!
<a id="__codelineno-21-91" name="__codelineno-21-91" href="#__codelineno-21-91"></a>interface<span class="w"> </span>Vlan4094
<a id="__codelineno-21-92" name="__codelineno-21-92" href="#__codelineno-21-92"></a><span class="w">   </span>description<span class="w"> </span>MLAG_PEER
<a id="__codelineno-21-93" name="__codelineno-21-93" href="#__codelineno-21-93"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-94" name="__codelineno-21-94" href="#__codelineno-21-94"></a><span class="w">   </span>mtu<span class="w"> </span><span class="m">1500</span>
<a id="__codelineno-21-95" name="__codelineno-21-95" href="#__codelineno-21-95"></a><span class="w">   </span>no<span class="w"> </span>autostate
<a id="__codelineno-21-96" name="__codelineno-21-96" href="#__codelineno-21-96"></a><span class="w">   </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.0.5/31
<a id="__codelineno-21-97" name="__codelineno-21-97" href="#__codelineno-21-97"></a>no<span class="w"> </span>ip<span class="w"> </span>routing<span class="w"> </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-21-98" name="__codelineno-21-98" href="#__codelineno-21-98"></a>!
<a id="__codelineno-21-99" name="__codelineno-21-99" href="#__codelineno-21-99"></a>mlag<span class="w"> </span>configuration
<a id="__codelineno-21-100" name="__codelineno-21-100" href="#__codelineno-21-100"></a><span class="w">   </span>domain-id<span class="w"> </span>RACK2
<a id="__codelineno-21-101" name="__codelineno-21-101" href="#__codelineno-21-101"></a><span class="w">   </span>local-interface<span class="w"> </span>Vlan4094
<a id="__codelineno-21-102" name="__codelineno-21-102" href="#__codelineno-21-102"></a><span class="w">   </span>peer-address<span class="w"> </span><span class="m">192</span>.168.0.4
<a id="__codelineno-21-103" name="__codelineno-21-103" href="#__codelineno-21-103"></a><span class="w">   </span>peer-link<span class="w"> </span>Port-Channel47
<a id="__codelineno-21-104" name="__codelineno-21-104" href="#__codelineno-21-104"></a><span class="w">   </span>reload-delay<span class="w"> </span>mlag<span class="w"> </span><span class="m">300</span>
<a id="__codelineno-21-105" name="__codelineno-21-105" href="#__codelineno-21-105"></a><span class="w">   </span>reload-delay<span class="w"> </span>non-mlag<span class="w"> </span><span class="m">330</span>
<a id="__codelineno-21-106" name="__codelineno-21-106" href="#__codelineno-21-106"></a>!
<a id="__codelineno-21-107" name="__codelineno-21-107" href="#__codelineno-21-107"></a>ip<span class="w"> </span>route<span class="w"> </span>vrf<span class="w"> </span>MGMT<span class="w"> </span><span class="m">0</span>.0.0.0/0<span class="w"> </span><span class="m">172</span>.100.100.1
<a id="__codelineno-21-108" name="__codelineno-21-108" href="#__codelineno-21-108"></a>!
<a id="__codelineno-21-109" name="__codelineno-21-109" href="#__codelineno-21-109"></a>management<span class="w"> </span>api<span class="w"> </span>http-commands
<a id="__codelineno-21-110" name="__codelineno-21-110" href="#__codelineno-21-110"></a><span class="w">   </span>protocol<span class="w"> </span>https
<a id="__codelineno-21-111" name="__codelineno-21-111" href="#__codelineno-21-111"></a><span class="w">   </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-112" name="__codelineno-21-112" href="#__codelineno-21-112"></a><span class="w">   </span>!
<a id="__codelineno-21-113" name="__codelineno-21-113" href="#__codelineno-21-113"></a><span class="w">   </span>vrf<span class="w"> </span>MGMT
<a id="__codelineno-21-114" name="__codelineno-21-114" href="#__codelineno-21-114"></a><span class="w">      </span>no<span class="w"> </span>shutdown
<a id="__codelineno-21-115" name="__codelineno-21-115" href="#__codelineno-21-115"></a>!
<a id="__codelineno-21-116" name="__codelineno-21-116" href="#__codelineno-21-116"></a>end
</code></pre></div>
</div>
</div>
</div>
<h2 id="add-routing-to-spines">Add Routing to Spines<a class="headerlink" href="#add-routing-to-spines" title="Permanent link">&para;</a></h2>
<p>In our example, we used an external L3/FW Device to route between subnets. This is very typical in a Layer 2 only environment. To route on the spines, we remove the L3/FW device from the topology and create the SVIs on the Spines. The updated topology is shown below.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>The spine type has been changed to <strong>l3spine</strong>.</p>
</details>
<p><img alt="Figure: 3" src="images/L2LS_Spine_routing.svg" /></p>
<p>The following group_vars need updating to enable L3 routing on the Spines.</p>
<ul>
<li>DC1_SPINES.yml</li>
<li>DC1_FABRIC.yml</li>
<li>DC1_NETWORK_SERVICES.yml</li>
</ul>
<p>The updated changes are noted in the tabs below.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">DC1_SPINES.yml</label><label for="__tabbed_4_2">DC1_FABRIC.yml</label><label for="__tabbed_4_3">DC1_NETWORK_SERVICES.yml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Update type to <code>l3spine</code>. This makes it a routing device.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nn">---</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="c1">### group_vars/DC1_SPINES.yml</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">l3spine</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Update with the following changes and additions.</p>
<ul>
<li>Change the node key <strong>spine</strong> to <strong>l3spine</strong> to match the node type set previously in DC1_SPINES.yml</li>
<li>Add <strong>loopback_ipv4_pool</strong></li>
<li>Add <strong>mlag_peer_l3_ipv4_pool</strong></li>
<li>Add <strong>virtual_router_mac_address</strong></li>
</ul>
<p>Update DC1_FABRIC.yml with the following recommended settings. Use your own IP pools.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1"># Node Key must be l3spine to match type</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="nt">l3spine</span><span class="p">:</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">  </span><span class="nt">defaults</span><span class="p">:</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cEOS-LAB</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">    </span><span class="nt">spanning_tree_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mstp</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">    </span><span class="nt">spanning_tree_priority</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4096</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">    </span><span class="c1"># Loopback is used to generate a router-id</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">    </span><span class="nt">loopback_ipv4_pool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.1.1.0/24</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">    </span><span class="nt">mlag_peer_ipv4_pool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.0.0/24</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">    </span><span class="c1"># Needed for L3 peering across the MLAG Trunk</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">    </span><span class="nt">mlag_peer_l3_ipv4_pool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.1.1.0/24</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">    </span><span class="c1"># Used for SVI Virual MAC address</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">    </span><span class="nt">virtual_router_mac_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">00:1c:73:00:dc:01</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">    </span><span class="nt">mlag_interfaces</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Ethernet47</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">Ethernet48</span><span class="p p-Indicator">]</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Update Network Services to use L3 SVIs.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>To create L3 SVIs on the spines, we need to utilize an L3 VRF. In our case, we will use the default VRF. <code>MY_FABRIC</code> is simply a tenant name for organizing VRFs and SVIs.</p>
</details>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nn">---</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="nt">tenants</span><span class="p">:</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">  </span><span class="nt">MY_FABRIC</span><span class="p">:</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="nt">vrfs</span><span class="p">:</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">      </span><span class="nt">default</span><span class="p">:</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">        </span><span class="nt">svis</span><span class="p">:</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">          </span><span class="nt">10</span><span class="p">:</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;BLUE-NET&#39;</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">            </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">bluezone</span><span class="p p-Indicator">]</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="w">            </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">            </span><span class="nt">ip_virtual_router_addresses</span><span class="p">:</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.10.10.1</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">            </span><span class="nt">nodes</span><span class="p">:</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="w">              </span><span class="nt">SPINE1</span><span class="p">:</span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="w">                </span><span class="nt">ip_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.10.10.2/24</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="w">              </span><span class="nt">SPINE2</span><span class="p">:</span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="w">                </span><span class="nt">ip_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.10.10.3/24</span>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="w">          </span><span class="nt">20</span><span class="p">:</span>
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;GREEN-NET&#39;</span>
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="w">            </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">greenzone</span><span class="p p-Indicator">]</span>
<a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a><span class="w">            </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="w">            </span><span class="nt">ip_virtual_router_addresses</span><span class="p">:</span>
<a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a><span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.20.20.1</span>
<a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a><span class="w">            </span><span class="nt">nodes</span><span class="p">:</span>
<a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a><span class="w">              </span><span class="nt">SPINE1</span><span class="p">:</span>
<a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a><span class="w">                </span><span class="nt">ip_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.20.20.2/24</span>
<a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a><span class="w">              </span><span class="nt">SPINE2</span><span class="p">:</span>
<a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a><span class="w">                </span><span class="nt">ip_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.20.20.3/24</span>
<a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a><span class="w">          </span><span class="nt">30</span><span class="p">:</span>
<a id="__codelineno-24-30" name="__codelineno-24-30" href="#__codelineno-24-30"></a><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;ORANGE-NET&#39;</span>
<a id="__codelineno-24-31" name="__codelineno-24-31" href="#__codelineno-24-31"></a><span class="w">            </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">orangezone</span><span class="p p-Indicator">]</span>
<a id="__codelineno-24-32" name="__codelineno-24-32" href="#__codelineno-24-32"></a><span class="w">            </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-24-33" name="__codelineno-24-33" href="#__codelineno-24-33"></a><span class="w">            </span><span class="nt">ip_virtual_router_addresses</span><span class="p">:</span>
<a id="__codelineno-24-34" name="__codelineno-24-34" href="#__codelineno-24-34"></a><span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.30.30.1</span>
<a id="__codelineno-24-35" name="__codelineno-24-35" href="#__codelineno-24-35"></a><span class="w">            </span><span class="nt">nodes</span><span class="p">:</span>
<a id="__codelineno-24-36" name="__codelineno-24-36" href="#__codelineno-24-36"></a><span class="w">              </span><span class="nt">SPINE1</span><span class="p">:</span>
<a id="__codelineno-24-37" name="__codelineno-24-37" href="#__codelineno-24-37"></a><span class="w">                </span><span class="nt">ip_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.30.30.2/24</span>
<a id="__codelineno-24-38" name="__codelineno-24-38" href="#__codelineno-24-38"></a><span class="w">              </span><span class="nt">SPINE2</span><span class="p">:</span>
<a id="__codelineno-24-39" name="__codelineno-24-39" href="#__codelineno-24-39"></a><span class="w">                </span><span class="nt">ip_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.30.30.3/24</span>
</code></pre></div>
</div>
</div>
</div>
<p>Now re-run your playbook and build the new configs. The intended/configs for the spines will have been updated with L3 SVIs.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>ansible-playbook<span class="w"> </span>playbooks/build.yml
</code></pre></div>
<p>If you wish to deploy these changes, then simply run the deploy playbook.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>ansible-playbook<span class="w"> </span>playbooks/deploy.yml
</code></pre></div>
<h2 id="next-steps">Next steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>Try building your own topology.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 5, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2019 - 2023 Arista Networks
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/aristanetworks/ansible-avd" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/AristaNetworks" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.arista.com" target="_blank" rel="noopener" title="www.arista.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.4c2.2 20.4 3.3 41.8 3.3 64zm28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 21 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zm186.6 254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6h116.7zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6h116.6z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "header.autohide", "navigation.instant", "navigation.top", "search.highlight", "toc.integrate", "toc.follow"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "stable", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../docs/stylesheets/tables.js"></script>
      
    
  </body>
</html>
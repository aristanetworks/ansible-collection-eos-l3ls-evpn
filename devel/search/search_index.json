{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Ansible Collection for Arista Validated Designs","text":"<p>Arista Networks supports Ansible for managing devices running Arista\u2019s Extensible Operating System (EOS) natively through it\u2019s EOS API (eAPI) or CloudVision Portal (CVP). This collection includes a set of Ansible roles and modules to help kick-start your automation with Arista. The various roles and templates provided are designed to be customized and extended to your needs.</p> <p>Full documentation for the collection:</p> <ul> <li>stable version</li> <li>collection development version</li> </ul>"},{"location":"index.html#features","title":"Features","text":"<ul> <li>Flexibility with Open Data Models: Extensible fabric-wide network models, simplifying configuration, delivering consistency, and reducing errors</li> <li>Simplification through Multi-Domain Automation: A framework that can automate the data center, campus or wide area network, enabled by a consistent EOS software image and management platform</li> <li>Comprehensive Workflows: Automating the full life cycle of network provisioning from config generation to pre and post-deployment validation, and self-documentation of the network</li> </ul>"},{"location":"index.html#reference-designs","title":"Reference designs","text":"<ul> <li>L3LS VXLAN-EVPN, L2LS, and MPLS (beta)</li> </ul>"},{"location":"index.html#roles-overview","title":"Roles overview","text":"<p>This repository provides content for Arista\u2019s arista.avd collection. The following roles are included.</p> <ul> <li>arista.avd.eos_designs - Opinionated Data model to assist with the deployment of Arista Validated Designs.</li> <li>arista.avd.eos_cli_config_gen - Generate Arista EOS cli syntax and device documentation.</li> <li>arista.avd.eos_config_deploy_cvp - Deploys intended configuration via CloudVision.</li> <li>arista.avd.eos_config_deploy_eapi - Deploys intended configuration via eAPI.</li> <li>arista.avd.cvp_configlet_upload - Uploads configlets from a local folder to CloudVision Server.</li> <li>arista.avd.eos_validate_state - Validate operational states of Arista EOS devices.</li> <li>arista.avd.eos_snapshot - Collect commands on EOS devices and generate reports.</li> <li>arista.avd.dhcp_provisioner - Configure an ISC-DHCP server to provide ZTP services and CloudVision registration.</li> </ul> <p> </p>"},{"location":"index.html#custom-plugins-modules","title":"Custom plugins &amp; modules","text":"<p>This repository provides custom plugins for Arista\u2019s AVD collection:</p> <ul> <li>Arista AVD Plugins</li> </ul>"},{"location":"index.html#collection-installation","title":"Collection installation","text":"<p>Ansible galaxy hosts all stable versions of this collection. Installation from ansible-galaxy is the most convenient approach for consuming <code>arista.avd</code> content. Please follow the collection installation guide.</p>"},{"location":"index.html#examples","title":"Examples","text":"<ul> <li>Getting started examples</li> <li>Arista NetDevOps Examples</li> </ul>"},{"location":"index.html#additional-resources","title":"Additional resources","text":"<ul> <li>Ansible EOS modules on ansible documentation.</li> <li>Ansible CloudVision modules</li> <li>CloudVision Portal</li> <li>Arista Design and Deployment Guides</li> </ul>"},{"location":"index.html#ask-a-question","title":"Ask a question","text":"<p>Support for this <code>arista.avd</code> collection is provided by the community directly in this repository. If you have any questions, please leverage the GitHub discussions board.</p>"},{"location":"index.html#contributing","title":"Contributing","text":"<p>Contributing pull requests are gladly welcomed for this repository. If you are planning a big change, please start a discussion first to make sure we\u2019ll be able to merge it. Please see contribution guide for additional details.</p> <p>You can also open an issue to report any problems or submit enhancements.</p>"},{"location":"index.html#license","title":"License","text":"<p>The project is published under Apache 2.0 License</p>"},{"location":"changelogs/index.html","title":"Changelog","text":"<p>Prepare changelog fragments. Copy PR titles from GitHub Release Notes (auto generated) and search/replace to make the formatting fit. Check a previous fragments_backup for example.</p> <p>To generate changelog (Note this can only be done once, since it will remove the fragments file - make sure to copy it to fragments_backup first):</p> <pre><code>cd ansible_collections/arista/avd/\nantsibull-changelog release\n</code></pre>"},{"location":"docs/contributing.html","title":"Contribute to Arista ansible-avd collection","text":"<ul> <li>Contribute to Arista ansible-avd collection<ul> <li>Reporting Bugs</li> <li>Feature Requests</li> <li>Using the issue tracker</li> <li>Branches</li> <li>Pull requests</li> </ul> </li> </ul> <p>Please take a moment to review this document in order to make the contribution process easy and effective for everyone involved.</p> <p>Following these guidelines helps to communicate that you respect the time of the developers managing and developing this open source project. In return, they should reciprocate that respect in addressing your issue or assessing patches and features.</p>"},{"location":"docs/contributing.html#reporting-bugs","title":"Reporting Bugs","text":"<ul> <li>First, ensure that you\u2019ve installed the latest stable version of ansible-avd. If you\u2019re running an older version, it\u2019s possible that the bug has already been fixed.</li> </ul> <ul> <li>Next, check the GitHub issues list to see if the bug you\u2019ve found has already been reported. If you think you may be experiencing a reported issue that hasn\u2019t already been resolved, please click \u201cadd a reaction\u201d in the top right corner of the issue and add a thumbs up (+1). You might also want to add a comment describing how it\u2019s affecting your installation. This will allow us to prioritize bugs based on how many users are affected.</li> </ul> <ul> <li>If you haven\u2019t found an existing issue that describes your suspected bug, do not file an issue until you have received confirmation that it is in fact a bug. Invalid issues are very distracting and slow the pace at which ansible-avd is developed.</li> </ul> <ul> <li> <p>When submitting an issue, please be as descriptive as possible. Be sure to include:</p> <ul> <li>The environment in which ansible-avd is running</li> <li>The exact steps that can be taken to reproduce the issue (if applicable)</li> <li>Any error messages generated</li> <li>Screenshots (if applicable)</li> </ul> </li> </ul> <ul> <li>Please avoid prepending any sort of tag (e.g. \u201c[Bug]\u201d) to the issue title. The issue will be reviewed by a moderator after submission and the appropriate labels will be applied for categorization.</li> </ul> <ul> <li>Keep in mind that we prioritize bugs based on their severity and how much work is required to resolve them. It may take some time for someone to address your issue.</li> </ul>"},{"location":"docs/contributing.html#feature-requests","title":"Feature Requests","text":"<ul> <li>First, check the GitHub issues list to see if the feature you\u2019re requesting is already listed. (Be sure to search closed issues as well, since some feature requests have been rejected.) If the feature you\u2019d like to see has already been requested and is open, click \u201cadd a reaction\u201d in the top right corner of the issue and add a thumbs up (+1). This ensures that the issue has a better chance of receiving attention. Also feel free to add a comment with any additional justification for the feature. (However, note that comments with no substance other than a \u201c+1\u201d will be deleted. Please use GitHub\u2019s reactions feature to indicate your support.)</li> </ul> <ul> <li>Before filing a new feature request, consider raising your idea on the mailing list first. Feedback you receive there will help validate and shape the proposed feature before filing a formal issue.</li> </ul> <ul> <li>Good feature requests are very narrowly defined. Be sure to thoroughly describe the functionality and data model(s) being proposed. The more effort you put into writing a feature request, the better its chance is of being implemented. Overly broad feature requests will be closed.</li> </ul> <ul> <li> <p>When submitting a feature request on GitHub, be sure to include the following:</p> <ul> <li>A detailed description of the proposed functionality</li> <li>A use case for the feature; who would use it and what value it would add     to ansible-avd</li> <li>A rough description of changes necessary</li> <li>Any third-party libraries or other resources which would be involved</li> </ul> </li> </ul> <ul> <li>Please avoid prepending any sort of tag (e.g. \u201c[Feature]\u201d) to the issue title. The issue will be reviewed by a moderator after submission and the appropriate labels will be applied for categorization.</li> </ul>"},{"location":"docs/contributing.html#using-the-issue-tracker","title":"Using the issue tracker","text":"<p>The issue tracker is the preferred channel for bug reports, features requests and submitting pull requests, but please respect the following restrictions:</p> <ul> <li>Please do not use the issue tracker for personal support requests.</li> </ul> <ul> <li>Please do not derail or troll issues. Keep the discussion on topic and   respect the opinions of others.</li> </ul>"},{"location":"docs/contributing.html#branches","title":"Branches","text":"<ul> <li>Current development branch: <code>devel</code></li> <li>Branch namespace for release &amp; development: <code>releases/&lt;release_id&gt;</code></li> </ul>"},{"location":"docs/contributing.html#pull-requests","title":"Pull requests","text":"<ul> <li>Be sure to open an issue before starting work on a pull request, and discuss your idea with the ansible-avd maintainers before beginning work. This will help prevent wasting time on something that might we might not be able to implement. When suggesting a new feature, also make sure it won\u2019t conflict with any work that\u2019s already in progress.</li> </ul> <ul> <li>Any pull request which does not relate to an accepted issue will be closed.</li> </ul> <ul> <li>All major new functionality must include relevant tests where applicable.</li> </ul> <ul> <li>When submitting a pull request, please be sure to work off of the <code>devel</code> branch, rather than <code>master</code> (deprecated). The <code>devel</code> branch is used for ongoing development, while <code>releases/*</code> are used for tagging new stable releases.</li> </ul> <ul> <li> <p>All code submissions should meet the following criteria (CI will enforce these checks):</p> <ul> <li>YAML syntax is valid</li> <li>Python syntax is valid</li> <li>All tests pass when run with <code>make sanity</code></li> <li>PEP 8 compliance is enforced, with the exception that lines may be     greater than 80 characters in length</li> </ul> </li> </ul> <p>Adhering to the following this process is the best way to get your work merged:</p> <ul> <li> <p>Fork the repo, clone your fork,    and configure the remotes:</p> <pre><code># Clone your fork of the repo into the current directory\ngit clone https://github.com/&lt;your-username&gt;/ansible-avd\n\n# Navigate to the newly cloned directory\ncd ansible-avd\n\n# Assign the original repo to a remote called \"upstream\"\ngit remote add upstream https://github.com/aristanetworks/ansible-avd.git\n</code></pre> </li> </ul> <ul> <li> <p>If you cloned a while ago, get the latest changes from upstream:</p> <pre><code>git checkout &lt;dev-branch&gt;\ngit pull upstream &lt;dev-branch&gt;\n</code></pre> </li> </ul> <ul> <li> <p>Create a new topic branch (off the main project development branch) to    contain your feature, change, or fix:</p> <pre><code>git checkout -b &lt;topic-branch-name&gt;\n</code></pre> </li> </ul> <ul> <li>Commit your changes in logical chunks. Please adhere to these git commit    message guidelines    or your code is unlikely be merged into the main project. Use Git\u2019s    git rebase    feature to tidy up your commits before making them public.</li> </ul> <ul> <li> <p>Locally merge (or rebase) the upstream development branch into your topic branch:</p> <pre><code>git pull [--rebase] upstream &lt;dev-branch&gt;\n</code></pre> </li> </ul> <ul> <li> <p>Push your topic branch up to your fork:</p> <pre><code>git push origin &lt;topic-branch-name&gt;\n</code></pre> </li> </ul> <ul> <li>Open a Pull Request     with a clear title and description.</li> </ul>"},{"location":"docs/getting-started.html","title":"Getting Started","text":""},{"location":"docs/getting-started.html#install-tools","title":"Install tools","text":"<pre><code># Install AVD environment\n$ sh -c \"$(curl -fsSL https://get.avd.sh)\"\n# Move to AVD directory\n$ cd arista-ansible\n\n# Spin up container for easy access\n$ make start\n</code></pre> <p>Note: Docker &amp; docker-compose must be installed on your laptop</p> <p>A demo repository is also cloned on your laptop and you can leverage this one as part of your AVD journey. If you prefer to use your own project, follow next section.</p>"},{"location":"docs/getting-started.html#create-your-personal-folder","title":"Create your personal folder","text":"<pre><code>$ mkdir avd-project\n\n$ cd avd-project\n\n$ echo \"[defaults]\nhost_key_checking = False\ninventory = inventory/inventory.yml\ngathering = explicit\nretry_files_enabled = False\n# filter_plugins = ansible-avd/plugins/filters\n# roles_path = ansible-avd/roles\n# library = ansible-avd/library\ncollections_paths = ../ansible-cvp:../ansible-avd:~/.ansible/collections:/usr/share/ansible/collections\n# action_plugins = /usr/lib/python2.7/site-packages/napalm_ansible/plugins/action\njinja2_extensions =  jinja2.ext.loopcontrols,jinja2.ext.do,jinja2.ext.i18n\n# enable the YAML callback plugin.\nstdout_callback = yaml\n# enable the stdout_callback when running ad-hoc commands.\nbin_ansible_callbacks = True\ncommand_warnings=False\n[persistent_connection]\nconnect_timeout = 120\ncommand_timeout = 120\" &gt; ${PWD}/ansible.cfg\n\n$ mkdir group_vars/\n$ mkdir host_vars/\n$ mkdir roles/\n$ mkdir inventory\n</code></pre>"},{"location":"docs/getting-started.html#describe-fabric","title":"Describe fabric","text":"<p>Please refer to <code>eos_designs</code> documentation</p>"},{"location":"docs/getting-started.html#example-playbooks","title":"Example Playbooks","text":""},{"location":"docs/getting-started.html#an-example-playbook-to-deploy-vxlanevpn-fabric-via-cloudvision","title":"An example playbook to deploy VXLAN/EVPN Fabric via CloudVision","text":"<pre><code>- hosts: DC1_FABRIC\n\n  tasks:\n\n    - name: Generate intended variables\n      ansible.builtin.import_role:\n         name: arista.avd.eos_designs\n\n    - name: Generate device intended config and documentation\n      ansible.builtin.import_role:\n         name: arista.avd.eos_cli_config_gen\n\n    - name: Deploy configuration via CVP\n      ansible.builtin.import_role:\n         name: arista.avd.eos_config_deploy_cvp\n</code></pre>"},{"location":"docs/getting-started.html#an-example-playbook-to-deploy-vxlanevpn-fabric-via-eapi","title":"An example playbook to deploy VXLAN/EVPN Fabric via eAPI","text":"<pre><code>- hosts: DC1_FABRIC\n\n  tasks:\n\n    - name: Generate intended variables\n      ansible.builtin.import_role:\n         name: arista.avd.eos_designs\n\n    - name: Generate device intended config and documentation\n      ansible.builtin.import_role:\n         name: arista.avd.eos_cli_config_gen\n\n    - name: Deploy configuration to device\n      ansible.builtin.import_role:\n         name: arista.avd.eos_config_deploy_eapi\n</code></pre> <p>Note</p> <ul> <li>For complete and detailed lab description, you can refer to this how-to document.</li> </ul>"},{"location":"docs/input-variable-validation-BETA.html","title":"Validation of Input Variables (BETA)","text":"<p>Beta</p> <ul> <li>The Type Conversion and Validation task is currently only enabled by default on <code>eos_cli_config_gen</code>. Run with <code>--tags validate</code> to test validation on <code>eos_designs</code>.</li> <li>Schemas for all input data models are still under development</li> <li>Some schema validations are not implemented yet.</li> </ul> <p><code>eos_designs</code> and <code>eos_cli_config_gen</code> support a wide range of input variables described under the role documentation sections.</p> <p>Internally the supported data models are described in a proprietary \u201cAVD Schema\u201d format, which is used to perform validation of the input variables at run-time. The same schema is also used to generate the role documentation describing the supported data models.</p> <p>For details on the schema format see the Schema Details section below.</p>"},{"location":"docs/input-variable-validation-BETA.html#automatic-type-conversion","title":"Automatic Type Conversion","text":"<p>The validation of input variables is performed in most AVD Action Plugins. The validation also supports automatic conversion of variable types, if configured in the schema. The supported types that can be converted from depends on the type to be converted to. The current implementation supports the automatic conversions listed below.</p> From (<code>convert_types</code>) To (<code>type</code>) <code>bool</code>, <code>str</code> <code>int</code> <code>int</code>, <code>str</code> <code>bool</code> <code>bool</code>, <code>int</code> <code>str</code> <code>dict</code>, <code>list</code>* <code>list</code> <p>* If <code>primary_key</code> is set on the <code>list</code> schema, conversion from <code>dict</code>-of-<code>dicts</code> to <code>list</code>-of-<code>dicts</code> will insert the <code>primary_key</code> with the value of the outer dictionary key in each <code>dict</code>. If <code>primary_key</code> is not set on the <code>list</code> schema, only the input <code>dict</code> keys are returned as <code>list</code> items (any input <code>dict</code> values are lost). ** If <code>primary_key</code> is set on the <code>list</code> schema, conversion from <code>list</code> to <code>list</code>-of-<code>dicts</code> will insert the <code>primary_key</code> with the value of the input <code>list</code> items in each <code>dict</code>.</p> <p>An example of input variable conversion is <code>bgp_as</code>. <code>bgp_as</code> is expected as a string (<code>str</code>) since 32-bit AS numbers can be written with dot-notation such as <code>\"65001.10000\"</code>. Most deployments use 16-bit AS numbers, where the setting <code>bgp_as: 65001</code> will be interpreted as an integer in YAML, unless it is enclosed in quotes <code>bgp_as: \"65001\"</code>. In the schema for <code>bgp_as</code> the <code>convert_types</code> option is configured to <code>['int']</code> which means AVD Action Plugins will automatically convert <code>bgp_as: 65001</code> to <code>bgp_as: \"65001\"</code>.</p> <p>Type conversion is also used for introducing changes to the data models without affecting existing deployments. For example, in AVD 4.0, the data models using \u201cDictionaries with wildcard keys\u201d will be changed to lists. Ex. the old data model:</p> <pre><code>tenants:\nmytenant:\nvrfs:\nmyvrf:\n...\n</code></pre> <p>will be changed to:</p> <pre><code>tenants:\n- name: mytenant\nvrfs:\n- name: myvrf\n...\n</code></pre> <p>The input data will be converted automatically and validated according to the new model to allow for a gracious introduction of this data-model changes in late 3.x versions.</p> <p>Type conversion is turned on by default.</p> <p>Caution</p> <p>Although conversion can be disabled, this is not recommended, and will most likely lead to issues with AVD or the generated configuration. Data conversion also handles data deprecation and upgrades.</p>"},{"location":"docs/input-variable-validation-BETA.html#validation-options","title":"Validation Options","text":"<p>Schema validation is built in to the central Action plugins used in AVD. Each plugin runs variable type conversion first and then performs validation of the converted data.</p> <p>By default the data conversions are logged with <code>-v</code> and data validation issues will trigger warnings - not blocking further processing. This behavior can be adjusted by setting the variables described below.</p> <pre><code># Conversion Mode for AVD input data conversion | Optional\n# During conversion, messages will generated with information about the host(s) and key(s) which required conversion.\n# \"disabled\" means that conversion will not run - avoid this since conversion is also handling data deprecation and upgrade.\n# \"error\" will produce error messages and fail the task.\n# \"warning\" will produce warning messages.\n# \"info\" will produce regular log messages.\n# \"debug\" will produce hidden debug messages viewable with -v.\n# \"quiet\" will not produce any messages\navd_data_conversion_mode: &lt; \"disabled\" | \"error\" | \"warning\" | \"info\" | \"debug\" | \"quiet\" | default -&gt; \"debug\" &gt;\n# Validation Mode for AVD input data validation | Optional\n# During validation, messages will generated with information about the host(s) and key(s) which failed validation.\n# \"disabled\" means that validation will not run.\n# \"error\" will produce error messages and fail the task.\n# \"warning\" will produce warning messages.\n# \"info\" will produce regular log messages.\n# \"debug\" will produce hidden debug messages viewable with -v.\navd_data_validation_mode: &lt; \"disabled\" | \"error\" | \"warning\" | \"info\" | \"debug\" | default -&gt; \"warning\" &gt;\n</code></pre>"},{"location":"docs/input-variable-validation-BETA.html#schema-details","title":"Schema Details","text":"<p>The AVD Schema format is a proprietary schema inspired by JSON Schema, Ansible Argument Specification and Arista CloudVision Studios formats.</p> <p>The AVD Schema has unique features which are not supported or possible with any of the mentioned schema formats. Schema converters can be developed as needed.</p> <p>Here is an example of a schema fragment for <code>bgp_as</code>:</p> <pre><code>type: dict\nallow_other_keys: true\nkeys:\nbgp_as:\ndisplay_name: BGP AS\ndescription: AS number to use to configure overlay when \"overlay_routing_protocol\" == IBGP\ntype: str\nconvert_types:\n- int\n</code></pre> <p>This fragment will be merged with other fragments during development, to form the complete role schema.</p> <p>For reference, the full Role Schemas can be found here:</p> <ul> <li><code>eos_designs</code> AVD Schema, not ready yet</li> <li><code>eos_cli_config_gen</code> AVD Schema</li> </ul> <p>The supported schema options depend on the type of variable that is described. The supported types are <code>int</code>, <code>bool</code>, <code>str</code>, <code>dict</code> and <code>list</code>. The schema does not support mixed types for the same variable, but the automatic type conversion mentioned above can address the usability aspect by helping the user with common mistakes.</p> <p>The supported schema options for AVD Schema are described in a meta-schema using JSON Schema Draft-7 format. The meta-schema can be seen here. In addition, below is a more detailed description of the supported schema options per variable type.</p> <p>All schema options (ex. <code>type</code>, <code>max</code>, <code>valid_values</code>) are validated individually, and to pass the validation, the data must conform to all the rules given by the schema options. This means that the validator may report multiple errors about the same piece of data if it violates more than on rule. This also means that a poorly written schema could have conflicting schema options, which may not allow any value. For example <code>type: str</code> schema with <code>min_length: 10</code> and <code>max_length: 5</code> would never be satisfied.</p>"},{"location":"docs/input-variable-validation-BETA.html#schema-options-for-type-int-integer","title":"Schema Options for type <code>int</code> (Integer)","text":"Key Type Required Default Value Restrictions Description type String True Valid Values:- <code>\"int\"</code> Type of variable using the Python short names for each type.<code>int</code> for Integer convert_types List, items: String List of types to auto-convert from.For type <code>int</code>, auto-conversion is supported from <code>bool</code> and <code>str</code> \u00a0\u00a0- \\&lt;str&gt; String Valid Values:- <code>\"bool\"</code>- <code>\"str\"</code> default Integer Default value max Integer Maximum value min Integer Minimum value valid_values List, items: Integer List of valid values \u00a0\u00a0- \\&lt;int&gt; Integer dynamic_valid_values String Path to variable under the parent dictionary containing valid values.Variable path use dot-notation and variable path must be relative to the parent dictionary.If an element of the variable path is a list, every list item will unpacked.Note that this is building the schema from values in the data being validated! display_name String Regex Pattern: <code>\"^[^\\n]+$\"</code> Free text display name for forms and documentation (single line) description String Minimum Length: 1 Free text description for forms and documentation (multi line) required Boolean Set if variable is required deprecation Dictionary Deprecation Settings \u00a0\u00a0warning Boolean True True Emit deprecation warning if key is set \u00a0\u00a0new_key String Relative path to new key \u00a0\u00a0remove_in_version String Version in which the key will be removed \u00a0\u00a0remove_after_date String Date after which the key will be removed $ref String Reference to Sub Schema using JSON Schema resolverExample \u2018#/keys/mykey\u2019 will resolve the schema for \u2018mykey\u2019 under the root dictionary of the current schema documentation_options Dictionary Special options used for generating documentation \u00a0\u00a0filename String \u201cInput Variables\u201d Setting \u2018filename\u2019 will allow for custom grouping of schema tables in the documentation.By default all tables will be part of the same \u2018default.md\u2019 file. By setting \u2018filename\u2019 the tables for one or more keys can be moved to separate file.If \u2018filename\u2019 is set on a parent key, all child keys will be included in the same file.It is not possible to override \u2018filename\u2019 on a child key, if set on the parent. \u00a0\u00a0table String Setting \u2018table\u2019 will allow for custom grouping of schema fields in the documentation.By default each root key has it\u2019s own table. By setting the same table-value on multiple keys, they will be merged to a single table.If \u2018table\u2019 is set on a \u2018child\u2019 key, all parent keys are automatically included in the table.If \u2018table\u2019 is set on a parent key, all child keys will be included in the same table.It is not possible to override \u2018table\u2019 on a child key, if set on the parent. <p>The meta-schema does not allow for other keys to be set in the schema.</p>"},{"location":"docs/input-variable-validation-BETA.html#schema-options-for-type-bool-boolean","title":"Schema Options for type <code>bool</code> (Boolean)","text":"Key Type Required Default Value Restrictions Description type String True Valid Values:- <code>\"bool\"</code> Type of variable using the Python short names for each type.<code>bool</code> for Boolean convert_types List, items: String List of types to auto-convert from.For type <code>bool</code>, auto-conversion is supported from <code>int</code> and <code>str</code> \u00a0\u00a0- \\&lt;str&gt; String Valid Values:- <code>\"int\"</code>- <code>\"str\"</code> default Boolean Default value valid_values List, items: Boolean List of valid values \u00a0\u00a0- \\&lt;int&gt; Boolean dynamic_valid_values String Path to variable under the parent dictionary containing valid values.Variable path use dot-notation and variable path must be relative to the parent dictionary.If an element of the variable path is a list, every list item will unpacked.Note that this is building the schema from values in the data being validated! display_name String Regex Pattern: <code>\"^[^\\n]+$\"</code> Free text display name for forms and documentation (single line) description String Minimum Length: 1 Free text description for forms and documentation (multi line) required Boolean Set if variable is required deprecation Dictionary Deprecation Settings \u00a0\u00a0warning Boolean True True Emit deprecation warning if key is set \u00a0\u00a0new_key String Relative path to new key \u00a0\u00a0remove_in_version String Version in which the key will be removed \u00a0\u00a0remove_after_date String Date after which the key will be removed $ref String Reference to Sub Schema using JSON Schema resolverExample \u2018#/keys/mykey\u2019 will resolve the schema for \u2018mykey\u2019 under the root dictionary of the current schema documentation_options Dictionary Special options used for generating documentation \u00a0\u00a0filename String \u201cInput Variables\u201d Setting \u2018filename\u2019 will allow for custom grouping of schema tables in the documentation.By default all tables will be part of the same \u2018default.md\u2019 file. By setting \u2018filename\u2019 the tables for one or more keys can be moved to separate file.If \u2018filename\u2019 is set on a parent key, all child keys will be included in the same file.It is not possible to override \u2018filename\u2019 on a child key, if set on the parent. \u00a0\u00a0table String Setting \u2018table\u2019 will allow for custom grouping of schema fields in the documentation.By default each root key has it\u2019s own table. By setting the same table-value on multiple keys, they will be merged to a single table.If \u2018table\u2019 is set on a \u2018child\u2019 key, all parent keys are automatically included in the table.If \u2018table\u2019 is set on a parent key, all child keys will be included in the same table.It is not possible to override \u2018table\u2019 on a child key, if set on the parent. <p>The meta-schema does not allow for other keys to be set in the schema.</p>"},{"location":"docs/input-variable-validation-BETA.html#schema-options-for-type-str-string","title":"Schema Options for type <code>str</code> (String)","text":"Key Type Required Default Value Restrictions Description type String True Valid Values:- <code>\"str\"</code> Type of variable using the Python short names for each type.<code>str</code> for String convert_to_lower_case Boolean False Convert string value to lower case before performing validation convert_types List, items: String List of types to auto-convert from.For type <code>str</code>, auto-conversion is supported from <code>bool</code> and <code>int</code> default String Default value \u00a0\u00a0- \\&lt;str&gt; String Valid Values:- <code>\"bool\"</code>- <code>\"int\"</code> format String Valid Values:- <code>\"ipv4\"</code>- <code>\"ipv4_cidr\"</code>- <code>\"ipv6\"</code>- <code>\"ipv6_cidr\"</code>- <code>\"ip\"</code>- <code>\"cidr\"</code>- <code>\"mac\"</code> Expected format of the string value.<code>ipv4</code> accepts a single IPv4 address (<code>x.x.x.x</code>)<code>ipv4_cidr</code> accepts an IPv4 CIDR (<code>x.x.x.x/x</code>)<code>ipv6</code> accepts a single IPv6 address (<code>x:x::x:x</code>)<code>ipv6_cidr</code> accepts an IPv6 CIDR (<code>x:x::x:x/x</code>)<code>ip</code> accepts a single IPv4 or IPv6 address<code>cidr</code> accepts an IPv4 or IPv6 CIDR<code>mac</code> accepts a MAC address (<code>xx:xx:xx:xx:xx:xx</code>) max_length Integer Maximum length min_length Integer Minimum length pattern String Format: Regex A regular expression which will be matched on the variable value.The regular expression should follow the syntax of JSON Schema Regular ExpressionsRemember to use double escapes valid_values List, items: String List of valid values \u00a0\u00a0- \\&lt;str&gt; String dynamic_valid_values String Path to variable under the parent dictionary containing valid values.Variable path use dot-notation and variable path must be relative to the parent dictionary.If an element of the variable path is a list, every list item will unpacked.Note that this is building the schema from values in the data being validated! display_name String Regex Pattern: <code>\"^[^\\n]+$\"</code> Free text display name for forms and documentation (single line) description String Minimum Length: 1 Free text description for forms and documentation (multi line) required Boolean Set if variable is required deprecation Dictionary Deprecation Settings \u00a0\u00a0warning Boolean True True Emit deprecation warning if key is set \u00a0\u00a0new_key String Relative path to new key \u00a0\u00a0remove_in_version String Version in which the key will be removed \u00a0\u00a0remove_after_date String Date after which the key will be removed $ref String Reference to Sub Schema using JSON Schema resolverExample \u2018#/keys/mykey\u2019 will resolve the schema for \u2018mykey\u2019 under the root dictionary of the current schema documentation_options Dictionary Special options used for generating documentation \u00a0\u00a0filename String \u201cInput Variables\u201d Setting \u2018filename\u2019 will allow for custom grouping of schema tables in the documentation.By default all tables will be part of the same \u2018default.md\u2019 file. By setting \u2018filename\u2019 the tables for one or more keys can be moved to separate file.If \u2018filename\u2019 is set on a parent key, all child keys will be included in the same file.It is not possible to override \u2018filename\u2019 on a child key, if set on the parent. \u00a0\u00a0table String Setting \u2018table\u2019 will allow for custom grouping of schema fields in the documentation.By default each root key has it\u2019s own table. By setting the same table-value on multiple keys, they will be merged to a single table.If \u2018table\u2019 is set on a \u2018child\u2019 key, all parent keys are automatically included in the table.If \u2018table\u2019 is set on a parent key, all child keys will be included in the same table.It is not possible to override \u2018table\u2019 on a child key, if set on the parent. <p>The meta-schema does not allow for other keys to be set in the schema.</p>"},{"location":"docs/input-variable-validation-BETA.html#schema-options-for-type-list-list","title":"Schema Options for type <code>list</code> (List)","text":"Key Type Required Default Value Restrictions Description type String True Valid Values:- <code>\"list\"</code> Type of variable using the Python short names for each type.<code>list</code> for List convert_types List, items: String List of types to auto-convert from.For <code>list</code> auto-conversion is supported from <code>dict</code> if <code>primary_key</code> is set on the list schema default List Default value items Dict Dictionary describing the schema of each list item. This is a recursive schema, so the value must conform to AVD Schema max_length Integer Maximum length min_length Integer Minimum length primary_key String Pattern: <code>^[a-z][a-z0-9_]*$</code> Name of a primary key in a list of dictionaries.The configured key is implicitly required and must have unique values between the list elements secondary_key String Pattern: <code>^[a-z][a-z0-9_]*$</code> Name of a secondary key, which is used with <code>convert_types:['dict']</code> in case of values not being dictionaries display_name String Regex Pattern: <code>\"^[^\\n]+$\"</code> Free text display name for forms and documentation (single line) description String Minimum Length: 1 Free text description for forms and documentation (multi line) required Boolean Set if variable is required deprecation Dictionary Deprecation Settings \u00a0\u00a0warning Boolean True True Emit deprecation warning if key is set \u00a0\u00a0new_key String Relative path to new key \u00a0\u00a0remove_in_version String Version in which the key will be removed \u00a0\u00a0remove_after_date String Date after which the key will be removed $ref String Reference to Sub Schema using JSON Schema resolverExample \u2018#/keys/mykey\u2019 will resolve the schema for \u2018mykey\u2019 under the root dictionary of the current schema documentation_options Dictionary Special options used for generating documentation \u00a0\u00a0filename String \u201cInput Variables\u201d Setting \u2018filename\u2019 will allow for custom grouping of schema tables in the documentation.By default all tables will be part of the same \u2018default.md\u2019 file. By setting \u2018filename\u2019 the tables for one or more keys can be moved to separate file.If \u2018filename\u2019 is set on a parent key, all child keys will be included in the same file.It is not possible to override \u2018filename\u2019 on a child key, if set on the parent. \u00a0\u00a0table String Setting \u2018table\u2019 will allow for custom grouping of schema fields in the documentation.By default each root key has it\u2019s own table. By setting the same table-value on multiple keys, they will be merged to a single table.If \u2018table\u2019 is set on a \u2018child\u2019 key, all parent keys are automatically included in the table.If \u2018table\u2019 is set on a parent key, all child keys will be included in the same table.It is not possible to override \u2018table\u2019 on a child key, if set on the parent. <p>The meta-schema does not allow for other keys to be set in the schema.</p>"},{"location":"docs/input-variable-validation-BETA.html#schema-options-for-type-dict-dictionary","title":"Schema Options for type <code>dict</code> (Dictionary)","text":"Key Type Required Default Value Restrictions Description type String True Valid Values:- <code>\"dict\"</code> Type of variable using the Python short names for each type.<code>dict</code> for Dictionary default Dict Default value keys Dictionary Key Pattern: <code>^[a-z][a-z0-9_]*$</code> Dictionary of dictionary-keys in the format <code>{&lt;keyname&gt;: {&lt;schema&gt;}}</code>.<code>keyname</code> must use snake_case.<code>schema</code> is the schema for each key. This is a recursive schema, so the value must conform to AVD Schema dynamic_keys Dictionary Pattern: <code>^[a-z][a-z0-9_]*$</code> Dictionary of dynamic dictionary-keys in the format <code>{&lt;variable.path&gt;: {&lt;schema&gt;}}</code>.<code>variable.path</code> is a variable path using dot-notation and pointing to a variable under the parent dictionary containing dictionary-keys.If an element of the variable path is a list, every list item will unpacked.<code>schema</code> is the schema for each key. This is a recursive schema, so the value must conform to AVD SchemaNote that this is building the schema from values in the data being validated! allow_other_keys Boolean False Allow keys in the dictionary which are not defined in the schema. Custom keys starting with an underscore, like <code>_mycustomkey</code> are exempt from this validation display_name String Regex Pattern: <code>\"^[^\\n]+$\"</code> Free text display name for forms and documentation (single line) description String Minimum Length: 1 Free text description for forms and documentation (multi line) required Boolean Set if variable is required deprecation Dictionary Deprecation Settings \u00a0\u00a0warning Boolean True True Emit deprecation warning if key is set \u00a0\u00a0new_key String Relative path to new key \u00a0\u00a0remove_in_version String Version in which the key will be removed \u00a0\u00a0remove_after_date String Date after which the key will be removed $ref String Reference to Sub Schema using JSON Schema resolverAllows for easy reuse of schema definitions.Example \u2018#/keys/mykey\u2019 will resolve the schema for \u2018mykey\u2019 under the root dictionary of the current schema documentation_options Dictionary Special options used for generating documentation \u00a0\u00a0filename String \u201cInput Variables\u201d Setting \u2018filename\u2019 will allow for custom grouping of schema tables in the documentation.By default all tables will be part of the same \u2018default.md\u2019 file. By setting \u2018filename\u2019 the tables for one or more keys can be moved to separate file.If \u2018filename\u2019 is set on a parent key, all child keys will be included in the same file.It is not possible to override \u2018filename\u2019 on a child key, if set on the parent. \u00a0\u00a0table String Setting \u2018table\u2019 will allow for custom grouping of schema fields in the documentation.By default each root key has it\u2019s own table. By setting the same table-value on multiple keys, they will be merged to a single table.If \u2018table\u2019 is set on a \u2018child\u2019 key, all parent keys are automatically included in the table.If \u2018table\u2019 is set on a parent key, all child keys will be included in the same table.It is not possible to override \u2018table\u2019 on a child key, if set on the parent. <p>The meta-schema does not allow for other keys to be set in the schema.</p>"},{"location":"docs/contribution/development.html","title":"Development Tips &amp; Tricks","text":""},{"location":"docs/contribution/development.html#overview","title":"Overview","text":"<p>Two methods can be used to get Ansible up and running quickly with all the requirements to leverage ansible-avd: a Python Virtual Environment or a Docker container.</p> <p>The best way to use the development files is to copy them to the root directory where you have your repositories cloned. For example, see the file/folder structure below.</p> <pre><code>\u251c\u2500\u2500 git_projects\n\u2502   \u251c\u2500\u2500 ansible-avd\n\u2502   \u251c\u2500\u2500 ansible-cvp\n\u2502   \u251c\u2500\u2500 netdevops-examples\n|   \u251c\u2500\u2500 &lt;YOUR OWN TESTING REPOSITORY&gt;\n\u2502   \u251c\u2500\u2500 Makefile\n</code></pre>"},{"location":"docs/contribution/development.html#build-local-environment","title":"Build local environment","text":"<p>Please refer to Setup environment page</p> <p>Once installed, use <code>dev-start</code> command to bring up all the required containers:</p> <ul> <li>An mkdoc for AVD documentation listening on port <code>localhost:8000</code></li> <li>An mkdoc or CVP documentation listening on port <code>localhost:8001</code></li> <li>An AVD runner with a pseudo terminal connected to shell for Ansible execution</li> </ul>"},{"location":"docs/contribution/development.html#docker-tips","title":"Docker tips","text":"<p>The Docker container approach for development can be used to ensure that everybody is using the same development environment while still being flexible enough to use the repository you are making changes to. You can inspect the Dockerfile to see what packages have been installed. The container will mount the current working directory so that you can work with your local files.</p> <p>The Ansible version is passed in with the Docker build command using the <code>ANSIBLE_VERSION</code> variable. If the variable isn\u2019t defined, the Dockerfile will, by default, set the Ansible version to what\u2019s specified in the AVD requirements.</p> <p>Before you can use a container, you must install Docker CE and docker-compose on your workstation.</p> <p>Since the AVD Docker image is now automatically published on docker-hub, a dedicated repository is available on Arista NetDevOps Community.</p> <pre><code># Start development stack\n$ make start\ndocker-compose -f ansible-avd/development/docker-compose.yml up -d\nRecreating development_ansible_1    ... done\nRecreating development_webdoc_cvp_1 ... done\nRecreating development_webdoc_avd_1 ... done\n# List containers started with stack\n$ docker-compose -f ansible-avd/development/docker-compose.yml ps\n        Name                       Command               State           Ports\n-----------------------------------------------------------------------------\nansible_avd   /bin/sh -c while true; do  ...   Up\nwebdoc_avd    sh -c pip install -r ansib ...   Up      0.0.0.0:8000-&gt;8000/tcp\nwebdoc_cvp    sh -c pip install -r ansib ...   Up      0.0.0.0:8001-&gt;8000/tcp\n\n# Get a shell with ansible (if not in shell from previous command)\n$ make dev-run\ndocker-compose -f ansible-avd/development/docker-compose.yml exec ansible zsh\nAgent pid 52\n\u279c  /projects\n\n# Test MKDOCS access (outside of development container)\n$ curl -s http://127.0.0.1:8000 | head -n 10\n&lt;!doctype html&gt;\n&lt;html lang=\"en\" class=\"no-js\"&gt;\n  &lt;head&gt;\n\n&lt;meta charset=\"utf-8\"&gt;\n      &lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"&gt;\n\n# Stop development stack\n$ make dev-stop\ndocker-compose -f ansible-avd/development/docker-compose.yml kill &amp;&amp;\\\ndocker-compose -f ansible-avd/development/docker-compose.yml rm -f\nKilling development_ansible_1 ... done\nKilling development_webdoc_1  ... done\nGoing to remove development_ansible_1, development_webdoc_1\nRemoving development_ansible_1 ... done\nRemoving development_webdoc_1  ... done\n</code></pre>"},{"location":"docs/contribution/development.html#development-tools","title":"Development tools","text":""},{"location":"docs/contribution/development.html#pre-commit-hook","title":"Pre-commit hook","text":"<p>pre-commit can run standard hooks on every commit to automatically point out issues in code such as missing semicolons, trailing whitespace, and debug statements. Pointing these issues out before code review allows a code reviewer to focus on the architecture of a change while not wasting time with trivial style nitpicks.</p> <p>Repository implements following hooks:</p> <ul> <li><code>trailing-whitespace</code>: Fix trailing whitespace. If found, commit is stopped, and you must rerun the commit process.</li> <li><code>end-of-file-fixer</code>: Like <code>trailing-whitespace</code>, this hook fixes the wrong end of the file and stops your commit.</li> <li><code>check-yaml</code>: Checks that all YAML files are valid.</li> <li><code>check-added-large-files</code>: Check if there is no large file included in the repository.</li> <li><code>check-merge-conflict</code>: Validate there is no <code>MERGE</code> syntax related to an invalid merge process.</li> <li><code>pylint</code>: Run python linting with settings defined in pylintrc.</li> <li><code>yamllint</code>: Validate all YAML files using configuration from yamllintrc.</li> <li><code>ansible-lint</code>: Validate YAML files with Ansible proven practices, patters, and behaviors.</li> <li><code>Flake8</code>: Style guide enforcement for Python code base.</li> <li><code>markdownlint-cli</code>: Validates markdown files for common errors as referenced here.</li> </ul>"},{"location":"docs/contribution/development.html#installation","title":"Installation","text":"<p><code>pre-commit</code> is part of development requirements. To install, run <code>pip command</code> in ansible-avd folder:</p> <pre><code>$ pip install -r development/requirements-dev.txt\n...\n</code></pre>"},{"location":"docs/contribution/development.html#run-pre-commit-manually","title":"Run pre-commit manually","text":"<p>To run <code>pre-commit</code> manually before your commit, use this command:</p> <pre><code>pre-commit run\n[WARNING] Unstaged files detected.\n\n[INFO] Stashing unstaged files to /Users/xxx/.cache/pre-commit/patch1590742434.\n\nTrim Trailing Whitespace.............................(no files to check)Skipped\nFix End of Files.....................................(no files to check)Skipped\nCheck Yaml...........................................(no files to check)Skipped\nCheck for added large files..........................(no files to check)Skipped\nCheck for merge conflicts............................(no files to check)Skipped\nCheck for Linting error on Python files..............(no files to check)Skipped\nCheck for Linting error on YAML files................(no files to check)Skipped\nCheck for ansible-lint errors............................................Passed\n\n[INFO] Restored changes from /Users/xxx/.cache/pre-commit/patch1590742434.\n</code></pre> <p>Command will automatically detect changed files using <code>git status</code> and run tests according their type.</p> <p>Note</p> <p>This process is also implemented in project CI to ensure code quality and compliance with Ansible development process.</p>"},{"location":"docs/contribution/development.html#configure-git-hook","title":"Configure Git hook","text":"<p>To automatically run tests when running a commit, configure your repository with the following command:</p> <pre><code>$ pre-commit install\npre-commit installed at .git/hooks/pre-commit\n</code></pre> <p>To remove installation, use <code>uninstall</code> option.</p>"},{"location":"docs/contribution/development.html#check-404-links","title":"Check 404 links","text":"<p>To validate documentation, you should check for not found links in your local version of the documentation. This test requires to run mkdocs container as explained in installation documentation.</p> <p>In a shell, run the following make command. It starts a container in the AVD documentation network and leverages <code>muffet</code> tool to check for any 404 HTTP codes:</p> <pre><code>$ check-avd-404\ndocker run --network container:webdoc_avd raviqqe/muffet \\\nhttp://127.0.0.1:8000 \\\n-e \".*fonts.gstatic.com.*\" \\\n-e \".*edit.*\" \\\n-f --limit-redirections=3 \\\n--timeout=60\nhttp://127.0.0.1:8000/docs/installation/development/\n        404     http://127.0.0.1:8000/docs/installation/development/setup-environment2.md\nmake: *** [check-avd-404] Error 1\n</code></pre> <p>This process is also implemented in project CI to protect documentation against dead links.</p>"},{"location":"docs/contribution/eos_designs_internal_notes.html","title":"EOS Designs internal notes","text":"<p>Warning</p> <p>Anything mentioned here is subject to change without notice. Use of <code>avd_switch_facts</code> or <code>switch.*</code> facts in custom templates is not supported and should be avoided.</p>"},{"location":"docs/contribution/eos_designs_internal_notes.html#overview","title":"Overview","text":"<pre><code>flowchart TD\n  subgraph role[arista.avd.eos_designs role]\n    eos_designs_facts[[arista.avd.eos_designs_facts action plugin]] --&gt;\n    SetSwitchFacts(Set switch.* Facts) --&gt;\n    yaml_templates_to_facts[[arista.avd.yaml_templates_to_facts action plugin]]--&gt;\n    RemoveAvdSwitchFacts(Remove AvdSwitchFacts)\n  end</code></pre>"},{"location":"docs/contribution/eos_designs_internal_notes.html#ansible-action-plugins","title":"Ansible Action Plugins","text":""},{"location":"docs/contribution/eos_designs_internal_notes.html#aristaavdeos_designs_facts","title":"<code>arista.avd.eos_designs_facts</code>","text":"<p>The <code>arista.avd.eos_designs_facts</code> module is an Ansible Action Plugin providing the following capabilities:</p> <ul> <li>Set <code>avd_switch_facts</code> fact containing <code>switch</code> facts per switch.</li> <li>Set <code>avd_topology_peers</code> fact containing a list of downlink switches per host. This list is built based on the <code>uplink_switches</code> from all other hosts.</li> <li>Set <code>avd_evpn_overlay_peers</code> fact containing a list of EVPN overlay peers per host. This list is built based on the <code>evpn_route_servers</code> and <code>mpls_route_reflectors</code> from all other hosts.</li> <li>Set <code>avd_evpn_overlay_peers</code> fact containing a list of EVPN or MPLS overlay peers per host. This list is built based on the <code>evpn_route_servers</code> and <code>mpls_route_reflectors</code> from all other hosts.</li> </ul> <p>The plugin is designed to <code>run_once</code>. With this, Ansible will set the same facts on all devices, so all devices can lookup values of any other device without using the slower <code>hostvars</code>.</p> <p>The facts can also be copied to the \u201croot\u201d <code>switch</code> variable in a task run per device (see example below).</p> <p>The module is used in <code>arista.avd.eos_designs</code> to set facts for devices, which are then used by Python modules loaded in <code>arista.avd.yaml_templates_to_facts</code> to generate the <code>structured_configuration</code>.</p>"},{"location":"docs/contribution/eos_designs_internal_notes.html#arguments","title":"Arguments","text":"<pre><code>  schema:\ndescription: Schema conforming to \"AVD Meta Schema\". Either schema or schema_id must be set.\nrequired: false\ntype: dict\nschema_id:\ndescription: ID of Schema conforming to \"AVD Meta Schema\".  Either schema or schema_id must be set.\nrequired: false\ntype: str\nchoices: [ \"eos_cli_config_gen\", \"eos_designs\" ]\nconversion_mode:\ndescription:\n- Run data conversion in either \"warning\", \"info\", \"debug\", \"quiet\" or \"disabled\" mode.\n- Conversion will perform type conversion of input variables as defined in the schema.\n- Conversion is intended to help the user to identify minor issues with the input data, while still allowing the data to be validated.\n- During conversion, messages will be generated with information about the host(s) and key(s) which required conversion.\n- conversion_mode:disabled means that conversion will not run.\n- conversion_mode:error will produce error messages and fail the task.\n- conversion_mode:warning will produce warning messages.\n- conversion_mode:info will produce regular log messages.\n- conversion_mode:debug will produce hidden messages viewable with -v.\n- conversion_mode:quiet will not produce any messages.\nrequired: false\ndefault: \"debug\"\ntype: str\nchoices: [ \"error\", \"warning\", \"info\", \"debug\", \"quiet\", \"disabled\" ]\nvalidation_mode:\ndescription:\n- Run validation in either \"error\", \"warning\", \"info\", \"debug\" or \"disabled\" mode.\n- Validation will validate the input variables according to the schema.\n- During validation, messages will be generated with information about the host(s) and key(s) which failed validation.\n- validation_mode:disabled means that validation will not run.\n- validation_mode:error will produce error messages and fail the task.\n- validation_mode:warning will produce warning messages.\n- validation_mode:info will produce regular log messages.\n- validation_mode:debug will produce hidden messages viewable with -v.\nrequired: false\ndefault: \"warning\"\ntype: str\nchoices: [ \"error\", \"warning\", \"info\", \"debug\", \"disabled\" ]\n</code></pre>"},{"location":"docs/contribution/eos_designs_internal_notes.html#output-data-model","title":"Output data model","text":"<pre><code>ansible_facts:\navd_switch_facts:\n&lt;switch_1&gt;:\nswitch:\n&lt; switch.* facts used by eos_designs &gt;\n&lt;switch_2&gt;:\n...\navd_topology_peers:\n&lt;uplink_switch_1&gt;:\n- &lt;downlink_switch_1&gt;\n- &lt;downlink_switch_2&gt;\n- &lt;downlink_switch_3&gt;\n&lt;uplink_switch_1&gt;:\n...\navd_overlay_peers:\n&lt;route_server_1&gt;:\n- &lt;route_server_client_1&gt;\n- &lt;route_server_client_2&gt;\n- &lt;route_server_client_3&gt;\n&lt;route_server_2&gt;:\n- &lt;route_server_client_1&gt;\n- &lt;route_server_client_2&gt;\n- &lt;route_server_client_3&gt;\n</code></pre> <p>The facts can be inspected in a file per device by running the <code>arista.avd.eos_designs</code> role with <code>--tags facts,debug</code>.</p>"},{"location":"docs/contribution/eos_designs_internal_notes.html#example-playbook","title":"Example Playbook","text":"<pre><code>- name: Set eos_designs facts\ntags: [build, provision, facts]\narista.avd.eos_designs_facts:\nschema_id: eos_designs\ncheck_mode: False\nrun_once: True\n- name: Set eos_designs facts per device\ntags: [build, provision, facts]\nansible.builtin.set_fact:\nswitch: \"{{ avd_switch_facts[inventory_hostname].switch }}\"\ndelegate_to: localhost\nchanged_when: false\n</code></pre>"},{"location":"docs/contribution/eos_designs_internal_notes.html#internal-structure","title":"Internal structure","text":"<pre><code>classDiagram\n  direction LR\n  class eos_designs_facts[\"arista.avd.eos_designs_facts\"]{\n    - Verify devices are in one fabric group\n    - Read and template default role_vars\n    - Read and validate Hostvars for all devices\n    - Instantiate EosDesignsFacts class per device\n    - Update hostvars with reference to all EosDesignsFacts instances\n    - Run \"render\" method on all EosDesignsFacts instances\n    - Build facts from data returned by \"render\"\n  }\n  class ActionBase[\"Ansible ActionBase\"]{\n  }\n  class AvdSchemaTools{\n  }\n  class EosDesignsFacts{\n    avd_switch_facts: dict[str, EosDesignsFacts]\n    render(): dict\n  }\n  ActionBase &lt;|-- eos_designs_facts : extends\n  eos_designs_facts --* AvdSchemaTools\n  eos_designs_facts --* \"many\" EosDesignsFacts : per device\n  EosDesignsFacts ..&gt; eos_designs_facts : pointer to instances for other devices</code></pre>"},{"location":"docs/contribution/eos_designs_internal_notes.html#aristaavdyaml_templates_to_facts","title":"<code>arista.avd.yaml_templates_to_facts</code>","text":"<p>TODO</p>"},{"location":"docs/contribution/eos_designs_internal_notes.html#python-packages","title":"Python packages","text":""},{"location":"docs/contribution/eos_designs_internal_notes.html#avdfacts","title":"AvdFacts","text":"<p>The <code>AvdFacts</code> class serve as a base class for <code>EosDesignsFacts</code> as well as the many <code>AvdStructuredConfig</code> variants.</p> <p>The purpose of <code>AvdFacts</code> subclasses is to return a dictionary when the <code>render</code> method is called.</p> <p>The class is also partially emulating a <code>dict</code> type by exposing <code>keys()</code> and <code>get()</code> methods and exposing all public attributes as <code>cached_property</code>. This allows for a class instance to be used as part of a deeper data model, where our utility tools can traverse deeper data models using dot-notation. It also allows for partial rendering of data, since only the accessed attributes/cached_properties will be rendered.</p> <p>The base class has a few important methods:</p> <ul> <li><code>keys()</code> return a list of attributes not beginning with an undercore and where the attribute is decorated with <code>cached_property</code>.   These attributes represent the keys in the emulated dict.</li> <li><code>render()</code> loop over every attribute returned by <code>keys()</code> and return a dict with all the returned <code>cached_properties</code>, except   <code>cached_property</code> with a value of <code>None</code> which will be skipped.</li> <li><code>get(key, default=None)</code> returns the value of the requested \u201ckey\u201d (<code>cached_property</code>) if the \u201ckey\u201d is in the list returned by <code>keys()</code>.   Otherwise the default value is returned.</li> </ul> <p>Path: <code>ansible_collections/arista/avd/plugins/plugin_utils/avdfacts.py</code></p>"},{"location":"docs/contribution/eos_designs_internal_notes.html#eosdesignsfacts","title":"EosDesignsFacts","text":"<p><code>EosDesignsFacts</code> is based on <code>AvdFacts</code>, so make sure to read the description there first.</p> <p>The class is instantiated once per device. Methods may use references to other device instances using <code>hostvars.avd_switch_facts</code>, which is a dict of <code>EosDesignsfacts</code> instances covering all devices.</p> <p>hostvars[\u201cswitch\u201d] is set to self, to allow <code>shared_utils</code> to work the same when they are called from <code>EosDesignsFacts</code> or from <code>AvdStructuredConfig</code>.</p> <p>Path: <code>ansible_collections/arista/avd/plugins/plugin_utils/eos_designs_facts/</code></p> <pre><code>classDiagram\n  direction LR\n  class AvdFacts{\n    render(): dict\n  }\n  class EosDesignsFacts{\n    shared_utils: SharedUtils\n    _hostvars: dict\n    _hostvars[\"switch\"]: self\n  }\n  class MlagMixin\n  class OverlayMixin\n  class ShortEsiMixin\n  class UplinksMixin\n  class VlansMixin\n  class SharedUtils\n  AvdFacts &lt;|-- EosDesignsFacts : extends\n  MlagMixin &lt;|-- EosDesignsFacts : extends\n  OverlayMixin &lt;|-- EosDesignsFacts : extends\n  ShortEsiMixin &lt;|-- EosDesignsFacts : extends\n  UplinksMixin &lt;|-- EosDesignsFacts : extends\n  VlansMixin &lt;|-- EosDesignsFacts : extends\n  EosDesignsFacts --* SharedUtils\n  SharedUtils ..&gt; EosDesignsFacts : hostvars.switch</code></pre>"},{"location":"docs/contribution/eos_designs_internal_notes.html#sharedutils","title":"SharedUtils","text":"<p>Path: <code>ansible_collections/arista/avd/plugins/plugin_utils/shared_utils/</code></p> <pre><code>classDiagram\n  direction LR\n  class InterfaceDescriptionsMixin\n  class BgpPeerGroupsMixin\n  class LinkTrackingGroupsMixin\n  class MgmtMixin\n  class MlagMixin\n  class MiscMixin\n  class NodeTypeKeyMixin\n  class OverlayMixin\n  class PlatformMixin\n  class PtpMixin\n  class SwitchDataMixin\n  class RoutingMixin\n  class UnderlayMixin\n  class UtilsMixin\n  class IpAddressingMixin\n  InterfaceDescriptionsMixin --* AvdInterfaceDescriptions\n  InterfaceDescriptionsMixin &lt;|-- SharedUtils : extends\n  BgpPeerGroupsMixin &lt;|-- SharedUtils : extends\n  LinkTrackingGroupsMixin &lt;|-- SharedUtils : extends\n  MgmtMixin &lt;|-- SharedUtils : extends\n  MlagMixin &lt;|-- SharedUtils : extends\n  MiscMixin &lt;|-- SharedUtils : extends\n  NodeTypeKeyMixin &lt;|-- SharedUtils : extends\n  OverlayMixin &lt;|-- SharedUtils : extends\n  PlatformMixin &lt;|-- SharedUtils : extends\n  PtpMixin &lt;|-- SharedUtils : extends\n  SwitchDataMixin &lt;|-- SharedUtils : extends\n  RoutingMixin &lt;|-- SharedUtils : extends\n  UnderlayMixin &lt;|-- SharedUtils : extends\n  UtilsMixin &lt;|-- SharedUtils : extends\n  IpAddressingMixin &lt;|-- SharedUtils : extends\n  IpAddressingMixin --* AvdIpAddressing</code></pre>"},{"location":"docs/contribution/eos_designs_internal_notes.html#avdstructuredconfig","title":"AvdStructuredConfig","text":"<p><code>AvdStructuredConfig</code> is based on <code>AvdFacts</code>, so make sure to read the description there first.</p> <p>The generation of the final <code>structured_config</code> is split into multiple python modules which are subclasses of <code>AvdStructuredConfig</code>. Each subclass is loaded dynamically in <code>yaml_templates_to_facts</code> and rendered. All the results are deepmerged into the final <code>structured_config</code>.</p> <p>The class is instantiated once per device. Methods may use references to other device instances using <code>hostvars.avd_switch_facts</code>, which at the time where <code>yaml_templates_to_facts</code> run, is a nested <code>dict</code>. It contains the output from <code>EosDesignsFacts</code>\u2018s <code>render()</code> method.</p> <p>Subclasses are typically using Mixin classes to split all the attributes/<code>cached_properties</code> into managable files.</p> <p>Paths:</p> <ul> <li><code>ansible_collections/arista/avd/roles/eos_designs/python_modules/base/</code>   Unfortunate naming. Base here refers to base configurations. Not a Base class.</li> <li><code>ansible_collections/arista/avd/roles/eos_designs/python_modules/connected_endpoints/</code></li> <li><code>ansible_collections/arista/avd/roles/eos_designs/python_modules/core_interfaces/</code></li> <li><code>ansible_collections/arista/avd/roles/eos_designs/python_modules/custom_structured_configuration/</code></li> <li><code>ansible_collections/arista/avd/roles/eos_designs/python_modules/inband_management/</code></li> <li><code>ansible_collections/arista/avd/roles/eos_designs/python_modules/l3_edge/</code></li> <li><code>ansible_collections/arista/avd/roles/eos_designs/python_modules/mlag/</code></li> <li><code>ansible_collections/arista/avd/roles/eos_designs/python_modules/network_services/</code></li> <li><code>ansible_collections/arista/avd/roles/eos_designs/python_modules/overlay/</code></li> <li><code>ansible_collections/arista/avd/roles/eos_designs/python_modules/underlay/</code></li> </ul> <pre><code>classDiagram\n  direction LR\n  class AvdFacts{\n    render(): dict\n  }\n  class AvdStructuredConfigBase[\"AvdStructuredConfig - base\"]\n  class AvdStructuredConfigConnectedEndpoints[\"AvdStructuredConfig - connected_endpoints\"]\n  class AvdStructuredConfigCoreInterfaces[\"AvdStructuredConfig - core_interfaces\"]\n  class AvdStructuredConfigCustomStructuredConfiguration[\"AvdStructuredConfig - custom_structured_configuration\"]\n  class AvdStructuredConfigInbandManagement[\"AvdStructuredConfig - inband_management\"]\n  class AvdStructuredConfigL3Edge[\"AvdStructuredConfig - l3_edge\"]\n  class AvdStructuredConfigMlag[\"AvdStructuredConfig - mlag\"]\n  class AvdStructuredConfigNetworkServices[\"AvdStructuredConfig - network_services\"]\n  class AvdStructuredConfigOverlay[\"AvdStructuredConfig - overlay\"]\n  class AvdStructuredConfigUnderlay[\"AvdStructuredConfig - underlay\"]\n  AvdFacts &lt;|-- AvdStructuredConfigBase : extends\n  AvdFacts &lt;|-- AvdStructuredConfigConnectedEndpoints : extends\n  AvdFacts &lt;|-- AvdStructuredConfigCoreInterfaces : extends\n  AvdFacts &lt;|-- AvdStructuredConfigCustomStructuredConfiguration : extends\n  AvdFacts &lt;|-- AvdStructuredConfigInbandManagement : extends\n  AvdFacts &lt;|-- AvdStructuredConfigL3Edge : extends\n  AvdFacts &lt;|-- AvdStructuredConfigMlag : extends\n  AvdFacts &lt;|-- AvdStructuredConfigNetworkServices : extends\n  AvdFacts &lt;|-- AvdStructuredConfigOverlay : extends\n  AvdFacts &lt;|-- AvdStructuredConfigUnderlay : extends\n  AvdStructuredConfigBase --* SharedUtils\n  AvdStructuredConfigConnectedEndpoints --* SharedUtils\n  AvdStructuredConfigCoreInterfaces --* SharedUtils\n  AvdStructuredConfigCustomStructuredConfiguration --* SharedUtils\n  AvdStructuredConfigInbandManagement --* SharedUtils\n  AvdStructuredConfigL3Edge --* SharedUtils\n  AvdStructuredConfigMlag --* SharedUtils\n  AvdStructuredConfigNetworkServices --* SharedUtils\n  AvdStructuredConfigOverlay --* SharedUtils\n  AvdStructuredConfigUnderlay --* SharedUtils</code></pre>"},{"location":"docs/contribution/eos_designs_internal_notes.html#facts-set-at-runtime","title":"Facts set at runtime","text":""},{"location":"docs/contribution/eos_designs_internal_notes.html#avd_switch_facts","title":"avd_switch_facts","text":"<p>The following model is set as <code>eos_designs_facts</code>. Most keys are optional depending on the usecase and configuration. The use of each key is tracked in the sections below.</p> <pre><code>avd_switch_facts:\n&lt;hostname&gt;:\nswitch:\nbgp_as: &lt;str&gt;\ndc_name: &lt;str&gt;\nendpoint_trunk_groups: &lt;list&gt;\nendpoint_vlans: &lt;str&gt;\nevpn_multicast: &lt;bool&gt;\nevpn_role: &lt;str&gt;\nevpn_route_servers: &lt;list[str]&gt;\ngroup: &lt;str&gt;\nid: &lt;int&gt;\ninband_management_subnet: &lt;str&gt;\ninband_management_vlan: &lt;int&gt;\nis_deployed: &lt;bool&gt;\nloopback_ipv4_pool: &lt;str&gt;\nlocal_endpoint_trunk_groups: &lt;list[str]&gt;\nmax_parallel_uplinks: &lt;int&gt;\nmax_uplink_switches: &lt;int&gt;\nmlag_interfaces: &lt;list[str]&gt;\nmlag_ip: &lt;str&gt;\nmlag_l3_ip: &lt;str&gt;\nmlag_peer: &lt;str&gt;\nmlag_port_channel_id: &lt;int&gt;\nmlag_switch_ids:\nprimary: &lt;int&gt;\nsecondary: &lt;int&gt;\nmgmt_interface: &lt;str&gt;\nmgmt_ip: &lt;int&gt;\nmpls_lsr: &lt;bool&gt;\nmpls_overlay_role: &lt;str&gt;\nmpls_route_reflectors: &lt;list[str]&gt;\noverlay:\npeering_address: &lt;str&gt;\nevpn_mpls: &lt;bool&gt;\nplatform: &lt;str&gt;\nrouter_id: &lt;str&gt;\nserial_number: &lt;str&gt;\ntype: &lt;str&gt;\nunderlay_routing_protocol: &lt;str&gt;\nuplink_ipv4_pool: &lt;str&gt;\nuplink_peers: &lt;list[str]&gt;\nuplinks: &lt;list[dict]&gt;\nvlans: &lt;str&gt;\nvtep_ip: &lt;str&gt;\nvtep_loopback_ipv4_pool: &lt;str&gt;\n</code></pre>"},{"location":"docs/contribution/eos_designs_internal_notes.html#avd_switch_facts-leveraged-in-eos_designs-python_modules","title":"avd_switch_facts leveraged in eos_designs python_modules","text":"<p>These variables are read for all or some devices as part of structured_config generation, so they must be available in the <code>avd_switch_facts</code> object.</p> Variable Used in file switch.type core_interfaces/utils.py switch.type l3_edge/utils.py switch.inband_management_subnet inband_management/avdstructuredconfig.py switch.inband_management_vlan inband_management/avdstructuredconfig.py switch.vlans network_services/utils_filtered_tenants.py switch.vtep_ip network_services/vxlan_interface.py switch.vlans network_services/vxlan_interface.py switch.uplinks underlay/utils.py switch.type underlay/utils.py switch.is_deployed underlay/utils.py switch.bgp_as underlay/utils.py switch overlay/utils.py switch.evpn_route_servers overlay/utils.py switch.evpn_role overlay/utils.py switch.mpls_route_reflectors overlay/utils.py switch.bgp_as overlay/utils.py switch.overlay.peering_address overlay/utils.py switch.mpls_overlay_role overlay/utils.py switch.overlay.evpn_mpls overlay/utils.py"},{"location":"docs/contribution/eos_designs_internal_notes.html#switch-leveraged-for-jinja2-templates","title":"switch.* leveraged for Jinja2 templates","text":"<p>These variables are historically used in builtin jinja2 templates so they should not be removed without warning. TODO: Only expose these in the Jinja2 templating environment used for custom templates. They would not be available outside of that, so any inline Jinja2 could not use these values.</p> Variable Used in file switch.type fabric-documentation.j2 switch.uplink_ipv4_pool fabric-documentation.j2 switch.loopback_ipv4_pool fabric-documentation.j2 switch.vtep_loopback_ipv4_pool fabric-documentation.j2 switch.node fabric-documentation.j2 switch.mgmt_ip fabric-documentation.j2 switch.platform fabric-documentation.j2 switch.serial_number fabric-documentation.j2 switch.underlay_routing_protocol fabric-documentation.j2 switch.type fabric-p2p-links.j2 switch.type fabric-topology.j2 switch.mpls_overlay_role interface_descriptions/loopback_interfaces/overlay-loopback.j2 switch.mpls_lsr interface_descriptions/loopback_interfaces/overlay-loopback.j2 switch.mlag_peer interface_descriptions/mlag/ethernet-interfaces.j2 switch.mlag_interfaces interface_descriptions/mlag/port-channel-interfaces.j2 switch.mlag_peer interface_descriptions/mlag/port-channel-interfaces.j2 switch.mlag_port_channel_id interface_descriptions/mlag/port-channel-interfaces.j2 switch.uplink_ipv4_pool ip_addressing/avd-v2-spine-p2p-uplinks-ip.j2 switch.id ip_addressing/avd-v2-spine-p2p-uplinks-ip.j2 switch.max_parallel_uplinks ip_addressing/avd-v2-spine-p2p-uplinks-ip.j2 switch.max_uplink_switches ip_addressing/avd-v2-spine-p2p-uplinks-ip.j2 switch.uplink_ipv4_pool ip_addressing/avd-v2-spine-p2p-uplinks-peer-ip.j2 switch.id ip_addressing/avd-v2-spine-p2p-uplinks-peer-ip.j2 switch.max_parallel_uplinks ip_addressing/avd-v2-spine-p2p-uplinks-peer-ip.j2 switch.max_uplink_switches ip_addressing/avd-v2-spine-p2p-uplinks-peer-ip.j2 switch.mlag_switch_ids.primary ip_addressing/mlag-ibgp-peering-ip-primary.j2 switch.mlag_switch_ids.primary ip_addressing/mlag-ibgp-peering-ip-secondary.j2 switch.uplink_ipv4_pool ip_addressing/p2p-uplinks-ip.j2 switch.id ip_addressing/p2p-uplinks-ip.j2 switch.max_uplink_switches ip_addressing/p2p-uplinks-ip.j2 switch.max_parallel_uplinks ip_addressing/p2p-uplinks-ip.j2 switch.uplink_ipv4_pool ip_addressing/p2p-uplinks-peer-ip.j2 switch.id ip_addressing/p2p-uplinks-peer-ip.j2 switch.max_uplink_switches ip_addressing/p2p-uplinks-peer-ip.j2 switch.max_parallel_uplinks ip_addressing/p2p-uplinks-peer-ip.j2"},{"location":"docs/contribution/eos_designs_internal_notes.html#other-switch-variables-set-in-eos_designs_facts","title":"Other switch.* variables set in eos_designs_facts","text":"Variable Reason switch.evpn_multicast Since the code behind evpn_multicast has to check the mlag peer facts for \u2018overlay_rd_type_admin_subfield\u2019 we can either expose that field in facts, or perform the check inside eos_designs_facts. switch.endpoint_trunk_groups Complex calculations leveraging data from peers leading to compact output, so instead of repeating in multiple areas, we do it once and store the result. switch.endpoint_vlans Complex calculations leveraging data from peers leading to compact output, so instead of repeating in multiple areas, we do it once and store the result. switch.local_endpoint_trunk_groups Complex calculations leveraging data from peers leading to compact output, so instead of repeating in multiple areas, we do it once and store the result. switch.mlag_ip mlag_ip must be available to the mlag peer. switch.mlag_l3_ip mlag_l3_ip must be available to the mlag peer. switch.mgmt_ip mgmp_ip must be available to the mlag peer. switch.uplink_peers These are used to generate the \u201cavd_topology_peers\u201d fact covering downlinks for all devices in eos_designs_facts action plugin. switch.dc_name Used for underlay HER flood-list calculations when using scope dc_name switch.bgp_as Known use of inline jinja in customer deployments switch.group Known use of inline jinja in customer deployments switch.hostname Known use of inline jinja in customer deployments switch.id Known use of inline jinja in customer deployments switch.mgmt_interface Known use of inline jinja in customer deployments switch.mgmt_ip Known use of inline jinja in customer deployments switch.router_id Known use of inline jinja in customer deployments"},{"location":"docs/contribution/getting-started.html","title":"Getting Started","text":""},{"location":"docs/contribution/getting-started.html#branches","title":"Branches","text":"<ul> <li>Current development branch: <code>devel</code></li> <li>Branch namespace for release &amp; development: <code>releases/&lt;release_id&gt;</code></li> </ul>"},{"location":"docs/contribution/getting-started.html#pull-requests","title":"Pull requests","text":"<ul> <li>Before you start working on a pull request, make sure to open an issue and discuss your ideas with the ansible-avd maintainers. This will help prevent wasting time on something we might not be able to implement. When suggesting a new feature, ensure it won\u2019t conflict with any work already in progress.</li> </ul> <ul> <li>Any pull request which doesn\u2019t relate to an accepted issue will not be approved.</li> </ul> <ul> <li>All major new functionality must include relevant molecule tests where applicable.</li> </ul> <ul> <li>When submitting a pull request, please be sure to rebase from the <code>devel</code> branch rather than a release branch:<code>releases/*</code>. This is because the <code>devel</code> branch is used for ongoing development, while <code>releases/*</code> are used for tagging new stable releases.</li> </ul> <ul> <li> <p>All code submissions should meet the following criteria (CI will enforce these checks):</p> <ul> <li>YAML syntax is valid</li> <li>Python syntax is valid</li> <li>All tests pass when run with <code>make sanity</code></li> <li>PEP 8 compliance is enforced, with the exception that lines may be greater than 80 characters in length</li> </ul> </li> </ul> <p>Adhering to the following process is the best way to get your work merged:</p> <ul> <li> <p>Fork the repository, clone your fork, and configure the remotes:</p> <pre><code># Clone your fork of the repo into the current directory\ngit clone https://github.com/&lt;your-username&gt;/ansible-avd\n\n# Navigate to the newly cloned directory\ncd ansible-avd\n\n# Assign the original repo to a remote called \"upstream\"\ngit remote add upstream https://github.com/aristanetworks/ansible-avd.git\n</code></pre> </li> </ul> <ul> <li> <p>If you cloned a while ago, get the latest changes from upstream:</p> <pre><code>git checkout devel\ngit pull upstream devel\n</code></pre> </li> </ul> <ul> <li> <p>Create a new topic branch (off the main project development branch) to contain your feature, change, or fix:</p> <pre><code>git checkout -b &lt;topic-branch-name&gt;\n</code></pre> </li> </ul> <ul> <li>Commit your changes in logical chunks. Please adhere to these Git commit message guidelines or your code is unlikely to be merged into the main project. Use Git\u2019s git rebase feature to tidy up your commits before making them public.</li> </ul> <ul> <li> <p>Locally merge (or rebase) the upstream development branch into your topic branch:</p> <pre><code>git pull [--rebase] upstream &lt;dev-branch&gt;\n</code></pre> </li> </ul> <ul> <li> <p>Push your topic branch up to your fork:</p> <pre><code>git push origin &lt;topic-branch-name&gt;\n</code></pre> </li> </ul> <ul> <li>Open a Pull Request with a clear title, description, and following the template.</li> </ul>"},{"location":"docs/contribution/overview.html","title":"Arista Validated Design Development","text":"<p>Arista Validated Design (AVD) is maintained as a GitHub project under the Apache 2 license. Users are encouraged to submit GitHub issues for feature requests and bug reports.</p>"},{"location":"docs/contribution/overview.html#governance","title":"Governance","text":"<p>AVD is a community-based Free Open Source Software (FOSS) project sponsored by Arista Networks. Arista Networks supports Ansible for managing devices running the EOS operating system natively through eAPI or CloudVision Portal (CVP). This collection includes a set of Ansible roles and modules to help kick-start your automation with Arista. The various roles and templates provided are designed to be customized and extended to your needs.</p> <p>The AVD Core Team is responsible for the direction and execution of the code that gets committed to the project.</p> <p>The following individuals are on the AVD Core Team:</p> <ul> <li>Carl Buchmann (@carlbuchmann)</li> <li>Claus Holbech (@ClausHolbechArista)</li> <li>Tony Goda (@tgodaA)</li> <li>Julio Perez (@JulioPDX)</li> <li>Guillaume Mulocher (@gmuloc)</li> </ul>"},{"location":"docs/contribution/overview.html#contributing","title":"Contributing","text":"<p>We welcome many forms of contributions to AVD. While we understand most contributions will commonly come from ansible power users, we encourage others to contribute in the form of docs, tutorials, and user guides. Also, if you have other ideas for contributing, don\u2019t hesitate to open an issue or have a discussion in one of the forums below.</p>"},{"location":"docs/contribution/overview.html#communication","title":"Communication","text":"<p>Communication among the contributors should always occur via public channels. The following outlines the best ways to communicate and engage on all things AVD:</p>"},{"location":"docs/contribution/overview.html#slack","title":"Slack","text":"<ul> <li>#ansible | #arista on Network to Code Slack - Good for quick chats. Avoid any discussion that might need to be referenced later on, as the chat history isn\u2019t retained long.</li> </ul>"},{"location":"docs/contribution/overview.html#github","title":"GitHub","text":"<ul> <li>GitHub issues - All feature requests, bug reports, and other substantial changes should be documented in an issue.</li> <li>GitHub discussions - The preferred forum for general discussion and support issues. Ideal for shaping a feature request prior to submitting an issue.</li> </ul> <p>GitHub\u2019s discussions are the best place to get help or propose rough ideas for new functionality. Their integration with GitHub allows for cross-referencing and converting posts to issues as needed. Below are some examples of categories used for discussions:</p> <ul> <li>General - General community discussion.</li> <li>Ideas - Ideas for new functionality that isn\u2019t ready for a formal feature request.</li> <li>Q&amp;A - Request help with installing or using AVD.</li> </ul>"},{"location":"docs/contribution/overview.html#deprecation-policy","title":"Deprecation Policy","text":"<p>The deprecation policy will be such that at least one release will make users aware of a feature that will be deprecated in the next release.</p>"},{"location":"docs/contribution/overview.html#versioning","title":"Versioning","text":"<p>Semantic Versioning (SemVer) is used for AVD versioning.</p>"},{"location":"docs/contribution/overview.html#contributor-workflow","title":"Contributor Workflow","text":"<p>The following documents the lifecycle of work within AVD:</p> <ol> <li>Open/request a feature enhancement or file a bug   a. If bug, see here   b. If feature request or enhancement, continue.</li> <li>Open a GitHub Issue   a. The issue will be reviewed. Based on the request, it will get labeled as  <code>current</code>, <code>near-term</code>, <code>future</code>.   b. It will likely only stay in current if it\u2019s trivial and quick work.   c. If it gets labeled as future, the issue will be closed in the next batch of issues that get migrated and converted to GitHub discussions.</li> </ol> <p>If you follow these steps, there will be a GitHub Issue opened before submitting a Pull Request (PR). However, we\u2019re quite aware that a PR may come in without ever being discussed in an Issue or Discussion. While we don\u2019t advocate for this, you should be aware of the process that will be followed for those circumstances.</p> <p>Should this happen, and if you followed the project guidelines, have sample tests, and code quality, you will first be acknowledged for your work; thank you in advance. After that, the PR will be quickly reviewed to ensure that it makes sense as a contribution to the project and to gauge the work effort or issues with merging into devel.  If the effort required by the core team isn\u2019t trivial, it\u2019ll likely still be a few weeks before it gets thoroughly reviewed and merged.  After that, it will just depend on the current backlog.</p>"},{"location":"docs/contribution/overview.html#contributing-to-arista-validated-design","title":"Contributing to Arista Validated Design","text":"<p>Contributing pull requests are gladly welcomed for this repository. If you are planning a big change, please start a discussion first to make sure we\u2019ll be able to merge it.</p>"},{"location":"docs/contribution/overview.html#branching-model","title":"Branching model","text":"<ul> <li>The <code>devel</code> branch corresponds to the release actively under development.</li> <li>The release tags correspond to stable releases.</li> <li>Fork repository and create a branch based on <code>devel</code> to set up a dev environment if you want to open a PR.</li> <li>See the ansible-avd release for information about active branches.</li> </ul>"},{"location":"docs/contribution/overview.html#reporting-bugs","title":"Reporting Bugs","text":"<ul> <li>First, ensure that you\u2019re running the latest stable version of AVD. If you\u2019re running an older version, it\u2019s possible that the bug has already been fixed.</li> </ul> <ul> <li>Next, check the GitHub issues list to see if the bug you\u2019ve found has already been reported. If you think you may be experiencing a reported issue that hasn\u2019t already been resolved, please click \u201cadd a reaction\u201d in the top right corner of the issue and add a thumbs up (+1). You might also want to add a comment describing how it\u2019s affecting your installation. This will allow us to prioritize bugs based on how many users are affected.</li> </ul> <ul> <li> <p>When submitting an issue, please be as descriptive as possible. Be sure to provide all information requests in the issue template, including:</p> <ul> <li>The environment in which AVD is running</li> <li>The exact steps that can be taken to reproduce the issue</li> <li>Expected and observed behavior</li> <li>Any error messages generated</li> <li>Screenshots (if applicable)</li> </ul> </li> </ul> <ul> <li>Please avoid prepending any tag (for example, \u201c[Bug]\u201d) to the issue title. The issue will be reviewed by a maintainer after submission and the appropriate labels will be applied for categorization.</li> </ul> <ul> <li>Keep in mind that bugs are prioritized based on their severity and how much work is required to resolve them. It may take some time for someone to address your issue.</li> </ul>"},{"location":"docs/contribution/overview.html#feature-requests","title":"Feature Requests","text":"<ul> <li>First, check the GitHub issues list and Discussions to see if the feature you\u2019re requesting is already listed. If the feature you\u2019d like to see has already been requested and is open, click \u201cadd a reaction\u201d in the top right corner of the issue and add a thumbs up (+1). This ensures that the issue has a better chance of receiving attention. Also feel free to add a comment with any additional justification for the feature. However, note that comments with no substance other than a \u201c+1\u201d will be deleted. Please use GitHub\u2019s reactions feature to indicate your support.</li> </ul> <ul> <li>Before filing a new feature request, consider starting with a GitHub Discussion. Feedback you receive there will help validate and shape the proposed feature before filing a formal issue. If the feature request doesn\u2019t get accepted into the current or near term backlog, it will get converted to a discussion anyway.</li> </ul> <ul> <li>Good feature requests are very narrowly defined. Be sure to thoroughly describe the functionality and data models being proposed. The more effort you put into writing a feature request, the better its chance is of being implemented. Overly broad feature requests will be closed.</li> </ul> <ul> <li> <p>When submitting a feature request on GitHub, be sure to include all information requested by the issue template, including:</p> <ul> <li>A detailed description of the proposed functionality</li> <li>A use case for the feature; who would use it and what value it would add to AVD</li> <li>A rough description of changes necessary to the database schema (if applicable)</li> <li>Any third-party libraries or other resources which would be involved</li> <li>Please avoid prepending any tag (for example, \u201c[Feature]\u201d) to the issue title.</li> </ul> </li> </ul> <p>The issue will be reviewed by a moderator after submission and the appropriate labels will be applied for categorization.</p>"},{"location":"docs/contribution/overview.html#submitting-pull-requests","title":"Submitting Pull Requests","text":"<ul> <li>If you\u2019re interested in contributing to AVD, be sure to check out our getting started documentation for tips on setting up your development environment.</li> </ul> <ul> <li>It\u2019s recommended to open an issue before starting work on a pull request, and discuss your idea with the AVD maintainers before beginning work. This will help prevent wasting time on something that might we might not be able to implement. When suggesting a new feature, also make sure it won\u2019t conflict with any work that\u2019s already in progress.</li> </ul> <ul> <li>Once you\u2019ve opened or identified an issue you\u2019d like to work on, ask that it be assigned to you so that others are aware it\u2019s being worked on. A maintainer will then mark the issue as \u201caccepted.\u201d</li> </ul> <ul> <li>All new functionality must include relevant tests where applicable.</li> </ul> <ul> <li>When submitting a pull request, please be sure to work off of the <code>devel</code> branch, rather than <code>releases/*</code>. The <code>devel</code> branch is used for ongoing development, while <code>releases/*</code> is used for tagging stable releases.</li> </ul> <ul> <li>In most cases, it\u2019s not necessary to add a changelog entry: A maintainer will take care of this when the PR is merged. (This helps avoid merge conflicts resulting from multiple PRs being submitted simultaneously.)</li> </ul> <ul> <li> <p>All code submissions should meet the following criteria (CI will enforce these checks):</p> <ul> <li>Jinja2 templates follow our guidelines.</li> <li>Molecule is updated with data covering your fix.</li> <li>Molecule artifacts are updated with your coverage.</li> <li>Python syntax is valid.</li> <li>All unit tests pass successfully.</li> <li>PEP 8 compliance is enforced, with the exception that lines may be greater than 80 characters in length.</li> </ul> </li> </ul> <ul> <li>A PR can be opened before all the work is complete. In this situation, PR state should be set to draft. PRs marked as ready for review (not in draft) will be reviewed by the maintainer team.</li> </ul> <ul> <li> <p>To automate release-notes creation and make filtering process easier, it\u2019s strongly recommended to use conventional commit syntax at least for PR title. Scope should be module or role updated. As a reminder, the list below provides all supported commit types and scopes:</p> <ul> <li> <p>Types:</p> <ul> <li><code>Feat</code>: Create a capability e.g. feature, test, dependency.</li> <li><code>Fix</code>: Fix an issue e.g. bug, typo, accident, misstatement.</li> <li><code>Cut</code>: Remove a capability e.g. feature, test, dependency.</li> <li><code>Doc</code>: Refactor of documentation, e.g. help files.</li> <li><code>CI</code>: Update CI components, e.g. molecule files or Github Actions.</li> <li><code>Bump</code>: Increase the version of something e.g. dependency.</li> <li><code>Test</code>: Add or refactor anything regarding test, e.g add a new testCases.</li> <li><code>Refactor</code>: A code change that MUST be just a refactoring.</li> <li><code>Revert</code>: Change back to the previous commit</li> </ul> </li> </ul> <ul> <li> <p>Scopes:</p> <ul> <li><code>{{ role_name }}</code>: AVD role impacted by PR. Required for <code>Feat</code>, <code>Cut</code> and <code>Fix</code> types</li> <li><code>plugins</code>: To use when AVD plugin is impacted by PR. Required for <code>Feat</code>, <code>Cut</code> and <code>Fix</code> types</li> <li><code>requirements</code>: To use when using <code>Bump</code> type and when any AVD requirement is updated</li> </ul> <p>Scopes</p> <p>Scope is an optional field and can be ignore safely if your PR covers an undefined scope.</p> </li> </ul> </li> </ul>"},{"location":"docs/contribution/overview.html#project-structure","title":"Project Structure","text":"<p>All development of the current AVD release occurs in the <code>devel</code> branch; releases are packaged from the <code>releases/*</code> branches. A <code>releases/v*</code> branch should always represent a stable release in its entirety, such that installing AVD by either downloading a packaged release or cloning the <code>releases/v*</code> branch provides the same code base.</p>"},{"location":"docs/contribution/setup-environment.html","title":"Setup Ansible AVD Environment","text":"<p>Two methods can be used get Ansible up and running quickly with all the requirements to leverage ansible-avd: A Python Virtual Environment or Docker container.</p> <p>In both scenario, this document will leverage git approach to create a local environment with collections installed in their respective folders and additional folders for all your content. It means, all examples will be based on the following folder structure:</p> <pre><code>\u251c\u2500\u2500 git_projects\n\u2502   \u251c\u2500\u2500 ansible-avd\n\u2502   \u251c\u2500\u2500 ansible-cvp\n\u2502   \u251c\u2500\u2500 ansible-avd-cloudvision-demo\n\u2502   \u251c\u2500\u2500 Makefile\n</code></pre>"},{"location":"docs/contribution/setup-environment.html#ansible-runner-requirements","title":"Ansible runner requirements","text":"<p>As described in requirement page, your runner should run Python 3.8 or Docker engine with <code>docker-compose</code>.</p> <p>Besides that, the local runner will read your gitconfig file to let you manipulate files in container as if you were on your host. If you haven\u2019t configured Git on your host, it\u2019s required to at least create a basic git configuration file:</p> <pre><code># Create your username exposed in git commit\n$ git config --global user.name \"John Doe\"\n# Create email exposed in your commit\n$ git config --global user.email johndoe@example.com\n</code></pre>"},{"location":"docs/contribution/setup-environment.html#create-local-folder-structure","title":"Create local folder structure","text":"<p>To build local folder structure you manually run all the following commands to git clone ansible-avd, ansible-cvp collection and a repository with demo content</p> <p>In addition to this 3 <code>git clone</code>, you can also deployed a Makefile built to provide some shortcut we will discuss in a second stage.</p> <pre><code>$ mkdir git_projects\n\n$ cd git_projects\n\n$ git clone https://github.com/aristanetworks/ansible-avd.git\n$ git clone https://github.com/aristanetworks/ansible-cvp.git\n$ git clone https://github.com/arista-netdevops-community/ansible-avd-cloudvision-demo.git\n\n# Copy Makefile at the root position\n$ cp ansible-avd/development/Makefile ./\n$ make start\n</code></pre> <p>Or you can use a one-liner script available in ansible-avd repository to create this structure for you. This script does following actions:</p> <ul> <li>Create a local folder for development</li> <li>Instantiate a local git repository (no remote)</li> <li>Clone AVD and CVP collections</li> <li>Deploy Makefile</li> </ul> <p>Because we\u2019re cloning Ansible collection using Git, it\u2019s recommended to read documentation about how to setup ansible to use collection based on git clone.</p>"},{"location":"docs/contribution/setup-environment.html#environment-with-latest-stable","title":"Environment with latest stable","text":"<p>This one-liner will install AVD and CVP collection using latest version released on GitHub. These branches might have some difference with the devel branch.</p> <pre><code>sh -c \"$(curl -fsSL https://get.avd.sh)\"\n</code></pre>"},{"location":"docs/contribution/setup-environment.html#development-environment-with-avd","title":"Development environment with AVD","text":"<p>This one-liner will install AVD using <code>devel</code> branch.</p> <pre><code>sh -c \"$(curl -fsSL https://get.avd.sh/dev/)\"\n</code></pre> <p>Warning</p> <p>As the devel branch always includes the latest features and updates, the data models might change without notice and demo content could be broken. It should be used for development only.</p>"},{"location":"docs/contribution/setup-environment.html#use-docker-as-avd-shell","title":"Use docker as AVD shell","text":"<p>In this approach Docker container will be leveraged to provides all the AVD requirements and playbooks and collection will be shared from your localhost to the container.</p> <p>This approach will make the run process easier as all libraries are pre-configured in the container and you can continue to use your preferred text editor to edit and build your content.</p> <p>Considering you have deployed Makefile described in previous section, all the outputs will provide native docker command and the Make command.</p>"},{"location":"docs/contribution/setup-environment.html#avd-environment-commands","title":"AVD environment commands","text":"<p>When using installation script to create your own AVD environment, a <code>Makefile</code> is deployed under <code>./ansible-arista</code> to automate some common commands:</p> <pre><code>make &lt;your command&gt;\n</code></pre>"},{"location":"docs/contribution/setup-environment.html#commands-for-docker-compose","title":"Commands for docker-compose","text":"<ul> <li><code>start</code>: Start docker compose stack to develop with AVD and CVP collection (alias: <code>start</code>)<ul> <li>Deploy an mkdoc instance to expose AVD documentation with live reload for development purposes.</li> <li>Deploy an mkdoc instance to expose CVP documentation with live reload for development purposes.</li> <li>Deploy an AVD runner with a pseudo terminal connected to shell for Ansible execution</li> </ul> </li> <li><code>stop</code>: Stop docker compose stack and remove containers (alias: <code>stop</code>)</li> <li><code>shell</code>: Run a shell attached to Ansible container (alias: <code>shell</code>)</li> <li><code>reload</code>: Stop and Start docker-compose stack</li> <li><code>ansible-upgrade</code>: To upgrade Ansible in your runner in conjunction with <code>ANSIBLE_VERSION</code></li> </ul> <pre><code>$ make ansible-upgrade ANSIBLE_VERSION=2.10.7\ndocker-compose -f ansible-avd/development/docker-compose.yml exec -u avd ansible pip install --user --upgrade ansible==2.10.7\nCollecting ansible==2.10.7\n  Downloading ansible-2.10.7.tar.gz (14.2 MB)\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 14.2 MB 475 kB/s\n...\n$ make shell\ndocker-compose -f ansible-avd/development/docker-compose.yml exec -u avd ansible zsh\n\nAgent pid 109\n\u279c  /projects ansible --version\nansible 2.10.7\n</code></pre>"},{"location":"docs/contribution/setup-environment.html#commands-for-docker-only","title":"Commands for docker only","text":"<ul> <li><code>run</code>: Run a docker container with local folder mounted under <code>/projects</code>. This command supports some option to test development version like:<ul> <li><code>ANSIBLE_VERSION</code>: Specific version of Ansible to install during container startup.</li> <li><code>PIP_REQ</code>: Specific pip requirements file to install during container startup.</li> </ul> </li> <li><code>vscode</code>: start a VScode container available in your browser to edit your local files.</li> </ul> <pre><code>$ make run ANSIBLE_VERSION=2.10\ndocker run --rm -it \\\n-e AVD_REQUIREMENTS= \\\n-e AVD_ANSIBLE=2.10 \\\n-e AVD_GIT_USER=\"xxxxx\" \\\n-e AVD_GIT_EMAIL=\"xxxxx\" \\\n-v /var/run/docker.sock:/var/run/docker.sock \\\n-v /Users/tgrimonet/Projects/arista-ansible/:/projects \\\n-v /etc/hosts:/etc/hosts avdteam/base:3.6\nInstall ansible with version 2.10\nCollecting ansible==2.10\n  Downloading ansible-2.10.0.tar.gz (14.1 MB)\n...\n</code></pre>"},{"location":"docs/contribution/setup-environment.html#command-for-image-management","title":"Command for image management","text":"<ul> <li><code>update</code>: Get latest version of AVD runner and mkdoc servers</li> <li><code>clean</code>: Remove AVD image from local repository</li> </ul>"},{"location":"docs/contribution/setup-environment.html#run-avd-shell","title":"Run AVD shell","text":"<p>We\u2019re going to start a new container running Ansible with all the python requirements and mount local folder under <code>/projects</code>. If the image is missing, docker will pull it automatically.</p> <pre><code>$ docker run --rm -it -v ${pwd}/:/projects avdteam/base:3.6\nUnable to find image 'avdteam/base:3.6' locally\n3.6: Pulling from avdteam/base\nbf5952930446: Already exists\n385bb58d08e6: Already exists\nf59c6df69726: Already exists\ncc14d0cfa632: Already exists\nf4eba3bd5be8: Already exists\n55c6a5feb373: Already exists\n83464a988ea4: Pull complete\n9b675b85887d: Pull complete\n9cce9aa068f4: Pull complete\na49dbba0fea8: Pull complete\n793f98fe2265: Pull complete\nDigest: sha256:ead3ef030caa6caeafd6ddbfd31ce935da26b66914096c9543d9a44cca993dfd\nStatus: Downloaded newer image for avdteam/base:3.6\nAgent pid 45\n\u279c  /projects\n</code></pre> <p>You can use the Make command to run the exact same set of actions:</p> <pre><code>$ make run\nUnable to find image 'avdteam/base:3.6' locally\n3.6: Pulling from avdteam/base\nbf5952930446: Already exists\n385bb58d08e6: Already exists\nf59c6df69726: Already exists\ncc14d0cfa632: Already exists\nf4eba3bd5be8: Already exists\n55c6a5feb373: Already exists\n83464a988ea4: Pull complete\n9b675b85887d: Pull complete\n9cce9aa068f4: Pull complete\na49dbba0fea8: Pull complete\n793f98fe2265: Pull complete\nDigest: sha256:ead3ef030caa6caeafd6ddbfd31ce935da26b66914096c9543d9a44cca993dfd\nStatus: Downloaded newer image for avdteam/base:3.6\nAgent pid 45\n\u279c  /projects\n</code></pre> <p>Then you can move to your content folder as structure remains the same:</p> <pre><code>\u279c  /projects ls -l\ndrwxr-xr-x 24 root root  768 Sep  4 15:47 ansible-avd\ndrwxr-xr-x 24 root root  768 Sep  4 15:47 ansible-cvp\ndrwxr-xr-x 24 root root  768 Sep  4 15:47 ansible-avd-cloudvision-demo\ndrwxr-xr-x 24 root root  768 Sep  4 15:47 Makefile\n</code></pre> <p>You can validate if everything is set up correctly:</p> <pre><code>\u279c  /projects python --version\nPython 3.6.12\n\n\u279c  /projects ansible --version\nansible 2.10.7\n  config file = None\n  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']\nansible python module location = /root/.local/lib/python3.6/site-packages/ansible\n  executable location = /root/.local/bin/ansible\n  python version = 3.6.12 (default, Aug 18 2020, 04:28:43) [GCC 8.3.0]\n</code></pre> <p>To exit the container, use <code>exit</code></p> <pre><code>\u279c  /projects exit\n$\n</code></pre>"},{"location":"docs/contribution/setup-environment.html#get-latest-image-of-avd-container","title":"Get latest image of AVD container","text":"<p>The AVD container is updated frequently, to reflect some changes in either python requirements or Ansible version. Because your docker engine won\u2019t get the latest version automatically, it\u2019s important to manually update this container:</p> <pre><code>$ docker pull avdteam/base:3.6\nlatest: Pulling from avdteam/base\n8a29a15cefae: Already exists\n95df01e08bce: Downloading [==============================================&gt;    ]  33.55MB/36.35MB\n512a8a4d71f7: Downloading [=========================================&gt;         ]   45.1MB/53.85MB\n209c1657264b: Download complete\nbd6eece0221e: Downloading [===================&gt;                               ]  52.04MB/132.1MB\n036c486feecb: Waiting\n</code></pre> <p>Your environment is now ready and you can start to build your own project leveraging ansible-avd and ansible-cvp collections.</p>"},{"location":"docs/contribution/setup-environment.html#using-python-3-virtual-environment-feature","title":"Using Python 3 Virtual Environment feature","text":"<p>This section describes how to configure python to run the ansible-AVD.</p> <p>As a requirement, we consider python3 as the default python interpreter and pip3 as package manager for python3. Some differences can be spotted depending on your own operating system and how they package python.</p> <p>Disclaimer: Not a preferred method. If you aren\u2019t an experienced user, please use docker approach.</p> <p>In a shell, install <code>virtualenv</code> package:</p> <pre><code># install virtualenv via pip3\nsudo pip3 install virtualenv\n</code></pre> <p>Create a dedicated virtual environment where AVD will install all required Python packages:</p> <pre><code>$ pwd\n/home/user/git_projects\n\n# Configure Python virtual environment\n$ virtualenv -p python3 .venv\n$ source .venv/bin/activate\n\n# Install Python requirements\n$ pip3 install -r ansible-avd/ansible_collections/arista/avd/requirements.txt\n...\n</code></pre>"},{"location":"docs/contribution/setup-git.html","title":"Git Installation","text":"<p>Using Git as source of collection in Ansible provides an easy way to implement all the changes once they\u2019re part of the development branch without waiting for a new tagged version shipped to ansible-galaxy.</p>"},{"location":"docs/contribution/setup-git.html#use-git-as-source-of-collection","title":"Use Git as source of collection","text":"<p>In this setup, Git repository will be used by Ansible as collection. It\u2019s useful when working on feature development as we can change Git branch and test code live.</p>"},{"location":"docs/contribution/setup-git.html#get-repository-locally","title":"Get repository locally","text":"<pre><code># Clone repository\ngit clone https://github.com/aristanetworks/ansible-avd.git\n\n# Move to git folder\ncd ansible-avd\n</code></pre>"},{"location":"docs/contribution/setup-git.html#update-your-ansiblecfg","title":"Update your <code>ansible.cfg</code>","text":"<p>In your project, update your <code>ansible.cfg</code> file to point collection_paths to your local version of ansible-avd</p> <ul> <li>Get full path to your newly cloned AVD repository.</li> </ul> <pre><code># Get your current location\n$ pwd\n/path/to/ansible/avd/collection_repository\n</code></pre> <ul> <li>Configure your project to use AVD repository as source of collections:</li> </ul> <pre><code># Update your ansible.cfg in your playbook project\n# $ vim ansible.cfg\n[default]\n...\ncollections_paths = /path/to/ansible/avd/collection_repository\n...\n</code></pre>"},{"location":"docs/contribution/setup-git.html#build-install-collection-from-git","title":"Build &amp; install collection from Git","text":"<p>In this approach, an Ansible collection package is built from current Git version and installed locally.</p>"},{"location":"docs/contribution/setup-git.html#clone-repository","title":"Clone repository","text":"<pre><code>git clone https://github.com/aristanetworks/ansible-avd.git\ncd ansible-avd\n</code></pre>"},{"location":"docs/contribution/setup-git.html#build-and-install-collection","title":"Build and install collection","text":"<p>This section should be used only to test collection packaging and to create an offline package to ship on your internal resources if required.</p> <pre><code>ansible-galaxy collection build --force ansible_collections/arista/avd\nansible-galaxy collection install arista-avd-&lt;VERSION&gt;.tar.gz\n</code></pre>"},{"location":"docs/contribution/style-guide.html","title":"AVD Coding Style","text":"<p>This page provides a list of guidelines to apply when developing Python code or Jinja2 template in the AVD context. These rules apply for either creation or update of any Python or Jinja2 file available in a <code>aristanetworks/ansible-avd</code> repository.</p>"},{"location":"docs/contribution/style-guide.html#python-code-style","title":"Python code style","text":"<p>As AVD is an Ansible collection, we\u2019re required to follow guidelines from the official Ansible documentation for all Python code.</p> <p>Furthermore the CI Pipeline (&amp; pre-commit) for AVD enforces:</p> <ul> <li>Maximum line length 160</li> <li>Black version 22.8.0</li> <li>isort version 5.12.0</li> <li>Flake-8 version 4.0.1</li> <li>pylint version 2.6.0</li> </ul> <p>Configurations for above tools can be found in:</p> <ul> <li>pyproject.toml</li> <li>.pre-commit-config.yaml</li> <li>.flake8</li> <li>pylintrc</li> </ul>"},{"location":"docs/contribution/style-guide.html#jinja2-syntax-guidelines","title":"Jinja2 Syntax guidelines","text":""},{"location":"docs/contribution/style-guide.html#syntax-1-use-variable-in-jinja","title":"SYNTAX-1 - Use variable in Jinja","text":"<ul> <li> <p>Description</p> <p>A single space shall be added between Jinja2 curly brackets and a variable\u2019s name</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{{ ethernet_interface }}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#syntax-2-filter-syntax","title":"SYNTAX-2 - Filter syntax","text":"<ul> <li> <p>Description</p> <p>When variables are used in combination with a filter, <code>|</code> shall be enclosed by space</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{{ my_value | to_json }}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#syntax-3-indentation-for-statement-blocks","title":"SYNTAX-3 - Indentation for statement blocks","text":"<ul> <li> <p>Description</p> <p>Nested jinja code block shall follow the next rules:</p> <ul> <li>All J2 statements must be enclosed by 1 space</li> <li>All J2 statements must be indented by 4 more spaces within the jinja delimiter</li> <li>To close a control, the end tag must have the same indentation level as the opening tag</li> <li>Indentation must be 4 spaces and NOT tabulation</li> </ul> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{# Initial block indentation #}\n{% if my_variable is arista.avd.defined %}\n{# Nested block indentation #}\n{% for ethernet_interface in ethernet_interfaces %}\n{%     if ethernet_interface.name is arista.avd.defined %}\n{%         set result = ethernet_interface.name %}\n{# ..... output truncated ..... #}\n{%     endif %}\n{% endfor %}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#syntax-4-expand-list-on-a-single-line","title":"SYNTAX-4 - Expand list on a single line","text":"<ul> <li> <p>Description</p> <p>Instead of doing a for loop on a single line, the <code>join</code> filter should be leveraged as much as possible</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{{ ciphers | join(\", \") }}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#syntax-5-test-if-a-variable-in-a-list","title":"SYNTAX-5 - Test if a variable in a list","text":"<ul> <li> <p>Description</p> <p>To test if a variable is part of a list, the <code>in</code> operator should be used as much as possible to avoid long <code>if/elif/else</code> block.</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{% if underlay_routing_protocol is arista.avd.defined and underlay_routing_protocol in ['isis', 'ospf'] %}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#syntax-6-render-long-cli","title":"SYNTAX-6 - Render long CLI","text":"<ul> <li> <p>Description</p> <p>When a long CLI with multiple options needs to be built, use pure J2 logic and then print</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{% for ip_helper in vlan_interfaces[vlan_interface].ip_helpers | arista.avd.natural_sort %}\n{%     set ip_helper_cli = \"ip helper-address \" ~ ip_helper %}\n{%     if vlan_interfaces[vlan_interface].ip_helpers[ip_helper].vrf is arista.avd.defined %}\n{%         set ip_helper_cli = ip_helper_cli ~ \" vrf \" ~ vlan_interfaces[vlan_interface].ip_helpers[ip_helper].vrf %}\n{%     endif %}\n{%     if vlan_interfaces[vlan_interface].ip_helpers[ip_helper].source_interface is arista.avd.defined %}\n{%         set ip_helper_cli = ip_helper_cli ~ \" source-interface \" ~ vlan_interfaces[vlan_interface].ip_helpers[ip_helper].source_interface %}\n{%     endif %}\n{{ ip_helper_cli }}\n{% endfor %}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#yaml-variable-definition","title":"YAML Variable definition","text":""},{"location":"docs/contribution/style-guide.html#var-1-variable-name-case","title":"VAR-1 - Variable name case","text":"<ul> <li> <p>Description</p> <p>All variables shall use lower case</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{{ variable }}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#var-2-variable-name-format","title":"VAR-2 - Variable name format","text":"<ul> <li> <p>Description</p> <p>If a variable is multi-words, underscore <code>_</code> shall be used as a separator.</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{{ my_variable_name }}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#var-3-iterable-variables","title":"VAR-3 - Iterable variables","text":"<ul> <li> <p>Description</p> <p>For an iterable variable, the plural form shall be used</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{{ ethernet_interfaces }}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#var-4-variables-in-a-for-loop","title":"VAR-4 - Variables in a For Loop","text":"<ul> <li> <p>Description</p> <p>For variables in a for loop, the singular form shall be used</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{{ ethernet_interfaces[ethernet_interface] }}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#var-5-variables-concatenation","title":"VAR-5 - Variables concatenation","text":"<ul> <li> <p>Description</p> <p>Tilde <code>~</code> should be used for string concatenation as it automatically converts variables to a string.</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{% set ip_helper_cli = ip_helper_cli ~ \" source-interface \" ~ vlan_interfaces[vlan_interface].ip_helpers[ip_helper].source_interface %}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#var-6-variable-type-comparison","title":"VAR-6 - Variable type comparison","text":"<ul> <li> <p>Description</p> <p>To test the type of a variable, it\u2019s recommended to use <code>is</code>/<code>is not</code> keywords</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{# Test if variable is string #}\n{% if ethernet_interface is string %}\n{# Test if variable is not a string #}\n{% if ethernet_interface is not string %}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#var-7-variable-content-comparison","title":"VAR-7 - Variable content comparison","text":"<ul> <li> <p>Description</p> <p>To test the content of a variable, it\u2019s recommended to use <code>==</code>/<code>!=</code> keywords</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{# Test if variable is equal to 'Ethernet1' #}\n{% if ethernet_interface == 'Ethernet1' %}\n{# Test if variable is not equal to 'Ethernet1' #}\n{% if ethernet_interface != 'Ethernet1' %}\n</code></pre> <p>Info</p> <p>PLUGIN-2 can do a test if the variable is defined and has a specific value</p> </li> </ul>"},{"location":"docs/contribution/style-guide.html#var-8-string-comparison","title":"VAR-8 - String comparison","text":"<ul> <li> <p>Description</p> <p>All strings should be compared based on lowercase format.</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{% if underlay_routing_protocol is arista.avd.defined and underlay_routing_protocol | lower in ['isis', 'ospf'] %}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#avd-plugins-usage","title":"AVD Plugins usage","text":"<p>Plugins documentation is available here</p>"},{"location":"docs/contribution/style-guide.html#plugin-1-test-if-a-variable-exists","title":"PLUGIN-1 - Test if a variable exists","text":"<ul> <li> <p>Description</p> <p>All tests to check if a variable is defined shall be done with <code>arista.avd.defined</code>. This test also does a deep test and doesn\u2019t require a test at an upper level.</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{# Simple test #}\n{% if ethernet_interfaces is arista.avd.defined %}\n{# Deep test #}\n{% if router_bgp.vrfs[vrf].rd is arista.avd.defined %}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#plugin-2-test-if-variable-exists-with-a-given-value","title":"PLUGIN-2 Test if variable exists with a given value","text":"<ul> <li> <p>Description</p> <p>To test if a variable is defined and has a specific value, the test <code>arista.avd.defined</code> shall be used.</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{% if vlan.name is arista.avd.defined('test') %}\n</code></pre> </li> </ul>"},{"location":"docs/contribution/style-guide.html#plugin-3-default-value","title":"PLUGIN-3 - Default value","text":"<ul> <li> <p>Description</p> <p>If a default value must be used, the <code>arista.avd.default</code> plugin shall be used instead of a <code>if/else</code> block. The plugin can be used to fallback to different values until one of them is defined and valid.</p> </li> </ul> <ul> <li> <p>Example</p> <pre><code>{# Simple default test with one default value #}\n{{ vlan.name | arista.avd.default('test_vlan') }}\n{# Default test with a list of default options #}\n{{ vlan.name | arista.avd.default(default.vlan.name, 'test_vlan') }}\n</code></pre> </li> </ul>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html","title":"AVD and Ansible Overview","text":""},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#day-1-operation-ie-provisioning-a-network-from-scratch","title":"Day 1 Operation (i.e. provisioning a network from scratch)","text":"<p>Imagine being asked to configure a layer 3 leaf spine (L3LS) network from scratch:</p> <p></p> <p>Traditionally one would configure the switches manually using a laptop, console cable, and USB key to load the correct EOS software image and configuration. Of course, the configuration would be manually generated, using snippets from the relevant Arista design guides, or copying/pasting from existing devices. Configurations would have to be manually adapted to each and every device, which is time-consuming and prone to errors. Consider what would happen if a new pair of leaf switches or new VRFs/VLANs are added to the network - changes would need to be made to most of the devices.</p> <p>Using Arista Validated Designs (AVD), this task is automated, greatly simplified, and made considerably faster. All the basic network configuration is guaranteed to be identical across the entire fabric from day one. No longer do you have to manually inspect each device for errors or differences. AVD will ensure the consistency and accuracy of your configuration not only for initial deployment but for all subsequent network changes.</p> <p>AVD is also based on best practice from Arista Design and Deployment Guides, meaning you get the full benefit of Arista\u2019s experience in deploying large scale leaf spine fabrics. AVD fully integrates with Arista CloudVision, which adds a change control workflow, continuous compliance check, and network topology overview as well as real-time streaming telemetry including flow-based data and more.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#what-is-ansible","title":"What is Ansible?","text":"<p>The Red Hat\u00ae Ansible\u00ae Automation Platform is an open source tool, released in 2012 and acquired by Red Hat in 2015. Ansible is an automation engine that can be used for many purposes including:</p> <ul> <li>Server software provisioning</li> <li>Configuration management</li> <li>Application deployment</li> </ul> <p>It\u2019s easily extended through the use of Ansible Collections - essentially prepackaged groups of Ansible components such as playbooks, roles, modules and plugins - that are distributed through Ansible Galaxy.</p> <p>Between the core Ansible software and third-party-contributed collections, we can use Ansible to carry out almost any automated task on a network, server, or cloud platform in a consistent, secure, and distributed way.</p> <p>Consistency of tasks carried out is assured through idempotency - that the outcome of an operation is only performed once and only if necessary, no matter how many times that process is carried out. A simple example of idempotency would be a pair of on/off buttons for a machine - no matter how many times you push \u2018on,\u2019 the device will only turn on once.</p> <p>Unlike other tools, Ansible doesn\u2019t use a proprietary communications mechanism or agent on the device being managed. Instead, it leverages industry-standard protocols for device access, including SSH and REST APIs. This also means that Ansible doesn\u2019t require the setup of any unique infrastructure - it\u2019s entirely possible to automate tasks using nothing but your laptop or desktop computer (but a central deployment server is recommended).</p> <p>Ansible describes tasks in a structured language called YAML. Unlike other languages such as JSON and XML, YAML was designed to be human-readable. YAML will be covered further later on in the section How does Ansible work.</p> <p>By now, you can probably appreciate that we can use Ansible to automate many things. This document will focus only on using Ansible to provision Arista EOS devices with or without Arista CloudVision.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#what-are-the-requirements-to-run-ansible","title":"What are the requirements to run Ansible?","text":"<p>Ansible can run on almost anything, but in production scenarios, Ansible is typically deployed on a virtual Linux server, running on the customer\u2019s preferred hypervisor. This Ansible server then communicates directly with the Arista network devices via eAPI or Arista CloudVision Portal, which in turn communicates with the Arista network devices. Controlling what Ansible does is typically done using an SSH terminal session to the Ansible server from the Operator\u2019s computer.</p> <p></p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#what-is-the-aristaavd-collection","title":"What is the arista.avd collection?","text":"<p>Arista.avd is an Ansible collection for Arista Validated Designs. It\u2019s maintained by Arista and accepts third-party contributions on GitHub at aristanetworks/ansible-avd.</p> <p>While Ansible is the core automation engine, AVD is an Ansible Collection described above. It provides roles, modules, and plugins that allows the user to generate and deploy best-practice configurations to a layer three leaf-spine network.</p> <p></p> <p>The illustration above shows the AVD collection as a box with a red background on the right-hand side.</p> <p>When designing an EVPN/VXLAN L3LS fabric, you don\u2019t need to spend hours reading through the Arista Design and Deployment Guides. Instead, the AVD collection will implement those rules and guidelines.</p> <p>AVD is an opinionated collection, meaning field experiences and best practices from actual deployments at Arista customers are included. With AVD, users get up and running quickly without inventing every part of the network configuration from scratch. This means the user must provide only the most basic information to get a new fabric up and running.</p> <p>Parameters which need to be defined by the user include (but aren\u2019t limited to):</p> <ul> <li>Username/password for network devices and CloudVision</li> <li>OOB management IP range</li> <li>IP scope for link addresses</li> <li>IP scope for loopback interfaces</li> <li>VLAN and VNI ranges</li> <li>Device hostnames</li> <li>Autonomous System numbers</li> <li>Interface connections between devices</li> <li>Which devices are acting in each role, such as spine or leaf.</li> </ul> <p>From the details above, AVD will generate complete EOS configuration files that we can deploy to the devices. AVD also uses the information provided to produce full documentation of the current intended state of the network.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#when-and-when-not-to-use-avd","title":"When and when not to use AVD","text":"<p>It\u2019s important to note when and perhaps more importantly, when not to use AVD.</p> <p>AVD is designed to generate and deploy complete configuration files where the network device\u2019s running configuration is entirely replaced. As such, caution should be exercised when running AVD against an existing manually configured network. We can take various approaches under such circumstances:</p> <ul> <li>Compare AVD-generated configurations against device running configurations; make changes to the AVD input data and iterate until the configurations are functionally equivalent.</li> <li>Use AVD to generate partial configurations that we can be apply to devices in such a way that won\u2019t destroy existing manual configuration.</li> <li>Use AVD to generate configurations part-based on automation, part-based on manual configuration included into AVD using AVD\u2019s <code>structured_configuration</code>, <code>raw_eos_cli</code> or <code>custom_template</code> facilities.</li> </ul> <p>Automating the provisioning of network infrastructure makes the most sense when the network is built from repeatable building blocks. These allow for code reuse and the abstraction of data. For example, point-to-point links are allocated IP subnets from a much larger pool in most leaf-spine networks. This is a tedious job for a human to design and configure but is an ideal candidate to be automated. However, automation may take longer to achieve in a network that has evolved rather than been designed from the ground up.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#change-your-mindset-and-culture","title":"Change your mindset and culture","text":"<p>Many network engineers prefer to use the CLI for all things networking, like troubleshooting, ad-hoc operational configuration changes, and full-blown greenfield provisioning tasks.</p> <p>To harvest the full benefit of Ansible and Ansible AVD, you must learn to think differently and change your working methods.</p> <p>Ansible should be your first choice when changing your network configuration, whether small or big. The CLI should only be used for troubleshooting, i.e., viewing the state of your network or those urgent scenarios at 2 AM where you need to change something particular on just one or two devices, followed by proper configuration cleanup later.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#how-does-ansible-work","title":"How does Ansible work?","text":"<p>Before we can tell Ansible to do anything, Ansible needs to know about your network\u2019s devices (or hosts).</p> <p>This is defined in the Ansible inventory. Per the official Ansible documentation, the inventory is a file type in either INI or YAML format, but other inventory sources can be used. In Ansible AVD, we use YAML format by default; hence the file is called inventory.yml, located in the Ansible AVD project folder (in this case, <code>single-dc-l3ls</code>):</p> <p></p> <p>Please note that the example above is taken from the Ansible AVD Examples repository, specifically the <code>Single-DC-L3LS</code>.</p> <p>The exact name of the inventory file isn\u2019t important, but is provided to Ansible in the <code>ansible.cfg</code> file for the project or as <code>ansible-playbook -i ./inventory.yml</code> when later running Ansible.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#inventories","title":"Inventories","text":"<p>An example of a snippet of the inventory.yml file is shown below (a subset of an actual file for clarity).</p> <p>As stated earlier, this file is in YAML format.</p> <p>The hostnames specified in the inventory must exist either in DNS or in the hosts file on your Ansible host to allow successful name lookup and be able to reach the switches directly. To test this, you must be able to successfully ping the host, for example, <code>ping dc1-spine1</code> from your Ansible host. Alternatively, if there is no DNS available, or if devices need to be reached using a fully qualified domain name (FQDN), define <code>ansible_host</code> to be an IP address or FQDN for each device - see dc1-spine1/2 below for an example:</p> <pre><code>---\nall:\nchildren:\nFABRIC:\nchildren:\nDC1:\nchildren:\nDC1_SPINES:\nhosts:\ndc1-spine1:\nansible_host: 172.16.1.11\ndc1-spine2:\nansible_host: 172.16.1.12\n</code></pre> <p>However, going forward, we expect that all hostnames specified are resolvable hence the entire inventory file looks as follows:</p> <pre><code>---\nall:\nchildren:\nFABRIC:\nchildren:\nDC1:\nchildren:\nDC1_SPINES:\nhosts:\ndc1-spine1:\ndc1-spine2:\nDC1_L3_LEAVES:\nhosts:\ndc1-leaf1a:\ndc1-leaf1b:\ndc1-leaf2a:\ndc1-leaf2b:\nDC1_L2_LEAVES:\nhosts:\ndc1-leaf1c:\ndc1-leaf2c:\nNETWORK_SERVICES:\nchildren:\nDC1_L3_LEAVES:\nDC1_L2_LEAVES:\nCONNECTED_ENDPOINTS:\nchildren:\nDC1_L3_LEAVES:\nDC1_L2_LEAVES:\n</code></pre> <p>Don\u2019t confuse hosts with servers or similar. A host can be anything that can be accessed via SSH or an API, to be managed by Ansible, including Arista switches.</p> <p>The settings inside the inventory.yml file are defined in a tree-like structure using groups. Groups can contain hosts or other groups - making it easier to apply a common configuration to a group of devices.</p> <p>The all line at the top is a default group that contains all hosts, i.e., all switches. So don\u2019t worry too much about that for now.</p> <p>The children: keyword is used to define \u201cgroups of groups,\u201d i.e., just an internal keyword to differentiate between hosts and groups.</p> <p>The figure below is just a visualization of the same text file, showing the different grouping and parent/child relationships:</p> <p></p> <p>The key takeaway is that configuration defined at a higher (parent) level will be inherited by the children, but if needed, this can be overridden by specifying it again, i.e., most specific wins.</p> <p>More information about Ansible inventories can be found here.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#organizing-host-and-group-variables","title":"Organizing host and group variables","text":"<p>AVD makes use of variables defined in the inventory to generate the EOS configuration files necessary to configure the devices. While these variables can be stored in the main inventory file described earlier, it\u2019s highly recommended to use separate files for host and group variables. Like the inventory.yml file, the host and group variables are also stored in dedicated folders named accordingly in YAML files.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#group-variables","title":"Group Variables","text":"<p>Group variables are defined in YAML files inside the <code>group_vars</code> folder:</p> <p></p> <p>Each file in the <code>group_vars</code> folder controls the variables for one of the groups defined in the <code>inventory.yml</code> file. So, for example, settings for the whole network can be specified in <code>DC1.yml</code> and later overridden in <code>DC1_SPINES.yml</code> for just the hosts inside that group (DC1 spine switches in this case).</p> <p>A subset of DC1.yml is shown below:</p> <pre><code>---\n# Default gateway used for the management interface\nmgmt_gateway: 172.16.1.1\n# Spine switch group\nspine:\n# Definition of default values that will be configured to all nodes defined in this group\ndefaults:\n# Set the relevant platform as each platform has different default values in Ansible AVD\nplatform: vEOS-lab\n# Pool of IPv4 addresses to configure interface Loopback0 used for BGP EVPN sessions\nloopback_ipv4_pool: 10.255.1.0/27\n# ASN to be used by BGP\nbgp_as: 65100\n# BGP configuration for fine tuning\nbgp_defaults:\n# The two following commands must not be enabled when using vEOS-lab\n# - update wait-for-convergence\n# - update wait-install\n- no bgp default ipv4-unicast\n- distance bgp 20 200 200\n- graceful-restart restart-time 300\n- graceful-restart\n# Definition of nodes contained in this group.\n# Specific configuration of device must take place under the node definition. Each node inherites all values defined under 'defaults'\nnodes:\n# Name of the node to be defined (must be consistent with definition in inventory)\ndc1-spine1:\n# Device ID definition. An integer number used for internal calculations (ie. IPv4 address of the loopback_ipv4_pool among others)\nid: 1\n# Management IP to be assigned to the management interface\nmgmt_ip: 172.16.1.11/24\ndc1-spine2:\nid: 2\nmgmt_ip: 172.16.1.12/24\n</code></pre> <p>Below is a subset of the FABRIC.yml file:</p> <pre><code>---\n# Ansible connectivity definitions\n# eAPI connectivity via HTTPS is specified (as opposed to CLI via SSH)\nansible_connection: ansible.netcommon.httpapi\n# Specifies that we are indeed using Arista EOS\nansible_network_os: arista.eos.eos\n# This user/password must exist on the switches to enable Ansible access\nansible_user: ansible\nansible_password: ansible\n# User escalation (to enter enable mode)\nansible_become: true\nansible_become_method: enable\n# Use SSL (HTTPS)\nansible_httpapi_use_ssl: true\n# Do not try to validate certs\nansible_httpapi_validate_certs: false\n# Common AVD group variables\nfabric_name: FABRIC\n# Local users\nlocal_users:\n# Define a new user, which is called \"ansible\"\nansible:\nprivilege: 15\nrole: network-admin\n# Password set to \"ansible\". Same string as the device generates when configuring a username.\nsha512_password: $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\nadmin:\nprivilege: 15\nrole: network-admin\nno_password: true\n</code></pre> <p>The above snippet defines a number of defaults that apply to all children of FABRIC along with configuration specific to each leaf pair and finally each individual leaf switch.</p> <p>We can override group variables by specifying host variables for specific devices. (see DEFAULT_HASH_BEHAVIOUR). The order of precedence is (from lowest to highest):</p> <ul> <li>\u2018All\u2019 group (because it\u2019s the \u2018parent\u2019 of all other groups).</li> <li>Parent group</li> <li>Child group</li> <li>Host</li> </ul> <p>You can read more about group and host variables here.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#playbooks","title":"Playbooks","text":"<p>Now that the Ansible inventory is defined, we can tell Ansible what to do on the switches. This is defined in one or more Ansible playbooks.</p> <p>Like an inventory file, a playbook is a text file written using YAML format containing one or more plays.</p> <p>Each play is configured to run on a particular host or group of hosts and contains one or more tasks.</p> <p>Each task calls an Ansible role or module, such as ansible.avd.eos_cli_config_gen. The tasks in conjunction with the roles or modules they\u2019re calling are responsible for performing a particular task or set of tasks.</p> <p>A playbook runs in order from top to bottom. Within each play, tasks also run in order from top to bottom.</p> <p>Playbooks with multiple plays can orchestrate multi-machine deployments, running one play on your Ansible development machine, another on your CloudVision instance, and another on each EOS device you look to configure.</p> <p>At a minimum, each play defines two things:</p> <ol> <li>The managed devices (hosts) to target, referenced from the inventory we defined earlier.</li> <li>One or more tasks to execute on defined targets.</li> </ol> <p>The hosts specified in a playbook typically reference groups defined in the inventory. You can select large or small groups of the inventory from a playbook, right down to individual hosts, to be as specific as possible with any configuration changes.</p> <p>A simple example of a play defined in a playbook is shown below:</p> <pre><code>---\n- name: Run AVD\nhosts: FABRIC\ngather_facts: false\ntasks:\n- name: Generate intended variables\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n- name: Generate device intended config and documentation\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n</code></pre> <p>At the top of the file, the hosts keyword references the inventory group FABRIC.</p> <p>Recall that the group variables are defined in the inventory.yml file and in the group_vars directory. Effectively this means that the hosts keyword establishes the scope of devices on which to execute the play.</p> <p>Following the scope definition, the tasks are then defined.</p> <p>In this example, the play executes two tasks:</p> <ol> <li>Import a role called arista.avd.eos_designs.</li> <li>Import a role called arista.avd.eos_cli_config_gen.</li> </ol> <p>The arista.avd.eos_designs role takes inputs from a number of places:</p> <ul> <li>role/defaults definitions</li> <li>group_vars</li> <li>host_vars</li> </ul> <p>Based on some or all of these inputs, it generates the following output:</p> <ul> <li>A structured EOS configuration in YAML format.</li> <li>Fabric Documentation in Markdown format.</li> <li>Leaf and Spine Topology summary in CSV format.</li> </ul> <p>The second role, arista.avd.eos_cli_config_gen uses the structured EOS configuration in YAML format as its input (generated by arista.avd.eos_designs) and outputs the following:</p> <ul> <li>EOS configuration in CLI format.</li> <li>Device Documentation in Markdown format.</li> </ul> <p>Running the play described above would result in several files containing the configuration and documentation for the devices in scope - in this case, DC1_FABRIC. Then, to apply the configuration to the actual devices, you would run additional roles such as:</p> <ul> <li>eos_config_deploy_cvp, which deploys the EOS configuration via the CloudVision Management platform, including change control with RBAC and full rollback capability.</li> <li>eos_config_deploy_eapi, which deploys the EOS configuration directly to Arista devices using config replace. This option provides no change control and no rollback capability.</li> </ul> <p>While this play shows both the <code>eos_designs</code> and <code>eos_cli_config_gen</code> roles used together, it\u2019s entirely possible to make use of just <code>eos_cli_config_gen</code> by itself - this would allow (for example) generation of management configuration that could potentially be merged into an existing network as discussed earlier.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#source-of-truth","title":"Source of Truth","text":"<p>In a legacy network where configuration isn\u2019t administered centrally, you have very little control of the relationship between the configuration you intend to be applied to the network and the configuration running on the network. You might have centralized low-level design documents describing how the network should function in great detail, but you don\u2019t have much but the best intentions to ensure that your entire network is working as you intended. As a result, it takes only a single configuration mistake on a single device to create havoc.</p> <p>Since operating many networking devices also typically results in having many networking engineers, there is even more room for error. Different people do things differently, and repetitive tasks aren\u2019t always executed in the same manner.</p> <p>With AVD, you define not only the topology of your network centrally but also which services are used where in a central repository of text files. Furthermore, because this data is stored in text files, it\u2019s possible to apply version control (for example, using tools like git, subversion, or mercurial) to this source of truth, giving you visibility of when the intended configuration was changed and by who.</p> <p>This source of truth means you have a complete overview of your entire designed network configuration without having to look at individual network devices. An additional benefit of AVD is that by design, you always have a backup of your network configuration. Including automated documentation in markdown format, you no longer have to remember to update documentation about which interface is connected to which device, etc., whenever you change something on a device. Instead, it\u2019s all done automatically based on the configuration built and applied to the network devices by Ansible every time you execute the playbooks.</p> <p>Below you will find two examples of documentation automatically created by Ansible AVD:</p> <ul> <li>Documentation for L3LS fabric</li> <li>A single leaf inside the fabric above</li> </ul>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#how-do-i-use-avd","title":"How do I use AVD?","text":"<p>AVD comes with pre-built templates that you can either use as-is or adapt to your liking.</p> <p>Once the templates reflect your desired network configuration, you deploy the configuration either directly to the Arista EOS devices or to Configlets within CloudVision. This is typically executed from the CLI - for example, from your Ansible AVD Examples directory.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#using-ansible-avd-with-direct-eapi-connectivity-to-the-switches","title":"Using Ansible AVD with direct eAPI connectivity to the switches","text":"<p>If you want to push to switches in the entire fabric using eAPI and your playbook looks as follows:</p> <pre><code>---\n- name: Run AVD\nhosts: FABRIC\ngather_facts: false\ntasks:\n- name: Generate intended variables\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n- name: Generate device intended config and documentation\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n- name: Deploy configuration to device\nansible.builtin.import_role:\nname: arista.avd.eos_config_deploy_eapi\n</code></pre> <p>You would execute it using the following command if your playbook is called <code>playbook.yml</code>:</p> <pre><code>ansible-playbook playbook.yml\n</code></pre> <p>This will:</p> <ul> <li>Create a text file containing the device\u2019s entire configuration.</li> <li>Create device-specific and fabric-wide documentation.</li> <li>Push the relevant configuration to each device using eAPI.</li> </ul>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#using-ansible-avd-in-conjunction-with-cloudvision","title":"Using Ansible AVD in conjunction with CloudVision","text":"<p>If you want to push to switches in the entire fabric using CloudVision and your playbook looks as follows:</p> <pre><code>---\n- name: Run AVD\nhosts: FABRIC\ngather_facts: false\ntasks:\n- name: Generate intended variables\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n- name: Generate device intended config and documentation\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n- name: Deploy configuration to device\nansible.builtin.import_role:\nname: arista.avd.eos_config_deploy_eapi\n- name: Push to CVP\nhosts: CVP\ngather_facts: false\nconnection: local\ntasks:\n- name: Run CVP provisioning\nansible.builtin.import_role:\nname: arista.avd.eos_config_deploy_cvp\nvars:\ncontainer_root: 'DC1'\nconfiglets_prefix: 'AVD'\nexecute_tasks: false\nstate: present\ncv_collection: v3\n</code></pre> <p>You would execute it using the same command:</p> <pre><code>ansible-playbook playbook.yml\n</code></pre> <p>This will:</p> <ul> <li>Create a CloudVision Configlet for each device in the inventory, containing the device\u2019s entire configuration.</li> <li>Build out containers within CloudVision that represent the hierarchy of groups in the inventory.</li> <li>Create tasks to apply the new configuration to each device within the inventory.</li> </ul> <p>At this point, the changes can be reviewed, approved, and executed following existing company requirements through CloudVision.</p> <p>Once the configuration has been deployed, automated validation of the designed configuration versus the running configuration can be executed using the included <code>eos_validate_state</code> role to ensure that:</p> <ul> <li>All links are operational and cabled as desired.</li> <li>BGP adjacencies are operational.</li> <li>There are no device hardware issues (for example, PSU or fan).</li> <li>That VTEPs can all reach each other using their loopback IPs.</li> </ul> <p>This quickly identifies any issues that we could otherwise overlook. For example, a redundant link could sit non-operational for months unless cumbersome manual testing is executed per device throughout the fabric.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#day-2-operations","title":"Day 2 Operations","text":"<p>Day 2 operations describe most, if not all, network configuration changes that occur after the initial configuration.</p> <p>These tasks, while relatively simple, can be time-consuming simply because they involve changes to multiple devices:</p> <ul> <li>Adding/removing new leaf switches.</li> <li>Adding/removing new VLANs.</li> <li>Creating/modifying/deleting port profiles.</li> <li>Configuring/modifying ports towards end systems.</li> </ul> <p>Making these changes could involve many hours of planning to generate configuration snippets to apply during a change window.</p> <p>Alternatively, we can easily apply a configuration change to the YAML inventory/group_vars files - for example, this change could create a new VLAN and deploy this VLAN to a subset of switches.</p> <p>Once the inventory files have been updated, we can rerun the playbooks to generate new configuration files that will replace the configuration files running on the devices in the same way as the initial configuration.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#day-2-operations-example","title":"Day 2 Operations Example","text":"<p>Let\u2019s imagine that you want to create a new tenant in your existing fabric. This would require at least the following configuration:</p> <ul> <li>VRFs</li> <li>VLANs</li> <li>SVIs</li> </ul> <p>You could create a YAML file, in this example called NETWORK_SERVICES.yml, describing the fabric-wide generic configuration for the tenant:</p> <pre><code>---\ntenants:\n# Definition of tenants. Additional level of abstraction to VRFs\nTENANT1:\n# Number used to generate the VNI of each VLAN by adding the VLAN number in this tenant.\nmac_vrf_vni_base: 10000\nvrfs:\n# VRF definitions inside the tenant.\nVRF1:\n# VRF VNI definition.\nvrf_vni: 1\nsvis:\n# SVI definitions.\n\"11\":\n# SVI Description\nname: VRF1_VLAN11\nenabled: true\n# IP anycast gateway to be used in the SVI in every leaf.\nip_address_virtual: 10.10.11.1/24\n\"12\":\nname: VRF1_VLAN12\nenabled: true\nip_address_virtual: 10.10.12.1/24\nVRF2:\nvrf_vni: 2\nsvis:\n\"21\":\nname: VRF2_VLAN21\nenabled: true\nip_address_virtual: 10.10.21.1/24\n\"22\":\nname: VRF2_VLAN22\nenabled: true\nip_address_virtual: 10.10.22.1/24\nl2vlans:\n# These are pure L2 vlans. They do not have a SVI defined in the l3leafs and they will be bridged inside the VXLAN fabric\n\"3401\":\nname: L2_VLAN3401\n\"3402\":\nname: L2_VLAN3402\n</code></pre> <p>You would then describe the scope for where these network services should exist in the inventory.yml file:</p> <pre><code>NETWORK_SERVICES:\nchildren:\nDC1_L3_LEAVES:\nDC1_L2_LEAVES:\nDC2_L3_LEAVES:\nDC2_L2_LEAVES:\n</code></pre> <p>This specifies all switches in the fabric will be able to serve the new tenant.</p> <p>For the sake of simplicity, let\u2019s say you defined just one pair of leaf switches that would serve this tenant.</p> <p>After running the relevant playbook, their tenant-related configuration would end up looking like this:</p> <pre><code>vlan 11\nname VRF1_VLAN11\n!\nvlan 12\nname VRF1_VLAN12\n!\nvlan 21\nname VRF2_VLAN21\n!\nvlan 22\nname VRF2_VLAN22\n!\n&lt;removed for brevity&gt;\n!\nvlan 3401\nname L2_VLAN3401\n!\nvlan 3402\nname L2_VLAN3402\n!\n&lt;removed for brevity&gt;\n!\nvrf instance VRF1\n!\nvrf instance VRF2\n!\n&lt;removed for brevity&gt;\n!\ninterface Vlan11\n   description VRF1_VLAN11\n   no shutdown\n   vrf VRF1\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF1_VLAN12\n   no shutdown\n   vrf VRF1\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF2_VLAN21\n   no shutdown\n   vrf VRF2\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF2_VLAN22\n   no shutdown\n   vrf VRF2\n   ip address virtual 10.10.22.1/24\n!\n&lt;removed for brevity&gt;\n!\ninterface Vxlan1\n   description dc1-leaf1a_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\nvxlan vlan 11 vni 10011\nvxlan vlan 12 vni 10012\nvxlan vlan 21 vni 10021\nvxlan vlan 22 vni 10022\nvxlan vlan 3401 vni 13401\nvxlan vlan 3402 vni 13402\nvxlan vrf VRF1 vni 1\nvxlan vrf VRF2 vni 2\n!\n&lt;removed for brevity&gt;\n!\nip routing vrf VRF1\nip routing vrf VRF2\n!\n&lt;removed for brevity&gt;\n!\nrouter bgp 65101\n!\n   &lt;removed for brevity&gt;\n   !\n   vlan 11\nrd 10.255.1.33:10011\n      route-target both 10011:10011\n      redistribute learned\n   !\n   vlan 12\nrd 10.255.1.33:10012\n      route-target both 10012:10012\n      redistribute learned\n   !\n   vlan 21\nrd 10.255.1.33:10021\n      route-target both 10021:10021\n      redistribute learned\n   !\n   vlan 22\nrd 10.255.1.33:10022\n      route-target both 10022:10022\n      redistribute learned\n   !\n   vlan 3401\nrd 10.255.1.33:13401\n      route-target both 13401:13401\n      redistribute learned\n   !\n   vlan 3402\nrd 10.255.1.33:13402\n      route-target both 13402:13402\n      redistribute learned\n   !\n   &lt;removed for brevity&gt;\n   !\n   vrf VRF1\n      rd 10.255.1.33:1\n      route-target import evpn 1:1\n      route-target export evpn 1:1\n      router-id 10.255.1.33\n      neighbor 10.255.1.97 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF2\n      rd 10.255.1.33:2\n      route-target import evpn 2:2\n      route-target export evpn 2:2\n      router-id 10.255.1.33\n      neighbor 10.255.1.97 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre> <p>This takes place without manual intervention and with very little chance for human error.</p>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#references","title":"References","text":"<p>Below are a number of links to additional documentation about Ansible AVD and Ansible in general:</p> <ul> <li>Role documentation for eos_design</li> <li>Role documentation for eos_cli_config_gen</li> <li>RedHat Ansible Tower Documentation</li> <li>Role documentation for eos_config_deploy_cvp / eos_config_deploy_eapi</li> </ul>"},{"location":"docs/getting-started/intro-to-ansible-and-avd.html#next-steps","title":"Next steps","text":"<p>If you want to try out a complete Ansible AVD example, complete with all group variable files, inventory, playbook etc., please look in the Examples section.</p>"},{"location":"docs/how-to/first-cvp-avd-project.html","title":"Build Your First Project With AVD and CVP","text":"<p>This document explains how to customize demo information and set up an environment. A complete Git repository is available and can be used as support for this how-to document.</p> <p>Demo repository: arista-netdevops-community/ansible-avd-cloudvision-demo</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#installation-process","title":"Installation Process","text":""},{"location":"docs/how-to/first-cvp-avd-project.html#demonstration-requirements","title":"Demonstration requirements","text":""},{"location":"docs/how-to/first-cvp-avd-project.html#components","title":"Components","text":"<ul> <li>A CloudVision Portal (CVP) instance running a minimum version <code>2018.2.5</code> or CloudVision as a Service (CVaaS).</li> <li>A network topology:<ul> <li>Demo is based on a two spines / four leafs running on GNS3 but could be configured on EVE-NG platform.</li> <li>Any physical or virtual topology with out of band (OOB) connected to CVP should work.</li> </ul> </li> <li>A Python environment with CloudVision access.</li> </ul>"},{"location":"docs/how-to/first-cvp-avd-project.html#ip-address-management","title":"IP Address management","text":"<ul> <li>CloudVision IP address:<ul> <li>Cluster interface: eth0 / Should use your own IP address</li> <li>Device interface: eth1 / <code>10.255.0.1/24</code></li> </ul> </li> <li>Management Network: <code>10.255.0.0/24</code><ul> <li>DC1-SPINE1: <code>10.255.0.11/24</code></li> <li>DC1-SPINE2: <code>10.255.0.12/24</code></li> <li>DC1-LEAF1A: <code>10.255.0.13/24</code></li> <li>DC1-LEAF1B: <code>10.255.0.14/24</code></li> <li>DC1-LEAF2A: <code>10.255.0.15/24</code></li> <li>DC1-LEAF2B: <code>10.255.0.16/24</code></li> <li>DC1-L2LEAF1A: <code>10.255.0.17/24</code></li> <li>DC1-L2LEAF2B: <code>10.255.0.18/24</code></li> </ul> </li> <li>Default Username &amp; Password:<ul> <li>admin / arista123</li> <li>cvpdamin / arista123</li> <li>ansible / ansible</li> </ul> </li> <li>Servers configuration:<ul> <li>Server 01: eth0 / <code>10.1.10.11/24</code></li> <li>Server 02: eth0 / <code>10.1.10.12/24</code></li> </ul> </li> </ul> <p>This management IP addresses are used in a private virtual-network between CloudVision and Arista EOS devices.</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#configure-python-environment","title":"Configure Python environment","text":"<p>Please refer to installation page to install AVD and CVP collections.</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#configure-dhcp-server-on-cloudvision","title":"Configure DHCP server on CloudVision","text":"<p>In this scenario, we use CVP as ZTP server to provision devices and register them onto CV.</p> <p>Once you get the MAC addresses of your switches, edit file <code>/etc/dhcp/dhcpd.conf</code> in CVP. In this scenario, CVP uses the following address to connect to devices: <code>10.255.0.1</code>.</p> <p>If CVP hasn\u2019t been configured to activate ZTP services, it\u2019s highly recommended to follow these steps</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#ansible-playbook-approach","title":"Ansible playbook approach","text":"<p>An Ansible playbook is available to configure CloudVision to act as a DHCP server for your lab:</p> <ul> <li>Edit variables in <code>inventory/group_vars/CVP.yml</code></li> </ul> <pre><code>ztp:\ndefault:\nregistration: 'http://10.255.0.1/ztp/bootstrap'\ngateway: 10.255.0.3\nnameservers:\n- '10.255.0.3'\ngeneral:\nsubnets:\n- network: 10.255.0.0\nnetmask: 255.255.255.0\ngateway: 10.255.0.3\nnameservers:\n- '10.255.0.3'\nstart: 10.255.0.200\nend: 10.255.0.250\nlease_time: 300\nclients:\n- name: DC1-SPINE1\nmac: \"0c:1d:c0:1d:62:01\"\nip4: 10.255.0.11\n</code></pre> <p>Tip</p> <p>Please ensure to use quotes to define your mac-address. Otherwise, in some cases, Ansible might consider them as HEX strings.</p> <ul> <li>Edit information related to ZTP host in <code>inventory/inventory.yml</code></li> </ul> <pre><code>all:\nchildren:\nCVP:\nhosts:\nztp:\nansible_host: 10.83.28.164\nansible_user: root\nansible_password: ansible\ncvp:\nansible_httpapi_host: 10.83.28.164\nansible_host: 10.83.28.164\nansible_user: ansible\nansible_password: ansible\n[...]\nansible_httpapi_port: 443\n# Configuration to get Virtual Env information\nansible_python_interpreter: $(which python)\n</code></pre> <ul> <li>Run playbook:</li> </ul> <pre><code>$ ansible-playbook playbooks/dc1-ztp-configuration.yml\n\nPLAY [Configure ZTP service on CloudVision] *****************\n\nTASK [ztp-setup : Generate DHCPd configuration file] ********\nok: [ztp]\nTASK [ztp-setup : Check &amp; activate DHCP service on ztp] *****\nok: [ztp]\nTASK [ztp-setup : Restart DHCP service on ztp] **************\nchanged: [ztp]\nPLAY RECAP **************************************************\nztp                        : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0\n</code></pre>"},{"location":"docs/how-to/first-cvp-avd-project.html#manual-approach","title":"Manual approach","text":"<p>On your DHCP server, create configuration for all your devices. Below is an example for isc-dhcpd server.</p> <pre><code>$ vi /etc/dhcp/dhcpd.conf\n\nsubnet 10.255.0.0 netmask 255.255.255.0 {\nrange 10.255.0.200 10.255.0.250;\noption routers 10.255.0.1;\noption domain-name-servers 10.83.28.52, 10.83.29.222;\noption bootfile-name \"http://10.255.0.1/ztp/bootstrap\";\n}\nhost DC1-SPINE1 {\noption host-name \"DC1-SPINE1\";\nhardware ethernet 0c:1d:c0:1d:62:01;\nfixed-address 10.255.0.11;\noption bootfile-name \"http://10.255.0.1/ztp/bootstrap\";\n}\n[...]\n</code></pre> <p>Note</p> <p>Be sure to update ethernet address to match MAC addresses configured on your switches.</p> <p>Then, restart your DHCP server:</p> <pre><code>service dhcpd restart\n</code></pre> <p>You can start your devices and let CVP register them into the <code>undefined</code> container.</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#update-inventory","title":"Update Inventory","text":"<p>In the <code>inventory/inventory.yml</code> file, update CloudVision information to target your own setup:</p> <pre><code># inventory.yml\nall:\nchildren:\nCVP:\nhosts:\nztp:\nansible_host: 10.83.28.164\nansible_user: root\nansible_password: ansible\ncvp:\nansible_httpapi_host: 10.83.28.164\nansible_host: 10.83.28.164\nansible_user: ansible\nansible_password: ansible\n[...]\nansible_httpapi_port: 443\n# Configuration to get Virtual Env information\nansible_python_interpreter: $(which python)\n</code></pre> <p>Because Ansible will never connect to devices, there is no reason to configure IP address for EOS devices in inventory file.</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#update-fabric-information","title":"Update Fabric information","text":"<p>Tip</p> <p>If you don\u2019t change IP addresses described above, this section is optional.</p> <p>Edit <code>DC1_FABRIC.yml</code></p> <ul> <li>Add / Remove devices in the list.</li> <li>Management IP of every device.</li> </ul> <p>In this example, we only use <code>spine</code> and <code>l3leafs</code> devices. Below is an example for <code>l3leafs</code>:</p> <pre><code>  node_groups:\nDC1_LEAF1:\nbgp_as: 65101\nnodes:\nDC1-LEAF1A:\nid: 1\nmgmt_ip: 10.255.0.13/24\nuplink_switch_interfaces: [ Ethernet1, Ethernet1 ]\nDC1-LEAF1B:\nid: 2\nmgmt_ip: 10.255.0.14/24\nuplink_switch_interfaces: [ Ethernet2, Ethernet2 ]\n</code></pre> <p>You can also configure additional configlets available on CloudVision to deploy other configurations not generated by the AVD project. These configlets MUST be configured on the CVP side before running the playbook.</p> <pre><code># List of additional CVP configlets to bind to devices and containers\n# Configlets MUST be configured on CVP before running AVD playbooks.\ncv_configlets:\ncontainers:\nDC1_L3LEAFS:\n- ASE_GLOBAL-ALIASES\ndevices:\nDC1-L2LEAF1A:\n- ASE_DEVICE-ALIASES.conf\n</code></pre> <p>Edit <code>DC1.yml</code></p> <ul> <li>Manage your username. Configured username and password are:<ul> <li>admin / arista123</li> <li>cvpdamin / arista123</li> <li>ansible / ansible</li> </ul> </li> </ul> <pre><code># local users\nlocal_users:\nadmin:\nprivilege: 15\nrole: network-admin\nsha512_password: \"$6$Df86...\"\n</code></pre> <p>You must use same user on CVP and EOS for the demo.</p> <ul> <li>Update Ingest key. Default setup is none.</li> <li>Update CVP IP address.</li> </ul> <pre><code># Cloud Vision server information\ncvp_instance_ip: 10.255.0.1\ncvp_ingestauth_key: ''\n</code></pre>"},{"location":"docs/how-to/first-cvp-avd-project.html#demo-script","title":"Demo script","text":""},{"location":"docs/how-to/first-cvp-avd-project.html#power-up-devices","title":"Power up devices","text":"<p>After devices have completed booting, you will eventually see them in the <code>undefined</code> container.</p> <p></p>"},{"location":"docs/how-to/first-cvp-avd-project.html#check-there-is-no-container","title":"Check there is no container","text":""},{"location":"docs/how-to/first-cvp-avd-project.html#check-if-configlets-are-present","title":"Check if Configlets are present","text":"<p>Tip</p> <p>CloudVision might have some configlets, but none with AVD related content.</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#upload-custom-configlets-to-cloudvision","title":"Upload custom configlets to CloudVision","text":"<p>These configlets are managed outside of the AVD project and can provide additional elements not generated by Arista Validated Design. In this example, we upload a configlet with a list of useful aliases.</p> <pre><code>$ ansible-playbook playbooks/dc1-upload-configlets.yml\n...\n</code></pre> <p></p>"},{"location":"docs/how-to/first-cvp-avd-project.html#run-ansible-playbook-to-deploy-evpn-fabric","title":"Run Ansible playbook to deploy EVPN fabric","text":"<p>A set of tags are available, and it\u2019s recommended to execute different plays one after another using different tags.</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#playbook-overview","title":"Playbook overview","text":"<p>Playbook: <code>playbooks/dc1-fabric-deploy-cvp.yml</code></p> <p>Playbook manage following actions:</p> <ul> <li>Generate Variables for CVP structure:<ul> <li>List of configlets</li> <li>Containers topology</li> <li>List of devices.</li> </ul> </li> <li>Collect CloudVision Facts</li> <li>Deploy Configlets to CloudVision</li> <li>Build Containers Topology</li> <li>Configure devices with correct configlet and container.</li> <li>Execute created tasks (wait 5 minutes while devices reboot)</li> </ul> <p>This playbook supports two tags to run demo step by step:</p> <ul> <li>build: Generate configuration.</li> <li>provision: Push content to CloudVision.</li> </ul>"},{"location":"docs/how-to/first-cvp-avd-project.html#run-playbook","title":"Run Playbook","text":""},{"location":"docs/how-to/first-cvp-avd-project.html#generate-eos-configuration","title":"Generate EOS Configuration","text":"<p>Use tag <code>build</code> to only generate</p> <ul> <li>EOS structured configuration(YAML)</li> <li>EOS configuration</li> <li>EOS Documentation</li> <li>CloudVision parameters</li> </ul> <pre><code># Deploy EVPN/VXLAN Fabric\n$ ansible-playbook playbooks/dc1-fabric-deploy-cvp.yml --tags build\n\nTASK [eos_designs : Include device structured configuration, that was previously generated.]\nok: [DC1-SPINE1 -&gt; localhost]\nok: [DC1-SPINE2 -&gt; localhost]\nok: [DC1-LEAF1A -&gt; localhost]\nok: [DC1-LEAF1B -&gt; localhost]\nok: [DC1-LEAF2A -&gt; localhost]\nok: [DC1-LEAF2B -&gt; localhost]\nTASK [eos_designs : Generate EVPN fabric documentation in Markdown Format.]\nchanged: [DC1-SPINE1 -&gt; localhost]\nTASK [eos_designs : Generate Leaf and Spine Point-To-Point Links summary in csv format.]\nchanged: [DC1-SPINE1 -&gt; localhost]\nTASK [eos_designs : Generate Fabric Topology in csv format.]\nchanged: [DC1-SPINE1 -&gt; localhost]\nTASK [eos_cli_config_gen : include device intended structure configuration variables]\nok: [DC1-SPINE1 -&gt; localhost]\nok: [DC1-SPINE2 -&gt; localhost]\nok: [DC1-LEAF1A -&gt; localhost]\nok: [DC1-LEAF1B -&gt; localhost]\nok: [DC1-LEAF2A -&gt; localhost]\nok: [DC1-LEAF2B -&gt; localhost]\nTASK [eos_cli_config_gen : Generate eos intended configuration]\nok: [DC1-LEAF2A -&gt; localhost]\nok: [DC1-SPINE1 -&gt; localhost]\nok: [DC1-LEAF1A -&gt; localhost]\nok: [DC1-LEAF2B -&gt; localhost]\nok: [DC1-SPINE2 -&gt; localhost]\nok: [DC1-LEAF1B -&gt; localhost]\nTASK [eos_cli_config_gen : Generate device documentation]\nchanged: [DC1-SPINE1 -&gt; localhost]\nchanged: [DC1-LEAF1A -&gt; localhost]\nchanged: [DC1-LEAF2A -&gt; localhost]\nchanged: [DC1-SPINE2 -&gt; localhost]\nchanged: [DC1-LEAF1B -&gt; localhost]\nchanged: [DC1-LEAF2B -&gt; localhost]\nPLAY [Configuration deployment with CVP]\nTASK [eos_config_deploy_cvp : generate intended variables]\nok: [cv_server]\nTASK [eos_config_deploy_cvp : Build DEVICES and CONTAINER definition for cv_server]\nchanged: [cv_server -&gt; localhost]\nTASK [eos_config_deploy_cvp : Load CVP device information for cv_server]\nok: [cv_server]\nPLAY RECAP\nDC1-LEAF1A                 : ok=5    changed=1    unreachable=0    failed=0 ...\nDC1-LEAF1B                 : ok=5    changed=1    unreachable=0    failed=0 ...\nDC1-LEAF2A                 : ok=5    changed=1    unreachable=0    failed=0 ...\nDC1-LEAF2B                 : ok=5    changed=1    unreachable=0    failed=0 ...\nDC1-SPINE1                 : ok=8    changed=4    unreachable=0    failed=0 ...\nDC1-SPINE2                 : ok=5    changed=1    unreachable=0    failed=0 ...\ncv_server                  : ok=3    changed=1    unreachable=0    failed=0 ...\n</code></pre> <p>The output is generated in the following folders:</p> <ul> <li>Intended YAML configuration: <code>inventory/intended/structured_configs</code></li> <li>Intended EOS configuration files: <code>inventory/intended/configs</code></li> <li>Documentation: <code>inventory/documentation</code></li> </ul>"},{"location":"docs/how-to/first-cvp-avd-project.html#provision-cloudvision-server","title":"Provision CloudVision Server","text":"<p>Use the <code>provision</code> tag to deploy configuration to CloudVision and prepare devices to be updated:</p> <ul> <li>Create configlets on CloudVision servers</li> <li>Create containers on CloudVision using inventory structure</li> <li>Move devices to containers</li> <li>Attach configlets to devices.</li> </ul> <p>This tag doesn\u2019t execute any pending tasks. It\u2019s a manual action that can be done with a Change Control. If you want to automatically deploy pending tasks, just use <code>execute_tasks: True</code> in <code>eos_config_deploy_cvp</code> role.</p> <pre><code># Deploy EVPN/VXLAN Fabric\n$ ansible-playbook playbooks/dc1-fabric-deploy-cvp.yml --tags provision\n</code></pre>"},{"location":"docs/how-to/first-cvp-avd-project.html#execute-pending-tasks-using-a-change-control","title":"Execute Pending tasks using a change control","text":"<p>Go to Provisioning &gt; Change Control to create a new change control</p> <p></p> <p>This change control is an example, and you are free to build any structure you want. In this scenario, we can run all tasks in parallel as we deploy an EVPN/VXLAN fabric.</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#analyze-result","title":"Analyze result","text":"<p>Once the devices have rebooted, you can verify the fabric status on the devices or on CloudVision.</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#topology-update","title":"Topology Update","text":"<p>Topology has been updated accordingly.</p> <p></p>"},{"location":"docs/how-to/first-cvp-avd-project.html#configlet-list","title":"Configlet list","text":"<p>A set of new configlets have been configured on CloudVision and attached to devices.</p> <p></p>"},{"location":"docs/how-to/first-cvp-avd-project.html#check-device-status","title":"Check device status","text":"<p>To validate deployment, connect to devices and issue some commands:</p>"},{"location":"docs/how-to/first-cvp-avd-project.html#bgp-status","title":"BGP Status","text":"<pre><code>DC1-LEAF1B#show bgp evpn summary\nBGP summary information for VRF default\nRouter identifier 192.168.255.4, local AS number 65101\n  Neighbor         V  AS           MsgRcvd   MsgSent  InQ OutQ  Up/Down State   PfxRcd PfxAcc\n  192.168.255.1    4  65001             56        66    0    0 00:00:36 Estab   86     86\n  192.168.255.2    4  65001             55        39    0    0 00:00:44 Estab   86     86\n</code></pre>"},{"location":"docs/how-to/first-cvp-avd-project.html#vxlan-address-table","title":"VXLAN address table","text":"<pre><code>DC1-LEAF1B#show vxlan  address-table\n          Vxlan Mac Address Table\n----------------------------------------------------------------------\n\nVLAN  Mac Address     Type     Prt  VTEP             Moves   Last Move\n----  -----------     ----     ---  ----             -----   ---------\n1191  0e1d.c07f.d96c  EVPN     Vx1  192.168.254.5    1       0:00:04 ago\n1192  0e1d.c07f.d96c  EVPN     Vx1  192.168.254.5    1       0:00:02 ago\n1193  0e1d.c07f.d96c  EVPN     Vx1  192.168.254.5    1       0:00:04 ago\n1194  0e1d.c07f.d96c  EVPN     Vx1  192.168.254.5    1       0:00:02 ago\n1195  0e1d.c07f.d96c  EVPN     Vx1  192.168.254.5    1       0:00:02 ago\n1196  0e1d.c07f.d96c  EVPN     Vx1  192.168.254.5    1       0:00:02 ago\n1197  0e1d.c07f.d96c  EVPN     Vx1  192.168.254.5    1       0:00:04 ago\n1198  0e1d.c07f.d96c  EVPN     Vx1  192.168.254.5    1       0:00:04 ago\n1199  0e1d.c07f.d96c  EVPN     Vx1  192.168.254.5    1       0:00:02 ago\nTotal Remote Mac Addresses for this criterion: 9\n</code></pre>"},{"location":"docs/how-to/first-cvp-avd-project.html#check-device-connectivity","title":"Check device connectivity","text":"<p>Connect on server 01 and issue a ping to server 02.</p> <pre><code>root@Server01:~# ping 10.1.10.12 -c 5\nPING 10.1.10.12 (10.1.10.12) 56(84) bytes of ../_media.\n64 bytes from 10.1.10.12: icmp_seq=1 ttl=64 time=0.033 ms\n64 bytes from 10.1.10.12: icmp_seq=2 ttl=64 time=0.026 ms\n64 bytes from 10.1.10.12: icmp_seq=3 ttl=64 time=0.021 ms\n64 bytes from 10.1.10.12: icmp_seq=4 ttl=64 time=0.026 ms\n64 bytes from 10.1.10.12: icmp_seq=5 ttl=64 time=0.034 ms\n\n--- 10.1.10.12 ping statistics ---\n5 packets transmitted, 5 received, 0% packet loss, time 3998ms\nrtt min/avg/max/mdev = 0.021/0.028/0.034/0.004 ms\n</code></pre>"},{"location":"docs/how-to/first-cvp-avd-project.html#revert-topology","title":"Revert topology","text":"<p>Once the demo is over, you can revert to previous stage:</p> <ul> <li>Reset devices to ZTP mode (Only devices part of the demo)</li> <li>Remove configlet deployed previously</li> <li>Remove dedicated container topology</li> <li>Reboot devices</li> </ul> <p>Playbook: <code>dc1-fabric-reset-cvp.yml</code></p> <pre><code># Reset EVPN/VXLAN Fabric tp ZTP\n$ ansible-playbook playbooks/dc1-fabric-reset-cvp.yml\n</code></pre> <p>Revert will reset all devices to Factory default and ZTP mode !</p>"},{"location":"docs/how-to/first-project.html","title":"Build Your First AVD Project","text":""},{"location":"docs/how-to/first-project.html#abstract","title":"Abstract","text":"<p>This page explains how to build your first Ansible project leveraging ansible-avd collection. In this tutorial, we will configure an EVPN fabric using Arista eAPI method. We will go through all configuration steps to generate EVPN/VXLAN configuration for EOS devices.</p> <p> </p> <p>You can organize your working directory in many different ways, but a structure we find helpful is something like this:</p> <ul> <li>A folder for all your inventories with one sub-folder per inventory. An inventory folder containing all your variables for a given environment like <code>host_vars</code>, <code>group_vars</code>, <code>inventory.yml</code>.</li> <li>A folder to store all playbooks. This makes it easy to reuse playbooks no matter the inventory (if you use a coherent syntax).</li> <li><code>ansible.cfg</code> at the root of this repository.</li> </ul> <pre><code>$ tree -L 3 -d\n.\n\u251c\u2500\u2500 inventories\n\u2502   \u2514\u2500\u2500 eapi-example\n\u2502       \u251c\u2500\u2500 group_vars\n\u2502       \u251c\u2500\u2500 host_vars\n\u2502       \u2514\u2500\u2500 inventory.yml\n\u2514\u2500\u2500 playbooks\n</code></pre>"},{"location":"docs/how-to/first-project.html#requirements","title":"Requirements","text":"<ul> <li>Ansible runner configured as described in this section.</li> <li>A set of devices configured with their respective management IP address and username.</li> <li>Access to eAPI service for all devices.</li> </ul>"},{"location":"docs/how-to/first-project.html#topology","title":"Topology","text":"<p>Here is a high-level overview of the topology</p> <p></p>"},{"location":"docs/how-to/first-project.html#configure-variables","title":"Configure Variables","text":""},{"location":"docs/how-to/first-project.html#inventory-file","title":"Inventory file","text":"<p>Let\u2019s list our devices in the inventory:</p> <ul> <li><code>AVD_FABRIC</code> represents complete fabric topology that we\u2019re going to configure with AVD.</li> <li><code>AVD_SPINES</code> is a group to which all spine devices belong.</li> <li><code>AVD_L3LEAFS</code>: is a group to locate all VTEP devices (LEAFs running EVPN/VXLAN). As part of this group, we create one sub-group for every LEAF (single or MLAG), as highlighted below.<ul> <li><code>AVD_LEAF1</code> represent LEAF for POD01, and it\u2019s for an MLAG pair.</li> <li><code>AVD_LEAF3</code> represents a single LEAF outside of MLAG.</li> </ul> </li> <li><code>AVD_L2LEAFS</code> represent the Aggregation layer in our current design. This layer is optional, but it\u2019s in place in our design. It works like <code>AVD_L3LEAFS</code> group but for all layer2 leafs.</li> <li><code>AVD_TENANTS_NETWORKS</code> is a special group hosting two groups already configured: <code>AVD_L{2|3}LEAFS</code>. This group will configure VNI/VLAN across the fabric, so we want to make leafs part of the configuration.</li> <li><code>AVD_SERVERS</code> has similar behavior to the previous group. Its goal is to configure downlinks to compute nodes.</li> </ul> <pre><code># vim inventories/eapi-example/inventory.yml\n---\nAVD:\nchildren:\nAVD_FABRIC:\nchildren:\nAVD_SPINES:\nhosts:\nAVD-SPINE1:\nansible_host: 10.73.254.1\n[... output truncated ...]\nAVD_L3LEAFS:\nchildren:\nAVD_LEAF1:\nhosts:\nAVD-LEAF1A:\nansible_host: 10.73.254.11\nAVD-LEAF1B:\nansible_host: 10.73.254.12\nAVD_LEAF3:\nhosts:\nAVD-LEAF3A:\nansible_host: 10.73.254.17\n[... output truncated ...]\nAVD_L2LEAFS:\nchildren:\nAVD_L2LEAF1:\nhosts:\nAVD-AGG01:\nansible_host: 10.73.254.21\n[... output truncated ...]\nAVD_TENANTS_NETWORKS:\nchildren:\nAVD_L3LEAFS:\nAVD_L2LEAFS:\nAVD_SERVERS:\nchildren:\nAVD_L3LEAFS:\nAVD_L2LEAFS:\n</code></pre> <p>The management address of all devices can be defined in the <code>inventory.yml</code> file with the knob <code>ansible_host</code> as shown above. This is entirely optional unless we want to make an ssh connection to these hosts from our local device or a Jump-host. In this lab, we will use eAPI to configure the hosts; in this case, the <code>ansible_host</code> must be defined.</p> <p>Because a Jump-host will be used in this lab, we will need to configure the <code>ansible_port</code> variable to set the port number for the eAPI connection. To establish an SSH connection from Jump-host to all switches, we need to set the ssh login credentials by setting <code>ansible_user</code> and <code>ansible_ssh_pass</code>. Ansible learns the Network platform of the hosts through the <code>ansible_network_os</code> variable.</p> <p>Because of Ansible\u2019s flexibility, there are several ways to define the connection parameters of the hosts. One of the simplest and recommended methods is shown below:</p> <pre><code>---\nAVD:\nchildren:\nAVD_FABRIC:\n[... output truncated ...]\nvars:\n# Replace username and password for your deployment\nansible_user: &lt; your username &gt;\nansible_ssh_pass: &lt; password &gt;\nansible_network_os: arista.eos.eos\n# Configure privilege escalation\nansible_become: true\nansible_become_method: enable\n# HTTPAPI configuration\nansible_connection: httpapi\nansible_httpapi_port: 443\nansible_httpapi_use_ssl: true\nansible_httpapi_validate_certs: false\n</code></pre>"},{"location":"docs/how-to/first-project.html#avd-variables","title":"AVD Variables","text":"<p>Based on the inventory we created in the previous section, it\u2019s time to create <code>group_vars</code>.</p>"},{"location":"docs/how-to/first-project.html#generic-fabric-information","title":"Generic Fabric Information","text":"<p>All the documentation is available here, but below is a short example. These configurations will be configured on all devices.</p> <pre><code># vim inventories/eapi-example/group_vars/AVD.yml\n---\n# local users\nlocal_users:\n# Username with no password configured\nadmin:\nprivilege: 15\nrole: network-admin\nno_password: true\n# Username with a password\ndemo:\nprivilege: 15\nrole: network-admin\nsha512_password: \"&lt; Provide SHA512 HASH for password &gt;\"\n# OOB Management network default gateway.\nmgmt_interface: Management1\nmgmt_gateway: 10.73.254.253\nmgmt_destination_networks:\n- 10.255.2.0/24\n- 10.255.3.0/24\n- 0.0.0.0/0\n# dns servers.\nname_servers:\n- 1.1.1.1\n- 8.8.8.8\n# NTP Servers IP or DNS name, first NTP server will be preferred, and sourced from Management VRF\nntp:\nservers:\n- name: uk.pool.ntp.org\npreferred: true\nvrf: MGMT\n- name: fr.pool.ntp.org\nvrf: MGMT\n</code></pre>"},{"location":"docs/how-to/first-project.html#configure-fabric-topology","title":"Configure Fabric topology","text":"<p>Fabric topology is configured under <code>inventories/eapi-example/group_vars/AVD_FABRIC.yml</code>, which is a file that covers <code>AVD_FABRIC</code> group we defined in the inventory. This file contains all the base information to create the initial configuration:</p> <p>You can also refer to the Arista Validated Design documentation to get a description of every single option available.</p> <p>Then, you have to describe devices for each role. Don\u2019t forget to set management IP here.</p> <ul> <li>Spine devices</li> </ul> <pre><code># Spine Switches\nspine:\ndefaults:\nplatform: VEOS-LAB\nbgp_as: 65001\n# Overlay loopback IP and same pool can be assigned to both spine and l3leaf switches\n# If same loopback pool is defined for both spine and l3leaf,\n# &lt; loopback_ipv4_offset &gt; must be set in either one of the node_types\nloopback_ipv4_pool: 192.168.255.0/24\n# Recommended for vEOS\nbgp_defaults:\n- 'no bgp default ipv4-unicast'\n- 'distance bgp 20 200 200'\n- 'graceful-restart restart-time 300'\n- 'graceful-restart'\nnodes:\nAVD-SPINE1:\nid: 1\nmgmt_ip: 10.255.0.11/24\nAVD-SPINE2:\nid: 2\nmgmt_ip: 10.255.0.12/24\n</code></pre> <ul> <li>VTEP or L3LEAF devices</li> </ul> <pre><code>l3leaf:\ndefaults:\nplatform: VEOS-LAB\nvirtual_router_mac_address: 00:1c:73:00:dc:01\n# VTEP VXLAN Tunnel source loopback IP for leaf switches, assigned in /32s\n# Assign range larger than total leaf switches\nvtep_loopback_ipv4_pool: 192.168.254.0/24\nloopback_ipv4_pool: 192.168.255.0/24\n# Offset must be &gt;= number of spines\nloopback_ipv4_offset: 2\n# Point to Point Network Summary range, assigned as /31 for each\n# uplink interfaces\n# Assign range larger than total [spines * total potential leafs * 2]\nuplink_ipv4_pool: 172.31.255.0/24\nuplink_switches: [AVD-SPINE1, AVD-SPINE2]\nuplink_interfaces: [Ethernet1, Ethernet2]\nmlag_interfaces: [Ethernet3, Ethernet4]\n# mlag pair IP assignment - assign blocks - Assign range larger than\n# total spines + total leafs switches\nmlag_peer_ipv4_pool: 10.255.252.0/24\nmlag_peer_l3_ipv4_pool: 10.255.251.0/24\n[... output truncated ...]\nnode_groups:\nAVD_LEAF1:\nbgp_as: 65101\nnodes:\nAVD-LEAF1A:\nid: 1\nmgmt_ip: 10.255.0.13/24\n# Interface configured on SPINES to connect to this leaf\nuplink_switch_interfaces: [Ethernet1, Ethernet1]\nAVD-LEAF1B:\nid: 2\nmgmt_ip: 10.255.0.14/24\n# Interface configured on SPINES to connect to this leaf\nuplink_switch_interfaces: [Ethernet2, Ethernet2]\n[... output truncated ...]\n</code></pre> <p>Complete documentation of all available variables is available in the Arista Validated Design documentation. You can also look at the variables part of the demo repository.</p>"},{"location":"docs/how-to/first-project.html#configure-device-type","title":"Configure device type","text":"<p>In each variable file related to a type of device, we must instruct AVD what the role is for each device.</p> <pre><code>---\ntype: spine     # Must be either spine | l3leaf | l2leaf\n</code></pre>"},{"location":"docs/how-to/first-project.html#configure-vnivlan-across-the-fabric","title":"Configure VNI/VLAN across the Fabric","text":"<p>AVD supports a mechanism to create VLANs and VNIs and enable traffic forwarding in your overlay. In the current version, only the following designs are supported:</p> <ul> <li>L2 VLANs</li> <li>Symmetric IRB model</li> </ul> <p>The model defines a set of tenants (user-defined) where you can configure VRFs, L2VLANs, or a mix of them. Let\u2019s take a look at how we configure such services.</p> <p>All these configurations shall be configured in a file named <code>AVD_TENANTS_NETWORKS.yml</code>.</p>"},{"location":"docs/how-to/first-project.html#l2-services","title":"L2 Services","text":"<p>Configure a pure L2 service using <code>EVPN route type 2</code> only:</p> <pre><code>---\ntenants:\n# Tenant B Specific Information - Pure L2 tenant\nTenant_B:\nmac_vrf_vni_base: 20000\nl2vlans:\n201:\nname: 'B-ELAN-201'\ntags: [DC1]\n</code></pre> <p>The tag option allows to configure VLAN only on a subset of the fabric: all devices with this tag will be configured with this VLAN. To configure device <code>TAGS</code> and <code>TENANTS</code> options, go to Arista Validated Design documentation</p> <p>In this configuration, VLAN 201 will be created with a tag of <code>201</code> and it\u2019s attached VNI will be configured with <code>20201</code>.</p> <pre><code>AVD-LEAF1A#show vlan 201\nVLAN  Name                             Status    Ports\n----- -------------------------------- --------- -------------------------------\n201   B-ELAN-201                       active    Po3, Po5, Vx1\n\nAVD-LEAF1A#show bgp evpn vni 20201\nBGP routing table information for VRF default\nRouter identifier 192.168.255.3, local AS number 65101\nRoute status codes: s - suppressed, * - valid, &gt; - active, # - not installed, E - ECMP head, e - ECMP\n                    S - Stale, c - Contributing to ECMP, b - backup\n                    % - Pending BGP convergence\nOrigin codes: i - IGP, e - EGP, ? - incomplete\nAS Path Attributes: Or-ID - Originator ID, C-LST - Cluster List, LL Nexthop - Link Local Nexthop\n\n         Network                Next Hop              Metric  LocPref Weight  Path\n * &gt;     RD: 192.168.255.3:20201 mac-ip 20201 5001.0011.0000\n                                -                     -       -       0       i\n * &gt;     RD: 192.168.255.3:20201 imet 20201 192.168.254.3\n                                -                     -       -       0       i\n * &gt;Ec   RD: 192.168.255.5:20201 imet 20201 192.168.254.5\n                                192.168.254.5         -       100     0       65001 65102 i\n[... output truncated ...]\n</code></pre>"},{"location":"docs/how-to/first-project.html#symmetric-irb-model","title":"Symmetric IRB model","text":"<p>To configure the symmetric IRB model, use the following structure:</p> <pre><code>tenants:\n# Tenant A Specific Information - VRFs / VLANs\nTenant_A:\nmac_vrf_vni_base: 10000\nvrfs:\nTENANT_A_PROJECT01:\nvrf_vni: 11\nsvis:\n110:\nname: 'PR01-DMZ'\ntags: [DC1]\nenabled: true\nip_address_virtual: 10.1.10.254/24\n111:\nname: 'PR01-TRUST'\ntags: [POD02]\nenabled: true\nip_address_virtual: 10.1.11.254/24\nTENANT_A_PROJECT02:\nvrf_vni: 12\nvtep_diagnostic:\nloopback: 100\nloopback_ip_range: 10.1.255.0/24\nsvis:\n112:\nname: 'PR02-DMZ-GREEN'\ntags: [POD01]\nenabled: true\nip_address_virtual: 10.1.12.254/24\n</code></pre> <p>The above example will create two VRFs :</p> <ul> <li><code>TENANT_A_PROJECT01</code></li> <li><code>TENANT_A_PROJECT02</code></li> </ul> <p>In <code>TENANT_A_PROJECT01</code>, two subnets are created and deployed on devices matching TAGS <code>DC1</code> or <code>POD02</code>:</p> <ul> <li><code>10.1.10.0/24</code> with VLAN <code>110</code> and VNI <code>10110</code></li> <li><code>10.1.11.0/24</code> with VLAN <code>111</code> and VNI <code>10111</code></li> </ul> <p>If you deployed this VRF on an MLAG VTEP, additional VLANs are created to allow L3 synchronization within VRF. The VLAN is automatically generated with this algorithm:</p> <pre><code>{{ mlag_ibgp_peering_vrfs.base_vlan + (tenants[tenant].vrfs[vrf].vrf_vni - 1) }}\n</code></pre> <p>In addition to that, each EOS device will allocate a dynamic VLAN per VRF to support L3 VNI.</p> <pre><code>AVD-LEAF1A#show vlan\nVLAN  Name                             Status    Ports\n----- -------------------------------- --------- -------------------------------\n1     default                          active    Et6, Et7, Et8, PEt6, PEt7, PEt8\n110   PR01-DMZ                         active    Cpu, Po3, Po5, Vx1\n112   PR02-DMZ-ORANGE                  active    Cpu, Po3, Vx1\n201   B-ELAN-201                       active    Po3, Po5, Vx1\n1008* VLAN1008                         active    Cpu, Po3, Vx1\n1009* VLAN1009                         active    Cpu, Po3, Vx1\n3010  MLAG_iBGP_TENANT_A_PROJECT01     active    Cpu, Po3\n3011  MLAG_iBGP_TENANT_A_PROJECT02     active    Cpu, Po3\n4093  LEAF_PEER_L3                     active    Cpu, Po3\n4094  MLAG_PEER                        active    Cpu, Po3\n\n* indicates a Dynamic VLAN\n\nAVD-LEAF1A#show vxlan vni\nVNI to VLAN Mapping for Vxlan1\nVNI         VLAN        Source       Interface           802.1Q Tag\n----------- ----------- ------------ ------------------- ----------\n11          1008*       evpn         Vxlan1              1008\n12          1009*       evpn         Vxlan1              1009\n10110       110         static       Port-Channel5       110\n                                     Vxlan1              110\n10112       112         static       Vxlan1              112\n20201       201         static       Port-Channel5       201\n                                     Vxlan1              201\n</code></pre> <p>In <code>TENANT_A_PROJECT02</code>, we can also see an optional feature named <code>vtep_diagnostic</code>. This option allows you to create a loopback in this VRF and do some connectivity tests.</p>"},{"location":"docs/how-to/first-project.html#configure-downlinks","title":"Configure downlinks","text":"<p>We\u2019ve configured L3LS fabric, EVPN/VXLAN overlay, and services. It\u2019s now time to configure ports to connect servers. Ports should be configured in <code>AVD_SERVERS.yml</code>.</p> <p>You first have to configure a port profile. This describes how the port will be configured (<code>access</code> or <code>trunk</code>) and which set of VLANs will be configured.</p> <pre><code>---\nport_profiles:\nTENANT_A_B:\nmode: trunk\nvlans: \"110-111,201\"\nA-PR01-DMZ:\nmode: access\nvlans: \"110\"\n</code></pre> <p>This section uses vlan-id so all of these entries must be configured in the TENANTS file</p> <p>Then, create port mapping on a per server.</p>"},{"location":"docs/how-to/first-project.html#single-homed-server","title":"Single homed server","text":"<p>If the server is connected to only one leaf of the fabric, the following template can be used</p> <pre><code>servers:\nA-PR01-DMZ-POD01:                 # Server name\nrack: POD01                     # Informational RACK\nadapters:\n- type: nic\nendpoint_ports: [Eth0]      # Port on server/endpoint\nswitch_ports: [Ethernet3]   # Port on switch connected to the server/endpoint port\nswitches: [DC1-AGG01]       # Switch connected to the server/endpoint\nprofile: A-PR01-DMZ         # Port profile to apply\n</code></pre> <p>Whereas most of the information is purely optional, the below entries are required:</p> <ul> <li><code>endpoint_ports</code>: Used in the switch_port description.</li> <li><code>switch_ports</code>: Will be used to configure the correct port on the switch.</li> <li><code>switches</code>: Must be switch name defined in your inventory.</li> <li><code>profile</code>: Profile created previously.</li> </ul>"},{"location":"docs/how-to/first-project.html#server-connected-to-mlag","title":"Server connected to MLAG","text":"<p>In the case of an MLAG connection, the data structure is the same; the only difference is that we need to add information about the port channel to be configured.</p> <pre><code>servers:\nDCI_RTR01:\nrack: DCI\nadapters:\n- endpoint_ports: [Eth1, Eth2]\nswitch_ports: [Ethernet5, Ethernet5]\nswitches: [SITE01-BL01A, SITE01-BL01B]\nprofile: A-PR01-DMZ\nport_channel:\nstate: present\ndescription: PortChannel5\nmode: active\n</code></pre>"},{"location":"docs/how-to/first-project.html#create-your-avd-playbook","title":"Create your AVD Playbook","text":""},{"location":"docs/how-to/first-project.html#create-directory-structure","title":"Create directory structure","text":"<p>AVD comes with a role to generate your folder structure.</p> <pre><code>tasks:\n- name: Build local folders\ntags: [build]\nansible.builtin.import_role:\nname: arista.avd.build_output_folders\nvars:\nfabric_dir_name: '{{ fabric_name }}'\n</code></pre>"},{"location":"docs/how-to/first-project.html#transform-evpn-data-model-to-device-data-model","title":"Transform EVPN data model to device data model","text":"<p>AVD provides the <code>eos_designs</code> role to generate intended YAML device configuration:</p> <pre><code>  tasks:\n- name: Generate intended variables\ntags: [build]\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n</code></pre>"},{"location":"docs/how-to/first-project.html#generate-device-configuration-and-documentation","title":"Generate device configuration and documentation","text":"<p>After device data have been generated, AVD can build EOS configuration as well as documentation in markdown format.</p> <pre><code>  tasks:\n- name: Generate device intended config and documentation\ntags: [build]\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n</code></pre> <p>The topology and device documentation can be accessed under <code>documentation</code> in the inventory folder.</p> <p></p>"},{"location":"docs/how-to/first-project.html#deploy-your-configuration-to-eos-devices","title":"Deploy your configuration to EOS devices","text":"<p>Once your configuration files have been generated, you can use <code>arista.avd.eos_config_deploy_eapi</code> to deploy your configuration in replace mode. Because we want to make this deployment explicit, we position tags <code>deploy</code> and <code>never</code>, meaning you must set this tag in your CLI.</p> <pre><code>  tasks:\n- name: Deploy configuration to device\ntags: [deploy, never]\nansible.builtin.import_role:\nname: arista.avd.eos_config_deploy_eapi\n</code></pre>"},{"location":"docs/how-to/first-project.html#complete-avd-eapi-playbook","title":"Complete AVD eAPI playbook","text":"<p>The complete playbook is below. Feel free to update it to create your workflow.</p> <pre><code>---\n- name: Build Switch configuration\nhosts: all\ntasks:\n- name: Generate intended variables\ntags: [build]\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n- name: Generate device intended config and documentation\ntags: [build]\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n- name: Deploy configuration to device\ntags: [deploy, never]\nansible.builtin.import_role:\nname: arista.avd.eos_config_deploy_eapi\n</code></pre>"},{"location":"docs/how-to/lab-with-nat.html","title":"Use NAT Gateway With eAPI","text":""},{"location":"docs/how-to/lab-with-nat.html#abstract","title":"Abstract","text":"<p>This post will show how to create a local environment to leverage AVD Collection to build EVPN/VXLAN configuration for a set of devices and deploy configuration using EOS eAPI through a NAT gateway.</p> <p>When we use a lab solution like EVE-NG or GNS3, it might be complex to configure the same VLANs for your runner and your EOS devices. So instead, we can use a NAT gateway to expose the eAPI port to your Ansible runner consuming a single IP address.</p> <p>Below is a standard lab we use for development. And, of course, our laptops aren\u2019t directly connected to the EOS management plane.</p> <p></p>"},{"location":"docs/how-to/lab-with-nat.html#requirements","title":"Requirements","text":"<ul> <li>A dedicated VLAN for EOS out of band management</li> <li>A Linux server connected on both out of band management network and ansible-runner network.<ul> <li>This lab will be based on Ubuntu 20.04</li> <li>SSH access to server enable.</li> </ul> </li> <li>An AVD setup already configured on your ansible-runner.</li> </ul> <p>All devices must have a basic network configuration to allow access to eAPI. Below is a very basic example of how to activate eAPI over HTTPS</p> <pre><code>!\nusername admin privilege 15 role network-admin secret sha512 .....\n!\nmanagement api http-commands\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\n</code></pre>"},{"location":"docs/how-to/lab-with-nat.html#configure-network-interfaces","title":"Configure network interfaces","text":"<p>First of all, we have to configure your network interfaces. So let\u2019s configure the following:</p> <ul> <li><code>ens3</code>: connected to ansible-runner</li> <li><code>ens4</code>: connected to out-of-band management network</li> </ul> <p>With latest Ubuntu, this configuration is part of netplan configuration file:</p> <pre><code>$ sudo vim /etc/netplan/00-installer-config.yaml\n# This is the network config written by 'subiquity'\nnetwork:\nethernets:\nens3:\naddresses:\n- &lt; YOUR RUNNER NETWORK&gt;/&lt;RUNNER NETWORK NETMASK &gt;\ngateway4: &lt; DEFAULT GATEWAY &gt;\nnameservers:\naddresses:\n- 1.1.1.1\n- 8.8.8.8\nens4:\naddresses:\n- &lt; OOB NETWORK IP &gt; / &lt; OOB NETWORK SUBNET &gt;\nnameservers: {}\nversion: 2\n</code></pre> <p>Then apply your changes on your server:</p> <pre><code>sudo netplan apply\n</code></pre>"},{"location":"docs/how-to/lab-with-nat.html#configure-nat-access-to-eapi","title":"Configure NAT access to eAPI","text":"<p>We can now define NAT rules to forward traffic from the network-runner to your EOS devices. Here we will create a minimal shell script to do:</p> <ul> <li>Activate IP routing</li> <li>Reset NAT tables</li> <li>Configure forwarding to eAPI and SSH ports</li> <li>Activate NAT masquerading IN and OUT</li> </ul> <p>The script below is an example and uses <code>10.73.1.0/24</code> as the OOB network</p> <pre><code>$ vim expose-eos.sh\n#!/bin/bash\necho \"Jumphost Remote access configuration\"\n_EAPI_PORT=443\n_SSH_PORT=22\n_SRC_IF='ens3'\n_DST_IF='ens4'\necho '* Activate kernel routing'\nsysctl -w net.ipv4.ip_forward=1\necho '* Flush Current IPTables settings'\niptables --flush\niptables --delete-chain\niptables --table nat --flush\niptables --table nat --delete-chain\n\necho '* Activate default forwarding'\niptables -P FORWARD ACCEPT\niptables -P INPUT ACCEPT\niptables -P OUTPUT ACCEPT\n\necho '* Activate masquerading'\niptables -t nat -A POSTROUTING -o ${_SRC_IF} -j MASQUERADE\niptables -t nat -A POSTROUTING -o ${_DST_IF} -j MASQUERADE\n\necho '* Activate eAPI forwarding with base port 800x'\n# Do this configuration for any EOS device.\necho '* Activate eAPI forwarding with base port 800x'\niptables -t nat -A PREROUTING -p tcp -i ${_SRC_IF} --dport 8001 -j DNAT --to-destination 10.73.1.11:${_EAPI_PORT}\necho '* Activate SSH forwarding with base port 810x'\niptables -t nat -A PREROUTING -p tcp -i ${_SRC_IF} --dport 8101 -j DNAT --to-destination 10.73.1.11:${_SSH_PORT}\n# Configure at the end of the file\niptables -A FORWARD -p tcp -d 10.73.1.0/24 --dport ${_EAPI_PORT} -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT\niptables -A FORWARD -p tcp -d 10.73.1.0/24 --dport ${_SSH_PORT} -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT\n\necho \"-&gt; Configuration done\"\n</code></pre> <p>Then, copy this script on your NAT gateway and run it using sudo or with root permission:</p> <pre><code>$ sudo sh expose-eos.sh\n[sudo] password for tom:\nFlush Current IPTables settings\nActivate masquerading\n* Activate eAPI forwarding with base port 800x\n* Activate SSH forwarding with base port 810x\n-&gt; Configuration done\n</code></pre>"},{"location":"docs/how-to/lab-with-nat.html#test-remote-access","title":"Test remote access","text":"<p>Before running an Ansible script with eAPI, you can manually test end-to-end connectivity using either cURL or your browser:</p> <pre><code>$ curl -k -D - https://&lt; NAT GATEWAY IP &gt;:8001\nHTTP/1.1 301 Moved Permanently\nServer: nginx\n[...]\n</code></pre>"},{"location":"docs/how-to/lab-with-nat.html#configure-ansible-inventory","title":"Configure Ansible inventory","text":"<p>So as we now have a single IP address to connect to all devices in our lab, we will leverage <code>ansible_port</code> for per device connectivity.</p> <pre><code>---\nall:\nchildren:\nDC1:\nvars:\nansible_host: 10.83.28.162\nchildren:\nDC1_FABRIC:\nchildren:\nDC1_SPINES:\nhosts:\nDC1-SPINE1:\nansible_port: 8001\nDC1-SPINE2:\nansible_port: 8002\n</code></pre>"},{"location":"docs/how-to/tower-integration.html","title":"AWX &amp; Tower Integration","text":""},{"location":"docs/how-to/tower-integration.html#about","title":"About","text":"<p>This example shows how to deploy basic EVPN/VXLAN Fabric based on Arista Validated Design roles using Ansible Tower/AWX. This repository will be used as a project on AWX, and we will describe how to configure Tower for the following topics:</p> <ul> <li>Create a project</li> <li>Create inventory</li> <li>Install collections</li> <li>Install Python requirements</li> </ul> <p>All these elements are part of a dedicated demo repository available at arista-netdevops-community/avd-with-ansible-tower-awx.</p> <p>If you want to see how to build your inventory and all related variables, it\u2019s recommended to read the following documentation:</p> <ul> <li>How to start</li> <li>L3LS EVPN Abstraction role</li> </ul>"},{"location":"docs/how-to/tower-integration.html#requirements","title":"Requirements","text":"<p>To follow along with this guide, you will need the following:</p> <ul> <li>An AWX setup running on either Docker Compose or Kubernetes. We will do all the commands for Python configuration on docker-compose, but you can adapt for Kubernetes.</li> <li>Understanding of how to configure AVD in a pure Ansible CLI way.</li> </ul>"},{"location":"docs/how-to/tower-integration.html#install-python-requirements","title":"Install Python requirements","text":"<p>The Ansible CVP collection requires additional libraries not part of a standard Python setup:</p> <ul> <li>netaddr</li> <li>Jinja2</li> <li>treelib</li> <li>cvprac</li> <li>paramiko</li> <li>jsonschema</li> <li>requests</li> <li>PyYAML</li> <li>md-toc</li> </ul>"},{"location":"docs/how-to/tower-integration.html#create-virtual-environment","title":"Create virtual-environment","text":"<p>It\u2019s required to create a virtual-env; this will reduce any chance of impacting other workflows already deployed on your Tower setup.</p> <pre><code># Docker status\ntom@kube-tool:~$ docker ps\nCONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS              PORTS                  NAMES\n4a4627b21f93        ansible/awx:15.0.0   \"/usr/bin/tini -- /u\u2026\"   8 days ago          Up 8 days           8052/tcp               awx_task\n6ef41f162226        ansible/awx:15.0.0   \"/usr/bin/tini -- /b\u2026\"   8 days ago          Up 8 days           0.0.0.0:80-&gt;8052/tcp   awx_web\na2fd85d0cc86        postgres:10          \"docker-entrypoint.s\u2026\"   8 days ago          Up 8 days           5432/tcp               awx_postgres\n573d03e33c44        redis                \"docker-entrypoint.s\u2026\"   8 days ago          Up 8 days           6379/tcp               awx_redis\n\n# Run shell in docker\ntom@kube-tool:~$ docker exec -it awx_task bash\n\n$ sudo pip3 install virtualenv\nWARNING: Running pip install with root privileges is generally not a good idea. Try `pip3 install --user` instead.\nRequirement already satisfied: virtualenv in /usr/local/lib/python3.8/site-packages\n\n$ mkdir /opt/my-envs\n\n$ chmod 0755 /opt/my-envs\n\n$ cd /opt/my-envs/\n\n$ python3 -m venv avd-venv\n</code></pre> <p>This configuration MUST be replicated on both container <code>awx_task</code> and <code>awx_web</code></p> <p>Instruct AWX to register our new Virtual Environment folder:</p> <pre><code>$ curl -X PATCH 'http://admin:password@&lt;IP-of-AWX-INSTANCE&gt;/api/v2/settings/system/' \\\n-d '{\"CUSTOM_VENV_PATHS\": [\"/opt/my-envs/\"]}' -H 'Content-Type:application/json'\n{\n\"ACTIVITY_STREAM_ENABLED\": true,\n    \"ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC\": false,\n    \"ORG_ADMINS_CAN_SEE_ALL_USERS\": true,\n    \"MANAGE_ORGANIZATION_AUTH\": true,\n    \"TOWER_URL_BASE\": \"http://10.83.28.163\",\n    \"REMOTE_HOST_HEADERS\": [\n\"REMOTE_ADDR\",\n        \"REMOTE_HOST\"\n],\n    \"PROXY_IP_ALLOWED_LIST\": [],\n    \"LICENSE\": {},\n    \"REDHAT_USERNAME\": \"\",\n    \"REDHAT_PASSWORD\": \"\",\n    \"AUTOMATION_ANALYTICS_URL\": \"https://example.com\",\n    \"INSTALL_UUID\": \"f8a54d56-b1f3-4fdf-aa5b-9d6977d00eaa\",\n    \"CUSTOM_VENV_PATHS\": [\n\"/opt/my-envs\"\n],\n    \"INSIGHTS_TRACKING_STATE\": false,\n    \"AUTOMATION_ANALYTICS_LAST_GATHER\": null,\n    \"AUTOMATION_ANALYTICS_GATHER_INTERVAL\": 14400\n}\n</code></pre>"},{"location":"docs/how-to/tower-integration.html#provision-virtual-environment","title":"Provision virtual-environment","text":"<p>Before running playbook in a virtual-env, we have to install the required libraries:</p> <pre><code>tom@kube-tool:~$ docker exec -it awx_task bash\n\n# Activate virtual-env\n$ cd /opt/my-envs/avd-venv\n$ source bin/activate\n\n# Install ansible AWX base lib\n$ pip3 install psutil\n\n# Install project requirements\n$ curl -fsSL https://raw.githubusercontent.com/aristanetworks/ansible-avd/devel/ansible_collections/arista/avd/requirements.txt -o requirements.txt\n$ pip3 install -r requirements.txt\n</code></pre> <p>From here, you have a clean python environment with all the expected requirements installed on your AWX runner.</p>"},{"location":"docs/how-to/tower-integration.html#create-avd-project-on-awx","title":"Create AVD project on AWX","text":""},{"location":"docs/how-to/tower-integration.html#create-a-project-resource","title":"Create a project resource","text":"<p>First go to Resources &gt; Projects and create a new one using:</p> <ul> <li>SCM Type: <code>Git</code></li> <li>SCM Branch: <code>master</code></li> <li>Ansible Environment: <code>/your/path/to/venv</code></li> <li>SCM URL: <code>https://github.com/arista-netdevops-community/avd-with-ansible-tower-awx.git</code></li> </ul> <p></p> <p>This project will be used for two things:</p> <ul> <li>Get our inventory and all attached variables.</li> <li>Get our playbooks to run in AWX.</li> </ul>"},{"location":"docs/how-to/tower-integration.html#create-inventory-resource","title":"Create Inventory resource","text":"<p>Next action is to create an inventory in AWX. This requires two additional steps:</p>"},{"location":"docs/how-to/tower-integration.html#create-inventory","title":"Create Inventory","text":"<p>Go to Resources &gt; Inventory</p> <p></p> <p>Once ready, you need to add a source to your inventory.</p>"},{"location":"docs/how-to/tower-integration.html#add-source","title":"Add source","text":"<p>In your inventory, select Sources.</p> <p></p> <p>Then add a source using your existing project.</p> <p></p> <p>In our example, our inventory file is part of a subdirectory. In this case, we had to type the path manually as it wasn\u2019t part of the suggestion list. Also, don\u2019t forget to specify virtual-env to use with this inventory.</p> <p>Once you click on the <code>Save</code> button, select SYNC-ALL button to get all hosts part of your inventory:</p> <p></p> <p>You should get all your devices in Resources &gt; Inventory &gt; Your inventory Name</p> <p></p> <p>Now we can focus on the playbook itself.</p>"},{"location":"docs/how-to/tower-integration.html#create-playbook-resource","title":"Create Playbook resource","text":"<p>Go to Resources &gt; Templates.</p> <p>In this section you have to provide at least:</p> <ul> <li>Name of your Template: Build Fabric Configuration \u2013 no-deploy</li> <li>Which inventory to use: EMEA Demo</li> <li>Which project to use to get playbook: AVD Demo with CVP</li> <li>Which playbook to use: <code>playbooks/dc1-fabric-deploy-cvp.yml</code></li> <li>Virtual Environment to use when running the playbook</li> </ul> <p>As AVD implements Ansible <code>TAGS</code>, we\u2019ve only specified the <code>build</code> tag, but you can adapt it to your setup.</p> <p></p> <p>You can configure more than just one playbook, but we will focus on playbook definition as it\u2019s not an AWX user\u2019s guide.</p>"},{"location":"docs/how-to/tower-integration.html#update-avd-playbook","title":"Update AVD playbook","text":""},{"location":"docs/how-to/tower-integration.html#how-to-install-collection-within-project","title":"How to install collection within project","text":"<p>Since AVD and CVP collections are not installed by default in AWX, you need to consider how to install them. You have two options: system-wide or per project. Let\u2019s consider per project as it\u2019s easier to upgrade.</p> <ul> <li>Create a folder named <code>collections</code> in your Git project</li> <li>Create a YAML file named <code>requirements.yml</code> with the following structure:</li> </ul> <pre><code>---\ncollections:\n- name: arista.avd\nversion: 1.1.0\n- name: arista.cvp\nversion: 2.1.0\n</code></pre>"},{"location":"docs/how-to/tower-integration.html#what-to-change-to-work-with-avd-and-awx","title":"What to change to work with AVD and AWX","text":"<p>Ansible has a default variable that points to the inventory file used in a playbook and named <code>{{ inventory_file }}</code>. Since AWX/Tower is using a database, this variable isn\u2019t available anymore, and inventory file does not exist in such environment.</p> <p>AVD uses this variable to read inventory and build container topology on CloudVision. So to mitigate this behavior, a slight workaround is to add a task that downloads your inventory from your Git repository and define <code>{{ inventory_file }}</code>:</p> <ul> <li>Define variable:</li> </ul> <pre><code>#group_vars/all.yml\n---\ninventory_file: '/tmp/inventory.yml'\n</code></pre> <ul> <li>Update playbook</li> </ul> <pre><code>- name: Configuration deployment with CVP\nhosts: cv_server\nconnection: local\ngather_facts: false\ncollections:\n- arista.avd\n- arista.cvp\ntasks:\n- name: Download Inventory file\ntags: [ build ]\nget_url:\nurl: 'https://raw.githubusercontent.com/titom73/avd-with-ansible-tower-awx/master/inventory/inventory.yml'\ndest: '{{ inventory_file }}'\nmode: '0755'\ndelegate_to: 127.0.0.1\n- name: Run CVP provisioning\nansible.builtin.import_role:\nname: arista.avd.eos_config_deploy_cvp\nvars:\ncontainer_root: 'DC1_FABRIC'\nconfiglets_prefix: 'DC1-AVD'\ndevice_filter: 'DC1'\nstate: present\n</code></pre>"},{"location":"docs/how-to/tower-integration.html#run-your-playbook","title":"Run your playbook","text":"<p>Under Resources &gt; Templates click on the rocket icon to start playbook execution</p> <p></p>"},{"location":"docs/how-to/vscode-container.html","title":"Setup Ansible AVD With VS Code Container","text":"<p>Arista AVD provides an easy way to set up a lab or demo environment using a pre-configured VScode container with a web interface to connect and edit files.</p> <p>We can leverage this container in different ways like a demo, remote lab, training sessions, or development solution. However, on this page, we will focus only on how to play with AVD demo content.</p>"},{"location":"docs/how-to/vscode-container.html#vscode-container-overview","title":"VScode container overview","text":"<p>This container is based on a AVD base image with an installation of VScode server using code-server implementation.</p> <p>This container comes with a set of options available to let you customize your environment:</p>"},{"location":"docs/how-to/vscode-container.html#generic-settings","title":"Generic settings","text":"<ul> <li><code>AVD_MODE</code>: If set to <code>demo</code>, container will install AVD content to test it from <code>get.avd.sh</code>. (Supported mode: <code>['demo', 'toi']</code>).</li> <li><code>AVD_PASSWORD</code>: Allow user to set a password for VScode authentication. If not set, access isn\u2019t protected by any password.</li> <li><code>AVD_GIT_USER</code>: Username to configure in <code>.gitconfig</code> file.</li> <li><code>AVD_GIT_EMAIL</code>: Email to configure in <code>.gitconfig</code> file.</li> <li><code>AVD_USER_EXTENSIONS_FILE</code>: Allow user to install additional VScode extensions.</li> <li><code>AVD_USER_REPOS</code>: Path to a text file in your container with a list of repository to clone (one repository per line).</li> <li><code>AVD_USER_SCRIPT</code>: Path to a shell script to execute during entrypoint execution.</li> </ul>"},{"location":"docs/how-to/vscode-container.html#user-settings","title":"User settings","text":"<p>These settings must be used to mount and edit file from your physical host.</p> <ul> <li><code>AVD_UID</code>: Set uid for AVD user in container.</li> <li><code>AVD_GID</code>: Set gid for AVD user in container.</li> </ul> <p>The container also comes with Docker installed, and in case you want to run Docker from your container, you can expose your local Docker socket from your host to your container:</p>"},{"location":"docs/how-to/vscode-container.html#requirements","title":"Requirements","text":"<p>To run this container, few requirements are expected:</p> <ul> <li>Docker installed on a host: laptop, VM, server, or anything that runs Docker</li> <li>Git configured with at least username and email</li> </ul> <pre><code># Set your user name to display in git commit\n$ git config --global user.name \"John Doe\"\n# Set your email address to use in git commit\n$ git config --global user.email johndoe@example.com\n</code></pre>"},{"location":"docs/how-to/vscode-container.html#get-avd-demo-in-vscode","title":"Get AVD demo in VSCode","text":"<p>We will ask the container to install the following content in your container automatically:</p> <ul> <li>Ansible Arista Validated Design collection using Git (devel) version.</li> <li>Ansible Arista CloudVision collection using Git (devel) version.</li> <li>AVD with CloudVision demo repository</li> </ul> <p>Note</p> <p>The container will listen on port <code>8080</code>, but we can be change it accordingly by using Docker CLI</p> <pre><code>docker run --rm -it -d \\\n-e AVD_MODE=demo \\\n-e AVD_GIT_USER=\"$(git config --get user.name)\" \\\n-e AVD_GIT_EMAIL=\"$(git config --get user.email)\" \\\n-p 8080:8080 \\\navdteam/vscode:latest\n</code></pre> <p>Warning</p> <p>In this setup, the container will be destroyed after you stop it. Since we don\u2019t share any volumes, all changes will be lost.</p> <p>Once your container is started, confirm with the following Docker command:</p> <pre><code>$ docker ps\nCONTAINER ID   IMAGE                   COMMAND                  CREATED          STATUS          PORTS                    NAMES\n0fd39cc2dd3d   avdteam/vscode:latest   \"/bin/entrypoint.sh\"     10 seconds ago   Up 9 seconds    0.0.0.0:8080-&gt;8080/tcp   inspiring_germain\n</code></pre> <p>You should be able to connect to your VSCode instance using your favorite browser with the following URL:</p> <pre><code>http://&lt;IP ADDR of DOCKER Machine&gt;:8080/?folder=/home/avd/arista-ansible\n</code></pre> <p></p>"},{"location":"docs/how-to/vscode-container.html#customize-your-container","title":"Customize your container","text":"<p>Once you run your first AVD demo, you may want to not use non-volatile storage or install your repositories.</p>"},{"location":"docs/how-to/vscode-container.html#mount-your-local-folder","title":"Mount your local folder","text":"<p>The first option is to mount one of your local folders to save your work from your container. Considering your local folder is empty, you can add this line to your Docker CLI:</p> <pre><code>-v ${PWD}/:/home/avd/arista-ansible\n</code></pre> <p>Complete CLI example below:</p> <pre><code>docker run --rm -it -d \\\n-e AVD_GIT_USER=\"$(git config --get user.name)\" \\\n-e AVD_GIT_EMAIL=\"$(git config --get user.email)\" \\\n-v ${PWD}/:/home/avd/arista-ansible \\\n-p 8080:8080 \\\navdteam/vscode:latest\n</code></pre>"},{"location":"docs/how-to/vscode-container.html#install-additional-repositories","title":"Install additional repositories","text":"<p>Now, you want to ship your own demo in your container with Git clone instead of local file sharing, you can leverage the following option: <code>AVD_USER_REPOS</code></p> <pre><code>docker run --rm -it -d \\\n-e AVD_GIT_USER=\"$(git config --get user.name)\" \\\n-e AVD_GIT_EMAIL=\"$(git config --get user.email)\" \\\n-e AVD_USER_REPOS=/home/avd/arista-ansible/my_repos.txt \\\n-v ${PWD}/:/home/avd/arista-ansible \\\n-p 8080:8080 \\\navdteam/vscode:latest\n</code></pre> <p>And then your <code>my_repos.txt</code> file should be like:</p> <pre><code>https://github.com/aristanetworks/ansible-avd.git\nhttps://github.com/aristanetworks/ansible-cvp.git\n</code></pre> <p>Note</p> <p>By default, Docker can\u2019t load a file from your host. The path you provide in <code>AVD_USER_REPOS</code> must be configured using a shared volume.</p> <p>For more details and options, you can check our repository for this container: arista-netdevops-community/docker-avd-vscode</p>"},{"location":"docs/how-to/ztp.html","title":"Configure ZTP Server With CVP Collection","text":""},{"location":"docs/how-to/ztp.html#configure-management-network","title":"Configure management network","text":"<p>Because we want to be generic, let\u2019s configure a DHCP server on the NAT gateway to provide a fixed DHCP address to your devices. Thus you will be able to get access to them easily. To support that, we can leverage <code>arista.cvp.dhcp_configuration</code> to install and configure a DHCP server.</p> <p>This role requires a set of information related to your own setup:</p> <p>For your out of band management network:</p> <ul> <li>Subnet you are using to allocate your device\u2019s IP.</li> <li>Name server to send to your DHCP client.</li> <li>Default scope for unknown devices.</li> </ul> <p>For every device:</p> <ul> <li>EOS device hostname you want to configure.</li> <li>Mac address to use to identify a request from your device.</li> <li>IP address to allocate.</li> <li>An optional URI for ZTP registration.</li> </ul>"},{"location":"docs/how-to/ztp.html#create-an-inventory-file","title":"Create an inventory file","text":"<p>Inventory contains information related to your NAT-gateway:</p> <pre><code># inventory.yml\n---\nall:\nchildren:\nDHCP:\nhosts:\nnat_gateway:\nansible_host: &lt; YOUR RUNNER NETWORK&gt;\nansible_user: &lt; USERNAME &gt;\nansible_password: &lt; PASSWORD &gt;\n</code></pre>"},{"location":"docs/how-to/ztp.html#create-host-variables","title":"Create host variables","text":"<p>Host variables for your NAT-gateway should be defined like this:</p> <pre><code>---\nztp:\ndefault:\nregistration: '&lt; Optional ZTP registration URL &gt;'\ngateway: &lt; OOB DEFAULT GATEWAY &gt;\nnameservers:\n- &lt; DNS &gt;\ngeneral:\nsubnets:\n- network: &lt; OOB SUBNET &gt;\nnetmask: &lt; OOB NETMASK &gt;\ngateway: &lt; OOB DEFAULT GATEWAY &gt;\nnameservers:\n- &lt; DNS &gt;\nstart: &lt; FIRST LEASE IP &gt;\nend: &lt; LAST LEASE IP &gt;\nlease_time: 300\nclients:\n# AVD/CVP Integration\n- name: DC1-SPINE1\nmac: 0c:1d:c0:1d:62:01\nip4: 10.73.1.11\n- name: DC1-SPINE2\nmac: 0c:1d:c0:1d:62:02\nip4: 10.73.1.12\n</code></pre>"},{"location":"docs/how-to/ztp.html#playbook-to-configure-dhcp","title":"Playbook to configure DHCP","text":"<p>Playbook is fairly simple:</p> <pre><code>---\n- name: Configure DHCP Service for ZTP\nhosts: DHCP\ngather_facts: true\ntasks:\n- name: 'Execute DHCP configuration role'\nansible.builtin.import_role:\nname: arista.cvp.dhcp_configuration\n</code></pre>"},{"location":"docs/installation/collection-installation.html","title":"Collection installation","text":""},{"location":"docs/installation/collection-installation.html#installation-workflow","title":"Installation workflow","text":"<ul> <li>Install Python 3.8 or later</li> <li>Install ansible-core from 2.12.6 to 2.14.x excluding 2.13.0</li> </ul> <p>Note</p> <p>Excluded version 2.13.0 has an issue in <code>ansible-core</code>, which is fixed in 2.13.1. Plugin loader will now load config data for plugin by name instead of by file to avoid issues with the same file being loaded under different names (Fully-Qualified-Collection-Name + short-name).</p> <ul> <li>Install arista.avd collection</li> <li>Install additional Python requirements</li> <li>Modify <code>ansible.cfg</code> file to support additional jinja2 extensions</li> </ul>"},{"location":"docs/installation/collection-installation.html#install-collection-from-ansible-galaxy","title":"Install Collection from Ansible Galaxy","text":"<p>These instructions are for regular users to install via Ansible Galaxy. To setup a development environment use these instructions. arista.avd can also be consumed using the \u201cAVD All-in-one\u201d container. The arista.avd collection is available on Ansible Galaxy server and can be automatically installed on your system.</p>"},{"location":"docs/installation/collection-installation.html#latest-version","title":"Latest version","text":"<pre><code>ansible-galaxy collection install arista.avd\n</code></pre> <p>Warning</p> <p>If you have an <code>ansible.cfg</code> file in the directory where you run <code>ansible-galaxy</code>, it may affect the directory under which the collection and dependencies will be installed.</p>"},{"location":"docs/installation/collection-installation.html#install-a-specific-version","title":"Install a specific version","text":"<pre><code>ansible-galaxy collection install arista.avd:==3.6.0\n</code></pre> <p>You can specify multiple range identifiers which are split by <code>,</code>. For example, you can use the following range identifiers:</p> <ul> <li><code>*</code>: Any version, this is the default used when no range specified is set.</li> <li><code>!=</code>: Version isn\u2019t equal to the one specified.</li> <li><code>==</code>: Version must be the one specified.</li> <li><code>&gt;=</code>: Version is greater than or equal to the one specified.</li> <li><code>&gt;</code>: Version is greater than the one specified.</li> <li><code>&lt;=</code>: Version is less than or equal to the one specified.</li> <li><code>&lt;</code>: Version is less than the one specified.</li> </ul> <p>Note</p> <p>If you are installing with a range command, you must surround the command in quotes. For example, <code>ansible-galaxy collection install 'arista.avd:&gt;=3.0.0,&lt;3.6.0'</code></p>"},{"location":"docs/installation/collection-installation.html#install-latest-devel-version-from-avd-github","title":"Install latest <code>devel</code> version from AVD GitHub","text":"<pre><code>ansible-galaxy collection install git+https://github.com/aristanetworks/ansible-avd.git#/ansible_collections/arista/avd/,devel\n</code></pre> <p>Note</p> <p>Collection dependencies like <code>ansible-cvp</code> will be installed from ansible-galaxy unless installed first using similar GitHub source.</p>"},{"location":"docs/installation/collection-installation.html#install-in-a-specific-directory","title":"Install in a specific directory","text":"<p>If you want to install collection in a specific directory part of your project, you can call <code>ansible-galaxy</code> and update your <code>ansible.cfg</code></p> <pre><code># Install collection under ${PWD/collections/}\n$ ansible-galaxy collection install arista.avd -p collections/\n\n# Update ansible.cfg file\n$ vim ansible.cfg\ncollections_paths = ${PWD}/collections:~/.ansible/collections:/usr/share/ansible/collections\n</code></pre>"},{"location":"docs/installation/collection-installation.html#upgrade-installed-avd-collection","title":"Upgrade installed AVD collection","text":"<p>Note</p> <p>You can use <code>-U</code> to upgrade to a new version for any installed collection:</p> <pre><code>$ ansible-galaxy collection install -U arista.avd\nProcess install dependency map\nStarting collection install process\nInstalling 'arista.avd:3.6.0' to '/root/.ansible/collections/ansible_collections/arista/avd'\n</code></pre> <p>Warning</p> <p>After an upgrade, some python requirements may have changed. Follow the instructions in the Python requirements section to update your python packages.</p> <p>Note</p> <p>You can find some additional information about how to use Ansible\u2019s collections on the following Ansible pages:</p> <ul> <li>Ansible collection user guide</li> <li>Ansible User guide</li> </ul>"},{"location":"docs/installation/collection-installation.html#additional-python-libraries-required","title":"Additional Python Libraries required","text":"<pre><code>netaddr&gt;=0.7.19\nJinja2&gt;=2.11.3\ntreelib&gt;=1.5.5\ncvprac&gt;=1.0.7\nparamiko&gt;=2.7.1\njsonschema&gt;=4.5.1\nrequests&gt;=2.25.1\nPyYAML&gt;=5.4.1\nmd-toc&gt;=7.1.0\ndeepmerge&gt;=1.1.0\ncryptography&gt;=38.0.4\n</code></pre>"},{"location":"docs/installation/collection-installation.html#python-requirements-installation","title":"Python requirements installation","text":"<p>In a shell, run the following commands after installing the collection from ansible-galaxy:</p> <pre><code>export ARISTA_AVD_DIR=$(ansible-galaxy collection list arista.avd --format yaml | head -1 | cut -d: -f1)\npip3 install -r ${ARISTA_AVD_DIR}/arista/avd/requirements.txt\n</code></pre> <p>If the collection is cloned from GitHub, we can reference the requirements file directly:</p> <pre><code>pip3 install -r ansible-avd/ansible_collections/arista/avd/requirements.txt\n</code></pre> <p>Warning</p> <p>Depending of your operating system settings, <code>pip3</code> might be replaced by <code>pip</code>.</p>"},{"location":"docs/installation/collection-installation.html#ansible-configuration-file","title":"Ansible configuration file","text":"<ul> <li>Enable Jinja2 extensions: <code>loopcontrols</code> and <code>do</code><ul> <li>Jinja2 Extensions Documentation</li> </ul> </li> <li>By default, Ansible will issue a warning when a duplicate dict key is encountered in YAML. We recommend to change to error instead and stop playbook execution when a duplicate key is detected.</li> </ul> <pre><code>jinja2_extensions=jinja2.ext.loopcontrols,jinja2.ext.do\nduplicate_dict_key=error\n</code></pre>"},{"location":"docs/installation/collection-installation.html#arista-eos-requirements","title":"Arista EOS requirements","text":"<ul> <li>EOS 4.21.8M or later</li> <li>Roles validated with eAPI transport -&gt; <code>ansible_connection: httpapi</code></li> </ul>"},{"location":"docs/installation/collection-installation.html#arista-cloudvision-requirements","title":"Arista CloudVision requirements","text":"<p>If you leverage CloudVision deployment with AVD, your CV instance must be supported by CloudVision Ansible collection</p> <p>Note</p> <p>When using ansible-cvp modules, the user who is executing the ansible-playbook must have access to both CVP and the EOS CLI.</p>"},{"location":"docs/modules/index.html","title":"Modules documentation","text":""},{"location":"docs/modules/configlet_build_config.rst.html","title":"configlet_build_config","text":"<p>Build arista.cvp.configlet configuration.</p> <p>Module added in version 2.9</p>"},{"location":"docs/modules/configlet_build_config.rst.html#synopsis","title":"Synopsis","text":"<p>Build configuration to publish configlets on CloudVision.</p>"},{"location":"docs/modules/configlet_build_config.rst.html#module-specific-options","title":"Module-specific Options","text":"<p>The following options may be specified for this module:</p> parameter type required default choices comments configlet_dir str yes Directory where configlets are located. configlet_extension str no conf File extension to look for. configlet_prefix str yes Prefix to append on configlet. destination str no File where to save information. <p></p>"},{"location":"docs/modules/configlet_build_config.rst.html#examples","title":"Examples","text":"<pre><code># tasks file for cvp_configlet_upload\n- name: Generate intended variables\ntags: [build, provision]\nconfiglet_build_config:\nconfiglet_dir: '{{ configlet_dir }}'\nconfiglet_prefix: '{{ configlets_prefix }}'\nconfiglet_extension: '{{configlet_extension}}'\n</code></pre>"},{"location":"docs/modules/configlet_build_config.rst.html#author","title":"Author","text":"<ul> <li>EMEA AS Team (@aristanetworks)</li> </ul>"},{"location":"docs/modules/configlet_build_config.rst.html#status","title":"Status","text":"<p>This module is flagged as preview which means that it\u2019s not guaranteed to have a backwards compatible interface.</p>"},{"location":"docs/modules/index.rst.html","title":"Arista Cloudvision Ansible Modules","text":"Collection Overview \\&lt;../README.md\\&gt;     DHCP Configuration \\&lt;../ansible\\_collections/arista/cvp/roles/dhcp\\_configuration/README.md\\&gt;     Module arista.cvp.configlet\\_build\\_config \\ Module arista.cvp.inventory\\_to\\_container \\"},{"location":"docs/modules/inventory_to_container.rst.html","title":"inventory_to_container","text":"<p>Transform information from inventory to arista.cvp collection</p> <p>Module added in version 2.9</p>"},{"location":"docs/modules/inventory_to_container.rst.html#synopsis","title":"Synopsis","text":"<p>Transform information from ansible inventory to be able to provision CloudVision Platform using arista.cvp collection and its specific data structure.</p>"},{"location":"docs/modules/inventory_to_container.rst.html#module-specific-options","title":"Module-specific Options","text":"<p>The following options may be specified for this module:</p> parameter type required default choices comments configlet_dir str no Directory where intended configurations are located. configlet_prefix str no Prefix to put on configlet. container_root str yes Ansible group name to consider to be Root of our topology. destination str no Optional path to save variable. device_filter list no ['all'] Filter to apply intended mode on a set of configlet. If not used, then module only uses ADD mode. device_filter list devices that can be modified or deleted based on configlets entries. inventory str yes YAML inventory file <p></p>"},{"location":"docs/modules/inventory_to_container.rst.html#examples","title":"Examples","text":"<p>```yaml - name: Generate intended variables   arista.avd.inventory_to_container:     inventory: \u2018inventory.yml\u2019     container_root: \u2018DC1_FABRIC\u2019     configlet_dir: \u2018intended_configs\u2019     configlet_prefix: \u2018AVD\u2019     device_filter: [\u2018DC1-LE\u2019]     # destination: \u2018generated_vars/{{inventory_hostname}}.yml\u2019   register: cvp_vars</p> <ul> <li>name: \u2018Collecting facts from CVP {{ inventory_hostname }}.\u2019   arista.cvp.cv_facts:   register: cvp_facts</li> </ul> <ul> <li>name: \u2018Create configlets on CVP {{ inventory_hostname }}.\u2019   arista.cvp.cv_configlet:     cvp_facts: \u201c{{ cvp_facts.ansible_facts }}\u201d     configlets: \u201c{{ cvp_vars.cvp_configlets }}\u201d     configlet_filter: [\u201cAVD\u201d]</li> </ul> <ul> <li>name: \u201cBuilding Container topology on {{ inventory_hostname }}\u201d   arista.cvp.cv_container:     topology: \u2018{{ cvp_vars.cvp_topology }}\u2019     cvp_facts: \u2018{{ cvp_facts.ansible_facts }}\u2019     save_topology: true</li> <li>Ansible Arista Team (@aristanetworks)</li> </ul>"},{"location":"docs/modules/inventory_to_container.rst.html#status","title":"Status","text":"<p>This module is flagged as preview which means that it\u2019s not guaranteed to have a backwards compatible interface.</p>"},{"location":"docs/porting-guides/4.x.x.html","title":"Porting Guide for Ansible AVD 4.x.x","text":"<p>Major releases of AVD can contain breaking changes. The porting guide addresses how to update your inventory and playbooks to be compatible with new default behaviors and changed data models, when upgrading from AVD 3.x.x versions.</p> <p>Users of <code>eos_designs</code> do not have to consider the changes in <code>eos_cli_config_gen</code>, since those adaptions are built in to <code>eos_designs</code>.</p>"},{"location":"docs/porting-guides/4.x.x.html#changes-to-role-aristaavdeos_designs","title":"Changes to role <code>arista.avd.eos_designs</code>","text":""},{"location":"docs/porting-guides/4.x.x.html#network-services-variables","title":"Network services variables","text":"<ul> <li><code>evpn_rd_type</code> has been removed and replaced with <code>overlay_rd_type</code>.</li> <li><code>evpn_rt_type</code> has been removed and replaced with <code>overlay_rt_type</code>.</li> </ul>"},{"location":"docs/porting-guides/4.x.x.html#fabric-variables","title":"Fabric variables","text":"<p>BGP peer groups variables:</p> <p>The following keys under <code>bgp_peer_groups</code> have been replaced to avoid upper-case variables.</p> <p>Removed keys:</p> <pre><code>bgp_peer_groups:\nIPv4_UNDERLAY_PEERS:\nMLAG_IPv4_UNDERLAY_PEER:\nEVPN_OVERLAY_PEERS:\n</code></pre> <p>Replacement keys:</p> <pre><code>bgp_peer_groups:\nipv4_underlay_peers:\nmlag_ipv4_underlay_peer:\nevpn_overlay_peers:\n</code></pre> <p>TODO: Add link to data model once schema is done.</p> <p>ISIS underlay variables:</p> <ul> <li><code>isis_default_circuit_type</code>  default changed from <code>level-1-2</code> (EOS default) to <code>level-2</code>.</li> </ul> <p>To keep EOS default isis circuit-type set:</p> <pre><code>isis_default_circuit_type: \"level-1-2\"\n</code></pre> <p>Note</p> <p>This will now print <code>isis circuit-type level-1-2</code> in the EOS configuration matching the EOS default isis circuit-type.</p>"},{"location":"docs/porting-guides/4.x.x.html#l3-edge-variables","title":"L3 Edge variables","text":"<ul> <li><code>l3_edge.p2p_links.[].qos_profile</code> default changed from <code>null</code> to now leverage <code>p2p_uplinks_qos_profile</code> as its default value.</li> </ul> <p>To keep AVD 3.8 behavior set:</p> <pre><code>l3_edge:\np2p_links:\n- qos_profile: null\n</code></pre> <ul> <li><code>l3_edge.p2p_links.[].include_in_underlay_protocol</code> default changed from <code>false</code> to <code>true</code>.</li> </ul> <p>To keep AVD 3.8 behavior set:</p> <pre><code>l3_edge:\np2p_links:\n- include_in_underlay_protocol: false\n</code></pre> <ul> <li><code>l3_edge.p2p_links.[].isis_circuit_type</code> -&gt; default changed from <code>level-1-2</code> (EOS default) set by <code>isis_default_circuit_type</code> to <code>level-2</code>.</li> </ul> <p>To keep AVD 3.8 behavior set:</p> <pre><code>l3_edge:\np2p_links:\n- isis_circuit_type: \"level-1-2\"\n</code></pre> <p>Note</p> <p>This will now print <code>isis circuit-type level-1-2</code> in the EOS configuration matching the EOS default isis circuit-type.</p> <ul> <li><code>l3_edge.p2p_links.[].isis_hello_padding</code> default changed from <code>false</code> to <code>true</code> (EOS default).</li> </ul> <p>No changes required to variables, since this matches to EOS default configuration.</p> <p>Note</p> <p>This will now print <code>isis hello padding</code> in the EOS configuration matching the EOS default.</p>"},{"location":"docs/porting-guides/4.x.x.html#core-interfaces-variables","title":"Core interfaces variables","text":"<ul> <li><code>core_interfaces.p2p_links.[].ptp_enable</code> requires the <code>ptp.enabled: true</code> to be set at the fabric level.</li> </ul> <p>Set the following variable at the fabric level.</p> <pre><code>ptp:\nenabled: true\n</code></pre>"},{"location":"docs/porting-guides/4.x.x.html#connected-endpoints","title":"Connected endpoints","text":"<p>The <code>connected_endpoints_key.[].adapters.[].server_ports</code> has been removed and replaced with <code>connected_endpoints_key.[].adapters.[].endpoint_ports</code> in order to be generic across endpoint types.</p> <p>Removed keys:</p> <pre><code>&lt;connected_endpoints_keys.key&gt;:\n- name: &lt;str&gt;\nadapters:\n- server_ports:\n</code></pre> <p>Replacement keys:</p> <pre><code>&lt;connected_endpoints_keys.key&gt;:\n- name: &lt;str&gt;\nadapters:\n- endpoint_ports:\n</code></pre>"},{"location":"docs/porting-guides/4.x.x.html#ip-and-ipv6-routing-is-no-longer-configured-on-pure-l2-devices","title":"IP and IPv6 routing is no longer configured on pure L2 devices","text":"<p>For node types like <code>l2leaf</code> where <code>underlay_router</code> is set to <code>false</code> under <code>node_type_keys</code> AVD versions below 4.0.0 still rendered <code>ip routing</code>, <code>ip routing ipv6 interfaces</code> and/or <code>ipv6 unicast-routing</code> in the configuration. As of AVD version 4.0.0 these IP and IPv6 routing configurations are no longer configured for <code>l2leaf</code> or other node types with <code>underlay_router: false</code>.</p> <p>To retain the old behavior the inventory can be updated like this:</p> <pre><code>l2leaf:\ndefaults:\nalways_configure_ip_routing: true\n</code></pre>"},{"location":"docs/porting-guides/4.x.x.html#bgp-is-no-longer-configured-on-irrelevant-nodes","title":"BGP is no longer configured on irrelevant nodes","text":"<p>An example of an \u201cirrelevant node\u201d is a pure L3 Spine in L3LS running ISIS or OSPF in the underlay. As long as the spine is not set as route-server for any overlay BGP protocol, there is no need for <code>router bgp &lt;asn&gt;</code> to be configured on this device.</p> <p>Example of default configuration previously generated but now removed:</p> <pre><code>router bgp 65000\n  router-id 192.168.255.2\n  maximum-paths 4 ecmp 4\n</code></pre> <p>To retain the old behavior the inventory can be updated like this:</p> <pre><code>spine:\ndefaults:\nstructured_config:\nrouter_bgp:\nas: '65000'\nrouter_id: 192.168.255.2\nmaximum_paths:\npaths: 4\necmp: 4\n</code></pre>"},{"location":"docs/porting-guides/4.x.x.html#changes-to-role-aristaavdeos_cli_config_gen","title":"Changes to role <code>arista.avd.eos_cli_config_gen</code>","text":""},{"location":"docs/porting-guides/4.x.x.html#new-model-for-hardware_countersfeatures","title":"New model for <code>hardware_counters.features</code>","text":"<p>The <code>hardware_counters.features</code> model has been improved to allow more options.</p> <p>TODO: add link to the full data model</p> <p>Example with old data model:</p> <pre><code>hardware_counters:\nfeatures:\n- ip: in\n- ip: out\n- vlan-interfaces: in\n</code></pre> <p>Same example with new data model:</p> <pre><code>hardware_counters:\nfeatures:\n- name: ip\ndirection: out\n- name: ip\ndirection: in\n- name: vlan-interfaces\ndirection: in\n</code></pre>"},{"location":"docs/porting-guides/4.x.x.html#new-model-for-ip_name_servers","title":"New model for <code>ip_name_servers</code>","text":"<p>The <code>name_server</code> key has been deprecated in favor of <code>ip_name_servers</code>, more aligned with the EOS cli.</p> <p>TODO: add link to the full data model</p> <p>Example with old data model:</p> <pre><code>name_server:\nsource:\nvrf: MGMT\nnodes:\n- 8.8.8.8\n</code></pre> <p>Same example with new data model:</p> <pre><code>ip_name_servers:\n- ip_address: 8.8.8.8\nvrf: MGMT\n</code></pre>"},{"location":"docs/porting-guides/4.x.x.html#new-behavior-for-ip_igmp_snooping","title":"New behavior for <code>ip_igmp_snooping</code>","text":"<p>Disabling IGMP Snooping globally no longer blocks other IGMP snooping configuration.</p> <p>Example input:</p> <pre><code>ip_igmp_snooping:\nglobally_enabled: false\nvlans:\n- id: 10\nenabled: true\n- id: 20\nenabled: false\n- id: 30\nenabled: false\n</code></pre> <p>Previous output:</p> <pre><code>no ip igmp snooping\n</code></pre> <p>AVD version 4.0.0 output:</p> <pre><code>no ip igmp snooping\nip igmp snooping vlan 10\nno ip igmp snooping vlan 20\nno ip igmp snooping vlan 30\n</code></pre> <p>While EOS accepts the extra configuration, IGMP snooping is still effectively disabled. To remove the extra configuration, the inputs have to be removed like:</p> <pre><code>ip_igmp_snooping:\nglobally_enabled: false\n</code></pre>"},{"location":"docs/porting-guides/4.x.x.html#new-required-enabled-key-under-vlan_interfacesip_attached_host_route_export","title":"New required <code>enabled</code> key under <code>vlan_interfaces.[].ip_attached_host_route_export</code>","text":"<p>To avoid ambiguous YAML data input, the data model for <code>vlan_interfaces.[].ip_attached_host_route_export</code> has been updated to require an <code>enabled: true</code> key to be added.</p> <p>Example with old data model (shown with old dictionary form input):</p> <pre><code>vlan_interfaces:\nVlan86:\nip_address: 10.10.83.1/24\nip_attached_host_route_export: {}\n</code></pre> <p>Same example with new data model (shown with new list form input):</p> <pre><code>vlan_interfaces:\n- name: Vlan86\nip_address: 10.10.83.1/24\nip_attached_host_route_export:\nenabled: true\n</code></pre> <p>The change has been incorporated into <code>eos_designs</code> so action is only required when defining <code>structured_configuration</code> directly.</p>"},{"location":"docs/porting-guides/4.x.x.html#changes-to-role-aristaavdeos_config_deploy_cvp","title":"Changes to role <code>arista.avd.eos_config_deploy_cvp</code>","text":""},{"location":"docs/porting-guides/4.x.x.html#inventory-to-cloudvision-containers","title":"Inventory to CloudVision containers","text":"<p>In AVD v4.0.0 the role get support for dynamic Ansible inventories. This means that the basis for CloudVision containers will no longer be the <code>inventory.yml</code> file, but instead the role reads the loaded Ansible inventory. This inventory can be loaded from dynamic inventory plugins like Ansible Automation Platform, AWX etc.</p> <p>The new inventory parsing is stricter than the previous method, so all Ansible inventory groups must be laid out as a regular tree structure starting from the <code>container_root</code>.</p> <p>Old behavior can be retained by adding the variable <code>avd_inventory_to_container_file: \"{{ inventory_file }}\"</code> to the playbook task for <code>arista.avd.eos_config_deploy_cvp</code> like this example:</p> <pre><code>- name: Configuration deployment with CVP\nhosts: cv_servers\nconnection: local\ngather_facts: false\ncollections:\n- arista.avd\ntasks:\n- name: Provision CVP\nimport_role:\nname: eos_config_deploy_cvp\nvars:\ncontainer_root: 'DC1_FABRIC'\nconfiglets_prefix: 'AVD'\nstate: present\navd_inventory_to_container_file: \"{{ inventory_file }}\"  # &lt;--- Retain old behavior from AVD v3.x.x\n</code></pre>"},{"location":"docs/porting-guides/4.x.x.html#supported-group-structure","title":"Supported group structure","text":"<p>In this example the <code>container_root</code> is set to <code>DC1_FABRIC</code>. This means that this, and all groups below will be created as containers on CloudVision. Devices can be a member of multiple group hierarchies like <code>DC1_FABRIC</code> and <code>DC1_TENANT_NETWORKS</code>, as long as the other hierarchies are not below group set as <code>container_root</code>.</p> <pre><code>---\nall:\nchildren:\nDC1:\nchildren:\nDC1_FABRIC:\nchildren:\nDC1_SPINES:\nhosts:\nDC1-SPINE1:\nDC1-SPINE2:\nDC1_L3LEAFS:\nchildren:\nDC1_LEAF1:\nhosts:\nDC1-LEAF1A:\nDC1-LEAF1B:\nDC1_LEAF2:\nhosts:\nDC1-LEAF2A:\nDC1-LEAF2B:\nDC1_TENANTS_NETWORKS:  # &lt;--- This group is under DC1, but it is NOT under DC1_FABRIC, so this inventory is supported\nchildren:\nDC1_L3LEAFS:\n</code></pre>"},{"location":"docs/porting-guides/4.x.x.html#unsupported-group-structure","title":"Unsupported group structure","text":"<pre><code>---\nall:\nchildren:\nDC1:\nchildren:\nDC1_FABRIC:\nchildren:\nDC1_SPINES:\nhosts:\nDC1-SPINE1:\nDC1-SPINE2:\nDC1_L3LEAFS:\nchildren:\nDC1_LEAF1:\nhosts:\nDC1-LEAF1A:\nDC1-LEAF1B:\nDC1_LEAF2:\nhosts:\nDC1-LEAF2A:\nDC1-LEAF2B:\nDC1_TENANTS_NETWORKS:  # &lt;--- This group is under DC1_FABRIC, making DC1_L3LEAFS have two \"parents\",\nchildren:            #      so this inventory is *not* supported with the new inventory parser\nDC1_L3LEAFS:\n</code></pre>"},{"location":"docs/release-notes/1.0.x.html","title":"Release Notes for Ansible AVD 1.0.x","text":"<p>Table of Contents:</p> <ul> <li>Release Notes for Ansible AVD 1.0.x<ul> <li>Release 1.0.2</li> <li>Release 1.0.1</li> <li>Release 1.0.0</li> </ul> </li> </ul>"},{"location":"docs/release-notes/1.0.x.html#release-102","title":"Release 1.0.2","text":"<p>Provides minor enhancements and fixes.</p> <p>Updated Roles:</p> <ul> <li>eos_l3ls_evpn</li> <li>eos_cli_config_gen</li> <li>eos_config_deploy_cvp</li> </ul> <p>Info</p> <p>For detailed information please see the release tag</p>"},{"location":"docs/release-notes/1.0.x.html#release-101","title":"Release 1.0.1","text":"<p>Provides minor enhancements and fixes.</p> <p>New Roles:</p> <ul> <li>cvp_configlet_upload</li> <li>build_output_folders</li> </ul> <p>Updated Roles:</p> <ul> <li>eos_l3ls_evpn</li> <li>eos_cli_config_gen</li> </ul> <p>Info</p> <p>For detailed information please see the release tag</p>"},{"location":"docs/release-notes/1.0.x.html#release-100","title":"Release 1.0.0","text":"<p>Initial release of Ansible AVD</p> <p>New Roles:</p> <ul> <li>eos_l3ls_evpn</li> <li>eos_cli_config_gen</li> <li>eos_config_deploy_eapi</li> <li>eos_config_deploy_cvp</li> </ul> <p>New Plugins:</p> <ul> <li>list_compress</li> <li>natural_sort</li> </ul> <p>New Modules:</p> <ul> <li>inventory_to_container</li> </ul> <p>Info</p> <p>For detailed information please see the release tag</p>"},{"location":"docs/release-notes/1.1.x.html","title":"Release Notes for Ansible AVD 1.1.x","text":"<p>Table of Contents:</p> <ul> <li>Release Notes for Ansible AVD 1.1.x<ul> <li>Release 1.1.2</li> <li>Release 1.1.1</li> <li>Release 1.1.0<ul> <li>Data model modifications</li> </ul> </li> </ul> </li> </ul> <p>Documentation for AVD version <code>1.1.x</code> available here</p>"},{"location":"docs/release-notes/1.1.x.html#release-112","title":"Release 1.1.2","text":"<p>Provides enhancements and bug fixes to the following roles:</p> <p>Updated Roles:</p> <ul> <li>eos_l3ls_evpn</li> <li>eos_cli_config_gen</li> </ul> <p>Info</p> <p>For detailed information please see the release tag</p>"},{"location":"docs/release-notes/1.1.x.html#release-111","title":"Release 1.1.1","text":"<p>Provides enhancements and bug fixes to the following roles:</p> <p>Updated Roles:</p> <ul> <li>eos_l3ls_evpn</li> <li>eos_cli_config_gen</li> <li>eos_validate_state</li> </ul> <p>Info</p> <p>For detailed information please see the release tag</p>"},{"location":"docs/release-notes/1.1.x.html#release-110","title":"Release 1.1.0","text":"<p>Provide major enhancements and data model has been updated!</p> <p>Data model updated for roles:</p> <ul> <li>eos_l3ls_evpn</li> <li>eos_cli_config_gen.</li> </ul> <p>A  migration role is provided to help update data structure for abstracted data model roles only, i.e. eos_l3ls_evpn.</p> <p>New Roles:</p> <ul> <li>eos_validate_state</li> <li>upgrade_tools</li> </ul> <p>Updated Roles:</p> <ul> <li>eos_l3ls_evpn</li> <li>eos_cli_config_gen</li> <li>eos_config_deploy_eapi</li> <li>eos_config_deploy_cvp</li> <li>cvp_configlet_upload</li> <li>build_output_folders</li> </ul>"},{"location":"docs/release-notes/1.1.x.html#data-model-modifications","title":"Data model modifications","text":"<p>This section provides an overview of only the data model that have changed from the previous release that would require user modifications. See the release notes and role documentation for all new additions.</p> <p>eos_l3ls_evpn:</p> <pre><code>  Tenant_A:\nvrfs:\n&lt;vrf&gt;:\nsvis:\n&lt;svi&gt;:\n# ip_subnet: 10.1.30.0/24\n#&lt; now ip_address_virtual and required to provide gateway ip as opposed to network.&gt;\nip_address_virtual: 10.1.30.1/24\n</code></pre> <p>eos_cli_config_gen:</p> <pre><code># Vlan Interfaces\nvlan_interfaces:\n&lt;vlan_id&gt;:\n# ip_address: 10.1.40.1/24\n# virtual: true &lt; deprecated - now combined key &gt;\nip_address_virtual: 10.1.40.1/24\n# Route maps\nroute_maps:\n&lt;route_map&gt;:\nsequence_numbers:\n10:\ntype: permit\n# match: \"ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\"\n# &lt; match is now a list, to allow multiple matches &gt;\nmatch:\n- \"ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\"\n# Router BGP &gt; bfd configuration\nrouter_bgp:\npeer_groups:\n&lt;peer_group_1&gt;:\n# fall_over_bfd: true &lt; deprecated &gt;\nbfd: true\nvlan_aware_bundles:\n&lt;vlan_aware_bundle&gt;:\nroute_targets:\n# &lt; import/export/ both &gt;:\n#   asn: \"14:14\" &lt; route_targets.&lt;import/export/both&gt; now a list &gt;\n&lt; import/export/both&gt;:\n- \"14:14\"\nvrfs:\n&lt;vrf&gt;:\nroute_targets:\n&lt; import/export/both&gt;:\n#   address_family: evpn &lt; make address family the key &gt;\n#   asn: \"14:14\" &lt; asn as list &gt;\nevpn:\n- \"14:14\"\n</code></pre> <p>Info</p> <p>For detailed information please see the release tag</p>"},{"location":"docs/release-notes/2.x.x.html","title":"Release Notes for Ansible AVD 2.x.x","text":"<p>Documentation for AVD version <code>2.x.x</code> available here</p> <p>Warning</p> <p>Starting arista.avd version 2.0, <code>eos_l3ls_evpn</code> has been renamed to <code>eos_designs</code> and a fallback mechanism has been deployed to support both name. Please update your playbooks accordingly as <code>eos_l3ls_evpn</code> will be removed in a future release.</p>"},{"location":"docs/release-notes/2.x.x.html#release-221","title":"Release 2.2.1","text":""},{"location":"docs/release-notes/2.x.x.html#fixed-issues","title":"Fixed issues","text":"<ul> <li> <p>eos_designs:</p> <ul> <li>Incorrect topology/ip calculation when <code>max_l3leaf_to_spine_links</code> &gt; 1</li> <li>Update documentation for l3_interface sub-interfaces</li> </ul> </li> </ul>"},{"location":"docs/release-notes/2.x.x.html#release-220","title":"Release 2.2.0","text":""},{"location":"docs/release-notes/2.x.x.html#data-model-modifications","title":"Data model modifications","text":"<p>This section provides an overview of only the data model that have changed from the previous release that would require user modifications. See the release notes and role documentation for all new additions.</p> <ul> <li>Key name for CVP Structured Config Folder</li> </ul> <pre><code># Old Data model\nstructured_cvp_name: 'cvp'\nstructured_cvp: '{{ structured_dir }}/{{ structured_cvp_name }}'\n# New Data model\nstructured_cvp_dir_name: 'cvp'\nstructured_cvp_dir: '{{ structured_dir }}/{{ structured_cvp_dir_name }}'\n</code></pre>"},{"location":"docs/release-notes/2.x.x.html#new-features","title":"New features","text":"<ul> <li> <p>eos_designs (eos_l3ls_evpn):</p> <ul> <li>Add support for setting BGP Weight on BGP neighbors defined under tenant VRFs</li> <li>Add support for adding raw EOS CLI directly from <code>eos_designs</code> data model</li> <li>Add support for subinterfaces as tenant l3_interfaces</li> <li>Add data model Warnings or Errors</li> <li>Add support for not setting mgmt_ip on devices</li> <li>Add support for configurable <code>short_esi</code> prefix</li> <li>Ansible 3.x support</li> </ul> </li> </ul> <ul> <li> <p>eos_cli_config_gen:</p> <ul> <li>Add support for igmp ssm aware</li> <li>Add support for interface_profiles</li> <li>Add option to not generate device documentation</li> <li>Add option to not generate default configuration</li> <li>Add support for switchport phone config</li> <li>Add support for setting router pim sparse-mode ssm range</li> <li>Add support for additional PTP parameters</li> <li>Add support for setting bgp weight on vrf neighbors</li> <li>Add option to define custom daemon</li> <li>Add option to set default originate for peer groups</li> <li>Add support for service routing configuration</li> <li>Add support for adding EOS CLI directly from <code>eos_cli_config_gen</code> data model</li> <li>Add support for NTP authentication</li> </ul> </li> </ul> <ul> <li> <p>plugins:</p> <ul> <li>Add option to generate Warnings or Errors from <code>arista.avd.defined</code> test plugin</li> </ul> </li> </ul> <ul> <li> <p>documentation:</p> <ul> <li>Add contribution guide</li> </ul> </li> </ul>"},{"location":"docs/release-notes/2.x.x.html#fixed-issues_1","title":"Fixed issues","text":"<ul> <li> <p>eos_designs:</p> <ul> <li>Add missing <code>delegate_to: localhost</code> to some eos_designs tasks</li> <li>Use directory vars in all tasks instead of static paths</li> <li>Remove Unused <code>profile</code> key from <code>connected_endpoints</code> output</li> <li>Fix config issue for endpoint adapters with unsorted <code>switches</code> variable</li> <li>Fix missing Vlan filtering on <code>l2leaf</code> when <code>l3leaf</code>\u2018s filter definitions are set as <code>l3leaf.defaults.filter</code></li> <li>Fix <code>peer_interface</code> set to wrong value on <code>spine</code> when using rfc5549</li> <li>Fix various issues with rfc5549 depending on how values are set</li> <li>Fix wrong descriptions and <code>peer_interface</code> on spines when <code>l3leaf</code>\u2018s <code>uplink_to_spine_interfaces</code> is defined on <code>node</code>-level</li> <li>Fix wrong descriptions on port-channel between <code>l3leaf</code> and <code>l2leaf</code></li> </ul> </li> </ul> <ul> <li>eos_cli_config_gen:</li> </ul> <ul> <li>Use directory vars in all tasks instead of static paths</li> <li>Fix missing <code>default</code> VRF from generated TerminAttr configuration</li> <li>Fix missing <code>access vlan</code> when switchport mode is dot1q tunnel</li> <li>Add missing documentation of icmp redirect</li> <li>Remove extra spaces from rendering of ntp with default VRF</li> <li>Add missing documentation of <code>gateway</code> and <code>ipv6_gateway</code> on <code>management_ interfaces</code></li> </ul>"},{"location":"docs/release-notes/2.x.x.html#release-211","title":"Release 2.1.1","text":""},{"location":"docs/release-notes/2.x.x.html#new-features_1","title":"New Features","text":"<ul> <li> <p>eos_designs (eos_l3ls_evpn):</p> <ul> <li>BGP: add support for address-family IPv6 prefix-lists</li> <li>Allow override of IP assignment template logic</li> </ul> </li> </ul>"},{"location":"docs/release-notes/2.x.x.html#fixed-issues_2","title":"Fixed issues","text":"<ul> <li> <p>eos_validate_state:</p> <ul> <li>Fix issue with lldp topology tests reporting false error</li> </ul> </li> </ul>"},{"location":"docs/release-notes/2.x.x.html#release-210","title":"Release 2.1.0","text":""},{"location":"docs/release-notes/2.x.x.html#new-requirements","title":"New Requirements","text":"<pre><code>ansible&gt;=2.10,&lt;2.11\n</code></pre>"},{"location":"docs/release-notes/2.x.x.html#new-features_2","title":"New features","text":"<ul> <li> <p>eos_designs (eos_l3ls_evpn):</p> <ul> <li>EVPN host-flap settings</li> <li>Support for 3 stage + L2 Leafs topology with RFC5549 eBGP underlay and eBGP Overlay</li> <li>Support for 2-level inheritance on port-profiles</li> <li>Options to change MLAG vlan ids</li> <li>Support multiple keys support for connected endpoints (Previously know as servers)</li> <li>LACP fallback to connected endpoints</li> <li>Support for A/A model to connect L2LEAF</li> <li>Interface to VRF assignment in L3 Edge</li> <li>SNMP settings</li> <li>capability to define max spines to allow for growth without re ip addressing</li> <li>\u201calways_include_vrfs_in_tenants\u201d in l3leaf filter</li> <li>L2 ports with L2 MTU (7050 platforms only)</li> <li>BGP peer group names option</li> <li>Support for additional-route-targets to Tenant VRFs</li> <li>STP bpduguard to port channels and interfaces</li> <li>Initial support for traffic-policy feature</li> </ul> </li> </ul> <ul> <li> <p>eos_cli_config_gen:</p> <ul> <li>EVPN host-flap settings</li> <li>Policy Based Routing support</li> <li>L2 protocol encapsulation</li> <li>LACP timer fast option</li> <li>Support for MPLS and LDP</li> <li>LACP fallback</li> <li>RFC5549 support</li> <li>TACACS timeout and SAND MCast replication</li> <li>SNMP communities</li> <li><code>l3dot1q</code> support for interfaces</li> <li>Interface bfd settings</li> <li>L2 ports with L2 MTU (7050 platforms only)</li> <li>AAA support authentication for enable mode</li> <li>BGP support for IPv6 unicast AF network statement</li> <li>Various enhancement to OSPF</li> <li><code>class-maps</code> and <code>policy-maps</code> for QOS</li> <li>Support for L3 sub interface for ethernet and port-channel</li> <li>Support for traffic-policy feature</li> <li>Make <code>ingestkey</code> optional in TerminAttr</li> </ul> </li> </ul> <ul> <li> <p>plugins:</p> <ul> <li>New arista.avd.contains test plugin</li> <li>New yaml_templates_to_facts action plugin</li> </ul> </li> </ul>"},{"location":"docs/release-notes/2.x.x.html#fixed-issues_3","title":"Fixed issues","text":"<ul> <li> <p>eos_cli_config_gen:</p> <ul> <li>Update documentation template to set <code>ingestkey</code> optional</li> </ul> </li> </ul> <ul> <li> <p>eos_validate_states:</p> <ul> <li>Provide protection when the interface\u2019s description is not defined</li> </ul> </li> </ul>"},{"location":"docs/release-notes/2.x.x.html#release-200","title":"Release 2.0.0","text":""},{"location":"docs/release-notes/2.x.x.html#new-requirements_1","title":"New Requirements","text":"<pre><code>netaddr==0.7.19\nJinja2==2.11.3\ntreelib==1.5.5\ncvprac==1.0.5\nparamiko==2.7.1\njsonschema==3.2.0\nrequests==2.25.1\nPyYAML==5.4.1\nmd-toc==7.1.0\n</code></pre>"},{"location":"docs/release-notes/2.x.x.html#role-name-change","title":"Role Name Change","text":"<ul> <li><code>eos_l3ls_evpn</code> has been replaced / renamed to <code>eos_designs</code>.</li> <li>This builds the foundation for arista.avd collection to support multiple designs i.e L2LS in future releases!</li> </ul>"},{"location":"docs/release-notes/2.x.x.html#new-features_3","title":"New Features","text":"<ul> <li> <p>eos_designs (eos_l3ls_evpn):</p> <ul> <li>Support for 5-stage CLOS using new \u201csuper-spines\u201d</li> <li>Support for dedicated Route Reflectors / Route Servers using new \u201coverlay_controllers\u201d</li> <li>Custom Structured Configuration w. multiple custom_structured_configuration prefixes</li> <li>Basic PTP support</li> <li>L2leaf inband management</li> <li>BGP RT Membership support</li> <li>Support for underlay DCI including MACSEC and PTP using \u201cl3edge\u201d</li> <li>Additional Tenant VRF settings to support BGP and static routes</li> <li>Allow custom VLAN for iBGP MLAG pair</li> <li>Make MLAG Dual Primary Detection disabled by default and enable by configuration</li> <li>Port-profile inheritance for all settings</li> <li>Set origin incomplete on routes from MLAG iBGP peer by default</li> <li>Enable support for flexible speed configurations</li> <li>Hardware LAG platform setting</li> <li>Filter feature in default section for l2leaf and l3leaf devices</li> </ul> </li> </ul> <ul> <li> <p>eos_cli_config_gen:</p> <ul> <li>Errdisable</li> <li>interface_defaults</li> <li>QOS support</li> <li>Enable password</li> <li>Aggregate routes in BGP VRF</li> <li>BGP RT Membership</li> <li>Basic PTP capabilities</li> <li>Options to configure SSH ciphers and algorithms</li> <li>Enhance BGP VRF Neighbor settings</li> <li>Support for logging event under interfaces</li> <li>Explicit no shutdown and switchport config</li> <li>Additional STP knobs and MST configuration settings</li> <li>Route-map support to peer groups for EVPN</li> <li>Support disableaaa option for TerminAttr</li> <li>Global ARP timer option</li> </ul> </li> </ul> <ul> <li> <p>plugins:</p> <ul> <li>New default filter plugin</li> <li>New esi management filter plugin</li> <li>New defined test plugin</li> </ul> </li> </ul>"},{"location":"docs/release-notes/2.x.x.html#data-model-modifications_1","title":"Data model modifications","text":"<p>This section provides an overview of only the data model that have changed from the previous release that would require user modifications. See the release notes and role documentation for all new additions.</p> <p>eos_cli_config_gen:</p> <ul> <li>SNMP local interfaces changed to dictionary and SNMP ACLs changed to lists.</li> </ul> <pre><code># Old data model\nsnmp_server:\nipv4_access_list: &lt; ipv4-access-list &gt;\nipv6_access_list: &lt; ipv6-access-list &gt;\nlocal_interfaces:\n- name: &lt; interface_name_1 &gt;\nvrf: &lt; vrf_name &gt;\n# New data model\nsnmp_server:\nipv4_acls:\n- name: &lt; ipv4-access-list &gt;\nvrf: &lt; vrf &gt;\n- name: &lt; ipv4-access-list &gt;\nipv6_acls:\n- name: &lt; ipv6-access-list &gt;\nvrf: &lt; vrf &gt;\n- name: &lt; ipv6-access-list &gt;\nlocal_interfaces:\n&lt; interface_name_1 &gt;:\nvrf: &lt; vrf_name &gt;\n&lt; interface_name_2 &gt;:\n&lt; interface_name_3 &gt;:\nvrf: &lt; vrf_name &gt;\n</code></pre> <ul> <li>Router BFD previously bfd_multihop to reflect the eos cli.</li> </ul> <pre><code># Old data model\nbfd_multihop:\ninterval: &lt; rate in milliseconds &gt;\nmin_rx: &lt; rate in milliseconds &gt;\nmultiplier: &lt; 3-50 &gt;\n# New data model\nrouter_bfd:\nmultihop:\ninterval: &lt; rate in milliseconds &gt;\nmin_rx: &lt; rate in milliseconds &gt;\nmultiplier: &lt; 3-50 &gt;\n</code></pre> <ul> <li>Modified router bgp send-community so all now use the same style of configuration and no empty string.</li> </ul> <pre><code># Old data model\nrouter_bgp:\npeer_groups:\n&lt; peer_group_name_1&gt;:\ntype: &lt; ipv4 | evpn &gt;\nsend_community: &lt; true | false &gt;\nvrfs:\n&lt; vrf_name_1 &gt;:\nneighbors:\n&lt; neighbor_ip_address &gt;:\nsend_community: &lt; string | leave empty for all communities &gt;\n# New Data model\nrouter_bgp:\npeer_groups:\n&lt; peer_group_name_1&gt;:\nsend_community: &lt; standard | extended | large | all &gt;\nvrfs:\n&lt; vrf_name_1 &gt;:\nneighbors:\n&lt; neighbor_ip_address &gt;:\nsend_community: &lt; standard | extended | large | all &gt;\n</code></pre> <ul> <li>Modified address family definition for BGP neighbors in VRFs to match the same model as neighbors in default VRF.</li> </ul> <pre><code># Old data model\nrouter_bgp:\nvrfs:\n&lt; vrf_name_1 &gt;:\nneighbors:\n&lt; neighbor_ip_address &gt;:\naddress_family:\n- &lt; address_family_1 &gt;\n- &lt; address_family_2 &gt;\n# New Data model\nrouter_bgp:\nvrfs:\n&lt; vrf_name_1 &gt;:\naddress_families:\n&lt; address_family &gt;:\nneighbors:\n&lt; neighbor_ip_address &gt;:\nactivate: &lt; true | false &gt;\n</code></pre> <ul> <li>Modified router_isis data model to avoid static configuration</li> </ul> <pre><code># Old data model\nrouter_isis:\ninstance: &lt;ISIS Instance Name&gt;\nnet: &lt; CLNS Address to run ISIS | format 49.0001.0001.0000.0001.00 &gt;\nrouter_id: &lt; IPv4_address &gt;\nno_passive_interfaces: &lt; List no-passive-interface &gt;\nis_type: &lt; level-1 | level-1-2 | level-2 &gt;\naddress_family: &lt; List of Address Families &gt;\nisis_af_defaults:\n- maximum-paths &lt; Integer 1-64 &gt;\nsegment_routing_mpls:\nrouter_id: &lt; router_id &gt;\n# New Data model\nrouter_isis:\ninstance: &lt;ISIS Instance Name&gt;\nnet: &lt; CLNS Address to run ISIS | format 49.0001.0001.0000.0001.00 &gt;\nrouter_id: &lt; IPv4_address &gt;\nlog_adjacency_changes: &lt; true | false &gt;\nno_passive_interfaces: &lt; List no-passive-interface &gt;\nis_type: &lt; level-1 | level-1-2 | level-2 &gt;\naddress_family: &lt; List of Address Families &gt;\nisis_af_defaults:\n- maximum-paths &lt; Integer 1-64 &gt;\nsegment_routing_mpls:\nenabled: &lt; true | false &gt;\nrouter_id: &lt; router_id &gt;\n</code></pre> <ul> <li>Modified tcam_profile data model to allow profile configuration and reflect the eos cli</li> </ul> <pre><code># Old data model\ntcam_profile:\n- &lt; tcam_profile &gt;\n# New Data model\ntcam_profile:\nsystem: &lt; tcam profile name to activate &gt;\nprofiles:\n&lt; tcam_profile 01 &gt;: \"{{lookup('file', '&lt; path to TCAM profile using EOS syntax &gt;')}}\"\n</code></pre> <ul> <li>Modified spanning_tree data model to allow for more configuration options</li> </ul> <pre><code># Old data model\nspanning_tree:\nmode: &lt; spanning_tree_mode &gt;\npriority: &lt; priority_level &gt;\n# New Data model\nspanning_tree:\nmode: &lt; mstp | rstp | rapid-pvst | none &gt;\nrstp_priority: &lt; priority &gt;\n</code></pre> <ul> <li>Rename summary_address to summary_addresses under router_ospf.process_ids. data model <pre><code># Old data model\nrouter_ospf:\nprocess_ids:\n&lt; process_id &gt;:\nsummary_address:\n- prefix: &lt; summary_prefix_01 &gt;\ntag: &lt; string &gt;\n- prefix: &lt; summary_prefix_02 &gt;\nattribute_map: &lt; string &gt;\n- prefix: &lt; summary_prefix_03 &gt;\nnot_advertise: &lt; true &gt;\n- prefix: &lt; summary_prefix_04 &gt;\n- prefix: &lt; summary_prefix_05 &gt;\n# New Data model\nrouter_ospf:\nprocess_ids:\n&lt; process_id &gt;:\nsummary_addresses:\n- prefix: &lt; summary_prefix_01 &gt;\ntag: &lt; string &gt;\n- prefix: &lt; summary_prefix_02 &gt;\nattribute_map: &lt; string &gt;\n- prefix: &lt; summary_prefix_03 &gt;\nnot_advertise: &lt; true &gt;\n- prefix: &lt; summary_prefix_04 &gt;\n- prefix: &lt; summary_prefix_05 &gt;\n</code></pre> <ul> <li>Change default behavior of MLAG dual-primary detection so it is now disabled by default and configurable.</li> </ul> <pre><code>#New Datamodel\nl3leaf:\nnode_groups:\n&lt; node_group_1 &gt;:\nmlag_dual_primary_detection: &lt; true | false -&gt; default false &gt;\n</code></pre>"},{"location":"docs/release-notes/2.x.x.html#other-notable-changes","title":"Other Notable changes","text":""},{"location":"docs/release-notes/2.x.x.html#output-folders-changes","title":"Output Folders Changes","text":"<p>Output for <code>eos_designs</code> fabric documentation is now saved under <code>documentation/fabric</code> instead of <code>documentation/{{ fabric_name }}</code>.</p>"},{"location":"docs/release-notes/2.x.x.html#eos_designs-mlag-ibgp-changes","title":"eos_designs MLAG iBGP Changes","text":"<p>New default setting origin to incomplete on routes received from MLAG iBGP peer on l3leafs. The aim is to avoid suboptimal forwarding over the peerlink for some traffic. (see <code>mlag_ibgp_origin_incomplete</code>)</p>"},{"location":"docs/release-notes/2.x.x.html#new-roles","title":"New Roles","text":"<ul> <li>eos_snapshot: Collect commands on Arista EOS devices and generate a report. It supports reports with the following format: text, markdown, json and yaml</li> <li>dhcp_provisioner: Build and deploy a DHCP configuration file to support Zero Touch Provisioning with Arista EOS devices.</li> </ul> <p>Info</p> <p>For detailed information please see the release tags: 2.0.0</p>"},{"location":"docs/release-notes/3.x.x.html","title":"Release Notes for Ansible AVD 3.x.x","text":"<ul> <li>Documentation for AVD version <code>3.8.x</code> available here</li> <li>Documentation for AVD version <code>3.7.0</code> available here</li> <li>Documentation for AVD version <code>3.6.0</code> available here</li> <li>Documentation for AVD version <code>3.5.0</code> available here</li> <li>Documentation for AVD version <code>3.4.0</code> available here</li> <li>Documentation for AVD version &lt;= <code>3.3.3</code> available here</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-385","title":"Release 3.8.5","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Fix(eos_cli_config_gen): Checks for missing \u201cvlans\u201d key on access port-channel (#2701) by @jonxstill in https://github.com/aristanetworks/ansible-avd/pull/2731</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): network services vlan interfaces ospf authentication message-digest (#2727) by @philippebureau in https://github.com/aristanetworks/ansible-avd/pull/2730</li> <li>Fix(eos_designs): Change IP addressing templates from ansible netcommon to ansible.utils (#2677) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2732</li> <li>Fix(eos_designs): Avoid configuring trunk-group twice on mlag peer-link if using the same name (#2658) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2735</li> <li>Fix(eos_designs): Configure \u201cip routing ipv6 interface vrf X\u201d for RFC5549 (#2660) by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2733</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-384","title":"Release 3.8.4","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_1","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_1","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Fix(eos_cli_config_gen): Min value on local_users privilege (#2617) by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2618</li> <li>Fix(eos_cli_config_gen): Fix documentation template for flow tracking (#2636) by @chetryan in https://github.com/aristanetworks/ansible-avd/pull/2642</li> <li>Fix(eos_cli_config_gen): Update radius-server and radius-servers to match EOS behavior (#2615) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2644</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_1","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): Duplicate route-maps generated when using underlay_filter_peer_as: true (#2612) by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2640</li> <li>Fix(eos_designs): Handle overlapping vlan numbers with filter.only_in_use and trunkgroups (#2628) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2641</li> <li>Fix(eos_designs): Configure ptp to use the system mac (#2647) by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2648</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-383","title":"Release 3.8.3","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_2","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_2","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Fix(eos_cli_config_gen): Update schema for storm_control levels to support int or float (#2562) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2583</li> <li>Fix(eos_cli_config_gen): Update schema for logging (#2553) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2582</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_2","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): Ensure proper formatting of raised errors by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2580</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-382","title":"Release 3.8.2","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_3","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_3","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Fix(eos_cli_config_gen): Fix the router_multicast vrfs indentation (#2476) by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/2527</li> <li>Fix(eos_cli_config_gen): Correct schema min values for terminal length/width (#2481) by @emilarista in https://github.com/aristanetworks/ansible-avd/pull/2528</li> <li>Fix(eos_cli_config_gen): Add variable protection for router_bgp.as in doc template (#2503) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2535</li> <li>Fix(eos_cli_config_gen): Relax schema for maintenance unit profile (#2492) by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2532</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_3","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): Fix error with dotted hostname, l2leaf and mlag (#2502) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2534</li> <li>Fix(eos_designs): Correct range_expand behaviour with .0 4byte ASNs (#2529) by @jonxstill in https://github.com/aristanetworks/ansible-avd/pull/2541</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#documentation","title":"Documentation","text":"<ul> <li>Doc: Fix typo in plugins README.md (#2495) by @pvinci-arista in https://github.com/aristanetworks/ansible-avd/pull/2533</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-381","title":"Release 3.8.1","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_4","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_4","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Fix(eos_cli_config_gen): Update Schema for OSPF maximum paths from 32 to 128 (#2424) by @RyanM-Aristain https://github.com/aristanetworks/ansible-avd/pull/2435</li> <li>Fix(eos_cli_config_gen): Workaround for router-general EOS CLI issue (#2408) by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/2436</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_4","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): Detect duplicate VLAN, VRF, VNI within network_services (#2411) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2449</li> <li>Fix(eos_designs): Renders lacp fallback when port-channel mode is passive by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2452</li> <li>Fix(eos_designs): vtep_vvtep_ip doesn\u2019t generate any config (#2442) by @emilarista in https://github.com/aristanetworks/ansible-avd/pull/2455</li> <li>Fix(eos_designs): Fix issue with hardware_counters python code (#2447) by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2454</li> <li>Fix(eos_designs) - Remove speed from port-channel interfaces (#2463) by @carlbuchmann in (https://github.com/aristanetworks/ansible-avd/pull/2465)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_snapshot","title":"Fixed issues in eos_snapshot","text":"<ul> <li>Fix(eos_snapshot): eos snapshot produces incorrect json and yaml output (#2426 &amp; #2439) by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2434</li> <li>Fix(eos_snapshot): Conditional in tasks are not honored and support for limit (#2457) by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2460</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#update-for-requirements","title":"Update for Requirements","text":"<ul> <li>Bump: Support additional ansible-core versions 2.13 and 2.14 by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2433</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-380","title":"Release 3.8.0","text":"<ul> <li> <p>Version 3.8.0 includes input data validation for <code>eos_cli_config_gen</code> based on data model schemas.   By default data issues will be reported as warnings and will not block the playbook. See details here.</p> <p>Please report any problems on Github discussions, if it seems like the schema is wrong or too restrictive. Other feedback is also most welcome.</p> </li> </ul>"},{"location":"docs/release-notes/3.x.x.html#changes-to-requirements","title":"Changes to requirements","text":"<ul> <li>AVD now requires ansible-core from 2.11.3 to 2.12.x excluding 2.12.0 to 2.12.5   Excluded versions have an issue in <code>ansible-core</code>, which is fixed   in 2.12.6 and 2.13.1.   If Ansible is installed using pip, a supported version can be installed with <code>pip3 install \"ansible-core&gt;=2.11.3,&lt;2.13.0,!=2.12.0,!=2.12.1,!=2.12.2,!=2.12.3,!=2.12.4,!=2.12.5\"</code>.</li> </ul> <p>Note</p> <p>Plugin loader will now load config data for plugin by name instead of by file to avoid issues with the same file being loaded under different names (Fully-Qualified-Collection-Name + short-name).</p> <ul> <li>AVD now requires a newer version of the Python package <code>jsonschema&gt;=4.5.1</code>.   A supported version can be installed with <code>pip3 install \"jsonschema&gt;=4.5.1\"</code>.</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues_5","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_5","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Optimize(eos_cli_config_gen): Remove lower method on boolean variables by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/2007</li> <li>Fix(eos_cli_config_gen): documentation failure when enable isis on vlan-interface by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2076</li> <li>Fix(eos_designs,eos_cli_config_gen): Fix ipv6_address_virtual and ipv6_virtual_router by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2141</li> <li>Fix(eos_cli_config_gen): Updates to schema for policy_maps by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2177</li> <li>Fix(eos_cli_config_gen): make description, ip and gateway optional for management_interfaces by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2224</li> <li>Fix(eos_cli_config_gen): Add convert_types to router ospf area id schema (#2391) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2402</li> <li>Fix(eos_cli_config_gen): Render LLDP commands on ethernet_interfaces also for port-channel members (#2386) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2405</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_5","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): Fix the router_isis redistribute_routes connected by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/2001</li> <li>Fix(eos_designs): remove the need for mgmt_gateway by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/1931</li> <li>Fix(eos_designs): Missing defined check for enable_trunk_groups by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2038</li> <li>Fix(eos_designs): Fix core_interfaces ISIS logic by @emilarista in https://github.com/aristanetworks/ansible-avd/pull/2078</li> <li>Fix(eos_designs): fix wrong type being returned for mac_address_table aging-time by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2103</li> <li>Fix(eos_designs): <code>filter.only_vlans_in_use</code> did not configure vlans used by <code>network_ports</code> by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2104</li> <li>Fix(eos_designs): BGP Default Originate produced invalid key for route-map by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2108</li> <li>Fix(eos_designs,eos_cli_config_gen): Fix ipv6_address_virtual and ipv6_virtual_router by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2141</li> <li>Fix(eos_designs): allow \u2018:\u2019 in the description for network_ports by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2225</li> <li>Fix(eos_designs): Create mgmt interface even if no gateway is set by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2246</li> <li>Fix(eos_designs): Python import error for AristaAvdMissingVariableError by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2295</li> <li>Fix(eos_designs): Avoid configuring \u201cvxlan virtual-router encapsulation mac-address mlag-system-id\u201d when not applicable by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2325</li> <li>Fix(eos_designs): Create MLAG peer-group when needed for non-BGP underlays by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2316</li> <li>Fix(eos_designs): Minor issues in new PTP feature by @nielsjlarsen in https://github.com/aristanetworks/ansible-avd/pull/2331</li> <li>Fix(eos_designs): PTP documentation not linked from mkdocs.yml by @nielsjlarsen in https://github.com/aristanetworks/ansible-avd/pull/2334</li> <li>Fix(eos_designs): force inband_management_vlan as integer by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2345</li> <li>Fix(eos_designs): Remove j2caching since it is unstable between versions by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2351</li> <li>Fix(eos_designs): Replace sorted with natural_sort in overlay/utils.py (#2374) by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2375</li> <li>Fix(eos_designs): overlay_rd_type with inline jinja generates incorrect config (#2393) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2403</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-fixed-issues","title":"Other Fixed issues","text":"<ul> <li>Fix: Remove ansible-test enforced GPL3 header from modules by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2010</li> <li>Fix: Create MLAG port-channels with network_ports data model by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2011</li> <li>Fix: pr labeler action by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2051</li> <li>Fix: Update json schema by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2099</li> <li>Fix: Ensure get.avd.sh make script sets the correct UID by @jorisc90 in https://github.com/aristanetworks/ansible-avd/pull/2210</li> <li>Fix: schema auto generated documentation and json schema by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2251</li> <li>Fix(eos_validate_state): Always create directory for reports by @chetryan in https://github.com/aristanetworks/ansible-avd/pull/2261</li> <li>Fix: File permissions for documentation and schema tasks by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2292</li> <li>Fix: Incorrect table rendering for L2LS by @JulioPDX in https://github.com/aristanetworks/ansible-avd/pull/2318</li> <li>Fix(eos_validate_state): Handle missing  interfaces, MLAG and BGP peers by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2330</li> <li>Fix: Logging buffered default level not required (#2364) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2372</li> <li>Fix(plugins): Fix bgp_utils for ansible-test sanity and update requirements (#2401) by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2406</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#documentation_1","title":"Documentation","text":"<ul> <li>Doc(eos_designs): specify that id must be unique within a node_type by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2014</li> <li>Doc: L2LS Example by @mthiel117 in https://github.com/aristanetworks/ansible-avd/pull/1992</li> <li>Doc(eos_designs): Fix snmp_settings.compute_v3_user_localized_key typo by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2072</li> <li>Doc: L3LS Example and Mkdoc Updates by @JulioPDX in https://github.com/aristanetworks/ansible-avd/pull/2055</li> <li>Doc: Add Guillaume Mulocher to Maintainers by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2100</li> <li>Doc: Fix incorrect key names for custom mlag interface descriptions by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2235</li> <li>Doc: Remove display_name from schema generated docs by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2248</li> <li>Doc: Exclude test files from site build, enable twitter, update links by @JulioPDX in https://github.com/aristanetworks/ansible-avd/pull/2238</li> <li>Doc: Campus Example by @mthiel117 in https://github.com/aristanetworks/ansible-avd/pull/2191</li> <li>Doc: Role diagram support for light and dark modes by @JulioPDX in https://github.com/aristanetworks/ansible-avd/pull/2272</li> <li>Doc(eos_cli_config_gen): Add LACP to key_to_display_name plugin by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2293</li> <li>Doc: Refactor landing page and installation guide by @JulioPDX in https://github.com/aristanetworks/ansible-avd/pull/2306</li> <li>Doc(eos_designs): Addition of L2LS documentation by @JulioPDX in https://github.com/aristanetworks/ansible-avd/pull/2305</li> <li>Doc: Fix code block, update variable information by @JulioPDX in https://github.com/aristanetworks/ansible-avd/pull/2339</li> <li>Doc: Fix Images in Campus Fabric Example by @mthiel117 in https://github.com/aristanetworks/ansible-avd/pull/2348</li> <li>Doc(eos_cli_config_gen): Fix documentation for cvx.peer_hosts by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2358</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements","title":"New Features and enhancements","text":""},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_cli_config_gen","title":"New features and enhancements in eos_cli_config_gen","text":"<ul> <li>Feat(eos_cli_config_gen): Add support for sub-route-map and continue in route-maps by @emilarista in https://github.com/aristanetworks/ansible-avd/pull/1850</li> <li>Feat(eos_cli_config_gen): add support for SSL profile cipher-list by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2000</li> <li>Feat(eos_cli_config_gen): Support mcs cvx server commands by @sugetha24 in https://github.com/aristanetworks/ansible-avd/pull/1985</li> <li>Feat(eos_cli_config_gen): Support for MCS client commands by @sugetha24 in https://github.com/aristanetworks/ansible-avd/pull/1999</li> <li>Feat(eos_cli_config_gen): Add shutdown knob to MCS client commands by @sugetha24 in https://github.com/aristanetworks/ansible-avd/pull/2009</li> <li>Feat(eos_cli_config_gen): Support for setting queue-monitor length cpu thresholds by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2012</li> <li>Feat(eos_cli_config_gen): Add support for mtu under management interface by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/2080</li> <li>Feat(eos_cli_config_gen): add cvconfig flag to TerminAttr by @perimore in https://github.com/aristanetworks/ansible-avd/pull/2217</li> <li>Feat(eos_cli_config_gen): Support no queue-monitor length notifying by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/2253</li> <li>Feat(eos_cli_config_gen): Add various config options for Sflow by @ccsnw in https://github.com/aristanetworks/ansible-avd/pull/2249</li> <li>Feat(eos_designs,eos_cli_config_gen): Add \u201cdisabled\u201d option to \u201clocal_users\u201d by @gusmb in https://github.com/aristanetworks/ansible-avd/pull/2257</li> <li>Feat(eos_cli_config_gen): Add key_type for ntp.authentication_keys by @philippebureau in https://github.com/aristanetworks/ansible-avd/pull/2258</li> <li>Feat(eos_cli_config_gen): Add \u201cbfd\u201d key to router_pim_sparse_mode by @gusmb in https://github.com/aristanetworks/ansible-avd/pull/2262</li> <li>Feat(eos_cli_config_gen): Add flow tracking sampled support by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2270</li> <li>Feat(eos_cli_config_gen): Add tunnel interface functionality by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2260</li> <li>Feat(eos_cli_config_gen): Add schema for ntp by @KonikaChaurasiya-GSLab in https://github.com/aristanetworks/ansible-avd/pull/2151</li> <li>Feat(eos_cli_config_gen): Source-interface for management cvx by @sugetha24 in https://github.com/aristanetworks/ansible-avd/pull/2294</li> <li>Feat(eos_cli_config_gen):  Add macsec commands by @gusmb in https://github.com/aristanetworks/ansible-avd/pull/2286</li> <li>Feat(eos_cli_config_gen): Fix macsec template by @gusmb in https://github.com/aristanetworks/ansible-avd/pull/2297</li> <li>Feat(eos_cli_config_gen): Add support for EVPN multicast ipv4 AF transit by @jonxstill in https://github.com/aristanetworks/ansible-avd/pull/2277</li> <li>Feat(eos_cli_config_gen): MAC address on management interfaces by @sugetha24 in https://github.com/aristanetworks/ansible-avd/pull/2275</li> <li>Feat(eos_cli_config_gen): Support route_reflector_client key on BGP neighbors by @emilarista in https://github.com/aristanetworks/ansible-avd/pull/2298</li> <li>Feat(eos_cli_config_gen): Add graceful-restart support for router_bgp by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2296</li> <li>Feat(eos_cli_config_gen): Add Router MSDP Data Model by @emilarista in https://github.com/aristanetworks/ansible-avd/pull/2278</li> <li>Feat(eos_cli_config_gen, eos_designs): Support Track BFD in static routes by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/2320</li> <li>Feat(eos_cli_config_gen): Support access-lists &amp; options on rp addresses by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/2355</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_designs","title":"New features and enhancements in eos_designs","text":"<ul> <li>Feat(eos_designs): Auto BGP ASN by @jonxstill in https://github.com/aristanetworks/ansible-avd/pull/1948</li> <li>Feat(eos_designs): Support for Static Flood Lists, HER by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1982</li> <li>Feat(eos_designs): Support structured config under network services svis and l2vlans for bgp commands by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/1947</li> <li>Feat(eos_designs): Support for custom naming of trunk groups by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2021</li> <li>Feat(eos_designs): Support static_routes for default vrf  under network-services by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1986</li> <li>Feat(eos_designs): Optional underlay eBGP filtering of paths with peer\u2019s ASN by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2030</li> <li>Feat(eos_designs): Add channel_id for endpoints by @chetryan in https://github.com/aristanetworks/ansible-avd/pull/2070</li> <li>Feat(eos_designs): Support the ip_virtual_router_addresses and ip_address_virtual under the same svi by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/2239</li> <li>Feat(eos_designs): Add support for setting node_type by matching regexes against the hostname by @jonxstill in https://github.com/aristanetworks/ansible-avd/pull/2266</li> <li>Feat(eos_designs): Support for PTP configuration based on best practices by @nielsjlarsen in https://github.com/aristanetworks/ansible-avd/pull/1916</li> <li>Feat(eos_designs): Add support for system mac address derived engine ID by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2289</li> <li>Feat(eos_designs): Add support for multiple descriptions for l3_interfaces by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2291</li> <li>Feat(eos_designs): EVPN to MPLS-VPN Gateway Overlay Support by @emilarista in https://github.com/aristanetworks/ansible-avd/pull/2209</li> <li>Feat(eos_designs): EVPN Multicast L3 (OISM) Support by @jonxstill in https://github.com/aristanetworks/ansible-avd/pull/2276</li> <li>Feat(eos_cli_config_gen,eos_designs): Support Track BFD in static routes by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/2320</li> <li>Feat(eos_designs): Adding 7020R to plattform settings by @tweippert in https://github.com/aristanetworks/ansible-avd/pull/2356</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-new-features-and-enhancements","title":"Other new features and enhancements","text":"<ul> <li>Feat: Schemas for input validation and documentation by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1888</li> <li>Feat(plugins): Add schema support for secondary_key by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2034</li> <li>Feat(plugins): New arista.avd.include_vars plugin by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2040</li> <li>Feat(plugins): AVD to JSON Schema Converter by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2090</li> <li>Feat(plugins,eos_cli_config_gen): add bgp_encrypt filter bgp password by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/2207</li> <li>Feat(eos_validate_state): custom fan &amp; pwr states by @chetryan in https://github.com/aristanetworks/ansible-avd/pull/2222</li> <li>Feat(eos_validate_state): skip lldp topology for shutdown by @chetryan in https://github.com/aristanetworks/ansible-avd/pull/2221</li> <li>Feat(plugins): Add schema support for auto-conversion of floats by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/2247</li> <li>Feat: Add peer hosts to CVX by @sugetha24 in https://github.com/aristanetworks/ansible-avd/pull/2281</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-370","title":"Release 3.7.0","text":""},{"location":"docs/release-notes/3.x.x.html#changes-to-requirements_1","title":"Changes to requirements","text":"<ul> <li>AVD now requires the Python package <code>deepmerge&gt;=1.0.1</code>.   A support version can be installed with <code>pip3 install \"deepmerge&gt;=1.0.1\"</code>.</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues_6","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_6","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Fix(eos_cli_config_gen): add vlan.vni var is defined by @lermilov in https://github.com/aristanetworks/ansible-avd/pull/1919</li> <li>Fix(eos_cli_config_gen): print the vlans in alphabetical order for <code>router bgp</code> by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/1925</li> <li>Fix(eos_cli_config_gen): Rendering of dot1x cli by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/1924</li> <li>Fix(eos_cli_config_gen): Re-add seperator between VRF and non-VRF config by @ccsnw in https://github.com/aristanetworks/ansible-avd/pull/1961</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_6","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): fix logic for underlay_multicast by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/1940</li> <li>Fix(eos_designs): fix the Loopback0 interface description by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/1955</li> <li>Fix(eos_designs): Resolve inline jinja in fabric_name by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1967</li> <li>Fix(eos_designs): Correct underlay routing for overlay_routing_protocol: \u201cnone\u201d by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1970</li> <li>Fix(eos_designs): Remove unneeded mlag ibgp vlan for vrf default by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1968</li> <li>Fix(eos_designs): Only configure EVPN filtering on EVPN nodes by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1969</li> <li>Fix(eos_designs): only create igmp snooping querier configuration on l3 devices by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/1978</li> <li>Fix(eos_designs): Missing IGP no-passive for single MLAG VLAN by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1974</li> <li>Fix(eos_designs): return the missing node_type in error by @pvinci-arista in https://github.com/aristanetworks/ansible-avd/pull/1981</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-fixed-issues_1","title":"Other Fixed issues","text":"<ul> <li>Fix: typos by @matthewgottlieb in https://github.com/aristanetworks/ansible-avd/pull/1957</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#documentation_2","title":"Documentation","text":"<ul> <li>Doc(eos_designs): Add documentation for mlag_ibgp_origin_incomplete by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1904</li> <li>Doc: Add proper installation guide links on README by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/1915</li> <li>Doc: Update AVD Core team by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/1920</li> <li>Doc: AVD beginner TOI update to be consistent with AVD examples by @nielsjlarsen in https://github.com/aristanetworks/ansible-avd/pull/1908</li> <li>Doc: Minor fixes in getting-started docs by @nielsjlarsen in https://github.com/aristanetworks/ansible-avd/pull/1934</li> <li>Doc(eos_designs): change adapters.mode to Optional by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/1937</li> <li>Doc: Minor doc changes by @nielsjlarsen in https://github.com/aristanetworks/ansible-avd/pull/1935</li> <li>Doc: (eos_snapshot): fix var name in input example by @matthewgottlieb in https://github.com/aristanetworks/ansible-avd/pull/1960</li> <li>Doc: mkdoc updates with layouts, font, material theme, and syntax highlighting by @JulioPDX in https://github.com/aristanetworks/ansible-avd/pull/1951</li> <li>Doc: refactoring by @JulioPDX in https://github.com/aristanetworks/ansible-avd/pull/1952</li> <li>Doc: Heading Updates by @JulioPDX in https://github.com/aristanetworks/ansible-avd/pull/1991</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements_1","title":"New Features and enhancements","text":""},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_cli_config_gen_1","title":"New features and enhancements in eos_cli_config_gen","text":"<ul> <li>Feat(eos_cli_config_gen): BGP VPN-IPv4/v6 SAFI route-map and match failure discard by @sengarth in https://github.com/aristanetworks/ansible-avd/pull/1851</li> <li>Feat(eos_cli_config_gen): add ip helper to Ethernet interface by @pvinci-arista in https://github.com/aristanetworks/ansible-avd/pull/1844</li> <li>Feat(eos_cli_config_gen): add support for logging event congestion-drops by @gmuloc in https://github.com/aristanetworks/ansible-avd/pull/1933</li> <li>Feat(eos_cli_config_gen): Enhance support for PTP monitoring by @nielsjlarsen in https://github.com/aristanetworks/ansible-avd/pull/1921</li> <li>Feat(eos_cli_config_gen): router bgp link-bandwidth by @marcusmcpeek in https://github.com/aristanetworks/ansible-avd/pull/1950</li> <li>Feat(eos_cli_config_gen): Support multicast routing under ethernet and vlan interfaces by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/1959</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_designs_1","title":"New features and enhancements in eos_designs","text":"<ul> <li>Feat(eos_designs):  knob to enable multicast in underlay by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/1899</li> <li>Feat(eos_designs): Single-Active EVPN Multihoming by @jonxstill in https://github.com/aristanetworks/ansible-avd/pull/1864</li> <li>Feat(eos_designs): Add support for trunk_groups by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1826</li> <li>Feat(eos_designs): BGP peer groups in VRFs by @xaviramon in https://github.com/aristanetworks/ansible-avd/pull/1663</li> <li>Feat(eos_designs): Add network_ports data model for large scale port configurations by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1910</li> <li>Feat(eos_designs): Support automatic BGP peer groups without nodes by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/1914</li> <li>Feat(eos_designs): Support for structured_config on bgp_peer_groups by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1905</li> <li>Feat(eos_designs): Automatic uplink/downlink/mlag peer-link allocation by @jonxstill in https://github.com/aristanetworks/ansible-avd/pull/1758</li> <li>Feat(eos_designs): Native dot1x support for connected_endpoints by @mthiel117 in https://github.com/aristanetworks/ansible-avd/pull/1932</li> <li>Feat(eos_designs): Fabric EVPN multicast by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/1922</li> <li>Feat(eos_designs): Support different ipv4 pool for mlag ibgp peerings by @tgodaA in https://github.com/aristanetworks/ansible-avd/pull/1819</li> <li>Feat(eos_designs): Add none as a valid value for underlay and underlay protocol by @mthiel117 in https://github.com/aristanetworks/ansible-avd/pull/1939</li> <li>Refactor(eos_designs)!: MPLS Peer Logic by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1906</li> <li>Feat(eos_designs): Add l2ls default node type key and template by @mthiel117 in https://github.com/aristanetworks/ansible-avd/pull/1938</li> <li>Feat(eos_designs): Support all keys with svi_profiles by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/1941</li> <li>Feat(eos_designs): igmp querier in network services by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/1958</li> <li>Feat(eos_designs): support switch_id and offset in rd admin subfield by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/1977</li> <li>Feat(eos_designs): Support Pure L2 Spine in L2LS by @mthiel117 in https://github.com/aristanetworks/ansible-avd/pull/1983</li> <li>Feat(eos_designs): evpn l2 multicast in network services by @carlbuchmann in https://github.com/aristanetworks/ansible-avd/pull/1907</li> <li>Feat(eos_designs): Only configure vlans in use by connected endpoints or downstream L2 switches by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1821</li> <li>Feat(eos_designs): custom_templates_extra_vars by @ClausHolbechArista in https://github.com/aristanetworks/ansible-avd/pull/1989</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-new-features-and-enhancements_1","title":"Other new features and enhancements","text":"<ul> <li>Feat: Add AVD Example single-dc-l3ls by @nielsjlarsen in https://github.com/aristanetworks/ansible-avd/pull/1849</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-360","title":"Release 3.6.0","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_7","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_7","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Fix(eos_cli_config_gen): VRF BGP neighbor allowas_in.enabled renders invalid config by @emilarista in #1891</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_7","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): Failure with OSPF underlay and mlag_peer_l3_vlan == mlag_peer_vlan by @pvinci-arista in #1842</li> <li>Fix(eos_designs): Correct pruning of vlans when no vlans are allowed by @ClausHolbechArista in #1879</li> <li>Fix(eos_designs, eos_cli_config_gen): Fix the AVD version print in virtual environments by @tgodaA in #1876</li> <li>Fix(eos_designs): Wrong passive interfaces rendered under OSPF process by @emilarista in #1893</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-fixed-issues_2","title":"Other Fixed issues","text":"<ul> <li>Fix(eos_validate_state): Follow alphabetical order on generated reports by @xaviramon in #1867</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#documentation_3","title":"Documentation","text":"<ul> <li>Doc(eos_config_deploy_cvp): fix the defaults values in README by @gmuloc in #1902</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements_2","title":"New Features and enhancements","text":""},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_cli_config_gen_2","title":"New features and enhancements in eos_cli_config_gen","text":"<ul> <li>Feat(eos_cli_config_gen): enable global dot1x functionality by @mthiel117 in #1801</li> <li>Feat(eos_cli_config_gen): Support bgp additional-paths in router_bgp vrf address-families by @tgodaA in #1854</li> <li>Feat(eos_cli_config_gen): Support bfd vtep evpn commands by @tgodaA in #1857</li> <li>Feat(eos_cli_config_gen): Add support for OSPF BFD sessions for adjacencies in any state by @pvinci-arista in #1830</li> <li>Feat(eos_designs,eos_cli_config_gen): support \u2018switchport trunk native vlan tag\u2019 config by @gmuloc in #1871</li> <li>Feat(eos_cli_config_gen): Add ip_directed_broadcast to vlan_interfaces by @lermilov in #1896</li> <li>Feat(eos_cli_config_gen): Support bgp missing-policy under router bgp vrf address-families by @tgodaA in #1897</li> <li>Feat(eos_cli_config_gen): Route redistribution under router isis by @sengarth in #1811</li> <li>Feat(eos_cli_config_gen): SBFD configuration under Router BFD and SR-TE policy #1802 by @sengarth in #1808</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_designs_2","title":"New features and enhancements in eos_designs","text":"<ul> <li>Feat(eos_designs): Support for short_esi: auto in port profiles &amp; use of new eos_cli_config_gen data model by @jonxstill in #1834</li> <li>Feat(eos_designs): Support raw_eos_cli key on core_interfaces by @emilarista in #1862</li> <li>Feat(eos_designs): add support for 7300X3 in default platforms by @gmuloc in #1863</li> <li>Feat(eos_designs): Support for computing SNMP v3 engineid and hashes by @gmuloc in #1868</li> <li>Feat(eos_designs): Relax requirement of node-specific configuration by @ClausHolbechArista in #1827</li> <li>Feat(eos_designs):  Structured configuration support for uplink and mlag interfaces by @carlbuchmann in #1865</li> <li>Feat(eos_designs,eos_cli_config_gen): support \u2018switchport trunk native vlan tag\u2019 config by @gmuloc in #1871</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-new-features-and-enhancements_2","title":"Other new features and enhancements","text":"<ul> <li>Feat(eos_snapshot): Support for commands containing / character by @emilarista in #1838</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-350","title":"Release 3.5.0","text":""},{"location":"docs/release-notes/3.x.x.html#change-to-requirements","title":"Change to requirements","text":"<ul> <li>Bump(requirements): Relax ansible.netcommon requirements to \u201c&gt;=2.4.0,!=2.6.0\u201d by @gmuloc in #1836</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues_8","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_8","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Fix(eos_cli_config_gen): Documentation template for IPv6 on port-channels by @ClausHolbechArista in #1715</li> <li>Fix(eos_cli_config_gen): Adjust the address-family evpn host-flap detection by @tgodaA in #1728</li> <li>Fix(eos_cli_config_gen): Render error-correction encoding on port-channel members by @ClausHolbechArista in #1800</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_8","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): Fix IPv6 static routes tenants by @onurgashi in #1778</li> <li>Fix(eos_designs): ipv6_underlay should not apply for l2 switches by @ClausHolbechArista in #1812</li> <li>Fix(eos_designs): Error in eos_designs_facts when dot in hostname by @ClausHolbechArista in #1816</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-fixed-issues_3","title":"Other Fixed issues","text":"<ul> <li>Fix(plugins): convert_dicts resolve corner case with dictionary with invalid value by @carlbuchmann in #1777</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#documentation_4","title":"Documentation","text":"<ul> <li>Doc: Fix typo in release-notes for v3.4.0 by @ClausHolbechArista in #1698</li> <li>Doc: Update links to github documentation by @ClausHolbechArista in #1713</li> <li>Doc: Remove CI badge by @carlbuchmann in #1736</li> <li>Doc: Minor Corrections on Documentation by @JulioPDX in #1751</li> <li>Doc: Improve documentation, fix typo by @danieltudares in #1749</li> <li>Doc(eos_designs): add precisions regarding eos_designs and eos_cli_config_gen variables by @gmuloc in #1743</li> <li>Doc: Network services data model in v4.0 mpls docs by @Shivani-chourasiya in #1794</li> <li>Doc(eos_cli_config_gen): Improve documentation for router_general by @gmuloc in #1829</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements_3","title":"New Features and enhancements","text":""},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_cli_config_gen_3","title":"New features and enhancements in eos_cli_config_gen","text":"<ul> <li>Feat(eos_cli_config_gen): add VRRP support for object tracking by @ccsnw in #1637</li> <li>Feat(eos_cli_config_gen): Add eos_cli for loopback_interfaces by @UchihaItachiSama in #1707</li> <li>Feat(eos_cli_config_gen): Add eos_cli for loopback_interfaces by @UchihaItachiSama in #1707</li> <li>Feat(eos_cli_config_gen): dot1x-reauthentication by @mthiel117 in #1700</li> <li>Feat(eos_cli_config_gen): Support interfaces snmp trap link-change by @tgodaA in #1703</li> <li>Feat(eos_cli_config_gen): Support platfom sand qos-mapping by @tgodaA in #1686</li> <li>Feat(eos_cli_config_gen): Added support for CVX client by @sugetha24 in #1682</li> <li>Feat(eos_designs, eos_cli_config_gen): Support default-services in management-api-http by @tgodaA in #1704</li> <li>Feat(eos_cli_config_gen): dot1x-pae-mode by @mthiel117 in #1722</li> <li>Feat(eos_cli_config_gen): Support Aboot password by @tgodaA in #1691</li> <li>Feat(eos_cli_config_gen): Aegis Traffic Policies on Interfaces by @emilarista in #1638</li> <li>Feat(eos_cli_config_gen): VRRP timer delay and IPv4 version options by @c-po in #1706</li> <li>Feat(eos_cli_config_gen): Extend logging format timestamp options by @ccsnw in #1709</li> <li>Feat(eos_cli_config_gen): Support remove-private-as in router_bgp by @tgodaA in #1666</li> <li>Feat(eos_cli_config_gen): Adding support for ssl profile for gnmi by @noredistribution in #1747</li> <li>Feat(eos_cli_config_gen): add SNMPv3 hashed user passphrases support by @gmuloc in #1721</li> <li>Feat(eos_cli_config_gen): Extend listen_range support for BGP by @ccsnw in #1735</li> <li>Feat(eos_cli_config_gen): Add support for multiple dot1x interface features by @mthiel117 in #1739</li> <li>Feat(eos_cli_config_gen): Support for multiple VARPv6 addresses by @onurgashi in #1761</li> <li>Feat(eos_cli_config_gen): BGP VRF IPv4 RM support by @danieltudares in #1763</li> <li>Feat(eos_cli_config_gen): Add BGP listen-range to VRF by @ccsnw in #1779</li> <li>Feat(eos_cli_config_gen): Add Tap Aggregation support by @ccsnw in #1737</li> <li>Feat(eos_cli_config_gen): Add management_api_models by @UchihaItachiSama in #1724</li> <li>Feat(eos_cli_config_gen): Add support for authenticating only ntp servers by @UchihaItachiSama in #1810</li> <li>Feat(eos_cli_config_gen): Add BGP neighbor interfaces in VRF by @onurgashi in #1817</li> <li>Feat(eos_cli_config_gen): Add sflow interface disable default command by @xaviramon in #1823</li> <li>Feat(eos_cli_config_gen): add PIM sparse-mode interfaces in doc by @gmuloc in #1848</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_designs_3","title":"New features and enhancements in eos_designs","text":"<ul> <li>Feat(eos_designs): Add platform settings for 7368X4 by @gmuloc in #1690</li> <li>Feat(eos_designs, eos_cli_config_gen): Support default-services in management-api-http by @tgodaA in #1704</li> <li>Feat(eos_designs): Support evpn hostflap detection expiry by @tgodaA in #1733</li> <li>Feat(eos_designs): Custom name for underlay isis process by @emilarista in #1731</li> <li>Feat(eos_designs): EVPN VXLAN gateway feature by @xaviramon in #1601</li> <li>Feat(eos_designs): Auto short_esi support for connected_endpoints and l2leaf uplinks (#1609) by @jonxstill in #1738</li> <li>Feat(eos_designs): Support for IPv6 in underlay with RFC5549 by @xaviramon in #1723</li> <li>Feat(eos_designs): Support for IPv6 overlay peerings with RFC5549 underlay by @xaviramon in #1719</li> <li>Feat(eos_designs): RFC5549 support for core_interfaces by @emilarista in #1741</li> <li>Feat(eos_designs): Enable RTC for EVPN-OVERLAY-CORE peer group by @onurgashi in #1775</li> <li>Feat(eos_designs): Support for Ipv6 network services by @onurgashi in #1760</li> <li>Feat(eos_designs): Add ability to set mlag port-channel id by @ClausHolbechArista in #1789</li> <li>Feat(eos_designs): RFC5549 for MLAG iBGP in VRF by @onurgashi in #1818</li> <li>Feat(eos_designs): Shutdown underlay links if the peer device is not deployed by @perimore in #1745</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-new-features-and-enhancements_3","title":"Other new features and enhancements","text":"<ul> <li>Feat(plugins): Updated convert_dicts filter for list values in dictionary by @Shivani-chourasiya in #1694</li> <li>Feat(plugins): Updated convert_dicts filter for list/string values in dictionary by @Shivani-chourasiya in #1740</li> <li>Feat(eos_config_deploy_cvp): support for !vault value in inventory file by @gmuloc in #1799</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-340","title":"Release 3.4.0","text":"<p>Notable changes are listed below. For a complete list of changes see the Release on GitHub.</p>"},{"location":"docs/release-notes/3.x.x.html#data-model-modifications-non-breaking","title":"Data model modifications (non-breaking)","text":"<p>This section provides an overview of the data model that have changed from the previous release, but are backwards compatible.</p> <p>No changes are required for existing deployments.</p>"},{"location":"docs/release-notes/3.x.x.html#changes-to-eos_designs-role","title":"Changes to eos_designs role","text":"<ul> <li> <p>Fabric variables:</p> <ul> <li><code>bgp_peer_groups.IPv4_UNDERLAY_PEERS</code> has been renamed to <code>bgp_peer_groups.ipv4_underlay_peers</code> to avoid upper-case variables. The old key is still supported.</li> <li><code>bgp_peer_groups.MLAG_IPv4_UNDERLAY_PEER</code> has been renamed to <code>bgp_peer_groups.mlag_ipv4_underlay_peer</code> to avoid upper-case variables. The old key is still supported.</li> <li><code>bgp_peer_groups.EVPN_OVERLAY_PEERS</code> has been renamed to <code>bgp_peer_groups.evpn_overlay_peers</code> to avoid upper-case variables. The old key is still supported.</li> </ul> </li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues_9","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_9","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Fix(eos_cli_config_gen): dhcp relay missing ! by @ryanmerolle in #1576</li> <li>Fix(eos_cli_config_gen): logging config order by @ryanmerolle in #1577</li> <li>Fix(eos_cli_config_gen): port_channel_interface mlag config order by @ryanmerolle in #1580</li> <li>Fix(eos_cli_config_gen): vlan_interface virtual ip config order by @ryanmerolle in #1579</li> <li>Fix(eos_cli_config_gen): aaa config order by @ryanmerolle in #1578</li> <li>Fix(eos_cli_config_gen): dns config reorder by @ryanmerolle in #1589</li> <li>Fix(eos_cli_config_gen): Allow no logging source-interface in VRFs by @ClausHolbechArista in #1597</li> <li>Fix(eos_cli_config_gen): mgmt config order by @ryanmerolle in #1598</li> <li>Fix(eos_cli_config_gen): Ethernet Interface Config Order by @ryanmerolle in #1599</li> <li>Fix(eos_cli_config_gen): router bgp config order by @ryanmerolle in #1603</li> <li>Fix(eos_cli_config_gen): community-list config order by @ryanmerolle in #1607</li> <li>Fix(eos_cli_config_gen): no icmp redirect config order by @ryanmerolle in #1608</li> <li>Fix(eos_cli_config_gen): Remove sorting on class-maps in policy-maps type qos by @carlbuchmann in #1611</li> <li>Fix(eos_cli_config_gen): fix the dual-primary recovery delay if check by @tgodaA in #1652</li> <li>Fix(eos_cli_config_gen): ethernet interface documentation output by @carlbuchmann in #1661</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_9","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): Remove unneeded j2lint ignore by @emilarista in #1584</li> <li>Fix(eos_designs): Check for network_services_l3:true when creating iBGP peering in overlay VRFs by @UchihaItachiSama in #1650</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_validate_state","title":"Fixed issues in eos_validate_state","text":"<ul> <li>Fix(eos_validate_state): additional check in generate vars by @ankudinov in #1623</li> <li>Fix(eos_validate_state): Failures on shutdown interfaces by @perimore in #1585</li> <li>Fix(eos_validate_state): bugs and refactor by @xaviramon in #1588</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-fixed-issues_4","title":"Other Fixed issues","text":"<ul> <li>Fix: Updated j2 templates to fix jinja single-statement-per-line error by @Shivani-chourasiya in #1569</li> <li>Fix(plugins): Issue in convert_dicts with empty dictionary values by @ClausHolbechArista in #1642</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements_4","title":"New Features and enhancements","text":""},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_cli_config_gen_4","title":"New features and enhancements in eos_cli_config_gen","text":"<ul> <li>Feat(eos_cli_config_gen): Add support for bgp neighbor peer filter by @danieltudares in #1558</li> <li>Feat(eos_cli_config_gen): Add dr_priority to pim ipv4 configuration on interface by @ryanmerolle in #1560</li> <li>Feat(eos_cli_config_gen): Add router_bgp rib-in pre-policy retain to eos_cli_config_gen by @ryanmerolle in #1559</li> <li>Feat(eos_cli_config_gen): interface bfd echo by @ryanmerolle in #1571</li> <li>Feat(eos_cli_config_gen): router multicast ipv4 counters support by @ryanmerolle in #1582</li> <li>Feat(eos_cli_config_gen): Add support for changing the notification timestamp mode for gnmi (Issues/1532) by @noredistribution in #1533</li> <li>Feat(eos_cli_config_gen): add support for FlexRoute compression and expansion of prefixes by @c-po in #1621</li> <li>Feat(eos_cli_config_gen): Add support for ebgp_multihop under bgp neighbors by @ccsnw in #1633</li> <li>Feat(eos_cli_config_gen): Support for show tech-support policy (#1617) by @c-po in #1618</li> <li>Feat(eos_cli_config_gen): add support for object tracking by @ccsnw in #1629</li> <li>Feat(eos_cli_config_gen): FlexRoute - add support for TCAM assisted ACLs #1656 by @c-po in #1657</li> <li>Feat(eos_cli_config_gen): Support multiple VRRP VRID per interface by @c-po in #1648</li> <li>Feat(eos_cli_config_gen): Hardware Accelerated Sflow by @emilarista in #1640</li> <li>Feat(eos_cli_config_gen): Support bpduguard rate-limit by @tgodaA in #1667</li> <li>Feat(eos_cli_config_gen): add dynamic prefix-lists by @ryanmerolle in #1676</li> <li>Feat(eos_cli_config_gen): router_multicast rpf route by @ryanmerolle in #1675</li> <li>Feat(eos_cli_config_gen): dot1x-port-control by @mthiel117 in #1679</li> <li>Feat(eos_cli_config_gen): Add new and improved ip_community_lists model by @ankudinov in #1651</li> <li>Feat(eos_cli_config_gen): router_general routes dynamic prefix-list by @ryanmerolle in #1677</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_designs_4","title":"New features and enhancements in eos_designs","text":"<ul> <li>Feat(eos_designs): Add description to MLAG BGP peer on VRFs by @xaviramon in #1537</li> <li>Feat(eos_designs): macsec support fabric links #1506 by @ankudinov in #1538</li> <li>Feat(eos_designs): Support default vrf in Network Services by @tgodaA in #1499</li> <li>Feat(eos_designs): l3ls: svi_profiles should support referencing a base svi_profile by @c-po in #1531</li> <li>Feat(eos_designs): Add mpls design type (BETA) by @emilarista in #1418</li> <li>Feat(eos_designs): Change bgp_peer_groups to lower-case by @ClausHolbechArista in #1594</li> <li>Feat(eos_designs): Add support for network_services_keys by @melkypie in #1350</li> <li>Feat(eos_designs): Default value \u201call\u201d for l2vlans.tags and svis.tags by @ClausHolbechArista in #1649</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-new-features-and-enhancements_4","title":"Other new features and enhancements","text":"<ul> <li>Feat(plugins): Add arista.avd.range_expand filter by @ClausHolbechArista in #1586</li> <li>Feat: Add Execution environment files for ansible-builder by @ClausHolbechArista in #1583</li> <li>Feat: Print AVD collection version in role tasks by @ClausHolbechArista in #1647</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-333","title":"Release 3.3.3","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_10","title":"Fixed issues","text":"<ul> <li>d0e081944 Fix: Set requirement for ansible.netcommon to &lt;2.6 (#1557)</li> <li>177957356 Fix(eos_designs): Feature interaction issues with evpn_services_l2_only (#1556)</li> <li>f60a7f5db Doc(eos_designs): Fix missing max_parallel_uplinks (#1551)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-332","title":"Release 3.3.2","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_11","title":"Fixed issues","text":"<ul> <li>c14233140 Fix(eos_validate_state): Report generation fails if LLDP tests fail (#1543)</li> <li>ab4c05ffc Doc(eos_designs): Fix typos in Monitor Session Documentation (#1535)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-331","title":"Release 3.3.1","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_12","title":"Fixed issues","text":"<ul> <li>a6434aa9c Fix: collection ansible-test linting issues (#1520)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-330","title":"Release 3.3.0","text":""},{"location":"docs/release-notes/3.x.x.html#data-model-modifications-non-breaking_1","title":"Data model modifications (non-breaking)","text":"<p>This section provides an overview of the data model that have changed from the previous release, but are backwards compatible.</p> <p>No changes are required for existing deployments.</p> <p>See the release notes and role documentation for all new additions.</p>"},{"location":"docs/release-notes/3.x.x.html#changes-to-eos_designs-role_1","title":"Changes to eos_designs role","text":"<ul> <li> <p>Network Services variables:</p> <ul> <li><code>evpn_rt_type</code> has been renamed to <code>overlay_rt_type</code> as part of preparations for MPLS design. The old key is still supported.</li> <li><code>evpn_rd_type</code> has been renamed to <code>overlay_rd_type</code> as part of preparations for MPLS design. The old key is still supported.</li> <li><code>vxlan_vlan_aware_bundles</code> has been renamed to <code>evpn_vlan_aware_bundles</code> as part of preparations for MPLS design. The old key is still supported.</li> </ul> </li> </ul>"},{"location":"docs/release-notes/3.x.x.html#change-to-requirements_1","title":"Change to requirements","text":"<p>The Ansible Collection <code>community.general</code> is no longer required by the <code>arista.avd</code> collection. This means that <code>community.general</code> will no longer be installed automatically by <code>ansible-galaxy</code>commands.</p> <p>If your project use components in <code>community.general</code> like callbacks (ex. <code>yaml</code>), you must ensure that this collection is installed.</p> <p>Existing installations will not be affected by this, since <code>community.general</code> would already be installed.</p>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues_13","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_10","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>3e629d762 Fix(eos_cli_config_gen): Fix name-servers jinja templates to allow non-vrf servers (#1451)</li> <li>3b163deeb Fix(eos_cli_config_gen): Fix logic in daemon_terminattr (#1485)</li> <li>5a8c5bb18 Fix(eos_cli_config_gen): Block delimers between Extended IPv4 ACLs (#1481)</li> <li>c97937dbe Fix(eos_cli_config_gen): BGP IPv6 AF redistribute_route_cli bug (#1471)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_10","title":"Fixed issues in eos_designs","text":"<ul> <li>2b116873a Fix(eos_designs): Remove ibgp from underlay_routing_protocol (#1416)</li> <li>21186e800 Fix(eos_designs): Pull endpoint interface information from combined adapter+port profile settings (#1483)</li> <li>93556efb7 Fix(eos_designs): Fixing template errors and invalid config when configuring cloudvision as a service (#1470)</li> <li>c2b82fe8e Fix(eos_designs): Documentation CSVs column headings (#1492)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-documentation","title":"Fixed Documentation","text":"<ul> <li>0c7f9894e Doc(eos_validate_state): Update link to loopback test (#1473)</li> <li>8fbb43f43 Doc(eos_designs): Fix markdown errors, typos and update documentation (#1402)</li> <li>6db25275e Doc(eos_cli_config_gen): Update documentation and fix typos (#1423)</li> <li>09de02527 Doc(eos_cli_config_gen): README, fix indention for bgp vrf address family (#1467)</li> <li>4d5c0476c Doc(eos_cli_config_gen): OSPF network prefixes (#1421)</li> <li>4abee6aff Doc(eos_cli_config_gen): Key exchange under management_ssh incorrectly documented in the README file (#1510)</li> <li>bc76ca254 Doc(eos_cli_config_gen): Add information about gnmi provider configured with octa (#1494)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-fixed-issues_5","title":"Other Fixed issues","text":"<ul> <li>d4ec25d6e Fix(eos_validate_state): Abstraction of VXLAN source interface (#1360)</li> <li>f47257d48 Fix(dhcp_provisioner): Fix lease_time &amp; role doc update (#1431)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements_5","title":"New Features and enhancements","text":""},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_cli_config_gen_5","title":"New features and enhancements in eos_cli_config_gen","text":"<ul> <li>9f8d26898 Feat(eos_cli_config_gen): Support various ip igmp snooping commands (#1464)</li> <li>464ae572e Feat(eos_cli_config_gen): Support setting OSPF distance (#1438)</li> <li>45d6ae733 Feat(eos_cli_config_gen): Support mac address-table notification commands (#1514)</li> <li>7b329bd1c Feat(eos_cli_config_gen): Support for Flex Encap and l2dot1q subinterfaces (#1452)</li> <li>ec7c8c5d1 Feat(eos_cli_config_gen): Support for DHCP relay (#1439)</li> <li>b5a3f0da4 Feat(eos_cli_config_gen): Support EVPN ethernet segment options on ethernet-interfaces (#1437)</li> <li>685169963 Feat(eos_cli_config_gen): Support disable commands of spanning-tree bpduguard and bpdufilter (#1375)</li> <li>5ace05a47 Feat(eos_cli_config_gen): Support cos in policy-map and service-policy in qos profile (#1504)</li> <li>e117eda27 Feat(eos_cli_config_gen): port-channel-interfaces enhancement (#1396)</li> <li>de422ac54 Feat(eos_cli_config_gen): logging facility (#1490)</li> <li>95ed0568e Feat(eos_cli_config_gen): IPv6 ACL support for QOS policy map class maps (#1515)</li> <li>48ecb7011 Feat(eos_cli_config_gen): Improve data model for extended IP ACLs #1411 (#1424)</li> <li>86c1f8682 Feat(eos_cli_config_gen): Extend platform sand and add documentation (#1425)</li> <li>23a0d4abf Feat(eos_cli_config_gen, eos_designs): Support bfd in router_bgp vrf neighbors (#1445)</li> <li>44b957883 Feat(eos_cli_config_gen): default_originate for router_bgp neighbors (#1380)</li> <li>1c71d6987 Feat(eos_cli_config_gen): Add vpws control-word, mtu and label flow knobs (#1509)</li> <li>2493a992c Feat(eos_cli_config_gen): add support to shutdown individual VRF neighbors in bgp (#1476)</li> <li>335a59e4d Feat(eos_cli_config_gen): Add support for Vxlan DSCP mapping (#1462)</li> <li>9a1be3cbd Feat(eos_cli_config_gen): Add support for TACACS AES-256-GCM keys (#1456) (#1466)</li> <li>9a8c8378c Feat(eos_cli_config_gen): Add support for segment-routing traffic-engineering (#1486)</li> <li>db0d25005 Feat(eos_cli_config_gen): Add support for reversible encryption algorithm #1468 (#1469)</li> <li>f21e5dbad Feat(eos_cli_config_gen): Add support for OSPF Distribute List (#1442)</li> <li>536bc64ed Feat(eos_cli_config_gen): Add support for MPLS and LDP on port-channel interfaces (#1487)</li> <li>1fce085d9 Feat(eos_cli_config_gen): Add support for as-path filter (#1429)</li> <li>e7b0d339e Feat(eos_cli_config_gen): Add spanning_tree_guard to switched ethernet interfaces (#1460)</li> <li>a6b62e33f Feat(eos_cli_config_gen): Add PIM RP addresses on VRF instance (#1484)</li> <li>6b69e6405 Feat(eos_cli_config_gen): Add Monitor Session support (#1435)</li> <li>6566afd12 Feat(eos_cli_config_gen): Add MAC ACL support to Ethernet and Port-channels (#1422)</li> <li>3f0dae75c Feat(eos_cli_config_gen): Add lldp tlv transmit ztp vlan (#1458)</li> <li>30a40780a Feat(eos_cli_config_gen): Add ISIS authentication and hello padding (#1453)</li> <li>a7c3b49d9 Feat(eos_cli_config_gen): Add fast-failover and router-id support under router general (#1495)</li> <li>52e981423 Feat(eos_cli_config_gen): Added support for PFC under ethernet_interf (#1398)</li> <li>85062dee5 Feat(eos_cli_config_gen): Add additional router_bgp options (#1366)</li> <li>c73c68ea8 Feat(eos_cli_config_gen): AAA: add option for group access per privilege level  (#1389)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_designs_5","title":"New features and enhancements in eos_designs","text":"<ul> <li>7ae696939 Feat(eos_designs): Support OSPF routing in tenant VRFs (#1401)</li> <li>76d348053 Feat(eos_designs): Support EVPN multihoming features link-tracking and lacp port-id range (#1441)</li> <li>762424f9b Feat(eos_designs): Add Monitor Session support (#1472)</li> <li>72ee0c854 Feat(eos_designs): Add local user ssh key support (#1410)</li> <li>7b54a2fe2 Feat(eos_designs): Add L2 subinterface support on port-channels under Connected-endpoints (#1496)</li> <li>5bbd63719 Feat(eos_designs): Add extra ID options to network services and rename rd/rt vars (#1488)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-documentation","title":"New Documentation","text":"<ul> <li>d39775df7 Doc(how-to): AVD beginner TOI (#1265)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-new-features-and-enhancements_5","title":"Other new features and enhancements","text":"<ul> <li>e4e9e1441 Refactor(eos_validate_state): Refactor validation-report generation (#1493)</li> <li>5c2313421 Refactor(eos_designs, eos_cli_config_gen, eos_validate_state): structured_config file generation, json support (#1478)</li> <li>8a0b0c408 Optimize(plugins): Optimize the esi_management filter with join (#1477)</li> <li>b1171b2a5 Feat(plugins): Add var_type \u2018bool\u2019 to arista.avd.defined filter (#1474)</li> <li>f9294a73d Feat(plugins): Add debug and  file options to yaml_template_to_facts (#1457)</li> <li>3e2b5ddbb Cut: Requirement for community.general (#1516)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#contributors","title":"Contributors","text":"<p>22 contributors</p> <p>@ankudinov @c-po @carlbuchmann @ccsnw @ClausHolbechArista @emilarista @gusmb @idrisFoughali @jonxstill @kmueller68 @KonikaChaurasiya-GSLab @manuwelakanade @nielsjlarsen @PhirePhly @RyanM-Arista @sengarth @Shivani-chourasiya @sugetha24 @tgodaA @titom73 @UchihaItachiSama @xaviramon</p> <p>Thank you to everyone who contributed to this release.</p>"},{"location":"docs/release-notes/3.x.x.html#release-321","title":"Release 3.2.1","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_14","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_11","title":"Fixed issues in eos_designs","text":"<ul> <li>e3740ea7f Fix(eos_designs): Fix ip_helpers when defined under tenant vrf (#1417)</li> <li>21a0357b5 Fix(eos_designs): Management interface renders incorrectly when set other than default (#1414)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#release-320","title":"Release 3.2.0","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_15","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_11","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>e93f48da Fix(eos_cli_config_gen): fix issue 1352 (#1364)</li> <li>0c40b5d0 Fix(eos_cli_config_gen): Port-channel can use LACP fallback configuration on physical interface (#1335)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_12","title":"Fixed issues in eos_designs","text":"<ul> <li>8974bb3d Fix(eos_designs): Honor evpn_services_l2_only setting (#1394)</li> <li>5d83e81d Fix(eos_designs): <code>mlag xx</code> is rendered on port-channels to servers even when switches do not run mlag. (#1356)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_config_deploy_cvp","title":"Fixed issues in eos_config_deploy_cvp","text":"<ul> <li>49bb10f9 Fix(eos_config_deploy_cvp): avoid making CV_DEVICES becoming None (#1300)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#documentation_5","title":"Documentation","text":"<ul> <li>65f00470 Doc(eos_cli_config_gen): Add Documentation for Clock Timezone (#1338)</li> <li>64084c5b Doc(eos_cli_config_gen): Add Documentation for Management Console (#1332)</li> <li>20080561 Doc(eos_cli_config_gen): Add no autostate to readme (#1383)</li> <li>aaa100ac Doc(eos_designs): Minor documentation fixes (#1393)</li> <li>80427bd4 Doc: Fix typos and documentation errors (#1334)</li> <li>32667912 Doc: Update CSS for better dark mode rendering (#1337)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements_6","title":"New Features and enhancements","text":""},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_cli_config_gen_6","title":"New features and enhancements in eos_cli_config_gen","text":"<ul> <li>4da5e9dd Feat(eos_cli_config_gen): Add AAA Authentication Policy Lockout (#1351)</li> <li>02ffda88 Feat(eos_cli_config_gen): Add bandwidth_guaranteed_percent for QoS Profiles. (#1331)</li> <li>dbd9abfa Feat(eos_cli_config_gen): Add BGP vpws support (#1254)</li> <li>dd1d46db Feat(eos_cli_config_gen): Add EVPN DCI Gateway Support (#1391)</li> <li>a8a07065 Feat(eos_cli_config_gen): Add EVPN Neighbor Default Encapsulation (#1258)</li> <li>76526739 Feat(eos_cli_config_gen): Add loopback node-SID for ISIS-SR (#1255)</li> <li>ca0c8fc5 Feat(eos_cli_config_gen): Add options to disable logging (#1399)</li> <li>faf40ff4 Feat(eos_cli_config_gen): Add password minimum length to Management Security (#1344)</li> <li>96b9ad3e Feat(eos_cli_config_gen): Add support for IPv6 address virtual in vlan_interfaces (#1312)</li> <li>2a224e08 Feat(eos_cli_config_gen): Enhancements to IS-IS data model (#1229)</li> <li>f9b5c69d Feat(eos_cli_config_gen): enhance router multicast data model (#1367)</li> <li>9d93d765 Feat(eos_cli_config_gen): Enhance vlan_interfaces commands (arp_*) (#1346)</li> <li>9df8dcb5 Feat(eos_cli_config_gen): Extend LLDP Features and add Documentation (#1325)</li> <li>aedf272f Feat(eos_cli_config_gen): extend vxlan interface data model to support multicast configuration (#1368)</li> <li>bbc32b7b Feat(eos_cli_config_gen): interface vlans add ip igmp (#1388)</li> <li>509bb2da Feat(eos_cli_config_gen): router bgp vrf evpn multicast + refactor BGP documentation (#1369)</li> <li>5e766691 Feat(eos_cli_config_gen): Support connectivity monitor configuration (#1322)</li> <li>117002b1 Feat(eos_cli_config_gen): Support custom User Roles (#1316)</li> <li>f6727960 Feat(eos_cli_config_gen): Support error-correction encoding on ethernet interfaces (#1376)</li> <li>34533264 Feat(eos_cli_config_gen): Support no qos trust (#1405)</li> <li>37b56c9b Feat(eos_cli_config_gen): Support shape rate in qos profiles (#1374)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_designs_6","title":"New features and enhancements in eos_designs","text":"<ul> <li>4584edbe Feat(eos_designs): Add support for adapter key \u2018enabled\u2019 to admin shutdown interfaces (#1390)</li> <li>404ade7b Feat(eos_designs): Customisable interface descriptions for MLAG (#1404)</li> <li>2e1ce0f9 Feat(eos_designs): custom mlag peer link trunk allowed vlans (#1365)</li> <li>85741e34 Feat(eos_designs): Platform management interface (#1386)</li> <li>03d3271c Feat(eos_designs): Support MLAG interfaces speed (#1342)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_validate_state","title":"New features and enhancements in eos_validate_state","text":"<ul> <li>1d70f252 Feat(eos_validate_state): Allowing configurable xcvr manufacturers (#1373)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#contributors_1","title":"Contributors","text":"<p>@carlbuchmann @ccsnw @ClausHolbechArista @emilarista @idrisFoughali @kornoa @noredistribution @pantunex @PhirePhly @pibjndata @tgodaA @titom73 @xaviramon</p>"},{"location":"docs/release-notes/3.x.x.html#release-310","title":"Release 3.1.0","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues_16","title":"Fixed issues","text":"<ul> <li>Bump: collection dependencies (#1280)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_13","title":"Fixed issues in eos_designs","text":"<ul> <li>Cut(eos_designs): aaa_authorization (#1298)</li> <li>Bump: Support for Ansible 2.12.0 (#1315)</li> <li>Feat(eos_designs): Support configuration of vtep_diagnostic loopback pool per POD (#1320)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#documentation_6","title":"Documentation","text":"<ul> <li>Doc(cvp_configlet_upload, eos_config_deploy_cvp): Remove cvp v3 modules warning (#1305)</li> <li>Doc(eos_cli_config_gen): Replace deprecated command in documentation (#1303)</li> <li>Doc: Adding quotes to keys accepting the string value \u201con\u201d (#1324)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements_7","title":"New Features and enhancements","text":""},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_designs_7","title":"New features and enhancements in eos_designs","text":"<ul> <li>Feat(eos_designs): Support configuration of vtep_diagnostic loopback pool per POD (#1320)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_cli_config_gen_7","title":"New features and enhancements in eos_cli_config_gen","text":"<ul> <li>Feat(eos_cli_config_gen): EOS feature parity for queue_monitor_streaming (#1287)</li> <li>Feat(eos_cli_config_gen): Add BGP VRF prefix-list support (#1248) (#1249)</li> <li>Feat(eos_cli_config_gen): PBR service-policy support for routed interfaces (#1261)</li> <li>Feat(eos_cli_config_gen): Add router BFD singlehop configuration support (#1291) (#1292)</li> <li>Feat(eos_cli_config_gen): Add patch panel support (#1225)</li> <li>Feat(eos_cli_config_gen): Add support for LDP IGP sync (#1224)</li> <li>Feat(eos_cli_config_gen): Add Port-Channel ISIS commands (#1296)</li> <li>Feat(eos_cli_config_gen): Add support for interface level no lldp rx/tx commands (#1227)</li> <li>Feat(eos_cli_config_gen): add support for interface based shaping rate (#1269)</li> <li>Feat(eos_cli_config_gen): Add IS-IS circuit type on Ethernet &amp; Port Channels interfaces (#1223)</li> <li>Feat(eos_cli_config_gen): Support LACP global configuration parameters (#1301)</li> <li>Feat(eos_cli_config_gen): Add vpn-ipv6 AF + vpn-ipv4 change (#1259)</li> <li>Feat(eos_cli_config_gen): Enable or disable specific snmp-server traps (#1294)</li> <li>Feat(eos_cli_config_gen): Link tracking in EVPN environments (#1285)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#contributors_2","title":"Contributors","text":"<p>@carlbuchmann @ccsnw @ClausHolbechArista @c-po @emilarista @ryanmerolle @tgodaA</p>"},{"location":"docs/release-notes/3.x.x.html#release-300","title":"Release 3.0.0","text":"<p>Provides major enhancements and data model has been updated!</p> <p>Data model Updated</p> <p>Data model updated for roles:</p> <pre><code>- eos_designs.\n- eos_cli_config_gen.\n</code></pre> <p>Upgrade functionality has been added to the <code>eos_designs</code> role. See README for details.</p> <p>Upgrade functionality has been added to the <code>eos_cli_config_gen</code> role. See README for details.</p>"},{"location":"docs/release-notes/3.x.x.html#new-requirements","title":"New Requirements","text":"<ul> <li>Ansible requirements has changed to <code>ansible-core</code>. Upgrade of Ansible may require uninstall of <code>ansible</code> and <code>ansible-base</code> first.</li> </ul> <ul> <li><code>ansible-core</code> does not include community collections. For existing projects you may need to also install <code>ansible</code> or other individual collections after installing <code>ansible-core</code>.</li> </ul> <ul> <li> <p>Collections required for AVD 3.0.0 will be installed automatically if AVD is installed using <code>ansible-galaxy</code>. If AVD is installed via GIT clone, the extra collections can be installed with:</p> <pre><code>ansible-galaxy collection install -r ansible-avd/ansible_collections/arista/avd/collections.yml\n</code></pre> </li> </ul> <ul> <li> <p><code>cvprac</code> must be upgraded to version 1.0.7 or higher.</p> <pre><code>pip install --upgrade cvprac&gt;=1.0.7\n</code></pre> </li> </ul>"},{"location":"docs/release-notes/3.x.x.html#data-model-modifications","title":"Data model modifications","text":"<p>This section provides an overview of only the data model that have changed from the previous release that would require user modifications. See the release notes and role documentation for all new additions.</p>"},{"location":"docs/release-notes/3.x.x.html#changes-to-eos_designs-role_2","title":"Changes to eos_designs role","text":"<p>Use the upgrade tasks of <code>eos_designs</code> to assist with the transition!</p> <ul> <li> <p>spine variables:</p> <ul> <li>New <code>spine.defaults.uplink_switches</code> variable based on keys in <code>super_spine.nodes</code></li> <li>New <code>spine.defaults.isis_maximum_paths</code> based on max_spines * max_l3leaf_to_spine_links</li> <li>Change from <code>spine.{{ var }}</code> to <code>spine.defaults.{{ var }}</code></li> <li>Change from <code>overlay_loopback_network_summary</code> to <code>spine.defaults.loopback_ipv4_pool</code></li> <li>Change from <code>spine.uplinks_to_super_spine_interfaces</code> to <code>spine.defaults.uplink_interfaces</code></li> <li>Change from <code>max_super_spines</code> to <code>spine.defaults.max_uplink_switches</code></li> <li>Change from <code>max_spine_to_super_spine_links</code> to <code>spine.defaults.max_parallel_uplinks</code></li> <li>Change from <code>super_spine_underlay_p2p_network_summary</code> to <code>spine.defaults.uplink_ipv4_pool</code></li> <li>Change from <code>p2p_uplinks_ptp</code> to <code>spine.defaults.uplink_ptp</code></li> <li>Change from <code>spine_bgp_defaults</code> to <code>spine.defaults.bgp_defaults</code></li> <li>Change from old default value of <code>spine_bgp_defaults</code> to <code>spine.defaults.bgp_defaults</code></li> <li>Change from <code>isis_site_id.0000</code> to <code>spine.defaults.isis_system_id_prefix</code></li> <li>Change from <code>mlag_ips.mlag_peer</code> to <code>spine.defaults.mlag_peer_ipv4_pool</code></li> <li>Change from <code>mlag_ips.mlag_peer_l3_ipv4_pool</code> to <code>spine.defaults.mlag_peer_l3_ipv4_pool</code></li> <li>Change from <code>spine.nodes.{{ node }}.super_spine_interfaces</code> to <code>spine.nodes.{{ node }}.uplink_switch_interfaces</code></li> </ul> </li> </ul> <ul> <li> <p>l3leaf variables:</p> <ul> <li>New <code>loopback_network_offset variable</code> based on <code>max_spines</code> or length of <code>spine.nodes</code></li> <li>New <code>l3leaf.defaults.isis_maximum_paths</code> based on <code>max_spines</code> * <code>max_l3leaf_to_spine_links</code></li> <li>Change from <code>overlay_loopback_network_summary</code> to <code>l3leaf.defaults.loopback_ipv4_pool</code></li> <li>Change from <code>vtep_loopback_network_summary</code> to <code>l3leaf.defaults.vtep_loopback_ipv4_pool</code></li> <li>Change from <code>l3leaf.defaults.uplink_to_spine_interfaces</code> to <code>l3leaf.defaults.uplink_interfaces</code></li> <li>Change from <code>l3leaf.defaults.spines</code> to <code>l3leaf.defaults.uplink_switches</code></li> <li>Change from <code>max_spines</code> to <code>l3leaf.defaults.max_uplink_switches</code></li> <li>Change from <code>max_l3leaf_to_spine_links</code> to <code>l3leaf.defaults.max_parallel_uplinks</code></li> <li>Change from <code>underlay_p2p_network_summary</code> to <code>l3leaf.defaults.uplink_ipv4_pool</code></li> <li>Change from <code>p2p_uplinks_ptp.*</code> to <code>l3leaf.defaults.uplink_ptp.*</code></li> <li>Change from <code>l3leaf.defaults.p2p_link_interface_speed</code> to <code>l3leaf.defaults.uplink_interface_speed</code></li> <li>Change from <code>mlag_ips.mlag_peer</code> to <code>spine.defaults.mlag_peer_ipv4_pool</code></li> <li>Change from <code>mlag_ips.mlag_peer_l3_ipv4_pool</code> to <code>spine.defaults.mlag_peer_l3_ipv4_pool</code></li> <li>Change from <code>leaf_bgp_defaults</code> to <code>l3leaf.defaults.bgp_defaults</code></li> <li>Change from <code>old default value of leaf_bgp_defaults</code> to <code>l3leaf.defaults.bgp_defaults</code></li> <li>Change from <code>isis_site_id.0001</code> to <code>l3leaf.defaults.isis_system_id_prefix</code></li> <li>Change from <code>l3leaf.node_groups.{{ node_group }}.uplink_to_spine_interfaces</code> to <code>l3leaf.node_groups.{{ node_group }}.uplink_interfaces</code></li> <li>Change from <code>l3leaf.node_groups.{{ node_group }}.spines</code> to <code>l3leaf.node_groups.{{ node_group }}.uplink_switches</code></li> <li>Change from <code>l3leaf.node_groups.{{ node_group }}.p2p_link_interface_speed</code> to <code>l3leaf.node_groups.{{ node_group }}.uplink_interface_speed</code></li> <li>Change from <code>l3leaf.node_groups.{{ node_group }}.nodes.{{ node }}.spine_interfaces</code> to <code>l3leaf.node_groups.{{ node_group }}.nodes.{{ node }}.uplink_switch_interfaces</code></li> <li>Change from <code>l3leaf.node_groups.{{ node_group }}.nodes.{{ node }}.uplink_to_spine_interfaces</code> to <code>l3leaf.node_groups.{{ node_group }}.nodes.{{ node }}.uplink_interfaces</code></li> <li>Change from <code>l3leaf.node_groups.{{ node_group }}.nodes.{{ node }}.spines</code> to <code>l3leaf.node_groups.{{ node_group }}.nodes.{{ node }}.uplink_switches</code></li> </ul> </li> </ul> <ul> <li> <p>l2leaf variables:</p> <ul> <li>Change from <code>l2leaf.defaults.parent_l3leafs</code> to <code>l2leaf.defaults.uplink_switches</code></li> <li>Change from <code>l2leaf_inband_management_subnet</code> to <code>l2leaf.defaults.inband_management_subnet</code></li> <li>Change from <code>l2leaf_inband_management_vlan</code> to <code>l2leaf.defaults.inband_management_vlan</code></li> <li>Change from <code>l2leaf.defaults.p2p_link_interface_speed</code> to <code>l2leaf.defaults.uplink_interface_speed</code></li> <li>Change from <code>mlag_ips.mlag_peer</code> to <code>spine.defaults.mlag_peer_ipv4_pool</code></li> <li>Change from <code>mlag_ips.mlag_peer_l3_ipv4_pool</code> to <code>spine.defaults.mlag_peer_l3_ipv4_pool</code></li> <li>Change from <code>l2leaf.node_groups.{{ node_group }}.parent_l3leafs</code> to <code>l2leaf.node_groups.{{ node_group }}.uplink_switches</code></li> <li>Change from <code>l2leaf.node_groups.{{ node_group }}.p2p_link_interface_speed</code> to <code>l2leaf.node_groups.{{ node_group }}.uplink_interface_speed</code></li> <li>Change from <code>l2leaf.node_groups.{{ node_group }}.nodes.{{ node }}.l3leaf_interfaces</code> to <code>l2leaf.node_groups.{{ node_group }}.nodes.{{ node }}.uplink_switch_interfaces</code></li> <li>Change from <code>l2leaf.node_groups.{{ node_group }}.nodes.{{ node }}.parent_l3leafs</code> to <code>l2leaf.node_groups.{{ node_group }}.nodes.{{ node }}.uplink_switches</code></li> </ul> </li> </ul> <ul> <li> <p>super-spine variables:</p> <ul> <li>Change from <code>super_spine.{{ var }}</code> to `super_spine.defaults.{{ var }}</li> <li>Change from <code>super_spine_loopback_network_summary</code> to `super_spine.defaults.loopback_ipv4_pool</li> <li>Change from <code>super_spine_bgp_defaults</code> to `super_spine.defaults.bgp_defaults</li> <li>Change from <code>old default value of super_spine_bgp_defaults</code> to `super_spine.defaults.bgp_defaults</li> <li>Change in ip addressing math for P2P uplinks from spine<code>to</code>super-spine links.<ul> <li> <p>The old model can be retained by updating<code>to</code>the v2.x.x addressing scheme:</p> <pre><code># Node type definitions\nnode_type_keys:\nspine:\ntype: spine\ndefault_evpn_role: server\nip_addressing:\np2p_uplinks_ip: 'ip_addressing/avd-v2-spine-p2p-uplinks-ip.j2'\np2p_uplinks_peer_ip: 'ip_addressing/avd-v2-spine-p2p-uplinks-peer-ip.j2'\nl3leaf:\ntype: l3leaf\nconnected_endpoints: true\ndefault_evpn_role: client\nmlag_support: true\nnetwork_services:\nl2: true\nl3: true\nvtep: true\nl2leaf:\ntype: l2leaf\nconnected_endpoints: true\nmlag_support: true\nnetwork_services:\nl2: true\nunderlay_router: false\nuplink_type: port-channel\nsuper_spine:\ntype: super-spine\noverlay_controller:\ntype: overlay-controller\n</code></pre> </li> </ul> </li> </ul> </li> </ul> <ul> <li> <p>overlay-controller variables:</p> <ul> <li>Change from <code>overlay_controller.{{ var }}</code> to <code>overlay_controller.defaults.{{ var }}</code></li> <li>Change from <code>overlay_controller_loopback_network_summary</code> to <code>overlay_controller.defaults.loopback_ipv4_pool</code></li> <li>Change from <code>overlay_controller_p2p_bfd</code> to <code>overlay_controller.defaults.uplink_bfd</code></li> <li>Change from <code>overlay_controller.defaults.uplink_to_remote_switches</code> to <code>overlay_controller.defaults.uplink_interfaces</code></li> <li>Change from <code>overlay_controller.defaults.remote_switches</code> to <code>overlay_controller.defaults.uplink_switches</code></li> <li>Change from <code>max_overlay_controller_to_switch_links</code> (default=2) to <code>overlay_controller.defaults.max_uplink_switches</code><ul> <li>(old algorithm expected max_overlay_controller_to_switch_links to be the sum of links to all uplink switches)</li> </ul> </li> <li>Change from <code>overlay_controller_p2p_network_summary</code> to <code>overlay_controller.defaults.uplink_ipv4_pool</code></li> <li>Change from <code>overlay_controller_bgp_defaults</code> to <code>overlay_controller.defaults.bgp_defaults</code></li> <li>Change from <code>old default value of overlay_controller_bgp_defaults</code> to <code>overlay_controller.defaults.bgp_defaults</code></li> <li>Change from <code>overlay_controller.nodes.{{ node }}.remote_switches_interfaces</code> to <code>overlay_controller.nodes.{{ node }}.uplink_switch_interfaces</code></li> <li>Change from <code>overlay_controller.nodes.{{ node }}.uplink_to_remote_switches</code> to <code>overlay_controller.defaults.uplink_interfaces</code></li> <li>Change from <code>overlay_controller.nodes.{{ node }}.remote_switches</code> to <code>overlay_controller.defaults.uplink_switches</code></li> </ul> </li> </ul> <ul> <li> <p>network services variable:</p> <ul> <li>Deprecate <code>evpn_rd_type.admin_subfield</code> == <code>\"spine_asn\"</code> -&gt; use value of <code>spine.bgp_as</code></li> <li>Deprecate <code>evpn_rt_type.admin_subfield</code> == <code>\"spine_asn\"</code> -&gt; use value of <code>spine.bgp_as</code></li> <li>Change <code>evpn_rd_type.admin_subfield</code> == <code>\"leaf_asn\"</code> to <code>bgp_as</code></li> <li>Change <code>evpn_rt_type.admin_subfield</code> == <code>\"leaf_asn\"</code> to <code>bgp_as</code></li> <li>Change from <code>tenants.{{ tenant }}.vrfs.{{ vrf }}.svis.{{ svi }}.ip_address_virtual_secondary</code> to <code>tenants.{{ tenant }}.vrfs.{{ vrf }}.svis.{{ svi }}.ip_address_virtual_secondaries</code></li> <li>Change from <code>svi_profiles.{{ profile }}.ip_address_virtual_secondary</code> to <code>svi_profiles.{{ profile }}.ip_address_virtual_secondaries</code></li> <li>Change from <code>tenants.{{ tenant }}.vrfs.{{ vrf }}.svis.{{ svi }}.ip_virtual_router_address</code> to <code>tenants.{{ tenant }}.vrfs.{{ vrf }}.svis.{{ svi }}.ip_virtual_router_addresses</code></li> <li>Change from <code>svi_profiles.{{ profile }}.ip_virtual_router_address</code> to <code>svi_profiles.{{ profile }}.ip_virtual_router_addresses</code></li> </ul> </li> </ul> <ul> <li> <p>ntp_servers:</p> <ul> <li>Deprecated from <code>eos_designs</code>. Replaced by <code>ntp</code> in <code>eos_cli_config_gen</code></li> </ul> </li> </ul>"},{"location":"docs/release-notes/3.x.x.html#changes-to-eos_cli_config_gen-role","title":"Changes to eos_cli_config_gen role","text":"<p>Use the upgrade tasks of <code>eos_cli_config_gen</code> to assist with the transition!</p> <ul> <li>vxlan_tunnel_interface variables:</li> </ul> <pre><code># Old Data model\nvxlan_tunnel_interface:\nVxlan1:\ndescription: &lt; description &gt;\nsource_interface: &lt; source_interface_name &gt;\nvirtual_router:\nencapsulation_mac_address: &lt; mlag-system-id | ethernet_address (H.H.H) &gt;\nvxlan_udp_port: &lt; udp_port &gt;\nvxlan_vni_mappings:\nvlans:\n&lt; vlan_id_1 &gt;:\nvni: &lt; vni_id_1 &gt;\n&lt; vlan_id_2 &gt;:\nvni: &lt; vni_id_2 &gt;\nvrfs:\n&lt; vrf_name &gt;:\nvni: &lt; vni_id_3 &gt;\n&lt; vrf_name &gt;:\nvni: &lt; vni_id_4 &gt;\n# New Data model\nvxlan_interface:\nVxlan1:\ndescription: &lt; description &gt;\nvxlan:\nsource_interface: &lt; source_interface_name &gt;\nudp_port: &lt; udp_port &gt;\nvirtual_router_encapsulation_mac_address: &lt; mlag-system-id | ethernet_address (H.H.H) &gt;\nvlans:\n&lt; vlan_id_1 &gt;:\nvni: &lt; vni_id_1 &gt;\nflood_vteps:\n- &lt; remote_vtep_1_ip_address &gt;\n- &lt; remote_vtep_2_ip_address &gt;\n&lt; vlan_id_2 &gt;:\nvni: &lt; vni_id_2 &gt;\nflood_vteps:\n- &lt; remote_vtep_1_ip_address &gt;\n- &lt; remote_vtep_2_ip_address &gt;\nvrfs:\n&lt; vrf_name_1 &gt;:\nvni: &lt; vni_id_3 &gt;\n&lt; vrf_name_2 &gt;:\nvni: &lt; vni_id_4 &gt;\nflood_vteps:\n- &lt; remote_vtep_1_ip_address &gt;\n- &lt; remote_vtep_2_ip_address &gt;\nflood_vtep_learned_data_plane: &lt; true | false &gt;\n# EOS CLI rendered directly on the Vxlan interface in the final EOS configuration\neos_cli: |\n&lt; multiline eos cli &gt;\n</code></pre> <ul> <li>daemon_terminattr variables:</li> </ul> <pre><code># Old data model\ndaemon_terminattr:\ningestgrpcurl:\nips:\n- &lt; IPv4_address &gt;\n- &lt; IPv4_address &gt;\n- &lt; IPv4_address &gt;\nport: &lt; port_id &gt;\ningestauth_key: &lt; ingest_key &gt;\ningestvrf: &lt; vrf_name &gt;\nsmashexcludes: \"&lt; list as string &gt;\"\ningestexclude: \"&lt; list as string &gt;\"\ndisable_aaa: &lt; false | true &gt;\n# New data model\ndaemon_terminattr:\ncvaddrs:\n- &lt; ip/fqdn &gt;:&lt;port&gt;\n- &lt; ip/fqdn &gt;:&lt;port&gt;\n- &lt; ip/fqdn &gt;:&lt;port&gt;\nclusters:\n&lt; cluster_name &gt;:\ncvaddrs:\n- &lt; ip/fqdn &gt;:&lt;port&gt;\n- &lt; ip/fqdn &gt;:&lt;port&gt;\n- &lt; ip/fqdn &gt;:&lt;port&gt;\ncvauth:\nmethod: &lt; \"token\", \"token-secure\", \"key\" &gt;\nkey: &lt; key &gt;\ntoken_file: &lt; path | e.g. \"/tmp/token\" &gt;\ncvobscurekeyfile: &lt; true | false &gt;\ncvproxy: &lt; URL &gt;\ncvsourceip: &lt; IP Address &gt;\ncvvrf: &lt; vrf &gt;\ncvauth:\nmethod: &lt; \"token\", \"token-secure\", \"key\" &gt;\nkey: &lt; key &gt;\ntoken_file: &lt; path | e.g. \"/tmp/token\" &gt;\ncvcompression: &lt; gzip | none &gt;\ncvobscurekeyfile: &lt; true | false &gt;\ncvproxy: &lt; URL &gt;\ncvsourceip: &lt; IP Address &gt;\ncvvrf: &lt; vrf &gt;\ncvgnmi: &lt; true | false &gt;\ndisable_aaa: &lt; true | false &gt;\ngrpcaddr: &lt; string | e.g. \"MGMT/0.0.0.0:6042\" &gt;\ngrpcreadonly: &lt; true | false &gt;\ningestexclude: &lt; string | e.g. \"/Sysdb/cell/1/agent,/Sysdb/cell/2/agent\" &gt;\nsmashexcludes: &lt; string | e.g. \"ale,flexCounter,hardware,kni,pulse,strata\" &gt;\ntaillogs: &lt; path | e.g. \"/var/log/messages\" &gt;\necodhcpaddr: &lt; IPV4_address:port &gt;\nipfix: &lt; true | false &gt;\nipfixaddr: &lt; IPV4_address:port &gt;\nsflow: &lt; true | false &gt;\nsflowaddr: &lt; IPV4_address:port &gt;\n</code></pre> <ul> <li>logging variables:</li> </ul> <pre><code>#Old data model\nlogging:\nvrfs:\n&lt; vrf_name &gt;:\nsource_interface: &lt; source_interface_name &gt;\nhosts:\n- &lt; syslog_server_1&gt;\n- &lt; syslog_server_2&gt;\n# New data model\nlogging:\nvrfs:\n&lt; vrf_name &gt;:\nsource_interface: &lt; source_interface_name &gt;\nhosts:\n&lt; syslog_server_1 &gt;:\nprotocol: &lt; tcp | udp (default udp) &gt;\nports:\n&lt; custom_port_1 &gt;\n&lt; custom_port_2 &gt;\n&lt; syslog_server_2 &gt;:\nports:\n&lt; custom_port_1 &gt;\n</code></pre> <ul> <li>snmp_server.hosts variables:</li> </ul> <pre><code># Old data model\nsnmp_server:\nhosts:\n- host: &lt; host IP address or name &gt;\nvrf: &lt; vrf_name &gt;\nusers:\n- username: &lt; username &gt;\nauthentication_level: &lt; auth | noauth | priv &gt;\nversion: &lt; 1 | 2c | 3 &gt;\n# New data model\nsnmp_server:\nhosts:\n- host: &lt; host IP address or name &gt;\nvrf: &lt; vrf_name &gt;\nversion: &lt; 1 | 2c | 3 &gt;\ncommunity: &lt; community_name &gt;\nusers:\n- username: &lt; username &gt;\nauthentication_level: &lt; auth | noauth | priv &gt;\n</code></pre> <ul> <li>ntp_server and ntp variables:</li> </ul> <pre><code># Old data models\nntp_server:\nlocal_interface:\nvrf: &lt; vrf_name &gt;\ninterface: &lt; source_interface &gt;\nnodes:\n- &lt; ntp_server_1 &gt;\n- &lt; ntp_server_2 &gt;\nntp:\nauthenticate: &lt;true | false &gt;\nauthentication_keys:\n&lt;key_identifier | 1-65534&gt;:\nhash_algorithm: &lt; md5 | sha1 &gt;\nkey: \"&lt; type7_obfuscated_key &gt;\"\ntrusted_keys: \"&lt; list of trusted-keys as string ex. 10-12,15 &gt;\"\n# New data model\nntp:\nlocal_interface:\nname: &lt; source_interface &gt;\nvrf: &lt; vrf_name &gt;\nservers:\n- name: &lt; IP | hostname &gt;\nburst: &lt; true | false &gt;\niburst:  &lt; true | false &gt;\nkey: &lt; 1 - 65535 &gt;\nlocal_interface: &lt; source_interface &gt;\nmaxpoll: &lt; 3 - 17 (logorithmic)&gt;\nminpoll: &lt; 3 - 17 (logorithmic)&gt;\npreferred: &lt; true | false &gt;\nversion: &lt; 1 - 4 &gt;\nvrf: &lt; vrf_name &gt;\nauthenticate: &lt;true | false &gt;\nauthentication_keys:\n- id: &lt;key_identifier | 1-65534&gt;:\nhash_algorithm: &lt; md5 | sha1 &gt;\nkey: \"&lt; type7_obfuscated_key &gt;\"\ntrusted_keys: \"&lt; list of trusted-keys as string ex. 10-12,15 &gt;\"\n</code></pre>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements_8","title":"New Features and enhancements","text":""},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_designs_8","title":"New features and enhancements in eos_designs","text":"<ul> <li>Eos_designs(feature): Add support for custom <code>structured_config</code> on various <code>eos_designs</code> objects (#900)</li> <li>Feat(eos_designs): Refactor topology data models for AVD v3.0 (#1000)</li> <li>Add platform setting for <code>queue_monitor_length_notify_support</code> (#1016)</li> <li>Eos_designs(feature): Add support for vlan_aware_bundle_number_base (#1018)</li> <li>Eos_designs(refactor): rfc5549 to avoid <code>eos_designs</code> variable from being parsed in <code>eos_cli_config_gen</code> (#1019)</li> <li>Feat(eos_*):Ensure required directories are present in all roles (#1048)</li> <li>Feat(eos_designs): Implement tag for documentation (#1053)</li> <li>Add support for setting vxlan flood vtep (#980)</li> <li>Feat(eos_designs): Add all available knobs under Tenant <code>static_routes</code> (#1136)</li> <li>Refactor(eos_cli_config_gen)!: Deprecate ntp_server and expand ntp data model #1091 (#1137)</li> <li>Feat(eos_designs): Add support for reusing MLAG peer vlan for IBGP/IGP peering (#1142)</li> <li>Feat(eos_designs): Add support for setting VXLAN Source interface (#1149)</li> <li>Feat(eos_designs): Custom interface descriptions (#1156)</li> <li>Feat(eos_designs,eos_cli_config_gen): Add support for VPN import pruning (#1173)</li> <li>Feat(eos_cli_config_gen,eos_designs): Add support for setting multiple secondary virtual IP addresses for vlans (#1180)</li> <li>Feat(eos_designs): Add support for vxlan: false on svis and l2vlans (#1191)</li> <li>Optimize(eos_designs): Move upgrade into eos_designs role and optimize it a bit (#1192)</li> <li>Feat(eos_designs): Add support for no pasword in BGP sessions (#1199)</li> <li>Feat(eos_designs): interface storm-control feature can be set per platform (#1201)</li> <li>Feat(eos_designs)!: Add \u201cVEOS\u201d to default platform_settings (#1216)</li> <li>Refactor(eos_designs): Refactor template folders (#1263)</li> <li>Refactor(eos_designs): Refactor network_services template inclusion (#1264)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#new-features-and-enhancements-in-eos_cli_config_gen_8","title":"New features and enhancements in eos_cli_config_gen","text":"<ul> <li>Add support for match_lists and using them in logging policy (#985)</li> <li>Add platform setting for <code>queue_monitor_length_notify_support</code> (#1016)</li> <li>Feat(eos_cli_config_gen): Add support for maintenance groups (#1017)</li> <li>Add support for <code>no logging event link-status</code> (#1037)</li> <li>Feat(eos_cli_config): Ensure required directories are present (#1044)</li> <li>Feat(eos_*):Ensure required directories are present in all roles (#1048)</li> <li>Feat(eos_designs): Implement tag for documentation (#1053)</li> <li>Local sshkey field added to local-users.j2 to enable sshkey definitio\u2026 (#1065)</li> <li>Feat(eos_cli_config_gen):Add support for mlag heartbeat-interval and system control-plane section (#1069)</li> <li>Feat(eos_cli_config_gen): Add OSPF timers to router ospf (#1070)</li> <li>Feat(eos_cli_config_gen):Add support for Private Vlans (#1071)</li> <li>Feat(eos_cli_config_gen): Implement OSPF inter area filtering (#1076)</li> <li>Feat:(eos_designs): Support for NSSA in Router OSPF Configuration (#1080)</li> <li>Feat(eos_cli_config_gen): Add support for transceiver media override on ethernet_interfaces (#1085)</li> <li>Feat(eos_cli_config_gen): Add single-connection to tacacs (#1095)</li> <li>Add support for setting vxlan flood vtep (#980)</li> <li>Feat(eos_cli_config_gen): Create maintenance configuration (#1020)</li> <li>Feat(eos_cli_config_gen)!: Added support for snmp v1 &amp; snmp v2c (#1050)</li> <li>Refactor(eos_cli_config_gen)!: Update <code>daemon_terminattr</code> data model and add multi-cluster support (#1064)</li> <li>Feat(eos_cli_config_gen): Add RADIUS Source-Interface (#1118)</li> <li>Feat(eos_cli_config_gen): Http client source interface (#1119)</li> <li>Feat(eos_cli_config_gen): Vxlan interface data model updates and enhancements (#1121)</li> <li>Feat(eos_cli_config_gen): Add support for logging synchronous (#1130)</li> <li>Feat(eos_cli_config_gen): Add support for AAA accounting commands (#1132)</li> <li>Refactor(eos_cli_config_gen)!: Deprecate ntp_server and expand ntp data model #1091 (#1137)</li> <li>Feat(eos_cli_config_gen)!: Add support for non-default port and protocol under logging options (#1138)</li> <li>Feat(eos_designs,eos_cli_config_gen): Add support for VPN import pruning (#1173)</li> <li>Feat(eos_cli_config_gen,eos_designs): Add support for setting multiple secondary virtual IP addresses for vlans (#1180)</li> <li>Bump: Python 3.8 &amp; Ansible-core 2.11.3 &amp; action-molecule-avd 1.3 &amp; update requirement to minimum version (#1183)</li> <li>Feat(eos_cli_config_gen): Added support for bgp neighbors send-community (#1184)</li> <li>Feat(eos_cli_config_gen): Add support for bgp neighbors maximum-routes (#1185)</li> <li>Feat(eos_cli_config_gen): Add support for AAA accounting system commands (#1187)</li> <li>Feat(eos_cli_config_gen)!: Add support for multiple virtual router addresses for vlans (#1188)</li> <li>Feat(eos_cli_config_gen): Data model upgrade feature for AVD 2.x.x to 3.0 (#1196)</li> <li>Feat(eos_cli_config_gen): Add support for SSH connection-limit (#1200)</li> <li>Feat(eos_cli_config_gen): Add support for ip ssh client source-interface (#1212)</li> <li>Feat(eos_cli_config_gen): add ACL \u201ccounters per-entry\u201d support (#1243)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#enhancement-of-collections-plugins","title":"Enhancement of collections plugins","text":"<ul> <li>Feat(plugin): Support natural sort based on item key values (#1147)</li> <li>Feat(plugin): Add var_type test to defined plugin (#1148)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#enhancement-of-documentation","title":"Enhancement of documentation","text":"<ul> <li>Doc(contribution): Document conventional commit approach (#1072)</li> <li>DOC: Add CI badge in README file (#1109)</li> <li>Make(mkdoc): Add support for light/dark mode  (#1112)</li> <li>[DOC]: Improve AVD documentation (#974)</li> <li>Make: Add changelog script for release-notes (#1124)</li> <li>Bump: Python 3.8 &amp; Ansible-core 2.11.3 (#1179)</li> <li>Doc(eos_designs): Rearrange and update eos_designs documentation (#1253)</li> <li>Doc(how-to): Update documentation (#1273)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues_17","title":"Fixed issues","text":""},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_designs_14","title":"Fixed issues in eos_designs","text":"<ul> <li>Fix(eos_designs): Add protection on switch_filter_tenants (#1122)</li> <li>Fix(eos_designs): Make options under SVI <code>ip_helpers</code> optional. (#1127)</li> <li>Fix(eos_designs): Modify default <code>platform_settings</code> for R-Series devices (#1143)</li> <li>Fix(eos_designs): Trailing zeroes removed from asdot notation ASNs (#1164)</li> <li>Fix(eos_designs,eos_cli_config_gen): Fix daemon_terminattr config with empty key (#1217)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#fixed-issues-in-eos_cli_config_gen_12","title":"Fixed issues in eos_cli_config_gen","text":"<ul> <li>Fix(eos_cli_config_gen): AAA authentication on console fix (#1133)</li> <li>Fix(eos_cli_config_gen): Maintenance shutdown max-delay update (#1165)</li> <li>Fix(eos_designs,eos_cli_config_gen): Fix daemon_terminattr config with empty key (#1217)</li> <li>Fix(eos_cli_config_gen): Variable protection in spanning tree documentation (#1230)</li> <li>Fix(eos_cli_config_gen): daemon terminattr documentation (#1267)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#documentation_7","title":"Documentation","text":"<ul> <li>Minor documentation fixes (#1038)</li> <li>Doc(mkdocs): update incorrect link to topology diagram (#1075)</li> <li>Doc(eos_cli_config_gen): Add missing documentation for <code>storm_control</code> on <code>port_channel_interfaces</code> (#1086)</li> <li>Doc(eos_cli_config_gen): Add ip_ssh_client_source_interfaces to README (#1234)</li> <li>Doc(eos_designs): Update &amp; Cleanup fabric variables (#1169)</li> <li>Make: Deactivate minify as workaround for Read the Doc (#1197)</li> <li>Doc(eos_cli_config_gen): fix ntp release notes (#1204)</li> <li>Doc(eos_cli_config_gen): fix ntp.servers typo (#1215)</li> <li>Doc: WIP Installation section refactoring (#1241)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#other-changes","title":"Other changes","text":"<ul> <li>Cut: Remove l3ls evpn role (#1276)</li> </ul>"},{"location":"docs/release-notes/3.x.x.html#contributors_3","title":"Contributors","text":"<p>@ankudinov @c-po @carlbuchmann @ClausHolbechArista @colinmacgiolla @daanvdsanden @emilarista @guillaumeVilar @gusmb @idrisFoughali @ksator @lermilov @mthiel117 @noredistribution @RyanM-Arista @rainmanatee @ryanmerolle @sc68cal @sengarth @tgodaA @titom73 @UchihaItachiSama @quulah @xaviramon</p>"},{"location":"docs/release-notes/4.x.x.html","title":"Release Notes for Ansible AVD 4.x.x","text":"<ul> <li>Documentation for AVD version <code>4.x.x</code> available here</li> </ul>"},{"location":"docs/release-notes/4.x.x.html#release-400","title":"Release 4.0.0","text":""},{"location":"docs/release-notes/4.x.x.html#changes-to-requirements","title":"Changes to requirements","text":"<ul> <li>AVD now requires ansible-core from 2.12.6 to 2.14.x excluding 2.13.0</li> </ul> <p>Note</p> <p>Excluded version 2.13.0 has an issue in <code>ansible-core</code>, which is fixed in 2.13.1. Plugin loader will now load config data for plugin by name instead of by file to avoid issues with the same file being loaded under different names (Fully-Qualified-Collection-Name + short-name).</p> <p>If Ansible is installed using pip, a supported version can be installed with <code>pip3 install \"ansible-core&gt;=2.12.6,&lt;2.15.0,!=2.13.0\"</code>.</p>"},{"location":"docs/release-notes/4.x.x.html#breaking-changes-or-behavioral-changes","title":"Breaking changes or behavioral changes","text":"<p>Breaking changes may require modifications to the inventory or playbook. See the Porting guide for AVD 4.x.x for details.</p>"},{"location":"docs/release-notes/4.x.x.html#change-upper-case-cvp-roles-and-module-vars-to-lower-case","title":"Change upper case CVP roles and module vars to lower case","text":"<p>Potentially breaking in rare cases where custom logic relies on the registered vars or content of files. The custom scripts must be updated to use the lowercase variable instead.</p> <p>Component(s) name Roles:</p> <ul> <li>arista.avd.eos_config_deploy_cvp</li> <li>arista.avd.cvp_configlet_upload</li> </ul> <p>Modules:</p> <ul> <li>arista.avd.inventory_to_container</li> <li>arista.avd.configlet_build_config</li> </ul> <p>The following vars are changed from uppercase to lowercase, to conform with Ansible linting requirements.</p> <pre><code>CVP_CONFIGLETS -&gt; cvp_configlets\nCVP_CONFIGLETS_STATUS -&gt; cvp_configlets_status\nCVP_CONTAINERS -&gt; cvp_containers\nCVP_CONTAINER_RESULTS -&gt; cvp_container_results\nCVP_DEVICES -&gt; cvp_devices\nCVP_DEVICES_RESULTS -&gt; cvp_devices_results\nCVP_FACTS -&gt; cvp_facts\nCVP_TOPOLOGY -&gt; cvp_topology\nCVP_VARS -&gt; cvp_vars\n</code></pre>"},{"location":"docs/release-notes/4.x.x.html#disabling-igmp-snooping-globally-no-longer-blocks-other-igmp-snooping-configuration","title":"Disabling IGMP Snooping globally no longer blocks other IGMP snooping configuration","text":"<p>The <code>eos_cli_config_gen</code> role previously blocked IGMP snooping configuration if <code>ip_igmp_snooping.globally_enabled</code> was set to <code>false</code>. With AVD version 4.0.0 this changes to align closer to EOS behavior, where globally disabling IGMP snooping still allows for underlying configuration to be present.</p> <p>See details in the Porting guide for AVD 4.x.x.</p>"},{"location":"docs/release-notes/4.x.x.html#ip-routing-is-no-longer-configured-on-pure-l2-devices","title":"IP routing is no longer configured on pure L2 devices","text":"<p>For node types like <code>l2leaf</code> where <code>underlay_router</code> is set to <code>false</code> under <code>node_type_keys</code> AVD versions below 4.0.0 still rendered <code>ip routing</code> in the configuration. With AVD version 4.0.0 <code>ip routing</code> is no longer configured for <code>l2leaf</code> or other node types with <code>underlay_router: false</code>.</p> <p>See details in the Porting guide for AVD 4.x.x.</p>"},{"location":"docs/release-notes/4.x.x.html#bgp-is-no-longer-configured-on-irrelevant-nodes","title":"BGP is no longer configured on irrelevant nodes","text":"<p>An example of an \u201cirrelevant node\u201d is a pure L3 Spine in L3LS running ISIS or OSPF in the underlay. As long as the spine is not set as route-server for any overlay BGP protocol, there is no need for <code>router bgp &lt;asn&gt;</code> to be configured on this device.</p> <p>See details in the Porting guide for AVD 4.x.x.</p>"},{"location":"docs/release-notes/4.x.x.html#removed-eos_designs-variables","title":"Removed eos_designs variables","text":"<ul> <li><code>evpn_rd_type</code> has been removed and replaced with <code>overlay_rd_type</code>.</li> <li><code>evpn_rt_type</code> has been removed and replaced with <code>overlay_rt_type</code>.</li> <li><code>bgp_peer_groups.IPv4_UNDERLAY_PEERS</code> has been removed and replaced with <code>bgp_peer_groups.ipv4_underlay_peers</code> to avoid upper-case variables.</li> <li><code>bgp_peer_groups.MLAG_IPv4_UNDERLAY_PEER</code> has been removed and replaced with <code>bgp_peer_groups.mlag_ipv4_underlay_peer</code> to avoid upper-case variables.</li> <li><code>bgp_peer_groups.EVPN_OVERLAY_PEERS</code> has been removed and replaced with <code>bgp_peer_groups.evpn_overlay_peers</code> to avoid upper-case variables.</li> <li><code>connected_endpoints_key.[].adapters.[].server_ports</code> has been removed and replaced with <code>connected_endpoints_key.[].adapters.[].endpoint_ports</code>.</li> </ul> <p>See details in the Porting guide for AVD 4.x.x.</p>"},{"location":"docs/release-notes/4.x.x.html#change-in-defaults-eos_designs-in-underlay-isis-variables","title":"Change in defaults eos_designs in underlay ISIS variables","text":"<ul> <li><code>isis_default_circuit_type</code>  default changed from <code>level-1-2</code> (EOS default) to <code>level-2</code>.</li> </ul> <p>See details in the Porting guide for AVD 4.x.x.</p>"},{"location":"docs/release-notes/4.x.x.html#change-in-eos_designs-behavior-in-core_interfaces-variables","title":"Change in eos_designs behavior in core_interfaces variables","text":"<ul> <li><code>core_interfaces.p2p_links.[].ptp_enable</code> requires the <code>ptp.enabled: true</code> to be set at the fabric level.</li> </ul> <p>See details in the Porting guide for AVD 4.x.x.</p>"},{"location":"docs/release-notes/4.x.x.html#change-in-eos_designs-defaults-in-l3_edge-variables","title":"Change in eos_designs defaults in l3_edge variables","text":"<ul> <li><code>l3_edge.p2p_links.[].qos_profile</code> default changed from <code>null</code> to now leverage <code>p2p_uplinks_qos_profile</code> as its default value.</li> <li><code>l3_edge.p2p_links.[].include_in_underlay_protocol</code> default changed from <code>false</code> to <code>true</code>.</li> <li><code>l3_edge.p2p_links.[].isis_circuit_type</code> -&gt; default changed from <code>level-1-2</code> (EOS default) set by <code>isis_default_circuit_type</code> to <code>level-2</code>.</li> <li><code>l3_edge.p2p_links.[].isis_hello_padding</code> default changed from <code>false</code> to <code>true</code> (EOS default).</li> </ul> <p>See details in the Porting guide for AVD 4.x.x.</p>"},{"location":"docs/release-notes/4.x.x.html#new-required-enabled-key-under-vlan_interfacesip_attached_host_route_export","title":"New required <code>enabled</code> key under <code>vlan_interfaces.[].ip_attached_host_route_export</code>","text":"<p>To avoid ambiguous YAML data input, the data model for <code>vlan_interfaces.[].ip_attached_host_route_export</code> has been updated to require an <code>enabled: true</code> key to be added.</p> <p>The change has been incorporated into <code>eos_designs</code> so action is only required when defining <code>structured_configuration</code> directly.</p> <p>See details in the Porting guide for AVD 4.x.x.</p>"},{"location":"docs/release-notes/4.x.x.html#several-internal-switch-facts-and-avd_switch_facts-have-been-removed","title":"Several internal switch.* facts and avd_switch_facts have been removed","text":"<p>As part of optimizing performance and code reuse, the amount of <code>switch.*</code> facts has been limited.</p> <p>The <code>switch.*</code> and <code>avd_switch_facts</code> are internal datamodels used for sharing data between various stages of <code>eos_designs</code>. They should not be used in custom templates for interface descriptions or IP addressing, since they are subject to change without notice.</p> <p>See the porting guide for suggestions on how to leverage AVD logic in combination with Ansible inline Jinja2.</p> <p>The following facts have been removed from <code>switch.*</code> and <code>avd_switch_facts.&lt;hostname&gt;.switch.*</code>:</p> <pre><code>switch.always_configure_ip_routing\nswitch.always_include_vrfs_in_tenants\nswitch.bgp\nswitch.bgp_cluster_id\nswitch.bgp_defaults\nswitch.connected_endpoints\nswitch.default_downlink_interfaces\nswitch.default_overlay_routing_protocol\nswitch.default_underlay_routing_protocol\nswitch.enable_trunk_groups\nswitch.evpn_gateway_remote_peers\nswitch.evpn_gateway_vxlan_l2\nswitch.evpn_gateway_vxlan_l3\nswitch.evpn_gateway_vxlan_l3_inter_domain\nswitch.filter_only_vlans_in_use\nswitch.filter_tags\nswitch.filter_tenants\nswitch.hostname\nswitch.inband_management_gateway\nswitch.inband_management_interface\nswitch.inband_management_ip\nswitch.inband_management_parents\nswitch.inband_management_role\nswitch.igmp_snooping_enabled\nswitch.ipv6_mgmt_ip\nswitch.ipv6_router_id\nswitch.ipvpn_gateway\nswitch.isis_instance_name\nswitch.isis_net\nswitch.is_type\nswitch.lacp_port_id\nswitch.link_tracking_groups\nswitch.loopback_ipv4_offset\nswitch.loopback_ipv6_offset\nswitch.loopback_ipv6_pool\nswitch.mlag\nswitch.mlag_dual_primary_detection\nswitch.mlag_ibgp_origin_incomplete\nswitch.mlag_interfaces_speed\nswitch.mlag_l3\nswitch.mlag_peer_ip\nswitch.mlag_peer_ipv4_pool\nswitch.mlag_peer_l3_ip\nswitch.mlag_peer_l3_ipv4_pool\nswitch.mlag_peer_l3_vlan\nswitch.mlag_peer_l3_vlan_structured_config\nswitch.mlag_peer_link_allowed_vlans\nswitch.mlag_peer_mgmt_ip\nswitch.mlag_peer_vlan\nswitch.mlag_peer_vlan_structured_config\nswitch.mlag_port_channel_structured_config\nswitch.mlag_role\nswitch.mlag_support\nswitch.multi_vtep\nswitch.network_services_l1\nswitch.network_services_l2\nswitch.network_services_l3\nswitch.node_sid\nswitch.only_local_vlan_trunk_groups\nswitch.overlay_address_families\nswitch.overlay_rd_type_admin_subfield\nswitch.overlay_routing_protocol\nswitch.overlay_routing_protocol_address_family\nswitch.platform_settings\nswitch.rack\nswitch.raw_eos_cli\nswitch.short_esi\nswitch.spanning_tree_mode\nswitch.spanning_tree_priority\nswitch.spanning_tree_root_super\nswitch.struct_cfg\nswitch.system_mac_address\nswitch.trunk_groups\nswitch.underlay\nswitch.underlay_ipv6\nswitch.underlay_multicast\nswitch.underlay_router\nswitch.uplink_bfd\nswitch.uplink_interfaces\nswitch.uplink_interface_speed\nswitch.uplink_macsec\nswitch.uplink_ptp\nswitch.uplink_structured_config\nswitch.uplink_switches\nswitch.uplink_switch_interfaces\nswitch.uplink_type\nswitch.virtual_router_mac_address\nswitch.vtep\nswitch.vtep_loopback\n</code></pre>"},{"location":"examples/campus-fabric/index.html","title":"Example for Campus Fabric","text":""},{"location":"examples/campus-fabric/index.html#introduction","title":"Introduction","text":"<p>This example describes and includes all the AVD files used to build a Campus Fabric by building upon the previous L2LS Fabric example. The spine nodes provide L3 routing of SVIs, and the L2 leaf nodes support 802.1x Network Access Control (NAC) with port ranges.</p>"},{"location":"examples/campus-fabric/index.html#installation-requirements","title":"Installation &amp; Requirements","text":"<ol> <li>Install AVD - Installation guide found here.</li> <li>Install Ansible module requirements - Instructions found here.</li> <li>Run the following playbook which will copy Getting Started examples to your current working directory.</li> </ol> <pre><code># current working directory: ~/ansible-avd-examples\nansible-playbook arista.avd.install_examples\n</code></pre> <p>The output will show something similar to the following. If not, please ensure that AVD and all requirements are correctly installed.</p> <pre><code> ~/ansible-avd-examples# ansible-playbook arista.avd.install_examples\n\nPLAY [Install Examples]***************************************************************************************************************************************************************************************************************************************************************\n\nTASK [Copy all examples to ~/ansible-avd-examples]*****************************************************************************************************************************************************\nchanged: [localhost]\nPLAY RECAP\n****************************************************************************************************************************************************************************************************************************************************************************\nlocalhost                  : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0\n</code></pre> <p>After the playbook has run successfully, the following directory structure will be created.</p> <pre><code>ansible-avd-examples/     (directory where playbook was run)\n\u251c\u2500\u2500 campus-fabric/\n    \u251c\u2500\u2500 documentation/\n    \u251c\u2500\u2500 group_vars/\n    \u251c\u2500\u2500 images/\n    \u251c\u2500\u2500 intended/\n    \u251c\u2500\u2500 switch-basic-configurations/\n    \u251c\u2500\u2500 ansible.cfg\n    \u251c\u2500\u2500 build.yml\n    \u251c\u2500\u2500 deploy.yml\n    \u251c\u2500\u2500 inventory.yml\n    \u2514\u2500\u2500 README.md (this document)\n</code></pre> Info <p>If the content of any file in the example is modified and the playbook is run again, the file will not be overwritten. However, if any file in the example is deleted and the playbook is run again, the file will be re-created.</p>"},{"location":"examples/campus-fabric/index.html#design-overview","title":"Design Overview","text":""},{"location":"examples/campus-fabric/index.html#physical-campus-fabric-topology","title":"Physical Campus Fabric Topology","text":"<p>In a Campus network, it is common to refer to the location of the switches as MDF (Main Distribution Frame) and IDFs (Independent Distribution Frame). Throughout this example, we refer to the spine nodes as the MDF and the leaf nodes as the IDFs. This example shows various switch types and common ways of cabling the IDF to the MDF.</p> <ul> <li>MDF<ul> <li>2 Spine nodes</li> </ul> </li> <li>IDFs<ul> <li>IDF1 supporting 96 users with a 2 leafs (1RU - 48 ports each)</li> <li>IDF2 supporting 240 users with a Modular 5 slot chassis (48 ports per module)</li> <li>IDF3 supporting 480 users with 5 leafs (2RU - 96 ports each)</li> </ul> </li> </ul> <p>The drawing below shows the physical topology used in this example. The interface assignment shown here are referenced across the entire example, so keep that in mind if this example must be adapted to a different topology.</p> <p></p>"},{"location":"examples/campus-fabric/index.html#basic-eos-switch-configuration","title":"Basic EOS Switch Configuration","text":"<p>Basic connectivity between the Ansible controller host and the switches must be established before Ansible can be used to deploy configurations. The following should be configured on all switches:</p> <ul> <li>Switch Hostname</li> <li>IP enabled interface</li> <li>Username and Password defined</li> <li>Management eAPI enabled</li> </ul> Info <p>The management interfaces used by cEOS and vEOS, are <code>Management0</code> and <code>Management1</code> respectively. When using actual hardware switches, <code>Management1</code> is used. The included basic switch configurations may need to be adjusted for your environment.</p> <p>Below is the basic configuration file for SPINE1:</p> <pre><code>!\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$E4w14C31asEyKhVE$wJc8N0Ao02.ExYCJqjK.fNyq/QXfSMM.eaoRRNAXBzhTEFsO0CMDhTtUCQMm/lg.kDh5U8u74n782N7RwTNXa/\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname SPINE1\n!\nspanning-tree mode mstp\n!\nmanagement api http-commands\n   no shutdown\n!\nmanagement api gnmi\n   transport grpc default\n!\nmanagement api netconf\n   transport ssh default\n!\ninterface Management0\n   ip address 172.100.100.101/24\n!\nno ip routing\n!\nip route 0.0.0.0/0 172.100.100.1\n!\n</code></pre>"},{"location":"examples/campus-fabric/index.html#ansible-inventory","title":"Ansible Inventory","text":"<p>Now that we understand the physical L2LS topology, we need to create the Ansible inventory that represents this topology. The following is a textual and graphical representation of the Ansible inventory group variables and naming scheme used in this example:</p> <pre><code>- DC1\n  - DC1_FABRIC\n    - DC1_SPINES\n    - DC1_LEAFS\n  - DC1_NETWORK_SERVICES\n    - DC1_SPINES\n    - DC1_LEAFS\n  - DC1_NETWORK_PORTS\n    - DC1_SPINES\n    - DC1_LEAFS\n</code></pre> <p>DC1 represents the highest level within the hierarchy. Ansible variables defined at this level will be applied to all nodes in the fabric. Ansible groups have parent and child relationships. For example, both DC1_SPINES and DC1_LEAFS are children of DC1_FABRIC. Groups of Groups are possible and allow variables to be shared at any level within the hierarchy. For example, DC1_NETWORK_SERVICES is a group with two other groups defined as children: DC1_SPINES and DC1_LEAFS. The same applies to the group named DC1_NETWORK_PORTS. You will see these groups listed at the bottom of the inventory file.</p> <p>This naming convention makes it possible to extend anything quickly and can be changed based on your preferences. The names of all groups and hosts must be unique.</p> <p></p>"},{"location":"examples/campus-fabric/index.html#inventoryyml","title":"inventory.yml","text":"<p>The below inventory file represents two spines and ten leafs. The nodes are defined under the groups DC1_SPINES and DC1_LEAFS, respectively. We apply group variables (group_vars) to these groups to define their functionality and configurations.</p> <p>The hostnames specified in the inventory must exist either in DNS or in the hosts file on your Ansible host to allow successful name lookup and be able to reach the switches directly. A successful ping from the Ansible host to each inventory host verifies name resolution (e.g., ping SPINE1).</p> <p>Alternatively, if DNS is unavailable, define the variable ansible_host as an IP address for each device.</p> <pre><code>---\n# inventory.yml\nDC1:\nchildren:\nDC1_FABRIC:\nchildren:\nDC1_SPINES:\nhosts:\nSPINE1:\nansible_host: 172.100.100.101\nSPINE2:\nansible_host: 172.100.100.102\nDC1_LEAFS:\nhosts:\nLEAF1A:\nansible_host: 172.100.100.103\nLEAF1B:\nansible_host: 172.100.100.104\nLEAF2A:\nansible_host: 172.100.100.105\nLEAF3A:\nansible_host: 172.100.100.106\nLEAF3B:\nansible_host: 172.100.100.107\nLEAF3C:\nansible_host: 172.100.100.108\nLEAF3D:\nansible_host: 172.100.100.109\nLEAF3E:\nansible_host: 172.100.100.110\nDC1_NETWORK_SERVICES:\nchildren:\nDC1_LEAFS:\nDC1_SPINES:\nDC1_NETWORK_PORTS:\nchildren:\nDC1_LEAFS:\nDC1_SPINES:\n</code></pre>"},{"location":"examples/campus-fabric/index.html#management-network","title":"Management Network","text":"<p>This example configures a dedicated management network on port Management0 (vrf: MGMT) and an in-band management network using SVI Vlan10 (vrf: default). In-band management is easily configured with two variables under the leaf defaults key in <code>DC1_FABRIC.yml</code>. First, it auto-generates an SVI and default route on each leaf node. Then, on the Spine nodes, it will build a matching SVI for Vlan 10 and create a Virtual-IP (10.10.10.1) for the defined subnet.</p> <pre><code>leaf:\ndefaults:\ninband_management_subnet: 10.10.10.0/24\ninband_management_vlan: 10\n</code></pre> <p>Details on this feature can be found here.</p> Node Management0 Vlan10 SPINE1 172.100.100.101 10.10.10.2 SPINE2 172.100.100.102 10.10.10.3 LEAF1A 172.100.100.103 10.10.10.6 LEAF1B 172.100.100.104 10.10.10.7 LEAF2A 172.100.100.105 10.10.10.8 LEAF3A 172.100.100.106 10.10.10.9 LEAF3B 172.100.100.107 10.10.10.10 LEAF3C 172.100.100.108 10.10.10.11 LEAF3D 172.100.100.109 10.10.10.12 LEAF3E 172.100.100.110 10.10.10.13 <p>In Campus Networks, it is uncommon to have a dedicated out-of-band management network in each IDF. Therefore, you can easily disable configuring the Management0 interface and the management VRF by adding these variables to the <code>DC1_LEAFS.yml</code> group_vars.</p> <pre><code>mgmt_gateway: null\nmgmt_interface: null\nmgmt_interface_vrf: default\n</code></pre> Note <p>If you switch to using in-band management only, update other variables that reference vrf MGMT to use the vrf default.</p>"},{"location":"examples/campus-fabric/index.html#build-fabric-topology","title":"Build Fabric Topology","text":"<p>AVD Fabric Input Variables</p> <p>To apply AVD input variables to the nodes in the fabric, we make use of Ansible group_vars. How and where you define the variables is your choice. The group_vars table below is one example of AVD fabric variables.</p> group_vars/ Description DC1.yml Global settings for all devices DC1_FABRIC.yml Fabric, Topology, and Device settings DC1_SPINES.yml Device type for Spines DC1_LEAFS.yml Device type for Leafs DC1_NETWORK_SERVICES.yml VLANs/SVIs DC1_NETWORK_PORTS.yml Port Profiles and Network Port Ranges <p>The tabs below show the Ansible group_vars used in this example.</p> DC1DC1_FABRICDC1_SPINESDC1_LEAFSDC1_NETWORK_SERVICESDC1_NETWORK_PORTS <p>At the top level (DC1), the following variables are defined in the group_vars/DC1.yml file. These Ansible variables apply to all nodes in the fabric and is a common place to set AAA, users, NTP, and management interface settings. Update local_users and passwords for your environment.</p> <p>You can create a sha512_password by creating a username and password on a switch and copy/paste it within double quotes here.</p> <pre><code>---\n### group_vars/DC1.yml\n# local users\nlocal_users:\nadmin:\nprivilege: 15\nrole: network-admin\nsha512_password: \"$6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\"\n# AAA Authorization\naaa_authorization:\nexec:\ndefault: local\n# OOB Management network default gateway.\nmgmt_gateway: 172.100.100.1\nmgmt_interface: Management0\n# dns servers.\nname_servers:\n- 8.8.4.4\n- 8.8.8.8\n# NTP Servers IP or DNS name, first NTP server will be prefered, and sourced from Managment VRF\nntp:\nservers:\n- name: time.google.com\npreferred: true\nvrf: MGMT\n- name: pool.ntp.org\nvrf: MGMT\n</code></pre> <p>At the Fabric level (DC1_FABRIC), the following variables are defined in the group_vars/DC1_FABRIC.yml file. The fabric name, design type (l2ls), spine and leaf defaults, ansible authentication, and interface links are defined at this level. Other variables you must supply include: spanning-tree mode and priority, along with an MLAG IP pool. Typically, an IDF has a unique set of VLANs. You may use the <code>filter.tags</code> variable to constrain which VLANs are built on an IDF node.</p> <p>Variables applied under the node key type (spine/leaf) defaults section are inherited by nodes under each type. These variables may be overwritten under the node itself.</p> <p>The spine interface used by a particular leaf is defined from the leaf\u2019s perspective with a variable called <code>uplink_switch_interfaces</code>. For example, LEAF2A has a unique variable <code>uplink_switch_interfaces: [Ethernet49/1, Ethernet49/1]</code> defined. This means that LEAF2A is connected to SPINE1\u2019s Ethernet49/1 and SPINE2\u2019s Ethernet49/1, respectively.</p> <pre><code>---\n### group_vars/DC1_FABRIC.yml\nfabric_name: DC1_FABRIC\n# Set Design Type to L2ls\ndesign:\ntype: l2ls\n# Ansible connectivity definitions\n# eAPI connectivity via HTTPS is specified (as opposed to network_cli via SSH)\nansible_connection: ansible.netcommon.httpapi\n# Specifies that we are indeed using Arista EOS\nansible_network_os: arista.eos.eos\n# This user/password must exist on the switches to enable Ansible access\nansible_user: admin\nansible_password: admin\n# User escalation (to enter enable mode)\nansible_become: true\nansible_become_method: enable\n# Use SSL (HTTPS)\nansible_httpapi_use_ssl: true\n# Do not try to validate certs\nansible_httpapi_validate_certs: false\n# Spine Switches\nl3spine:\ndefaults:\nplatform: cEOSLab\nspanning_tree_mode: mstp\nspanning_tree_priority: 4096\nloopback_ipv4_pool: 172.16.1.0/24\nmlag_peer_ipv4_pool: 192.168.0.0/24\nmlag_peer_l3_ipv4_pool: 10.1.1.0/24\nvirtual_router_mac_address: 00:1c:73:00:dc:01\nmlag_interfaces: [Ethernet55/1, Ethernet56/1]\nnode_groups:\nSPINES:\nnodes:\nSPINE1:\nid: 1\nmgmt_ip: 172.100.100.101/24\nSPINE2:\nid: 2\nmgmt_ip: 172.100.100.102/24\n# IDF - Leaf Switches\nleaf:\ndefaults:\nplatform: cEOSLab\nmlag_peer_ipv4_pool: 192.168.0.0/24\nspanning_tree_mode: mstp\nspanning_tree_priority: 16384\ninband_management_subnet: 10.10.10.0/24\ninband_management_vlan: 10\nnode_groups:\nIDF1:\nmlag: true\nuplink_interfaces: [Ethernet51]\nmlag_interfaces: [Ethernet53, Ethernet54]\nfilter:\ntags: [ \"110\", \"120\", \"130\" ]\nnodes:\nLEAF1A:\nid: 3\nmgmt_ip: 172.100.100.103/24\nuplink_switches: [SPINE1]\nuplink_switch_interfaces: [Ethernet1]\nLEAF1B:\nid: 4\nmgmt_ip: 172.100.100.104/24\nuplink_switches: [SPINE2]\nuplink_switch_interfaces: [Ethernet1]\nIDF2:\nmlag: false\nfilter:\ntags: [ \"210\", \"220\", \"230\" ]\nnodes:\nLEAF2A:\nid: 5\nmgmt_ip: 172.100.100.105/24\nuplink_interfaces: [Ethernet1/1, Ethernet1/3]\nuplink_switches: [SPINE1, SPINE2]\nuplink_switch_interfaces: [Ethernet49/1, Ethernet49/1]\nIDF3_AGG:\nmlag: true\nmlag_interfaces: [Ethernet98/3, Ethernet98/4]\nuplink_switches: [SPINE1, SPINE2]\nuplink_interfaces: [Ethernet97/1, Ethernet97/2]\nfilter:\ntags: [ \"310\", \"320\", \"330\" ]\nnodes:\nLEAF3A:\nid: 6\nmgmt_ip: 172.100.100.106/24\nuplink_switch_interfaces: [Ethernet50/1, Ethernet50/1]\nLEAF3B:\nid: 7\nmgmt_ip: 172.100.100.107/24\nuplink_switch_interfaces: [Ethernet51/1, Ethernet51/1]\nIDF3_3C:\nmlag: false\nuplink_switches: [LEAF3A, LEAF3B]\nuplink_interfaces: [Ethernet97/1, Ethernet97/2]\nnodes:\nLEAF3C:\nid: 8\nmgmt_ip: 172.100.100.108/24\nuplink_switch_interfaces: [Ethernet97/3, Ethernet97/3]\nIDF3_3D:\nmlag: false\nuplink_switches: [LEAF3A, LEAF3B]\nuplink_interfaces: [Ethernet97/1, Ethernet97/2]\nnodes:\nLEAF3D:\nid: 9\nmgmt_ip: 172.100.100.109/24\nuplink_switch_interfaces: [Ethernet97/4, Ethernet97/4]\nIDF3_3E:\nmlag: false\nuplink_switches: [LEAF3A, LEAF3B]\nuplink_interfaces: [Ethernet97/1, Ethernet97/2]\nnodes:\nLEAF3E:\nid: 10\nmgmt_ip: 172.100.100.110/24\nuplink_switch_interfaces: [Ethernet98/1, Ethernet98/1]\n#### Override for vEOS/cEOS Lab Caveats ####\np2p_uplinks_mtu: 1500\n# Underlay Routing Protocol\nunderlay_routing_protocol: ospf\n#### WAN/Core Edge Links ####\ncore_interfaces:\np2p_links:\n- ip: [ 10.0.0.3/31, 10.0.0.2/31 ]\nnodes: [ SPINE1, WAN ]\ninterfaces: [ Ethernet52/1, Ethernet1/1 ]\ninclude_in_underlay_protocol: true\n- ip: [ 10.0.0.5/31, 10.0.0.4/31 ]\nnodes: [ SPINE2, WAN ]\ninterfaces: [ Ethernet52/1, Ethernet1/1 ]\ninclude_in_underlay_protocol: true\n</code></pre> <p>In an L2LS Campus design, there are two types of spine nodes: <code>spine</code> and <code>l3spine</code>. For a spine node to provide routing of SVIs we set the type to <code>l3spine</code>.</p> <pre><code>---\n### group_vars/DC1_SPINES.yml\ntype: l3spine     # Must be either spine|l3spine\n</code></pre> <p>In an L2LS Campus design, we have one type of leaf node: <code>leaf</code>.</p> <pre><code>---\n### group_vars/DC1_LEAFS.yml\ntype: leaf     # Must be leaf\n</code></pre> <p>You add VLANs and SVIs to the Fabric by updating the group_vars/DC1_NETWORK_SERVICES.yml file. Each VLAN will be given a name and a list of tags. The tags filter the VLAN to specific Leaf Pairs. These variables are applied to spine and leaf nodes since they are a part of this group.</p> <pre><code>---\n### group_vars/DC1_NETWORK_SERVICES.yml\ntenants:\nMY_FABRIC:\nvrfs:\ndefault:\nsvis:\n110:\nname: 'IDF1-Data'\ntags: [\"110\"]\nenabled: true\nip_virtual_router_addresses:\n- 10.1.10.1\nnodes:\nSPINE1:\nip_address: 10.1.10.2/23\nSPINE2:\nip_address: 10.1.10.3/23\n120:\nname: 'IDF1-Voice'\ntags: [\"120\"]\nenabled: true\nip_virtual_router_addresses:\n- 10.1.20.1\nnodes:\nSPINE1:\nip_address: 10.1.20.2/23\nSPINE2:\nip_address: 10.1.20.3/23\n130:\nname: 'IDF1-Guest'\ntags: [\"130\"]\nenabled: true\nip_virtual_router_addresses:\n- 10.1.30.1\nnodes:\nSPINE1:\nip_address: 10.1.30.2/23\nSPINE2:\nip_address: 10.1.30.3/23\n210:\nname: 'IDF2-Data'\ntags: [\"210\"]\nenabled: true\nip_virtual_router_addresses:\n- 10.2.10.1\nnodes:\nSPINE1:\nip_address: 10.2.10.2/23\nSPINE2:\nip_address: 10.2.10.3/23\n220:\nname: 'IDF2-Voice'\ntags: [\"220\"]\nenabled: true\nip_virtual_router_addresses:\n- 10.2.20.1\nnodes:\nSPINE1:\nip_address: 10.2.20.2/23\nSPINE2:\nip_address: 10.2.20.3/23\n230:\nname: 'IDF2-Guest'\ntags: [\"230\"]\nenabled: true\nip_virtual_router_addresses:\n- 10.2.30.1\nnodes:\nSPINE1:\nip_address: 10.2.30.2/23\nSPINE2:\nip_address: 10.2.30.3/23\n310:\nname: 'IDF3-Data'\ntags: [\"310\"]\nenabled: true\nip_virtual_router_addresses:\n- 10.3.10.1\nnodes:\nSPINE1:\nip_address: 10.3.10.2/23\nSPINE2:\nip_address: 10.3.10.3/23\n320:\nname: 'IDF3-Voice'\ntags: [\"320\"]\nenabled: true\nip_virtual_router_addresses:\n- 10.3.20.1\nnodes:\nSPINE1:\nip_address: 10.3.20.2/23\nSPINE2:\nip_address: 10.3.20.3/23\n330:\nname: 'IDF3-Guest'\ntags: [\"330\"]\nenabled: true\nip_virtual_router_addresses:\n- 10.3.30.1\nnodes:\nSPINE1:\nip_address: 10.3.30.2/23\nSPINE2:\nip_address: 10.3.30.3/23\n</code></pre> <p>Our fabric would not be complete without connecting some devices to it. Therefore, we define port profiles and network port ranges in the  group_vars/DC1_NETWORKS_PORTS.yml file. A single port_profile may be used across several switches and port ranges. In our example, we create a port profile called <code>PP-DOT1X</code> to define generic 802.1x (NAC) settings we wish to apply to a range of ports. The <code>network_ports</code> data model is where we define which switches and ports to apply the port profile. This data model allows a single regex statement to define a list of switches. In addition, the variable <code>switch_ports</code> expands into a range of ports. You can view more details of the <code>range_expand</code> filter here. These variables are applied to spine and leaf nodes since they are a part of this inventory group.</p> <pre><code>---\n### group_vars/DC1_NETWORK_PORTS.yml\nport_profiles:\nPP-DOT1X:\nmode: \"trunk phone\"\nspanning_tree_portfast: edge\nspanning_tree_bpduguard: enabled\ndot1x:\nport_control: auto\nreauthentication: true\npae:\nmode: authenticator\nhost_mode:\nmode: multi-host\nmulti_host_authenticated: true\nmac_based_authentication:\nenabled: true\ntimeout:\nreauth_period: server\ntx_period: 3\nreauthorization_request_limit: 3\nnetwork_ports:\n# ---------------- IDF1 ----------------\n- switches:\n- LEAF1[AB] # regex match LEAF1A &amp; LEAF1B\nswitch_ports:\n- Ethernet1-48\ndescription: IDF1 Standard Port\nprofile: PP-DOT1X\nnative_vlan: 110\nstructured_config:\nphone:\ntrunk: untagged\nvlan: 120\ndot1x:\nauthentication_failure:\naction: allow\nallow_vlan: 130\n# ---------------- IDF2 ----------------\n- switches:\n- LEAF2A\nswitch_ports:\n- Ethernet3-7/1-48\ndescription: IDF2 Standard Port\nprofile: PP-DOT1X\nnative_vlan: 210\nstructured_config:\nphone:\ntrunk: untagged\nvlan: 220\ndot1x:\nauthentication_failure:\naction: allow\nallow_vlan: 230\n# ---------------- IDF3 ----------------\n- switches:\n- LEAF3[ABCDE] # regex match LEAF3A, LEAF3B, LEAF3C, LEAF3D, LEAF3E\nswitch_ports:\n- Ethernet1-96\ndescription: IDF3 Standard Port\nprofile: PP-DOT1X\nnative_vlan: 310\nstructured_config:\nphone:\ntrunk: untagged\nvlan: 320\ndot1x:\nauthentication_failure:\naction: allow\nallow_vlan: 330\n</code></pre>"},{"location":"examples/campus-fabric/index.html#network-services","title":"Network Services","text":"<p>The Network Services data model is stored in the DC1_NETWORK_SERVICES group_var tab above. Each IDF will have three unique VLANs to support Data, Voice, and Guest networks. The spine nodes will provide routing for these VLANs via locally assigned SVIs.</p>"},{"location":"examples/campus-fabric/index.html#vlanip-subnet-assignment","title":"VLAN/IP Subnet Assignment","text":"IDF Data Voice Guest IDF1 110 - (10.1.10.0/23) 120 - (10.1.20.0/23) 130 - (10.1.30.0/23) IDF2 210 - (10.2.10.0/23) 220 - (10.2.20.0/23) 230 - (10.2.30.0/23) IDF3 310 - (10.3.10.0/23) 320 - (10.3.20.0/23) 330 - (10.3.30.0/23)"},{"location":"examples/campus-fabric/index.html#port-profiles-and-network-ports","title":"Port Profiles and Network Ports","text":"<p>AVD provides a way to standardize and reuse port profiles through a compact data model you can utilize across the network. The Network Ports data model is stored in the DC1_NETWORK_PORTS group_vars tab above. Each port is configured to support NAC and dynamically assigns the proper VLAN based on 802.1x authentication. Multiple device types (IP Phones, Workstations, Printers, Access Points, etc.) can share the same port configuration below.</p> <p></p> <p>The above sample port configuration is easily produced with <code>port_profiles</code> and <code>network_ports</code> data models. Each port has similar configuration items defined in <code>port_profiles</code>, while <code>network_ports</code> defines which switches and port ranges are to be applied. The <code>network_ports</code> data model allows regex to match switches and an <code>expand_range</code> filter to cover a range of ports. For details, see documentation for <code>port_profiles</code> and <code>network_ports</code>.</p>"},{"location":"examples/campus-fabric/index.html#wancore-edge","title":"WAN/Core Edge","text":"<p>Lastly, we need to provide a way for traffic to exit the Campus Fabric via the WAN/Core Edge.  This is easily accomplished using <code>underlay_routing_protocol</code> and <code>core_interfaces</code> to create point-to-point IP links to the WAN/Core and enable a routing protocol such as OSPF.  This simple data model below is located at the bottom of the group_vars/DC1_FABRIC.yml file.</p> <pre><code># Underlay Routing Protocol\nunderlay_routing_protocol: ospf\n#### WAN/Core Edge Links ####\ncore_interfaces:\np2p_links:\n- ip: [ 10.0.0.3/31, 10.0.0.2/31 ]\nnodes: [ SPINE1, WAN ]\ninterfaces: [ Ethernet52/1, Ethernet1/1 ]\ninclude_in_underlay_protocol: true\n- ip: [ 10.0.0.5/31, 10.0.0.4/31 ]\nnodes: [ SPINE2, WAN ]\ninterfaces: [ Ethernet52/1, Ethernet1/1 ]\ninclude_in_underlay_protocol: true\n</code></pre>"},{"location":"examples/campus-fabric/index.html#deploy-fabric","title":"Deploy Fabric","text":""},{"location":"examples/campus-fabric/index.html#the-playbooks","title":"The Playbooks","text":"<p>Now that we have defined all of our Ansible variables (AVD inputs), it is time to generate some configurations. To make things simple, we provide two playbooks. One playbook will allow you to build and view EOS CLI intended configurations per device. The second playbook has an additional task to deploy the configurations to your switches. The playbooks are provided in the tabs below. The playbook is straightforward as it imports two AVD roles: <code>eos_designs</code> and <code>eos_cli_config_gen</code>, which do all the heavy lifting. The combination of these two roles produces recommended configurations that follow Arista Design Guides.</p> build.ymldeploy.yml <pre><code>---\n# build.yml\n- name: Build Configs\nhosts: DC1_FABRIC\ngather_facts: false\ntasks:\n- name: Generate AVD Structured Configurations and Fabric Documentation\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n- name: Generate Device Configurations and Documentation\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n</code></pre> <pre><code>---\n# deploy.yml\n- name: Build and Deploy Configs\nhosts: DC1_FABRIC\ngather_facts: false\ntasks:\n- name: Generate AVD Structured Configurations and Fabric Documentation\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n- name: Generate Device Configurations and Documentation\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n- name: Deploy Configurations to Devices\nansible.builtin.import_role:\nname: arista.avd.eos_config_deploy_eapi\n</code></pre>"},{"location":"examples/campus-fabric/index.html#playbook-run","title":"Playbook Run","text":"<p>To build the configuration files, run the playbook called <code>build.yml</code>.</p> <pre><code>### Build configurations\nansible-playbook build.yml\n</code></pre> <p>After the playbook run finishes, EOS CLI intended configuration files were written to <code>intended/configs</code>.</p> <p>To build and deploy the configurations to your switches, run the playbook called <code>deploy.yml</code>. This assumes that your Ansible host has access and authentication rights to the switches. We defined the authentication variables in the <code>DC1_FABRIC.yml</code> file in this example.</p> <pre><code>### Build configurations &amp; Push Configs to switches\nansible-playbook deploy.yml\n</code></pre>"},{"location":"examples/campus-fabric/index.html#eos-intended-configurations","title":"EOS Intended Configurations","text":"<p>Your configuration files should be similar to these.</p> SPINE1SPINE2LEAF1ALEAF1BLEAF2ALEAF3ALEAF3BLEAF3CLEAF3DLEAF3E <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname SPINE1\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n!\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nvlan 10\nname L2LEAF_INBAND_MGMT\n!\nvlan 110\nname IDF1-Data\n!\nvlan 120\nname IDF1-Voice\n!\nvlan 130\nname IDF1-Guest\n!\nvlan 210\nname IDF2-Data\n!\nvlan 220\nname IDF2-Voice\n!\nvlan 230\nname IDF2-Guest\n!\nvlan 310\nname IDF3-Data\n!\nvlan 320\nname IDF3-Voice\n!\nvlan 330\nname IDF3-Guest\n!\nvlan 4093\nname LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel1\n   description IDF1_Po51\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,110,120,130\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel491\n   description LEAF2A_Po11\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,210,220,230\n   switchport mode trunk\n   mlag 491\n!\ninterface Port-Channel501\n   description IDF3_AGG_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 501\n!\ninterface Port-Channel551\n   description MLAG_PEER_SPINE2_Po551\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description LEAF1A_Ethernet51\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet49/1\n   description LEAF2A_Ethernet1/1\n   no shutdown\n   channel-group 491 mode active\n!\ninterface Ethernet50/1\n   description LEAF3A_Ethernet97/1\n   no shutdown\n   channel-group 501 mode active\n!\ninterface Ethernet51/1\n   description LEAF3B_Ethernet97/1\n   no shutdown\n   channel-group 501 mode active\n!\ninterface Ethernet52/1\n   description P2P_LINK_TO_WAN_Ethernet1/1\n   no shutdown\n   mtu 1500\nno switchport\n   ip address 10.0.0.3/31\n   ip ospf network point-to-point\n   ip ospf area 0.0.0.0\n!\ninterface Ethernet55/1\n   description MLAG_PEER_SPINE2_Ethernet55/1\n   no shutdown\n   channel-group 551 mode active\n!\ninterface Ethernet56/1\n   description MLAG_PEER_SPINE2_Ethernet56/1\n   no shutdown\n   channel-group 551 mode active\n!\ninterface Loopback0\n   description Router_ID\n   no shutdown\n   ip address 172.16.1.1/32\n   ip ospf area 0.0.0.0\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.101/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\nip address 10.10.10.2/24\n   ip attached-host route export 19\nip virtual-router address 10.10.10.1\n!\ninterface Vlan110\n   description IDF1-Data\n   no shutdown\n   ip address 10.1.10.2/23\n   ip virtual-router address 10.1.10.1\n!\ninterface Vlan120\n   description IDF1-Voice\n   no shutdown\n   ip address 10.1.20.2/23\n   ip virtual-router address 10.1.20.1\n!\ninterface Vlan130\n   description IDF1-Guest\n   no shutdown\n   ip address 10.1.30.2/23\n   ip virtual-router address 10.1.30.1\n!\ninterface Vlan210\n   description IDF2-Data\n   no shutdown\n   ip address 10.2.10.2/23\n   ip virtual-router address 10.2.10.1\n!\ninterface Vlan220\n   description IDF2-Voice\n   no shutdown\n   ip address 10.2.20.2/23\n   ip virtual-router address 10.2.20.1\n!\ninterface Vlan230\n   description IDF2-Guest\n   no shutdown\n   ip address 10.2.30.2/23\n   ip virtual-router address 10.2.30.1\n!\ninterface Vlan310\n   description IDF3-Data\n   no shutdown\n   ip address 10.3.10.2/23\n   ip virtual-router address 10.3.10.1\n!\ninterface Vlan320\n   description IDF3-Voice\n   no shutdown\n   ip address 10.3.20.2/23\n   ip virtual-router address 10.3.20.1\n!\ninterface Vlan330\n   description IDF3-Guest\n   no shutdown\n   ip address 10.3.30.2/23\n   ip virtual-router address 10.3.30.1\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\nip address 10.1.1.0/31\n   ip ospf network point-to-point\n   ip ospf area 0.0.0.0\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.0/31\n!\nip virtual-router mac-address 00:1c:73:00:dc:01\n!\nip routing\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id SPINES\n   local-interface Vlan4094\n   peer-address 192.168.0.1\n   peer-link Port-Channel551\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n!\nrouter ospf 100\nrouter-id 172.16.1.1\n   passive-interface default\n   no passive-interface Vlan4093\n   no passive-interface Ethernet52/1\n   max-lsa 12000\nredistribute connected\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname SPINE2\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n!\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nvlan 10\nname L2LEAF_INBAND_MGMT\n!\nvlan 110\nname IDF1-Data\n!\nvlan 120\nname IDF1-Voice\n!\nvlan 130\nname IDF1-Guest\n!\nvlan 210\nname IDF2-Data\n!\nvlan 220\nname IDF2-Voice\n!\nvlan 230\nname IDF2-Guest\n!\nvlan 310\nname IDF3-Data\n!\nvlan 320\nname IDF3-Voice\n!\nvlan 330\nname IDF3-Guest\n!\nvlan 4093\nname LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel1\n   description IDF1_Po51\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,110,120,130\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel491\n   description LEAF2A_Po11\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,210,220,230\n   switchport mode trunk\n   mlag 491\n!\ninterface Port-Channel501\n   description IDF3_AGG_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 501\n!\ninterface Port-Channel551\n   description MLAG_PEER_SPINE1_Po551\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description LEAF1B_Ethernet51\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet49/1\n   description LEAF2A_Ethernet1/3\n   no shutdown\n   channel-group 491 mode active\n!\ninterface Ethernet50/1\n   description LEAF3A_Ethernet97/2\n   no shutdown\n   channel-group 501 mode active\n!\ninterface Ethernet51/1\n   description LEAF3B_Ethernet97/2\n   no shutdown\n   channel-group 501 mode active\n!\ninterface Ethernet52/1\n   description P2P_LINK_TO_WAN_Ethernet1/1\n   no shutdown\n   mtu 1500\nno switchport\n   ip address 10.0.0.5/31\n   ip ospf network point-to-point\n   ip ospf area 0.0.0.0\n!\ninterface Ethernet55/1\n   description MLAG_PEER_SPINE1_Ethernet55/1\n   no shutdown\n   channel-group 551 mode active\n!\ninterface Ethernet56/1\n   description MLAG_PEER_SPINE1_Ethernet56/1\n   no shutdown\n   channel-group 551 mode active\n!\ninterface Loopback0\n   description Router_ID\n   no shutdown\n   ip address 172.16.1.2/32\n   ip ospf area 0.0.0.0\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.102/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\nip address 10.10.10.3/24\n   ip attached-host route export 19\nip virtual-router address 10.10.10.1\n!\ninterface Vlan110\n   description IDF1-Data\n   no shutdown\n   ip address 10.1.10.3/23\n   ip virtual-router address 10.1.10.1\n!\ninterface Vlan120\n   description IDF1-Voice\n   no shutdown\n   ip address 10.1.20.3/23\n   ip virtual-router address 10.1.20.1\n!\ninterface Vlan130\n   description IDF1-Guest\n   no shutdown\n   ip address 10.1.30.3/23\n   ip virtual-router address 10.1.30.1\n!\ninterface Vlan210\n   description IDF2-Data\n   no shutdown\n   ip address 10.2.10.3/23\n   ip virtual-router address 10.2.10.1\n!\ninterface Vlan220\n   description IDF2-Voice\n   no shutdown\n   ip address 10.2.20.3/23\n   ip virtual-router address 10.2.20.1\n!\ninterface Vlan230\n   description IDF2-Guest\n   no shutdown\n   ip address 10.2.30.3/23\n   ip virtual-router address 10.2.30.1\n!\ninterface Vlan310\n   description IDF3-Data\n   no shutdown\n   ip address 10.3.10.3/23\n   ip virtual-router address 10.3.10.1\n!\ninterface Vlan320\n   description IDF3-Voice\n   no shutdown\n   ip address 10.3.20.3/23\n   ip virtual-router address 10.3.20.1\n!\ninterface Vlan330\n   description IDF3-Guest\n   no shutdown\n   ip address 10.3.30.3/23\n   ip virtual-router address 10.3.30.1\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\nip address 10.1.1.1/31\n   ip ospf network point-to-point\n   ip ospf area 0.0.0.0\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.1/31\n!\nip virtual-router mac-address 00:1c:73:00:dc:01\n!\nip routing\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id SPINES\n   local-interface Vlan4094\n   peer-address 192.168.0.0\n   peer-link Port-Channel551\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n!\nrouter ospf 100\nrouter-id 172.16.1.2\n   passive-interface default\n   no passive-interface Vlan4093\n   no passive-interface Ethernet52/1\n   max-lsa 12000\nredistribute connected\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF1A\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n!\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nvlan 10\nname L2LEAF_INBAND_MGMT\n!\nvlan 110\nname IDF1-Data\n!\nvlan 120\nname IDF1-Voice\n!\nvlan 130\nname IDF1-Guest\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel51\n   description SPINES_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,110,120,130\n   switchport mode trunk\n   mlag 51\n!\ninterface Port-Channel53\n   description MLAG_PEER_LEAF1B_Po53\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description SPINE1_Ethernet1\n   no shutdown\n   channel-group 51 mode active\n!\ninterface Ethernet53\n   description MLAG_PEER_LEAF1B_Ethernet53\n   no shutdown\n   channel-group 53 mode active\n!\ninterface Ethernet54\n   description MLAG_PEER_LEAF1B_Ethernet54\n   no shutdown\n   channel-group 53 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.103/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\nip address 10.10.10.6/24\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.4/31\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id IDF1\n   local-interface Vlan4094\n   peer-address 192.168.0.5\n   peer-link Port-Channel53\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF1B\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n!\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nvlan 10\nname L2LEAF_INBAND_MGMT\n!\nvlan 110\nname IDF1-Data\n!\nvlan 120\nname IDF1-Voice\n!\nvlan 130\nname IDF1-Guest\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel51\n   description SPINES_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,110,120,130\n   switchport mode trunk\n   mlag 51\n!\ninterface Port-Channel53\n   description MLAG_PEER_LEAF1A_Po53\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\nswitchport phone vlan 120\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description SPINE2_Ethernet1\n   no shutdown\n   channel-group 51 mode active\n!\ninterface Ethernet53\n   description MLAG_PEER_LEAF1A_Ethernet53\n   no shutdown\n   channel-group 53 mode active\n!\ninterface Ethernet54\n   description MLAG_PEER_LEAF1A_Ethernet54\n   no shutdown\n   channel-group 53 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.104/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\nip address 10.10.10.7/24\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.5/31\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id IDF1\n   local-interface Vlan4094\n   peer-address 192.168.0.4\n   peer-link Port-Channel53\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF2A\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 16384\n!\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nvlan 10\nname L2LEAF_INBAND_MGMT\n!\nvlan 210\nname IDF2-Data\n!\nvlan 220\nname IDF2-Voice\n!\nvlan 230\nname IDF2-Guest\n!\nvrf instance MGMT\n!\ninterface Port-Channel11\n   description SPINES_Po491\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,210,220,230\n   switchport mode trunk\n!\ninterface Ethernet1/1\n   description SPINE1_Ethernet49/1\n   no shutdown\n   channel-group 11 mode active\n!\ninterface Ethernet1/3\n   description SPINE2_Ethernet49/1\n   no shutdown\n   channel-group 11 mode active\n!\ninterface Ethernet3/1\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/2\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/3\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/4\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/5\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/6\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/7\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/8\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/9\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/10\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/11\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/12\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/13\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/14\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/15\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/16\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/17\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/18\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/19\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/20\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/21\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/22\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/23\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/24\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/25\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/26\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/27\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/28\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/29\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/30\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/31\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/32\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/33\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/34\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/35\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/36\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/37\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/38\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/39\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/40\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/41\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/42\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/43\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/44\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/45\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/46\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/47\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/48\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/1\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/2\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/3\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/4\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/5\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/6\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/7\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/8\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/9\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/10\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/11\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/12\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/13\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/14\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/15\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/16\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/17\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/18\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/19\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/20\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/21\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/22\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/23\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/24\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/25\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/26\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/27\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/28\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/29\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/30\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/31\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/32\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/33\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/34\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/35\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/36\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/37\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/38\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/39\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/40\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/41\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/42\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/43\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/44\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/45\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/46\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/47\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/48\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/1\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/2\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/3\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/4\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/5\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/6\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/7\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/8\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/9\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/10\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/11\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/12\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/13\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/14\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/15\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/16\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/17\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/18\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/19\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/20\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/21\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/22\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/23\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/24\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/25\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/26\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/27\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/28\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/29\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/30\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/31\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/32\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/33\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/34\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/35\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/36\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/37\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/38\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/39\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/40\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/41\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/42\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/43\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/44\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/45\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/46\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/47\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/48\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/1\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/2\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/3\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/4\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/5\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/6\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/7\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/8\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/9\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/10\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/11\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/12\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/13\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/14\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/15\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/16\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/17\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/18\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/19\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/20\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/21\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/22\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/23\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/24\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/25\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/26\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/27\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/28\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/29\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/30\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/31\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/32\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/33\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/34\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/35\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/36\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/37\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/38\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/39\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/40\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/41\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/42\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/43\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/44\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/45\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/46\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/47\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/48\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/1\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/2\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/3\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/4\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/5\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/6\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/7\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/8\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/9\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/10\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/11\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/12\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/13\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/14\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/15\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/16\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/17\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/18\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/19\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/20\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/21\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/22\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/23\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/24\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/25\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/26\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/27\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/28\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/29\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/30\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/31\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/32\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/33\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/34\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/35\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/36\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/37\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/38\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/39\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/40\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/41\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/42\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/43\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/44\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/45\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/46\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/47\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/48\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\nswitchport phone vlan 220\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.105/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\nip address 10.10.10.8/24\nno ip routing vrf MGMT\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF3A\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n!\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nvlan 10\nname L2LEAF_INBAND_MGMT\n!\nvlan 310\nname IDF3-Data\n!\nvlan 320\nname IDF3-Voice\n!\nvlan 330\nname IDF3-Guest\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel971\n   description SPINES_Po501\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 971\n!\ninterface Port-Channel973\n   description LEAF3C_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 973\n!\ninterface Port-Channel974\n   description LEAF3D_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 974\n!\ninterface Port-Channel981\n   description LEAF3E_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 981\n!\ninterface Port-Channel983\n   description MLAG_PEER_LEAF3B_Po983\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet49\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet50\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet52\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet53\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet54\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet55\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet56\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet57\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet58\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet59\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet60\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet61\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet62\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet63\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet64\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet65\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet66\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet67\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet68\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet69\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet70\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet71\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet72\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet73\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet74\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet75\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet76\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet77\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet78\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet79\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet80\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet81\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet82\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet83\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet84\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet85\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet86\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet87\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet88\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet89\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet90\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet91\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet92\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet93\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet94\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet95\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet96\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet97/1\n   description SPINE1_Ethernet50/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/2\n   description SPINE2_Ethernet50/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/3\n   description LEAF3C_Ethernet97/1\n   no shutdown\n   channel-group 973 mode active\n!\ninterface Ethernet97/4\n   description LEAF3D_Ethernet97/1\n   no shutdown\n   channel-group 974 mode active\n!\ninterface Ethernet98/1\n   description LEAF3E_Ethernet97/1\n   no shutdown\n   channel-group 981 mode active\n!\ninterface Ethernet98/3\n   description MLAG_PEER_LEAF3B_Ethernet98/3\n   no shutdown\n   channel-group 983 mode active\n!\ninterface Ethernet98/4\n   description MLAG_PEER_LEAF3B_Ethernet98/4\n   no shutdown\n   channel-group 983 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.106/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\nip address 10.10.10.9/24\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.10/31\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id IDF3_AGG\n   local-interface Vlan4094\n   peer-address 192.168.0.11\n   peer-link Port-Channel983\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF3B\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n!\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nvlan 10\nname L2LEAF_INBAND_MGMT\n!\nvlan 310\nname IDF3-Data\n!\nvlan 320\nname IDF3-Voice\n!\nvlan 330\nname IDF3-Guest\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel971\n   description SPINES_Po501\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 971\n!\ninterface Port-Channel973\n   description LEAF3C_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 973\n!\ninterface Port-Channel974\n   description LEAF3D_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 974\n!\ninterface Port-Channel981\n   description LEAF3E_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 981\n!\ninterface Port-Channel983\n   description MLAG_PEER_LEAF3A_Po983\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet49\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet50\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet52\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet53\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet54\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet55\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet56\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet57\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet58\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet59\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet60\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet61\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet62\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet63\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet64\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet65\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet66\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet67\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet68\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet69\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet70\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet71\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet72\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet73\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet74\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet75\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet76\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet77\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet78\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet79\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet80\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet81\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet82\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet83\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet84\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet85\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet86\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet87\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet88\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet89\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet90\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet91\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet92\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet93\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet94\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet95\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet96\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet97/1\n   description SPINE1_Ethernet51/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/2\n   description SPINE2_Ethernet51/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/3\n   description LEAF3C_Ethernet97/2\n   no shutdown\n   channel-group 973 mode active\n!\ninterface Ethernet97/4\n   description LEAF3D_Ethernet97/2\n   no shutdown\n   channel-group 974 mode active\n!\ninterface Ethernet98/1\n   description LEAF3E_Ethernet97/2\n   no shutdown\n   channel-group 981 mode active\n!\ninterface Ethernet98/3\n   description MLAG_PEER_LEAF3A_Ethernet98/3\n   no shutdown\n   channel-group 983 mode active\n!\ninterface Ethernet98/4\n   description MLAG_PEER_LEAF3A_Ethernet98/4\n   no shutdown\n   channel-group 983 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.107/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\nip address 10.10.10.10/24\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.11/31\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id IDF3_AGG\n   local-interface Vlan4094\n   peer-address 192.168.0.10\n   peer-link Port-Channel983\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF3C\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 16384\n!\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nvlan 10\nname L2LEAF_INBAND_MGMT\n!\nvlan 310\nname IDF3-Data\n!\nvlan 320\nname IDF3-Voice\n!\nvlan 330\nname IDF3-Guest\n!\nvrf instance MGMT\n!\ninterface Port-Channel971\n   description IDF3_AGG_Po973\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n!\ninterface Ethernet1\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet49\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet50\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet52\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet53\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet54\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet55\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet56\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet57\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet58\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet59\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet60\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet61\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet62\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet63\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet64\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet65\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet66\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet67\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet68\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet69\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet70\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet71\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet72\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet73\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet74\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet75\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet76\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet77\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet78\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet79\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet80\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet81\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet82\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet83\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet84\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet85\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet86\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet87\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet88\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet89\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet90\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet91\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet92\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet93\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet94\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet95\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet96\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet97/1\n   description LEAF3A_Ethernet97/3\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/2\n   description LEAF3B_Ethernet97/3\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.108/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\nip address 10.10.10.11/24\nno ip routing vrf MGMT\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF3D\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 16384\n!\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nvlan 10\nname L2LEAF_INBAND_MGMT\n!\nvlan 310\nname IDF3-Data\n!\nvlan 320\nname IDF3-Voice\n!\nvlan 330\nname IDF3-Guest\n!\nvrf instance MGMT\n!\ninterface Port-Channel971\n   description IDF3_AGG_Po974\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n!\ninterface Ethernet1\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet49\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet50\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet52\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet53\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet54\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet55\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet56\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet57\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet58\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet59\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet60\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet61\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet62\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet63\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet64\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet65\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet66\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet67\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet68\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet69\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet70\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet71\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet72\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet73\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet74\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet75\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet76\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet77\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet78\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet79\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet80\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet81\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet82\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet83\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet84\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet85\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet86\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet87\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet88\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet89\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet90\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet91\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet92\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet93\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet94\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet95\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet96\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet97/1\n   description LEAF3A_Ethernet97/4\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/2\n   description LEAF3B_Ethernet97/4\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.109/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\nip address 10.10.10.12/24\nno ip routing vrf MGMT\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF3E\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 16384\n!\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nvlan 10\nname L2LEAF_INBAND_MGMT\n!\nvlan 310\nname IDF3-Data\n!\nvlan 320\nname IDF3-Voice\n!\nvlan 330\nname IDF3-Guest\n!\nvrf instance MGMT\n!\ninterface Port-Channel971\n   description IDF3_AGG_Po981\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n!\ninterface Ethernet1\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet49\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet50\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet52\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet53\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet54\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet55\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet56\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet57\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet58\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet59\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet60\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet61\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet62\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet63\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet64\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet65\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet66\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet67\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet68\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet69\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet70\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet71\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet72\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet73\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet74\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet75\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet76\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet77\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet78\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet79\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet80\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet81\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet82\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet83\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet84\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet85\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet86\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet87\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet88\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet89\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet90\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet91\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet92\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet93\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet94\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet95\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet96\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\nswitchport phone vlan 320\nswitchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\ndot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\ndot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\nspanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet97/1\n   description LEAF3A_Ethernet98/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/2\n   description LEAF3B_Ethernet98/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.110/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\nip address 10.10.10.13/24\nno ip routing vrf MGMT\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre>"},{"location":"examples/campus-fabric/index.html#next-steps","title":"Next steps","text":"<p>Modify this example and expand the features to match your Campus topology.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html","title":"LEAF1A","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>802.1X Port Security<ul> <li>802.1X Summary</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#management","title":"Management","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.103/24 172.100.100.1 Vlan10 L2LEAF_INBAND_MGMT inband default 10.10.10.6/24 10.10.10.1"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - - Vlan10 L2LEAF_INBAND_MGMT inband default - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.103/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\n   ip address 10.10.10.6/24\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ntp","title":"NTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#authentication","title":"Authentication","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#local-users","title":"Local Users","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#mlag","title":"MLAG","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link IDF1 Vlan4094 192.168.0.5 Port-Channel53 <p>Dual primary detection is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id IDF1\n   local-interface Vlan4094\n   peer-address 192.168.0.5\n   peer-link Port-Channel53\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4094</li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#vlans","title":"VLANs","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 L2LEAF_INBAND_MGMT - 110 IDF1-Data - 120 IDF1-Voice - 130 IDF1-Guest - 4094 MLAG_PEER MLAG"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name L2LEAF_INBAND_MGMT\n!\nvlan 110\n   name IDF1-Data\n!\nvlan 120\n   name IDF1-Voice\n!\nvlan 130\n   name IDF1-Guest\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#interfaces","title":"Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 IDF1 Standard Port trunk phone - 110 - - Ethernet2 IDF1 Standard Port trunk phone - 110 - - Ethernet3 IDF1 Standard Port trunk phone - 110 - - Ethernet4 IDF1 Standard Port trunk phone - 110 - - Ethernet5 IDF1 Standard Port trunk phone - 110 - - Ethernet6 IDF1 Standard Port trunk phone - 110 - - Ethernet7 IDF1 Standard Port trunk phone - 110 - - Ethernet8 IDF1 Standard Port trunk phone - 110 - - Ethernet9 IDF1 Standard Port trunk phone - 110 - - Ethernet10 IDF1 Standard Port trunk phone - 110 - - Ethernet11 IDF1 Standard Port trunk phone - 110 - - Ethernet12 IDF1 Standard Port trunk phone - 110 - - Ethernet13 IDF1 Standard Port trunk phone - 110 - - Ethernet14 IDF1 Standard Port trunk phone - 110 - - Ethernet15 IDF1 Standard Port trunk phone - 110 - - Ethernet16 IDF1 Standard Port trunk phone - 110 - - Ethernet17 IDF1 Standard Port trunk phone - 110 - - Ethernet18 IDF1 Standard Port trunk phone - 110 - - Ethernet19 IDF1 Standard Port trunk phone - 110 - - Ethernet20 IDF1 Standard Port trunk phone - 110 - - Ethernet21 IDF1 Standard Port trunk phone - 110 - - Ethernet22 IDF1 Standard Port trunk phone - 110 - - Ethernet23 IDF1 Standard Port trunk phone - 110 - - Ethernet24 IDF1 Standard Port trunk phone - 110 - - Ethernet25 IDF1 Standard Port trunk phone - 110 - - Ethernet26 IDF1 Standard Port trunk phone - 110 - - Ethernet27 IDF1 Standard Port trunk phone - 110 - - Ethernet28 IDF1 Standard Port trunk phone - 110 - - Ethernet29 IDF1 Standard Port trunk phone - 110 - - Ethernet30 IDF1 Standard Port trunk phone - 110 - - Ethernet31 IDF1 Standard Port trunk phone - 110 - - Ethernet32 IDF1 Standard Port trunk phone - 110 - - Ethernet33 IDF1 Standard Port trunk phone - 110 - - Ethernet34 IDF1 Standard Port trunk phone - 110 - - Ethernet35 IDF1 Standard Port trunk phone - 110 - - Ethernet36 IDF1 Standard Port trunk phone - 110 - - Ethernet37 IDF1 Standard Port trunk phone - 110 - - Ethernet38 IDF1 Standard Port trunk phone - 110 - - Ethernet39 IDF1 Standard Port trunk phone - 110 - - Ethernet40 IDF1 Standard Port trunk phone - 110 - - Ethernet41 IDF1 Standard Port trunk phone - 110 - - Ethernet42 IDF1 Standard Port trunk phone - 110 - - Ethernet43 IDF1 Standard Port trunk phone - 110 - - Ethernet44 IDF1 Standard Port trunk phone - 110 - - Ethernet45 IDF1 Standard Port trunk phone - 110 - - Ethernet46 IDF1 Standard Port trunk phone - 110 - - Ethernet47 IDF1 Standard Port trunk phone - 110 - - Ethernet48 IDF1 Standard Port trunk phone - 110 - - Ethernet51 SPINE1_Ethernet1 *trunk *10,110,120,130 *- *- 51 Ethernet53 MLAG_PEER_LEAF1B_Ethernet53 *trunk *2-4094 *- *[\u2018MLAG\u2019] 53 Ethernet54 MLAG_PEER_LEAF1B_Ethernet54 *trunk *2-4094 *- *[\u2018MLAG\u2019] 53 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description SPINE1_Ethernet1\n   no shutdown\n   channel-group 51 mode active\n!\ninterface Ethernet53\n   description MLAG_PEER_LEAF1B_Ethernet53\n   no shutdown\n   channel-group 53 mode active\n!\ninterface Ethernet54\n   description MLAG_PEER_LEAF1B_Ethernet54\n   no shutdown\n   channel-group 53 mode active\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel51 SPINES_Po1 switched trunk 10,110,120,130 - - - - 51 - Port-Channel53 MLAG_PEER_LEAF1B_Po53 switched trunk 2-4094 - [\u2018MLAG\u2019] - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel51\n   description SPINES_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,110,120,130\n   switchport mode trunk\n   mlag 51\n!\ninterface Port-Channel53\n   description MLAG_PEER_LEAF1B_Po53\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ipv4_1","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan4094 default 192.168.0.4/31 - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.4/31\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#routing","title":"Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#static-routes","title":"Static Routes","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - - default 0.0.0.0/0 10.10.10.1 - 1 - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#multicast","title":"Multicast","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#8021x-port-security","title":"802.1X Port Security","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#8021x-summary","title":"802.1X Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#8021x-interfaces","title":"802.1X Interfaces","text":"Interface PAE Mode State Phone Force Authorized Reauthentication Auth Failure Action Host Mode Mac Based Auth Eapol Ethernet1 authenticator auto - True allow vlan 130 multi-host True - Ethernet2 authenticator auto - True allow vlan 130 multi-host True - Ethernet3 authenticator auto - True allow vlan 130 multi-host True - Ethernet4 authenticator auto - True allow vlan 130 multi-host True - Ethernet5 authenticator auto - True allow vlan 130 multi-host True - Ethernet6 authenticator auto - True allow vlan 130 multi-host True - Ethernet7 authenticator auto - True allow vlan 130 multi-host True - Ethernet8 authenticator auto - True allow vlan 130 multi-host True - Ethernet9 authenticator auto - True allow vlan 130 multi-host True - Ethernet10 authenticator auto - True allow vlan 130 multi-host True - Ethernet11 authenticator auto - True allow vlan 130 multi-host True - Ethernet12 authenticator auto - True allow vlan 130 multi-host True - Ethernet13 authenticator auto - True allow vlan 130 multi-host True - Ethernet14 authenticator auto - True allow vlan 130 multi-host True - Ethernet15 authenticator auto - True allow vlan 130 multi-host True - Ethernet16 authenticator auto - True allow vlan 130 multi-host True - Ethernet17 authenticator auto - True allow vlan 130 multi-host True - Ethernet18 authenticator auto - True allow vlan 130 multi-host True - Ethernet19 authenticator auto - True allow vlan 130 multi-host True - Ethernet20 authenticator auto - True allow vlan 130 multi-host True - Ethernet21 authenticator auto - True allow vlan 130 multi-host True - Ethernet22 authenticator auto - True allow vlan 130 multi-host True - Ethernet23 authenticator auto - True allow vlan 130 multi-host True - Ethernet24 authenticator auto - True allow vlan 130 multi-host True - Ethernet25 authenticator auto - True allow vlan 130 multi-host True - Ethernet26 authenticator auto - True allow vlan 130 multi-host True - Ethernet27 authenticator auto - True allow vlan 130 multi-host True - Ethernet28 authenticator auto - True allow vlan 130 multi-host True - Ethernet29 authenticator auto - True allow vlan 130 multi-host True - Ethernet30 authenticator auto - True allow vlan 130 multi-host True - Ethernet31 authenticator auto - True allow vlan 130 multi-host True - Ethernet32 authenticator auto - True allow vlan 130 multi-host True - Ethernet33 authenticator auto - True allow vlan 130 multi-host True - Ethernet34 authenticator auto - True allow vlan 130 multi-host True - Ethernet35 authenticator auto - True allow vlan 130 multi-host True - Ethernet36 authenticator auto - True allow vlan 130 multi-host True - Ethernet37 authenticator auto - True allow vlan 130 multi-host True - Ethernet38 authenticator auto - True allow vlan 130 multi-host True - Ethernet39 authenticator auto - True allow vlan 130 multi-host True - Ethernet40 authenticator auto - True allow vlan 130 multi-host True - Ethernet41 authenticator auto - True allow vlan 130 multi-host True - Ethernet42 authenticator auto - True allow vlan 130 multi-host True - Ethernet43 authenticator auto - True allow vlan 130 multi-host True - Ethernet44 authenticator auto - True allow vlan 130 multi-host True - Ethernet45 authenticator auto - True allow vlan 130 multi-host True - Ethernet46 authenticator auto - True allow vlan 130 multi-host True - Ethernet47 authenticator auto - True allow vlan 130 multi-host True - Ethernet48 authenticator auto - True allow vlan 130 multi-host True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/campus-fabric/documentation/devices/LEAF1A.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html","title":"LEAF1B","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>802.1X Port Security<ul> <li>802.1X Summary</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#management","title":"Management","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.104/24 172.100.100.1 Vlan10 L2LEAF_INBAND_MGMT inband default 10.10.10.7/24 10.10.10.1"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - - Vlan10 L2LEAF_INBAND_MGMT inband default - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.104/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\n   ip address 10.10.10.7/24\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ntp","title":"NTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#authentication","title":"Authentication","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#local-users","title":"Local Users","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#mlag","title":"MLAG","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link IDF1 Vlan4094 192.168.0.4 Port-Channel53 <p>Dual primary detection is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id IDF1\n   local-interface Vlan4094\n   peer-address 192.168.0.4\n   peer-link Port-Channel53\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4094</li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#vlans","title":"VLANs","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 L2LEAF_INBAND_MGMT - 110 IDF1-Data - 120 IDF1-Voice - 130 IDF1-Guest - 4094 MLAG_PEER MLAG"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name L2LEAF_INBAND_MGMT\n!\nvlan 110\n   name IDF1-Data\n!\nvlan 120\n   name IDF1-Voice\n!\nvlan 130\n   name IDF1-Guest\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#interfaces","title":"Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 IDF1 Standard Port trunk phone - 110 - - Ethernet2 IDF1 Standard Port trunk phone - 110 - - Ethernet3 IDF1 Standard Port trunk phone - 110 - - Ethernet4 IDF1 Standard Port trunk phone - 110 - - Ethernet5 IDF1 Standard Port trunk phone - 110 - - Ethernet6 IDF1 Standard Port trunk phone - 110 - - Ethernet7 IDF1 Standard Port trunk phone - 110 - - Ethernet8 IDF1 Standard Port trunk phone - 110 - - Ethernet9 IDF1 Standard Port trunk phone - 110 - - Ethernet10 IDF1 Standard Port trunk phone - 110 - - Ethernet11 IDF1 Standard Port trunk phone - 110 - - Ethernet12 IDF1 Standard Port trunk phone - 110 - - Ethernet13 IDF1 Standard Port trunk phone - 110 - - Ethernet14 IDF1 Standard Port trunk phone - 110 - - Ethernet15 IDF1 Standard Port trunk phone - 110 - - Ethernet16 IDF1 Standard Port trunk phone - 110 - - Ethernet17 IDF1 Standard Port trunk phone - 110 - - Ethernet18 IDF1 Standard Port trunk phone - 110 - - Ethernet19 IDF1 Standard Port trunk phone - 110 - - Ethernet20 IDF1 Standard Port trunk phone - 110 - - Ethernet21 IDF1 Standard Port trunk phone - 110 - - Ethernet22 IDF1 Standard Port trunk phone - 110 - - Ethernet23 IDF1 Standard Port trunk phone - 110 - - Ethernet24 IDF1 Standard Port trunk phone - 110 - - Ethernet25 IDF1 Standard Port trunk phone - 110 - - Ethernet26 IDF1 Standard Port trunk phone - 110 - - Ethernet27 IDF1 Standard Port trunk phone - 110 - - Ethernet28 IDF1 Standard Port trunk phone - 110 - - Ethernet29 IDF1 Standard Port trunk phone - 110 - - Ethernet30 IDF1 Standard Port trunk phone - 110 - - Ethernet31 IDF1 Standard Port trunk phone - 110 - - Ethernet32 IDF1 Standard Port trunk phone - 110 - - Ethernet33 IDF1 Standard Port trunk phone - 110 - - Ethernet34 IDF1 Standard Port trunk phone - 110 - - Ethernet35 IDF1 Standard Port trunk phone - 110 - - Ethernet36 IDF1 Standard Port trunk phone - 110 - - Ethernet37 IDF1 Standard Port trunk phone - 110 - - Ethernet38 IDF1 Standard Port trunk phone - 110 - - Ethernet39 IDF1 Standard Port trunk phone - 110 - - Ethernet40 IDF1 Standard Port trunk phone - 110 - - Ethernet41 IDF1 Standard Port trunk phone - 110 - - Ethernet42 IDF1 Standard Port trunk phone - 110 - - Ethernet43 IDF1 Standard Port trunk phone - 110 - - Ethernet44 IDF1 Standard Port trunk phone - 110 - - Ethernet45 IDF1 Standard Port trunk phone - 110 - - Ethernet46 IDF1 Standard Port trunk phone - 110 - - Ethernet47 IDF1 Standard Port trunk phone - 110 - - Ethernet48 IDF1 Standard Port trunk phone - 110 - - Ethernet51 SPINE2_Ethernet1 *trunk *10,110,120,130 *- *- 51 Ethernet53 MLAG_PEER_LEAF1A_Ethernet53 *trunk *2-4094 *- *[\u2018MLAG\u2019] 53 Ethernet54 MLAG_PEER_LEAF1A_Ethernet54 *trunk *2-4094 *- *[\u2018MLAG\u2019] 53 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF1 Standard Port\n   no shutdown\n   switchport trunk native vlan 110\n   switchport phone vlan 120\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 130\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description SPINE2_Ethernet1\n   no shutdown\n   channel-group 51 mode active\n!\ninterface Ethernet53\n   description MLAG_PEER_LEAF1A_Ethernet53\n   no shutdown\n   channel-group 53 mode active\n!\ninterface Ethernet54\n   description MLAG_PEER_LEAF1A_Ethernet54\n   no shutdown\n   channel-group 53 mode active\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel51 SPINES_Po1 switched trunk 10,110,120,130 - - - - 51 - Port-Channel53 MLAG_PEER_LEAF1A_Po53 switched trunk 2-4094 - [\u2018MLAG\u2019] - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel51\n   description SPINES_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,110,120,130\n   switchport mode trunk\n   mlag 51\n!\ninterface Port-Channel53\n   description MLAG_PEER_LEAF1A_Po53\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ipv4_1","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan4094 default 192.168.0.5/31 - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.5/31\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#routing","title":"Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#static-routes","title":"Static Routes","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - - default 0.0.0.0/0 10.10.10.1 - 1 - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#multicast","title":"Multicast","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#8021x-port-security","title":"802.1X Port Security","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#8021x-summary","title":"802.1X Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#8021x-interfaces","title":"802.1X Interfaces","text":"Interface PAE Mode State Phone Force Authorized Reauthentication Auth Failure Action Host Mode Mac Based Auth Eapol Ethernet1 authenticator auto - True allow vlan 130 multi-host True - Ethernet2 authenticator auto - True allow vlan 130 multi-host True - Ethernet3 authenticator auto - True allow vlan 130 multi-host True - Ethernet4 authenticator auto - True allow vlan 130 multi-host True - Ethernet5 authenticator auto - True allow vlan 130 multi-host True - Ethernet6 authenticator auto - True allow vlan 130 multi-host True - Ethernet7 authenticator auto - True allow vlan 130 multi-host True - Ethernet8 authenticator auto - True allow vlan 130 multi-host True - Ethernet9 authenticator auto - True allow vlan 130 multi-host True - Ethernet10 authenticator auto - True allow vlan 130 multi-host True - Ethernet11 authenticator auto - True allow vlan 130 multi-host True - Ethernet12 authenticator auto - True allow vlan 130 multi-host True - Ethernet13 authenticator auto - True allow vlan 130 multi-host True - Ethernet14 authenticator auto - True allow vlan 130 multi-host True - Ethernet15 authenticator auto - True allow vlan 130 multi-host True - Ethernet16 authenticator auto - True allow vlan 130 multi-host True - Ethernet17 authenticator auto - True allow vlan 130 multi-host True - Ethernet18 authenticator auto - True allow vlan 130 multi-host True - Ethernet19 authenticator auto - True allow vlan 130 multi-host True - Ethernet20 authenticator auto - True allow vlan 130 multi-host True - Ethernet21 authenticator auto - True allow vlan 130 multi-host True - Ethernet22 authenticator auto - True allow vlan 130 multi-host True - Ethernet23 authenticator auto - True allow vlan 130 multi-host True - Ethernet24 authenticator auto - True allow vlan 130 multi-host True - Ethernet25 authenticator auto - True allow vlan 130 multi-host True - Ethernet26 authenticator auto - True allow vlan 130 multi-host True - Ethernet27 authenticator auto - True allow vlan 130 multi-host True - Ethernet28 authenticator auto - True allow vlan 130 multi-host True - Ethernet29 authenticator auto - True allow vlan 130 multi-host True - Ethernet30 authenticator auto - True allow vlan 130 multi-host True - Ethernet31 authenticator auto - True allow vlan 130 multi-host True - Ethernet32 authenticator auto - True allow vlan 130 multi-host True - Ethernet33 authenticator auto - True allow vlan 130 multi-host True - Ethernet34 authenticator auto - True allow vlan 130 multi-host True - Ethernet35 authenticator auto - True allow vlan 130 multi-host True - Ethernet36 authenticator auto - True allow vlan 130 multi-host True - Ethernet37 authenticator auto - True allow vlan 130 multi-host True - Ethernet38 authenticator auto - True allow vlan 130 multi-host True - Ethernet39 authenticator auto - True allow vlan 130 multi-host True - Ethernet40 authenticator auto - True allow vlan 130 multi-host True - Ethernet41 authenticator auto - True allow vlan 130 multi-host True - Ethernet42 authenticator auto - True allow vlan 130 multi-host True - Ethernet43 authenticator auto - True allow vlan 130 multi-host True - Ethernet44 authenticator auto - True allow vlan 130 multi-host True - Ethernet45 authenticator auto - True allow vlan 130 multi-host True - Ethernet46 authenticator auto - True allow vlan 130 multi-host True - Ethernet47 authenticator auto - True allow vlan 130 multi-host True - Ethernet48 authenticator auto - True allow vlan 130 multi-host True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/campus-fabric/documentation/devices/LEAF1B.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html","title":"LEAF2A","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authorization</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>802.1X Port Security<ul> <li>802.1X Summary</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#management","title":"Management","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.105/24 172.100.100.1 Vlan10 L2LEAF_INBAND_MGMT inband default 10.10.10.8/24 10.10.10.1"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - - Vlan10 L2LEAF_INBAND_MGMT inband default - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.105/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\n   ip address 10.10.10.8/24\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ntp","title":"NTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#authentication","title":"Authentication","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#local-users","title":"Local Users","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#vlans","title":"VLANs","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 L2LEAF_INBAND_MGMT - 210 IDF2-Data - 220 IDF2-Voice - 230 IDF2-Guest -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name L2LEAF_INBAND_MGMT\n!\nvlan 210\n   name IDF2-Data\n!\nvlan 220\n   name IDF2-Voice\n!\nvlan 230\n   name IDF2-Guest\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#interfaces","title":"Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1/1 SPINE1_Ethernet49/1 *trunk *10,210,220,230 *- *- 11 Ethernet1/3 SPINE2_Ethernet49/1 *trunk *10,210,220,230 *- *- 11 Ethernet3/1 IDF2 Standard Port trunk phone - 210 - - Ethernet3/2 IDF2 Standard Port trunk phone - 210 - - Ethernet3/3 IDF2 Standard Port trunk phone - 210 - - Ethernet3/4 IDF2 Standard Port trunk phone - 210 - - Ethernet3/5 IDF2 Standard Port trunk phone - 210 - - Ethernet3/6 IDF2 Standard Port trunk phone - 210 - - Ethernet3/7 IDF2 Standard Port trunk phone - 210 - - Ethernet3/8 IDF2 Standard Port trunk phone - 210 - - Ethernet3/9 IDF2 Standard Port trunk phone - 210 - - Ethernet3/10 IDF2 Standard Port trunk phone - 210 - - Ethernet3/11 IDF2 Standard Port trunk phone - 210 - - Ethernet3/12 IDF2 Standard Port trunk phone - 210 - - Ethernet3/13 IDF2 Standard Port trunk phone - 210 - - Ethernet3/14 IDF2 Standard Port trunk phone - 210 - - Ethernet3/15 IDF2 Standard Port trunk phone - 210 - - Ethernet3/16 IDF2 Standard Port trunk phone - 210 - - Ethernet3/17 IDF2 Standard Port trunk phone - 210 - - Ethernet3/18 IDF2 Standard Port trunk phone - 210 - - Ethernet3/19 IDF2 Standard Port trunk phone - 210 - - Ethernet3/20 IDF2 Standard Port trunk phone - 210 - - Ethernet3/21 IDF2 Standard Port trunk phone - 210 - - Ethernet3/22 IDF2 Standard Port trunk phone - 210 - - Ethernet3/23 IDF2 Standard Port trunk phone - 210 - - Ethernet3/24 IDF2 Standard Port trunk phone - 210 - - Ethernet3/25 IDF2 Standard Port trunk phone - 210 - - Ethernet3/26 IDF2 Standard Port trunk phone - 210 - - Ethernet3/27 IDF2 Standard Port trunk phone - 210 - - Ethernet3/28 IDF2 Standard Port trunk phone - 210 - - Ethernet3/29 IDF2 Standard Port trunk phone - 210 - - Ethernet3/30 IDF2 Standard Port trunk phone - 210 - - Ethernet3/31 IDF2 Standard Port trunk phone - 210 - - Ethernet3/32 IDF2 Standard Port trunk phone - 210 - - Ethernet3/33 IDF2 Standard Port trunk phone - 210 - - Ethernet3/34 IDF2 Standard Port trunk phone - 210 - - Ethernet3/35 IDF2 Standard Port trunk phone - 210 - - Ethernet3/36 IDF2 Standard Port trunk phone - 210 - - Ethernet3/37 IDF2 Standard Port trunk phone - 210 - - Ethernet3/38 IDF2 Standard Port trunk phone - 210 - - Ethernet3/39 IDF2 Standard Port trunk phone - 210 - - Ethernet3/40 IDF2 Standard Port trunk phone - 210 - - Ethernet3/41 IDF2 Standard Port trunk phone - 210 - - Ethernet3/42 IDF2 Standard Port trunk phone - 210 - - Ethernet3/43 IDF2 Standard Port trunk phone - 210 - - Ethernet3/44 IDF2 Standard Port trunk phone - 210 - - Ethernet3/45 IDF2 Standard Port trunk phone - 210 - - Ethernet3/46 IDF2 Standard Port trunk phone - 210 - - Ethernet3/47 IDF2 Standard Port trunk phone - 210 - - Ethernet3/48 IDF2 Standard Port trunk phone - 210 - - Ethernet4/1 IDF2 Standard Port trunk phone - 210 - - Ethernet4/2 IDF2 Standard Port trunk phone - 210 - - Ethernet4/3 IDF2 Standard Port trunk phone - 210 - - Ethernet4/4 IDF2 Standard Port trunk phone - 210 - - Ethernet4/5 IDF2 Standard Port trunk phone - 210 - - Ethernet4/6 IDF2 Standard Port trunk phone - 210 - - Ethernet4/7 IDF2 Standard Port trunk phone - 210 - - Ethernet4/8 IDF2 Standard Port trunk phone - 210 - - Ethernet4/9 IDF2 Standard Port trunk phone - 210 - - Ethernet4/10 IDF2 Standard Port trunk phone - 210 - - Ethernet4/11 IDF2 Standard Port trunk phone - 210 - - Ethernet4/12 IDF2 Standard Port trunk phone - 210 - - Ethernet4/13 IDF2 Standard Port trunk phone - 210 - - Ethernet4/14 IDF2 Standard Port trunk phone - 210 - - Ethernet4/15 IDF2 Standard Port trunk phone - 210 - - Ethernet4/16 IDF2 Standard Port trunk phone - 210 - - Ethernet4/17 IDF2 Standard Port trunk phone - 210 - - Ethernet4/18 IDF2 Standard Port trunk phone - 210 - - Ethernet4/19 IDF2 Standard Port trunk phone - 210 - - Ethernet4/20 IDF2 Standard Port trunk phone - 210 - - Ethernet4/21 IDF2 Standard Port trunk phone - 210 - - Ethernet4/22 IDF2 Standard Port trunk phone - 210 - - Ethernet4/23 IDF2 Standard Port trunk phone - 210 - - Ethernet4/24 IDF2 Standard Port trunk phone - 210 - - Ethernet4/25 IDF2 Standard Port trunk phone - 210 - - Ethernet4/26 IDF2 Standard Port trunk phone - 210 - - Ethernet4/27 IDF2 Standard Port trunk phone - 210 - - Ethernet4/28 IDF2 Standard Port trunk phone - 210 - - Ethernet4/29 IDF2 Standard Port trunk phone - 210 - - Ethernet4/30 IDF2 Standard Port trunk phone - 210 - - Ethernet4/31 IDF2 Standard Port trunk phone - 210 - - Ethernet4/32 IDF2 Standard Port trunk phone - 210 - - Ethernet4/33 IDF2 Standard Port trunk phone - 210 - - Ethernet4/34 IDF2 Standard Port trunk phone - 210 - - Ethernet4/35 IDF2 Standard Port trunk phone - 210 - - Ethernet4/36 IDF2 Standard Port trunk phone - 210 - - Ethernet4/37 IDF2 Standard Port trunk phone - 210 - - Ethernet4/38 IDF2 Standard Port trunk phone - 210 - - Ethernet4/39 IDF2 Standard Port trunk phone - 210 - - Ethernet4/40 IDF2 Standard Port trunk phone - 210 - - Ethernet4/41 IDF2 Standard Port trunk phone - 210 - - Ethernet4/42 IDF2 Standard Port trunk phone - 210 - - Ethernet4/43 IDF2 Standard Port trunk phone - 210 - - Ethernet4/44 IDF2 Standard Port trunk phone - 210 - - Ethernet4/45 IDF2 Standard Port trunk phone - 210 - - Ethernet4/46 IDF2 Standard Port trunk phone - 210 - - Ethernet4/47 IDF2 Standard Port trunk phone - 210 - - Ethernet4/48 IDF2 Standard Port trunk phone - 210 - - Ethernet5/1 IDF2 Standard Port trunk phone - 210 - - Ethernet5/2 IDF2 Standard Port trunk phone - 210 - - Ethernet5/3 IDF2 Standard Port trunk phone - 210 - - Ethernet5/4 IDF2 Standard Port trunk phone - 210 - - Ethernet5/5 IDF2 Standard Port trunk phone - 210 - - Ethernet5/6 IDF2 Standard Port trunk phone - 210 - - Ethernet5/7 IDF2 Standard Port trunk phone - 210 - - Ethernet5/8 IDF2 Standard Port trunk phone - 210 - - Ethernet5/9 IDF2 Standard Port trunk phone - 210 - - Ethernet5/10 IDF2 Standard Port trunk phone - 210 - - Ethernet5/11 IDF2 Standard Port trunk phone - 210 - - Ethernet5/12 IDF2 Standard Port trunk phone - 210 - - Ethernet5/13 IDF2 Standard Port trunk phone - 210 - - Ethernet5/14 IDF2 Standard Port trunk phone - 210 - - Ethernet5/15 IDF2 Standard Port trunk phone - 210 - - Ethernet5/16 IDF2 Standard Port trunk phone - 210 - - Ethernet5/17 IDF2 Standard Port trunk phone - 210 - - Ethernet5/18 IDF2 Standard Port trunk phone - 210 - - Ethernet5/19 IDF2 Standard Port trunk phone - 210 - - Ethernet5/20 IDF2 Standard Port trunk phone - 210 - - Ethernet5/21 IDF2 Standard Port trunk phone - 210 - - Ethernet5/22 IDF2 Standard Port trunk phone - 210 - - Ethernet5/23 IDF2 Standard Port trunk phone - 210 - - Ethernet5/24 IDF2 Standard Port trunk phone - 210 - - Ethernet5/25 IDF2 Standard Port trunk phone - 210 - - Ethernet5/26 IDF2 Standard Port trunk phone - 210 - - Ethernet5/27 IDF2 Standard Port trunk phone - 210 - - Ethernet5/28 IDF2 Standard Port trunk phone - 210 - - Ethernet5/29 IDF2 Standard Port trunk phone - 210 - - Ethernet5/30 IDF2 Standard Port trunk phone - 210 - - Ethernet5/31 IDF2 Standard Port trunk phone - 210 - - Ethernet5/32 IDF2 Standard Port trunk phone - 210 - - Ethernet5/33 IDF2 Standard Port trunk phone - 210 - - Ethernet5/34 IDF2 Standard Port trunk phone - 210 - - Ethernet5/35 IDF2 Standard Port trunk phone - 210 - - Ethernet5/36 IDF2 Standard Port trunk phone - 210 - - Ethernet5/37 IDF2 Standard Port trunk phone - 210 - - Ethernet5/38 IDF2 Standard Port trunk phone - 210 - - Ethernet5/39 IDF2 Standard Port trunk phone - 210 - - Ethernet5/40 IDF2 Standard Port trunk phone - 210 - - Ethernet5/41 IDF2 Standard Port trunk phone - 210 - - Ethernet5/42 IDF2 Standard Port trunk phone - 210 - - Ethernet5/43 IDF2 Standard Port trunk phone - 210 - - Ethernet5/44 IDF2 Standard Port trunk phone - 210 - - Ethernet5/45 IDF2 Standard Port trunk phone - 210 - - Ethernet5/46 IDF2 Standard Port trunk phone - 210 - - Ethernet5/47 IDF2 Standard Port trunk phone - 210 - - Ethernet5/48 IDF2 Standard Port trunk phone - 210 - - Ethernet6/1 IDF2 Standard Port trunk phone - 210 - - Ethernet6/2 IDF2 Standard Port trunk phone - 210 - - Ethernet6/3 IDF2 Standard Port trunk phone - 210 - - Ethernet6/4 IDF2 Standard Port trunk phone - 210 - - Ethernet6/5 IDF2 Standard Port trunk phone - 210 - - Ethernet6/6 IDF2 Standard Port trunk phone - 210 - - Ethernet6/7 IDF2 Standard Port trunk phone - 210 - - Ethernet6/8 IDF2 Standard Port trunk phone - 210 - - Ethernet6/9 IDF2 Standard Port trunk phone - 210 - - Ethernet6/10 IDF2 Standard Port trunk phone - 210 - - Ethernet6/11 IDF2 Standard Port trunk phone - 210 - - Ethernet6/12 IDF2 Standard Port trunk phone - 210 - - Ethernet6/13 IDF2 Standard Port trunk phone - 210 - - Ethernet6/14 IDF2 Standard Port trunk phone - 210 - - Ethernet6/15 IDF2 Standard Port trunk phone - 210 - - Ethernet6/16 IDF2 Standard Port trunk phone - 210 - - Ethernet6/17 IDF2 Standard Port trunk phone - 210 - - Ethernet6/18 IDF2 Standard Port trunk phone - 210 - - Ethernet6/19 IDF2 Standard Port trunk phone - 210 - - Ethernet6/20 IDF2 Standard Port trunk phone - 210 - - Ethernet6/21 IDF2 Standard Port trunk phone - 210 - - Ethernet6/22 IDF2 Standard Port trunk phone - 210 - - Ethernet6/23 IDF2 Standard Port trunk phone - 210 - - Ethernet6/24 IDF2 Standard Port trunk phone - 210 - - Ethernet6/25 IDF2 Standard Port trunk phone - 210 - - Ethernet6/26 IDF2 Standard Port trunk phone - 210 - - Ethernet6/27 IDF2 Standard Port trunk phone - 210 - - Ethernet6/28 IDF2 Standard Port trunk phone - 210 - - Ethernet6/29 IDF2 Standard Port trunk phone - 210 - - Ethernet6/30 IDF2 Standard Port trunk phone - 210 - - Ethernet6/31 IDF2 Standard Port trunk phone - 210 - - Ethernet6/32 IDF2 Standard Port trunk phone - 210 - - Ethernet6/33 IDF2 Standard Port trunk phone - 210 - - Ethernet6/34 IDF2 Standard Port trunk phone - 210 - - Ethernet6/35 IDF2 Standard Port trunk phone - 210 - - Ethernet6/36 IDF2 Standard Port trunk phone - 210 - - Ethernet6/37 IDF2 Standard Port trunk phone - 210 - - Ethernet6/38 IDF2 Standard Port trunk phone - 210 - - Ethernet6/39 IDF2 Standard Port trunk phone - 210 - - Ethernet6/40 IDF2 Standard Port trunk phone - 210 - - Ethernet6/41 IDF2 Standard Port trunk phone - 210 - - Ethernet6/42 IDF2 Standard Port trunk phone - 210 - - Ethernet6/43 IDF2 Standard Port trunk phone - 210 - - Ethernet6/44 IDF2 Standard Port trunk phone - 210 - - Ethernet6/45 IDF2 Standard Port trunk phone - 210 - - Ethernet6/46 IDF2 Standard Port trunk phone - 210 - - Ethernet6/47 IDF2 Standard Port trunk phone - 210 - - Ethernet6/48 IDF2 Standard Port trunk phone - 210 - - Ethernet7/1 IDF2 Standard Port trunk phone - 210 - - Ethernet7/2 IDF2 Standard Port trunk phone - 210 - - Ethernet7/3 IDF2 Standard Port trunk phone - 210 - - Ethernet7/4 IDF2 Standard Port trunk phone - 210 - - Ethernet7/5 IDF2 Standard Port trunk phone - 210 - - Ethernet7/6 IDF2 Standard Port trunk phone - 210 - - Ethernet7/7 IDF2 Standard Port trunk phone - 210 - - Ethernet7/8 IDF2 Standard Port trunk phone - 210 - - Ethernet7/9 IDF2 Standard Port trunk phone - 210 - - Ethernet7/10 IDF2 Standard Port trunk phone - 210 - - Ethernet7/11 IDF2 Standard Port trunk phone - 210 - - Ethernet7/12 IDF2 Standard Port trunk phone - 210 - - Ethernet7/13 IDF2 Standard Port trunk phone - 210 - - Ethernet7/14 IDF2 Standard Port trunk phone - 210 - - Ethernet7/15 IDF2 Standard Port trunk phone - 210 - - Ethernet7/16 IDF2 Standard Port trunk phone - 210 - - Ethernet7/17 IDF2 Standard Port trunk phone - 210 - - Ethernet7/18 IDF2 Standard Port trunk phone - 210 - - Ethernet7/19 IDF2 Standard Port trunk phone - 210 - - Ethernet7/20 IDF2 Standard Port trunk phone - 210 - - Ethernet7/21 IDF2 Standard Port trunk phone - 210 - - Ethernet7/22 IDF2 Standard Port trunk phone - 210 - - Ethernet7/23 IDF2 Standard Port trunk phone - 210 - - Ethernet7/24 IDF2 Standard Port trunk phone - 210 - - Ethernet7/25 IDF2 Standard Port trunk phone - 210 - - Ethernet7/26 IDF2 Standard Port trunk phone - 210 - - Ethernet7/27 IDF2 Standard Port trunk phone - 210 - - Ethernet7/28 IDF2 Standard Port trunk phone - 210 - - Ethernet7/29 IDF2 Standard Port trunk phone - 210 - - Ethernet7/30 IDF2 Standard Port trunk phone - 210 - - Ethernet7/31 IDF2 Standard Port trunk phone - 210 - - Ethernet7/32 IDF2 Standard Port trunk phone - 210 - - Ethernet7/33 IDF2 Standard Port trunk phone - 210 - - Ethernet7/34 IDF2 Standard Port trunk phone - 210 - - Ethernet7/35 IDF2 Standard Port trunk phone - 210 - - Ethernet7/36 IDF2 Standard Port trunk phone - 210 - - Ethernet7/37 IDF2 Standard Port trunk phone - 210 - - Ethernet7/38 IDF2 Standard Port trunk phone - 210 - - Ethernet7/39 IDF2 Standard Port trunk phone - 210 - - Ethernet7/40 IDF2 Standard Port trunk phone - 210 - - Ethernet7/41 IDF2 Standard Port trunk phone - 210 - - Ethernet7/42 IDF2 Standard Port trunk phone - 210 - - Ethernet7/43 IDF2 Standard Port trunk phone - 210 - - Ethernet7/44 IDF2 Standard Port trunk phone - 210 - - Ethernet7/45 IDF2 Standard Port trunk phone - 210 - - Ethernet7/46 IDF2 Standard Port trunk phone - 210 - - Ethernet7/47 IDF2 Standard Port trunk phone - 210 - - Ethernet7/48 IDF2 Standard Port trunk phone - 210 - - <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1/1\n   description SPINE1_Ethernet49/1\n   no shutdown\n   channel-group 11 mode active\n!\ninterface Ethernet1/3\n   description SPINE2_Ethernet49/1\n   no shutdown\n   channel-group 11 mode active\n!\ninterface Ethernet3/1\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/2\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/3\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/4\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/5\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/6\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/7\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/8\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/9\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/10\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/11\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/12\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/13\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/14\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/15\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/16\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/17\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/18\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/19\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/20\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/21\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/22\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/23\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/24\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/25\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/26\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/27\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/28\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/29\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/30\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/31\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/32\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/33\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/34\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/35\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/36\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/37\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/38\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/39\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/40\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/41\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/42\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/43\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/44\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/45\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/46\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/47\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3/48\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/1\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/2\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/3\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/4\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/5\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/6\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/7\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/8\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/9\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/10\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/11\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/12\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/13\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/14\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/15\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/16\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/17\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/18\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/19\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/20\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/21\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/22\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/23\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/24\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/25\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/26\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/27\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/28\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/29\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/30\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/31\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/32\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/33\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/34\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/35\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/36\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/37\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/38\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/39\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/40\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/41\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/42\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/43\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/44\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/45\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/46\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/47\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4/48\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/1\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/2\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/3\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/4\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/5\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/6\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/7\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/8\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/9\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/10\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/11\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/12\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/13\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/14\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/15\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/16\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/17\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/18\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/19\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/20\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/21\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/22\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/23\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/24\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/25\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/26\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/27\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/28\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/29\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/30\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/31\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/32\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/33\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/34\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/35\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/36\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/37\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/38\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/39\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/40\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/41\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/42\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/43\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/44\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/45\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/46\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/47\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5/48\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/1\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/2\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/3\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/4\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/5\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/6\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/7\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/8\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/9\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/10\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/11\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/12\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/13\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/14\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/15\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/16\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/17\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/18\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/19\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/20\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/21\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/22\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/23\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/24\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/25\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/26\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/27\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/28\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/29\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/30\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/31\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/32\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/33\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/34\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/35\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/36\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/37\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/38\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/39\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/40\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/41\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/42\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/43\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/44\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/45\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/46\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/47\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6/48\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/1\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/2\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/3\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/4\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/5\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/6\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/7\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/8\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/9\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/10\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/11\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/12\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/13\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/14\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/15\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/16\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/17\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/18\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/19\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/20\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/21\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/22\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/23\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/24\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/25\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/26\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/27\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/28\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/29\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/30\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/31\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/32\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/33\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/34\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/35\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/36\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/37\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/38\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/39\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/40\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/41\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/42\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/43\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/44\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/45\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/46\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/47\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7/48\n   description IDF2 Standard Port\n   no shutdown\n   switchport trunk native vlan 210\n   switchport phone vlan 220\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 230\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel11 SPINES_Po491 switched trunk 10,210,220,230 - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel11\n   description SPINES_Po491\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,210,220,230\n   switchport mode trunk\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#routing","title":"Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#static-routes","title":"Static Routes","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - - default 0.0.0.0/0 10.10.10.1 - 1 - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#multicast","title":"Multicast","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#8021x-port-security","title":"802.1X Port Security","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#8021x-summary","title":"802.1X Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#8021x-interfaces","title":"802.1X Interfaces","text":"Interface PAE Mode State Phone Force Authorized Reauthentication Auth Failure Action Host Mode Mac Based Auth Eapol Ethernet3/1 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/2 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/3 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/4 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/5 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/6 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/7 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/8 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/9 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/10 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/11 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/12 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/13 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/14 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/15 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/16 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/17 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/18 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/19 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/20 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/21 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/22 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/23 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/24 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/25 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/26 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/27 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/28 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/29 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/30 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/31 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/32 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/33 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/34 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/35 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/36 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/37 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/38 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/39 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/40 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/41 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/42 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/43 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/44 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/45 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/46 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/47 authenticator auto - True allow vlan 230 multi-host True - Ethernet3/48 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/1 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/2 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/3 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/4 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/5 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/6 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/7 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/8 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/9 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/10 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/11 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/12 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/13 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/14 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/15 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/16 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/17 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/18 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/19 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/20 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/21 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/22 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/23 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/24 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/25 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/26 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/27 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/28 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/29 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/30 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/31 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/32 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/33 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/34 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/35 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/36 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/37 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/38 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/39 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/40 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/41 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/42 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/43 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/44 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/45 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/46 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/47 authenticator auto - True allow vlan 230 multi-host True - Ethernet4/48 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/1 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/2 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/3 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/4 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/5 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/6 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/7 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/8 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/9 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/10 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/11 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/12 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/13 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/14 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/15 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/16 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/17 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/18 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/19 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/20 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/21 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/22 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/23 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/24 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/25 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/26 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/27 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/28 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/29 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/30 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/31 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/32 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/33 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/34 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/35 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/36 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/37 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/38 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/39 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/40 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/41 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/42 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/43 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/44 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/45 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/46 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/47 authenticator auto - True allow vlan 230 multi-host True - Ethernet5/48 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/1 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/2 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/3 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/4 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/5 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/6 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/7 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/8 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/9 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/10 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/11 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/12 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/13 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/14 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/15 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/16 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/17 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/18 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/19 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/20 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/21 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/22 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/23 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/24 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/25 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/26 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/27 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/28 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/29 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/30 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/31 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/32 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/33 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/34 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/35 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/36 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/37 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/38 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/39 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/40 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/41 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/42 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/43 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/44 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/45 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/46 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/47 authenticator auto - True allow vlan 230 multi-host True - Ethernet6/48 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/1 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/2 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/3 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/4 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/5 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/6 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/7 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/8 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/9 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/10 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/11 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/12 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/13 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/14 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/15 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/16 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/17 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/18 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/19 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/20 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/21 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/22 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/23 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/24 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/25 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/26 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/27 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/28 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/29 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/30 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/31 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/32 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/33 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/34 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/35 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/36 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/37 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/38 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/39 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/40 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/41 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/42 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/43 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/44 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/45 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/46 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/47 authenticator auto - True allow vlan 230 multi-host True - Ethernet7/48 authenticator auto - True allow vlan 230 multi-host True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/campus-fabric/documentation/devices/LEAF2A.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html","title":"LEAF3A","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>802.1X Port Security<ul> <li>802.1X Summary</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#management","title":"Management","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.106/24 172.100.100.1 Vlan10 L2LEAF_INBAND_MGMT inband default 10.10.10.9/24 10.10.10.1"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - - Vlan10 L2LEAF_INBAND_MGMT inband default - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.106/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\n   ip address 10.10.10.9/24\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ntp","title":"NTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#authentication","title":"Authentication","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#local-users","title":"Local Users","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#mlag","title":"MLAG","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link IDF3_AGG Vlan4094 192.168.0.11 Port-Channel983 <p>Dual primary detection is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id IDF3_AGG\n   local-interface Vlan4094\n   peer-address 192.168.0.11\n   peer-link Port-Channel983\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4094</li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#vlans","title":"VLANs","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 L2LEAF_INBAND_MGMT - 310 IDF3-Data - 320 IDF3-Voice - 330 IDF3-Guest - 4094 MLAG_PEER MLAG"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name L2LEAF_INBAND_MGMT\n!\nvlan 310\n   name IDF3-Data\n!\nvlan 320\n   name IDF3-Voice\n!\nvlan 330\n   name IDF3-Guest\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#interfaces","title":"Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 IDF3 Standard Port trunk phone - 310 - - Ethernet2 IDF3 Standard Port trunk phone - 310 - - Ethernet3 IDF3 Standard Port trunk phone - 310 - - Ethernet4 IDF3 Standard Port trunk phone - 310 - - Ethernet5 IDF3 Standard Port trunk phone - 310 - - Ethernet6 IDF3 Standard Port trunk phone - 310 - - Ethernet7 IDF3 Standard Port trunk phone - 310 - - Ethernet8 IDF3 Standard Port trunk phone - 310 - - Ethernet9 IDF3 Standard Port trunk phone - 310 - - Ethernet10 IDF3 Standard Port trunk phone - 310 - - Ethernet11 IDF3 Standard Port trunk phone - 310 - - Ethernet12 IDF3 Standard Port trunk phone - 310 - - Ethernet13 IDF3 Standard Port trunk phone - 310 - - Ethernet14 IDF3 Standard Port trunk phone - 310 - - Ethernet15 IDF3 Standard Port trunk phone - 310 - - Ethernet16 IDF3 Standard Port trunk phone - 310 - - Ethernet17 IDF3 Standard Port trunk phone - 310 - - Ethernet18 IDF3 Standard Port trunk phone - 310 - - Ethernet19 IDF3 Standard Port trunk phone - 310 - - Ethernet20 IDF3 Standard Port trunk phone - 310 - - Ethernet21 IDF3 Standard Port trunk phone - 310 - - Ethernet22 IDF3 Standard Port trunk phone - 310 - - Ethernet23 IDF3 Standard Port trunk phone - 310 - - Ethernet24 IDF3 Standard Port trunk phone - 310 - - Ethernet25 IDF3 Standard Port trunk phone - 310 - - Ethernet26 IDF3 Standard Port trunk phone - 310 - - Ethernet27 IDF3 Standard Port trunk phone - 310 - - Ethernet28 IDF3 Standard Port trunk phone - 310 - - Ethernet29 IDF3 Standard Port trunk phone - 310 - - Ethernet30 IDF3 Standard Port trunk phone - 310 - - Ethernet31 IDF3 Standard Port trunk phone - 310 - - Ethernet32 IDF3 Standard Port trunk phone - 310 - - Ethernet33 IDF3 Standard Port trunk phone - 310 - - Ethernet34 IDF3 Standard Port trunk phone - 310 - - Ethernet35 IDF3 Standard Port trunk phone - 310 - - Ethernet36 IDF3 Standard Port trunk phone - 310 - - Ethernet37 IDF3 Standard Port trunk phone - 310 - - Ethernet38 IDF3 Standard Port trunk phone - 310 - - Ethernet39 IDF3 Standard Port trunk phone - 310 - - Ethernet40 IDF3 Standard Port trunk phone - 310 - - Ethernet41 IDF3 Standard Port trunk phone - 310 - - Ethernet42 IDF3 Standard Port trunk phone - 310 - - Ethernet43 IDF3 Standard Port trunk phone - 310 - - Ethernet44 IDF3 Standard Port trunk phone - 310 - - Ethernet45 IDF3 Standard Port trunk phone - 310 - - Ethernet46 IDF3 Standard Port trunk phone - 310 - - Ethernet47 IDF3 Standard Port trunk phone - 310 - - Ethernet48 IDF3 Standard Port trunk phone - 310 - - Ethernet49 IDF3 Standard Port trunk phone - 310 - - Ethernet50 IDF3 Standard Port trunk phone - 310 - - Ethernet51 IDF3 Standard Port trunk phone - 310 - - Ethernet52 IDF3 Standard Port trunk phone - 310 - - Ethernet53 IDF3 Standard Port trunk phone - 310 - - Ethernet54 IDF3 Standard Port trunk phone - 310 - - Ethernet55 IDF3 Standard Port trunk phone - 310 - - Ethernet56 IDF3 Standard Port trunk phone - 310 - - Ethernet57 IDF3 Standard Port trunk phone - 310 - - Ethernet58 IDF3 Standard Port trunk phone - 310 - - Ethernet59 IDF3 Standard Port trunk phone - 310 - - Ethernet60 IDF3 Standard Port trunk phone - 310 - - Ethernet61 IDF3 Standard Port trunk phone - 310 - - Ethernet62 IDF3 Standard Port trunk phone - 310 - - Ethernet63 IDF3 Standard Port trunk phone - 310 - - Ethernet64 IDF3 Standard Port trunk phone - 310 - - Ethernet65 IDF3 Standard Port trunk phone - 310 - - Ethernet66 IDF3 Standard Port trunk phone - 310 - - Ethernet67 IDF3 Standard Port trunk phone - 310 - - Ethernet68 IDF3 Standard Port trunk phone - 310 - - Ethernet69 IDF3 Standard Port trunk phone - 310 - - Ethernet70 IDF3 Standard Port trunk phone - 310 - - Ethernet71 IDF3 Standard Port trunk phone - 310 - - Ethernet72 IDF3 Standard Port trunk phone - 310 - - Ethernet73 IDF3 Standard Port trunk phone - 310 - - Ethernet74 IDF3 Standard Port trunk phone - 310 - - Ethernet75 IDF3 Standard Port trunk phone - 310 - - Ethernet76 IDF3 Standard Port trunk phone - 310 - - Ethernet77 IDF3 Standard Port trunk phone - 310 - - Ethernet78 IDF3 Standard Port trunk phone - 310 - - Ethernet79 IDF3 Standard Port trunk phone - 310 - - Ethernet80 IDF3 Standard Port trunk phone - 310 - - Ethernet81 IDF3 Standard Port trunk phone - 310 - - Ethernet82 IDF3 Standard Port trunk phone - 310 - - Ethernet83 IDF3 Standard Port trunk phone - 310 - - Ethernet84 IDF3 Standard Port trunk phone - 310 - - Ethernet85 IDF3 Standard Port trunk phone - 310 - - Ethernet86 IDF3 Standard Port trunk phone - 310 - - Ethernet87 IDF3 Standard Port trunk phone - 310 - - Ethernet88 IDF3 Standard Port trunk phone - 310 - - Ethernet89 IDF3 Standard Port trunk phone - 310 - - Ethernet90 IDF3 Standard Port trunk phone - 310 - - Ethernet91 IDF3 Standard Port trunk phone - 310 - - Ethernet92 IDF3 Standard Port trunk phone - 310 - - Ethernet93 IDF3 Standard Port trunk phone - 310 - - Ethernet94 IDF3 Standard Port trunk phone - 310 - - Ethernet95 IDF3 Standard Port trunk phone - 310 - - Ethernet96 IDF3 Standard Port trunk phone - 310 - - Ethernet97/1 SPINE1_Ethernet50/1 *trunk *10,310,320,330 *- *- 971 Ethernet97/2 SPINE2_Ethernet50/1 *trunk *10,310,320,330 *- *- 971 Ethernet97/3 LEAF3C_Ethernet97/1 *trunk *10,310,320,330 *- *- 973 Ethernet97/4 LEAF3D_Ethernet97/1 *trunk *10,310,320,330 *- *- 974 Ethernet98/1 LEAF3E_Ethernet97/1 *trunk *10,310,320,330 *- *- 981 Ethernet98/3 MLAG_PEER_LEAF3B_Ethernet98/3 *trunk *2-4094 *- *[\u2018MLAG\u2019] 983 Ethernet98/4 MLAG_PEER_LEAF3B_Ethernet98/4 *trunk *2-4094 *- *[\u2018MLAG\u2019] 983 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet49\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet50\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet52\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet53\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet54\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet55\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet56\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet57\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet58\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet59\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet60\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet61\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet62\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet63\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet64\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet65\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet66\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet67\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet68\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet69\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet70\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet71\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet72\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet73\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet74\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet75\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet76\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet77\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet78\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet79\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet80\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet81\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet82\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet83\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet84\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet85\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet86\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet87\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet88\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet89\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet90\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet91\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet92\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet93\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet94\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet95\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet96\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet97/1\n   description SPINE1_Ethernet50/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/2\n   description SPINE2_Ethernet50/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/3\n   description LEAF3C_Ethernet97/1\n   no shutdown\n   channel-group 973 mode active\n!\ninterface Ethernet97/4\n   description LEAF3D_Ethernet97/1\n   no shutdown\n   channel-group 974 mode active\n!\ninterface Ethernet98/1\n   description LEAF3E_Ethernet97/1\n   no shutdown\n   channel-group 981 mode active\n!\ninterface Ethernet98/3\n   description MLAG_PEER_LEAF3B_Ethernet98/3\n   no shutdown\n   channel-group 983 mode active\n!\ninterface Ethernet98/4\n   description MLAG_PEER_LEAF3B_Ethernet98/4\n   no shutdown\n   channel-group 983 mode active\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel971 SPINES_Po501 switched trunk 10,310,320,330 - - - - 971 - Port-Channel973 LEAF3C_Po971 switched trunk 10,310,320,330 - - - - 973 - Port-Channel974 LEAF3D_Po971 switched trunk 10,310,320,330 - - - - 974 - Port-Channel981 LEAF3E_Po971 switched trunk 10,310,320,330 - - - - 981 - Port-Channel983 MLAG_PEER_LEAF3B_Po983 switched trunk 2-4094 - [\u2018MLAG\u2019] - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel971\n   description SPINES_Po501\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 971\n!\ninterface Port-Channel973\n   description LEAF3C_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 973\n!\ninterface Port-Channel974\n   description LEAF3D_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 974\n!\ninterface Port-Channel981\n   description LEAF3E_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 981\n!\ninterface Port-Channel983\n   description MLAG_PEER_LEAF3B_Po983\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ipv4_1","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan4094 default 192.168.0.10/31 - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.10/31\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#routing","title":"Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#static-routes","title":"Static Routes","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - - default 0.0.0.0/0 10.10.10.1 - 1 - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#multicast","title":"Multicast","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#8021x-port-security","title":"802.1X Port Security","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#8021x-summary","title":"802.1X Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#8021x-interfaces","title":"802.1X Interfaces","text":"Interface PAE Mode State Phone Force Authorized Reauthentication Auth Failure Action Host Mode Mac Based Auth Eapol Ethernet1 authenticator auto - True allow vlan 330 multi-host True - Ethernet2 authenticator auto - True allow vlan 330 multi-host True - Ethernet3 authenticator auto - True allow vlan 330 multi-host True - Ethernet4 authenticator auto - True allow vlan 330 multi-host True - Ethernet5 authenticator auto - True allow vlan 330 multi-host True - Ethernet6 authenticator auto - True allow vlan 330 multi-host True - Ethernet7 authenticator auto - True allow vlan 330 multi-host True - Ethernet8 authenticator auto - True allow vlan 330 multi-host True - Ethernet9 authenticator auto - True allow vlan 330 multi-host True - Ethernet10 authenticator auto - True allow vlan 330 multi-host True - Ethernet11 authenticator auto - True allow vlan 330 multi-host True - Ethernet12 authenticator auto - True allow vlan 330 multi-host True - Ethernet13 authenticator auto - True allow vlan 330 multi-host True - Ethernet14 authenticator auto - True allow vlan 330 multi-host True - Ethernet15 authenticator auto - True allow vlan 330 multi-host True - Ethernet16 authenticator auto - True allow vlan 330 multi-host True - Ethernet17 authenticator auto - True allow vlan 330 multi-host True - Ethernet18 authenticator auto - True allow vlan 330 multi-host True - Ethernet19 authenticator auto - True allow vlan 330 multi-host True - Ethernet20 authenticator auto - True allow vlan 330 multi-host True - Ethernet21 authenticator auto - True allow vlan 330 multi-host True - Ethernet22 authenticator auto - True allow vlan 330 multi-host True - Ethernet23 authenticator auto - True allow vlan 330 multi-host True - Ethernet24 authenticator auto - True allow vlan 330 multi-host True - Ethernet25 authenticator auto - True allow vlan 330 multi-host True - Ethernet26 authenticator auto - True allow vlan 330 multi-host True - Ethernet27 authenticator auto - True allow vlan 330 multi-host True - Ethernet28 authenticator auto - True allow vlan 330 multi-host True - Ethernet29 authenticator auto - True allow vlan 330 multi-host True - Ethernet30 authenticator auto - True allow vlan 330 multi-host True - Ethernet31 authenticator auto - True allow vlan 330 multi-host True - Ethernet32 authenticator auto - True allow vlan 330 multi-host True - Ethernet33 authenticator auto - True allow vlan 330 multi-host True - Ethernet34 authenticator auto - True allow vlan 330 multi-host True - Ethernet35 authenticator auto - True allow vlan 330 multi-host True - Ethernet36 authenticator auto - True allow vlan 330 multi-host True - Ethernet37 authenticator auto - True allow vlan 330 multi-host True - Ethernet38 authenticator auto - True allow vlan 330 multi-host True - Ethernet39 authenticator auto - True allow vlan 330 multi-host True - Ethernet40 authenticator auto - True allow vlan 330 multi-host True - Ethernet41 authenticator auto - True allow vlan 330 multi-host True - Ethernet42 authenticator auto - True allow vlan 330 multi-host True - Ethernet43 authenticator auto - True allow vlan 330 multi-host True - Ethernet44 authenticator auto - True allow vlan 330 multi-host True - Ethernet45 authenticator auto - True allow vlan 330 multi-host True - Ethernet46 authenticator auto - True allow vlan 330 multi-host True - Ethernet47 authenticator auto - True allow vlan 330 multi-host True - Ethernet48 authenticator auto - True allow vlan 330 multi-host True - Ethernet49 authenticator auto - True allow vlan 330 multi-host True - Ethernet50 authenticator auto - True allow vlan 330 multi-host True - Ethernet51 authenticator auto - True allow vlan 330 multi-host True - Ethernet52 authenticator auto - True allow vlan 330 multi-host True - Ethernet53 authenticator auto - True allow vlan 330 multi-host True - Ethernet54 authenticator auto - True allow vlan 330 multi-host True - Ethernet55 authenticator auto - True allow vlan 330 multi-host True - Ethernet56 authenticator auto - True allow vlan 330 multi-host True - Ethernet57 authenticator auto - True allow vlan 330 multi-host True - Ethernet58 authenticator auto - True allow vlan 330 multi-host True - Ethernet59 authenticator auto - True allow vlan 330 multi-host True - Ethernet60 authenticator auto - True allow vlan 330 multi-host True - Ethernet61 authenticator auto - True allow vlan 330 multi-host True - Ethernet62 authenticator auto - True allow vlan 330 multi-host True - Ethernet63 authenticator auto - True allow vlan 330 multi-host True - Ethernet64 authenticator auto - True allow vlan 330 multi-host True - Ethernet65 authenticator auto - True allow vlan 330 multi-host True - Ethernet66 authenticator auto - True allow vlan 330 multi-host True - Ethernet67 authenticator auto - True allow vlan 330 multi-host True - Ethernet68 authenticator auto - True allow vlan 330 multi-host True - Ethernet69 authenticator auto - True allow vlan 330 multi-host True - Ethernet70 authenticator auto - True allow vlan 330 multi-host True - Ethernet71 authenticator auto - True allow vlan 330 multi-host True - Ethernet72 authenticator auto - True allow vlan 330 multi-host True - Ethernet73 authenticator auto - True allow vlan 330 multi-host True - Ethernet74 authenticator auto - True allow vlan 330 multi-host True - Ethernet75 authenticator auto - True allow vlan 330 multi-host True - Ethernet76 authenticator auto - True allow vlan 330 multi-host True - Ethernet77 authenticator auto - True allow vlan 330 multi-host True - Ethernet78 authenticator auto - True allow vlan 330 multi-host True - Ethernet79 authenticator auto - True allow vlan 330 multi-host True - Ethernet80 authenticator auto - True allow vlan 330 multi-host True - Ethernet81 authenticator auto - True allow vlan 330 multi-host True - Ethernet82 authenticator auto - True allow vlan 330 multi-host True - Ethernet83 authenticator auto - True allow vlan 330 multi-host True - Ethernet84 authenticator auto - True allow vlan 330 multi-host True - Ethernet85 authenticator auto - True allow vlan 330 multi-host True - Ethernet86 authenticator auto - True allow vlan 330 multi-host True - Ethernet87 authenticator auto - True allow vlan 330 multi-host True - Ethernet88 authenticator auto - True allow vlan 330 multi-host True - Ethernet89 authenticator auto - True allow vlan 330 multi-host True - Ethernet90 authenticator auto - True allow vlan 330 multi-host True - Ethernet91 authenticator auto - True allow vlan 330 multi-host True - Ethernet92 authenticator auto - True allow vlan 330 multi-host True - Ethernet93 authenticator auto - True allow vlan 330 multi-host True - Ethernet94 authenticator auto - True allow vlan 330 multi-host True - Ethernet95 authenticator auto - True allow vlan 330 multi-host True - Ethernet96 authenticator auto - True allow vlan 330 multi-host True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/campus-fabric/documentation/devices/LEAF3A.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html","title":"LEAF3B","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>802.1X Port Security<ul> <li>802.1X Summary</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#management","title":"Management","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.107/24 172.100.100.1 Vlan10 L2LEAF_INBAND_MGMT inband default 10.10.10.10/24 10.10.10.1"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - - Vlan10 L2LEAF_INBAND_MGMT inband default - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.107/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\n   ip address 10.10.10.10/24\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ntp","title":"NTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#authentication","title":"Authentication","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#local-users","title":"Local Users","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#mlag","title":"MLAG","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link IDF3_AGG Vlan4094 192.168.0.10 Port-Channel983 <p>Dual primary detection is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id IDF3_AGG\n   local-interface Vlan4094\n   peer-address 192.168.0.10\n   peer-link Port-Channel983\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4094</li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#vlans","title":"VLANs","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 L2LEAF_INBAND_MGMT - 310 IDF3-Data - 320 IDF3-Voice - 330 IDF3-Guest - 4094 MLAG_PEER MLAG"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name L2LEAF_INBAND_MGMT\n!\nvlan 310\n   name IDF3-Data\n!\nvlan 320\n   name IDF3-Voice\n!\nvlan 330\n   name IDF3-Guest\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#interfaces","title":"Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 IDF3 Standard Port trunk phone - 310 - - Ethernet2 IDF3 Standard Port trunk phone - 310 - - Ethernet3 IDF3 Standard Port trunk phone - 310 - - Ethernet4 IDF3 Standard Port trunk phone - 310 - - Ethernet5 IDF3 Standard Port trunk phone - 310 - - Ethernet6 IDF3 Standard Port trunk phone - 310 - - Ethernet7 IDF3 Standard Port trunk phone - 310 - - Ethernet8 IDF3 Standard Port trunk phone - 310 - - Ethernet9 IDF3 Standard Port trunk phone - 310 - - Ethernet10 IDF3 Standard Port trunk phone - 310 - - Ethernet11 IDF3 Standard Port trunk phone - 310 - - Ethernet12 IDF3 Standard Port trunk phone - 310 - - Ethernet13 IDF3 Standard Port trunk phone - 310 - - Ethernet14 IDF3 Standard Port trunk phone - 310 - - Ethernet15 IDF3 Standard Port trunk phone - 310 - - Ethernet16 IDF3 Standard Port trunk phone - 310 - - Ethernet17 IDF3 Standard Port trunk phone - 310 - - Ethernet18 IDF3 Standard Port trunk phone - 310 - - Ethernet19 IDF3 Standard Port trunk phone - 310 - - Ethernet20 IDF3 Standard Port trunk phone - 310 - - Ethernet21 IDF3 Standard Port trunk phone - 310 - - Ethernet22 IDF3 Standard Port trunk phone - 310 - - Ethernet23 IDF3 Standard Port trunk phone - 310 - - Ethernet24 IDF3 Standard Port trunk phone - 310 - - Ethernet25 IDF3 Standard Port trunk phone - 310 - - Ethernet26 IDF3 Standard Port trunk phone - 310 - - Ethernet27 IDF3 Standard Port trunk phone - 310 - - Ethernet28 IDF3 Standard Port trunk phone - 310 - - Ethernet29 IDF3 Standard Port trunk phone - 310 - - Ethernet30 IDF3 Standard Port trunk phone - 310 - - Ethernet31 IDF3 Standard Port trunk phone - 310 - - Ethernet32 IDF3 Standard Port trunk phone - 310 - - Ethernet33 IDF3 Standard Port trunk phone - 310 - - Ethernet34 IDF3 Standard Port trunk phone - 310 - - Ethernet35 IDF3 Standard Port trunk phone - 310 - - Ethernet36 IDF3 Standard Port trunk phone - 310 - - Ethernet37 IDF3 Standard Port trunk phone - 310 - - Ethernet38 IDF3 Standard Port trunk phone - 310 - - Ethernet39 IDF3 Standard Port trunk phone - 310 - - Ethernet40 IDF3 Standard Port trunk phone - 310 - - Ethernet41 IDF3 Standard Port trunk phone - 310 - - Ethernet42 IDF3 Standard Port trunk phone - 310 - - Ethernet43 IDF3 Standard Port trunk phone - 310 - - Ethernet44 IDF3 Standard Port trunk phone - 310 - - Ethernet45 IDF3 Standard Port trunk phone - 310 - - Ethernet46 IDF3 Standard Port trunk phone - 310 - - Ethernet47 IDF3 Standard Port trunk phone - 310 - - Ethernet48 IDF3 Standard Port trunk phone - 310 - - Ethernet49 IDF3 Standard Port trunk phone - 310 - - Ethernet50 IDF3 Standard Port trunk phone - 310 - - Ethernet51 IDF3 Standard Port trunk phone - 310 - - Ethernet52 IDF3 Standard Port trunk phone - 310 - - Ethernet53 IDF3 Standard Port trunk phone - 310 - - Ethernet54 IDF3 Standard Port trunk phone - 310 - - Ethernet55 IDF3 Standard Port trunk phone - 310 - - Ethernet56 IDF3 Standard Port trunk phone - 310 - - Ethernet57 IDF3 Standard Port trunk phone - 310 - - Ethernet58 IDF3 Standard Port trunk phone - 310 - - Ethernet59 IDF3 Standard Port trunk phone - 310 - - Ethernet60 IDF3 Standard Port trunk phone - 310 - - Ethernet61 IDF3 Standard Port trunk phone - 310 - - Ethernet62 IDF3 Standard Port trunk phone - 310 - - Ethernet63 IDF3 Standard Port trunk phone - 310 - - Ethernet64 IDF3 Standard Port trunk phone - 310 - - Ethernet65 IDF3 Standard Port trunk phone - 310 - - Ethernet66 IDF3 Standard Port trunk phone - 310 - - Ethernet67 IDF3 Standard Port trunk phone - 310 - - Ethernet68 IDF3 Standard Port trunk phone - 310 - - Ethernet69 IDF3 Standard Port trunk phone - 310 - - Ethernet70 IDF3 Standard Port trunk phone - 310 - - Ethernet71 IDF3 Standard Port trunk phone - 310 - - Ethernet72 IDF3 Standard Port trunk phone - 310 - - Ethernet73 IDF3 Standard Port trunk phone - 310 - - Ethernet74 IDF3 Standard Port trunk phone - 310 - - Ethernet75 IDF3 Standard Port trunk phone - 310 - - Ethernet76 IDF3 Standard Port trunk phone - 310 - - Ethernet77 IDF3 Standard Port trunk phone - 310 - - Ethernet78 IDF3 Standard Port trunk phone - 310 - - Ethernet79 IDF3 Standard Port trunk phone - 310 - - Ethernet80 IDF3 Standard Port trunk phone - 310 - - Ethernet81 IDF3 Standard Port trunk phone - 310 - - Ethernet82 IDF3 Standard Port trunk phone - 310 - - Ethernet83 IDF3 Standard Port trunk phone - 310 - - Ethernet84 IDF3 Standard Port trunk phone - 310 - - Ethernet85 IDF3 Standard Port trunk phone - 310 - - Ethernet86 IDF3 Standard Port trunk phone - 310 - - Ethernet87 IDF3 Standard Port trunk phone - 310 - - Ethernet88 IDF3 Standard Port trunk phone - 310 - - Ethernet89 IDF3 Standard Port trunk phone - 310 - - Ethernet90 IDF3 Standard Port trunk phone - 310 - - Ethernet91 IDF3 Standard Port trunk phone - 310 - - Ethernet92 IDF3 Standard Port trunk phone - 310 - - Ethernet93 IDF3 Standard Port trunk phone - 310 - - Ethernet94 IDF3 Standard Port trunk phone - 310 - - Ethernet95 IDF3 Standard Port trunk phone - 310 - - Ethernet96 IDF3 Standard Port trunk phone - 310 - - Ethernet97/1 SPINE1_Ethernet51/1 *trunk *10,310,320,330 *- *- 971 Ethernet97/2 SPINE2_Ethernet51/1 *trunk *10,310,320,330 *- *- 971 Ethernet97/3 LEAF3C_Ethernet97/2 *trunk *10,310,320,330 *- *- 973 Ethernet97/4 LEAF3D_Ethernet97/2 *trunk *10,310,320,330 *- *- 974 Ethernet98/1 LEAF3E_Ethernet97/2 *trunk *10,310,320,330 *- *- 981 Ethernet98/3 MLAG_PEER_LEAF3A_Ethernet98/3 *trunk *2-4094 *- *[\u2018MLAG\u2019] 983 Ethernet98/4 MLAG_PEER_LEAF3A_Ethernet98/4 *trunk *2-4094 *- *[\u2018MLAG\u2019] 983 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet49\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet50\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet52\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet53\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet54\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet55\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet56\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet57\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet58\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet59\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet60\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet61\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet62\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet63\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet64\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet65\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet66\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet67\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet68\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet69\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet70\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet71\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet72\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet73\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet74\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet75\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet76\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet77\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet78\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet79\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet80\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet81\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet82\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet83\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet84\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet85\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet86\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet87\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet88\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet89\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet90\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet91\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet92\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet93\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet94\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet95\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet96\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet97/1\n   description SPINE1_Ethernet51/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/2\n   description SPINE2_Ethernet51/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/3\n   description LEAF3C_Ethernet97/2\n   no shutdown\n   channel-group 973 mode active\n!\ninterface Ethernet97/4\n   description LEAF3D_Ethernet97/2\n   no shutdown\n   channel-group 974 mode active\n!\ninterface Ethernet98/1\n   description LEAF3E_Ethernet97/2\n   no shutdown\n   channel-group 981 mode active\n!\ninterface Ethernet98/3\n   description MLAG_PEER_LEAF3A_Ethernet98/3\n   no shutdown\n   channel-group 983 mode active\n!\ninterface Ethernet98/4\n   description MLAG_PEER_LEAF3A_Ethernet98/4\n   no shutdown\n   channel-group 983 mode active\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel971 SPINES_Po501 switched trunk 10,310,320,330 - - - - 971 - Port-Channel973 LEAF3C_Po971 switched trunk 10,310,320,330 - - - - 973 - Port-Channel974 LEAF3D_Po971 switched trunk 10,310,320,330 - - - - 974 - Port-Channel981 LEAF3E_Po971 switched trunk 10,310,320,330 - - - - 981 - Port-Channel983 MLAG_PEER_LEAF3A_Po983 switched trunk 2-4094 - [\u2018MLAG\u2019] - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel971\n   description SPINES_Po501\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 971\n!\ninterface Port-Channel973\n   description LEAF3C_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 973\n!\ninterface Port-Channel974\n   description LEAF3D_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 974\n!\ninterface Port-Channel981\n   description LEAF3E_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 981\n!\ninterface Port-Channel983\n   description MLAG_PEER_LEAF3A_Po983\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ipv4_1","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan4094 default 192.168.0.11/31 - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.11/31\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#routing","title":"Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#static-routes","title":"Static Routes","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - - default 0.0.0.0/0 10.10.10.1 - 1 - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#multicast","title":"Multicast","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#8021x-port-security","title":"802.1X Port Security","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#8021x-summary","title":"802.1X Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#8021x-interfaces","title":"802.1X Interfaces","text":"Interface PAE Mode State Phone Force Authorized Reauthentication Auth Failure Action Host Mode Mac Based Auth Eapol Ethernet1 authenticator auto - True allow vlan 330 multi-host True - Ethernet2 authenticator auto - True allow vlan 330 multi-host True - Ethernet3 authenticator auto - True allow vlan 330 multi-host True - Ethernet4 authenticator auto - True allow vlan 330 multi-host True - Ethernet5 authenticator auto - True allow vlan 330 multi-host True - Ethernet6 authenticator auto - True allow vlan 330 multi-host True - Ethernet7 authenticator auto - True allow vlan 330 multi-host True - Ethernet8 authenticator auto - True allow vlan 330 multi-host True - Ethernet9 authenticator auto - True allow vlan 330 multi-host True - Ethernet10 authenticator auto - True allow vlan 330 multi-host True - Ethernet11 authenticator auto - True allow vlan 330 multi-host True - Ethernet12 authenticator auto - True allow vlan 330 multi-host True - Ethernet13 authenticator auto - True allow vlan 330 multi-host True - Ethernet14 authenticator auto - True allow vlan 330 multi-host True - Ethernet15 authenticator auto - True allow vlan 330 multi-host True - Ethernet16 authenticator auto - True allow vlan 330 multi-host True - Ethernet17 authenticator auto - True allow vlan 330 multi-host True - Ethernet18 authenticator auto - True allow vlan 330 multi-host True - Ethernet19 authenticator auto - True allow vlan 330 multi-host True - Ethernet20 authenticator auto - True allow vlan 330 multi-host True - Ethernet21 authenticator auto - True allow vlan 330 multi-host True - Ethernet22 authenticator auto - True allow vlan 330 multi-host True - Ethernet23 authenticator auto - True allow vlan 330 multi-host True - Ethernet24 authenticator auto - True allow vlan 330 multi-host True - Ethernet25 authenticator auto - True allow vlan 330 multi-host True - Ethernet26 authenticator auto - True allow vlan 330 multi-host True - Ethernet27 authenticator auto - True allow vlan 330 multi-host True - Ethernet28 authenticator auto - True allow vlan 330 multi-host True - Ethernet29 authenticator auto - True allow vlan 330 multi-host True - Ethernet30 authenticator auto - True allow vlan 330 multi-host True - Ethernet31 authenticator auto - True allow vlan 330 multi-host True - Ethernet32 authenticator auto - True allow vlan 330 multi-host True - Ethernet33 authenticator auto - True allow vlan 330 multi-host True - Ethernet34 authenticator auto - True allow vlan 330 multi-host True - Ethernet35 authenticator auto - True allow vlan 330 multi-host True - Ethernet36 authenticator auto - True allow vlan 330 multi-host True - Ethernet37 authenticator auto - True allow vlan 330 multi-host True - Ethernet38 authenticator auto - True allow vlan 330 multi-host True - Ethernet39 authenticator auto - True allow vlan 330 multi-host True - Ethernet40 authenticator auto - True allow vlan 330 multi-host True - Ethernet41 authenticator auto - True allow vlan 330 multi-host True - Ethernet42 authenticator auto - True allow vlan 330 multi-host True - Ethernet43 authenticator auto - True allow vlan 330 multi-host True - Ethernet44 authenticator auto - True allow vlan 330 multi-host True - Ethernet45 authenticator auto - True allow vlan 330 multi-host True - Ethernet46 authenticator auto - True allow vlan 330 multi-host True - Ethernet47 authenticator auto - True allow vlan 330 multi-host True - Ethernet48 authenticator auto - True allow vlan 330 multi-host True - Ethernet49 authenticator auto - True allow vlan 330 multi-host True - Ethernet50 authenticator auto - True allow vlan 330 multi-host True - Ethernet51 authenticator auto - True allow vlan 330 multi-host True - Ethernet52 authenticator auto - True allow vlan 330 multi-host True - Ethernet53 authenticator auto - True allow vlan 330 multi-host True - Ethernet54 authenticator auto - True allow vlan 330 multi-host True - Ethernet55 authenticator auto - True allow vlan 330 multi-host True - Ethernet56 authenticator auto - True allow vlan 330 multi-host True - Ethernet57 authenticator auto - True allow vlan 330 multi-host True - Ethernet58 authenticator auto - True allow vlan 330 multi-host True - Ethernet59 authenticator auto - True allow vlan 330 multi-host True - Ethernet60 authenticator auto - True allow vlan 330 multi-host True - Ethernet61 authenticator auto - True allow vlan 330 multi-host True - Ethernet62 authenticator auto - True allow vlan 330 multi-host True - Ethernet63 authenticator auto - True allow vlan 330 multi-host True - Ethernet64 authenticator auto - True allow vlan 330 multi-host True - Ethernet65 authenticator auto - True allow vlan 330 multi-host True - Ethernet66 authenticator auto - True allow vlan 330 multi-host True - Ethernet67 authenticator auto - True allow vlan 330 multi-host True - Ethernet68 authenticator auto - True allow vlan 330 multi-host True - Ethernet69 authenticator auto - True allow vlan 330 multi-host True - Ethernet70 authenticator auto - True allow vlan 330 multi-host True - Ethernet71 authenticator auto - True allow vlan 330 multi-host True - Ethernet72 authenticator auto - True allow vlan 330 multi-host True - Ethernet73 authenticator auto - True allow vlan 330 multi-host True - Ethernet74 authenticator auto - True allow vlan 330 multi-host True - Ethernet75 authenticator auto - True allow vlan 330 multi-host True - Ethernet76 authenticator auto - True allow vlan 330 multi-host True - Ethernet77 authenticator auto - True allow vlan 330 multi-host True - Ethernet78 authenticator auto - True allow vlan 330 multi-host True - Ethernet79 authenticator auto - True allow vlan 330 multi-host True - Ethernet80 authenticator auto - True allow vlan 330 multi-host True - Ethernet81 authenticator auto - True allow vlan 330 multi-host True - Ethernet82 authenticator auto - True allow vlan 330 multi-host True - Ethernet83 authenticator auto - True allow vlan 330 multi-host True - Ethernet84 authenticator auto - True allow vlan 330 multi-host True - Ethernet85 authenticator auto - True allow vlan 330 multi-host True - Ethernet86 authenticator auto - True allow vlan 330 multi-host True - Ethernet87 authenticator auto - True allow vlan 330 multi-host True - Ethernet88 authenticator auto - True allow vlan 330 multi-host True - Ethernet89 authenticator auto - True allow vlan 330 multi-host True - Ethernet90 authenticator auto - True allow vlan 330 multi-host True - Ethernet91 authenticator auto - True allow vlan 330 multi-host True - Ethernet92 authenticator auto - True allow vlan 330 multi-host True - Ethernet93 authenticator auto - True allow vlan 330 multi-host True - Ethernet94 authenticator auto - True allow vlan 330 multi-host True - Ethernet95 authenticator auto - True allow vlan 330 multi-host True - Ethernet96 authenticator auto - True allow vlan 330 multi-host True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/campus-fabric/documentation/devices/LEAF3B.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html","title":"LEAF3C","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authorization</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>802.1X Port Security<ul> <li>802.1X Summary</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#management","title":"Management","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.108/24 172.100.100.1 Vlan10 L2LEAF_INBAND_MGMT inband default 10.10.10.11/24 10.10.10.1"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - - Vlan10 L2LEAF_INBAND_MGMT inband default - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.108/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\n   ip address 10.10.10.11/24\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ntp","title":"NTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#authentication","title":"Authentication","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#local-users","title":"Local Users","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#vlans","title":"VLANs","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 L2LEAF_INBAND_MGMT - 310 IDF3-Data - 320 IDF3-Voice - 330 IDF3-Guest -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name L2LEAF_INBAND_MGMT\n!\nvlan 310\n   name IDF3-Data\n!\nvlan 320\n   name IDF3-Voice\n!\nvlan 330\n   name IDF3-Guest\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#interfaces","title":"Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 IDF3 Standard Port trunk phone - 310 - - Ethernet2 IDF3 Standard Port trunk phone - 310 - - Ethernet3 IDF3 Standard Port trunk phone - 310 - - Ethernet4 IDF3 Standard Port trunk phone - 310 - - Ethernet5 IDF3 Standard Port trunk phone - 310 - - Ethernet6 IDF3 Standard Port trunk phone - 310 - - Ethernet7 IDF3 Standard Port trunk phone - 310 - - Ethernet8 IDF3 Standard Port trunk phone - 310 - - Ethernet9 IDF3 Standard Port trunk phone - 310 - - Ethernet10 IDF3 Standard Port trunk phone - 310 - - Ethernet11 IDF3 Standard Port trunk phone - 310 - - Ethernet12 IDF3 Standard Port trunk phone - 310 - - Ethernet13 IDF3 Standard Port trunk phone - 310 - - Ethernet14 IDF3 Standard Port trunk phone - 310 - - Ethernet15 IDF3 Standard Port trunk phone - 310 - - Ethernet16 IDF3 Standard Port trunk phone - 310 - - Ethernet17 IDF3 Standard Port trunk phone - 310 - - Ethernet18 IDF3 Standard Port trunk phone - 310 - - Ethernet19 IDF3 Standard Port trunk phone - 310 - - Ethernet20 IDF3 Standard Port trunk phone - 310 - - Ethernet21 IDF3 Standard Port trunk phone - 310 - - Ethernet22 IDF3 Standard Port trunk phone - 310 - - Ethernet23 IDF3 Standard Port trunk phone - 310 - - Ethernet24 IDF3 Standard Port trunk phone - 310 - - Ethernet25 IDF3 Standard Port trunk phone - 310 - - Ethernet26 IDF3 Standard Port trunk phone - 310 - - Ethernet27 IDF3 Standard Port trunk phone - 310 - - Ethernet28 IDF3 Standard Port trunk phone - 310 - - Ethernet29 IDF3 Standard Port trunk phone - 310 - - Ethernet30 IDF3 Standard Port trunk phone - 310 - - Ethernet31 IDF3 Standard Port trunk phone - 310 - - Ethernet32 IDF3 Standard Port trunk phone - 310 - - Ethernet33 IDF3 Standard Port trunk phone - 310 - - Ethernet34 IDF3 Standard Port trunk phone - 310 - - Ethernet35 IDF3 Standard Port trunk phone - 310 - - Ethernet36 IDF3 Standard Port trunk phone - 310 - - Ethernet37 IDF3 Standard Port trunk phone - 310 - - Ethernet38 IDF3 Standard Port trunk phone - 310 - - Ethernet39 IDF3 Standard Port trunk phone - 310 - - Ethernet40 IDF3 Standard Port trunk phone - 310 - - Ethernet41 IDF3 Standard Port trunk phone - 310 - - Ethernet42 IDF3 Standard Port trunk phone - 310 - - Ethernet43 IDF3 Standard Port trunk phone - 310 - - Ethernet44 IDF3 Standard Port trunk phone - 310 - - Ethernet45 IDF3 Standard Port trunk phone - 310 - - Ethernet46 IDF3 Standard Port trunk phone - 310 - - Ethernet47 IDF3 Standard Port trunk phone - 310 - - Ethernet48 IDF3 Standard Port trunk phone - 310 - - Ethernet49 IDF3 Standard Port trunk phone - 310 - - Ethernet50 IDF3 Standard Port trunk phone - 310 - - Ethernet51 IDF3 Standard Port trunk phone - 310 - - Ethernet52 IDF3 Standard Port trunk phone - 310 - - Ethernet53 IDF3 Standard Port trunk phone - 310 - - Ethernet54 IDF3 Standard Port trunk phone - 310 - - Ethernet55 IDF3 Standard Port trunk phone - 310 - - Ethernet56 IDF3 Standard Port trunk phone - 310 - - Ethernet57 IDF3 Standard Port trunk phone - 310 - - Ethernet58 IDF3 Standard Port trunk phone - 310 - - Ethernet59 IDF3 Standard Port trunk phone - 310 - - Ethernet60 IDF3 Standard Port trunk phone - 310 - - Ethernet61 IDF3 Standard Port trunk phone - 310 - - Ethernet62 IDF3 Standard Port trunk phone - 310 - - Ethernet63 IDF3 Standard Port trunk phone - 310 - - Ethernet64 IDF3 Standard Port trunk phone - 310 - - Ethernet65 IDF3 Standard Port trunk phone - 310 - - Ethernet66 IDF3 Standard Port trunk phone - 310 - - Ethernet67 IDF3 Standard Port trunk phone - 310 - - Ethernet68 IDF3 Standard Port trunk phone - 310 - - Ethernet69 IDF3 Standard Port trunk phone - 310 - - Ethernet70 IDF3 Standard Port trunk phone - 310 - - Ethernet71 IDF3 Standard Port trunk phone - 310 - - Ethernet72 IDF3 Standard Port trunk phone - 310 - - Ethernet73 IDF3 Standard Port trunk phone - 310 - - Ethernet74 IDF3 Standard Port trunk phone - 310 - - Ethernet75 IDF3 Standard Port trunk phone - 310 - - Ethernet76 IDF3 Standard Port trunk phone - 310 - - Ethernet77 IDF3 Standard Port trunk phone - 310 - - Ethernet78 IDF3 Standard Port trunk phone - 310 - - Ethernet79 IDF3 Standard Port trunk phone - 310 - - Ethernet80 IDF3 Standard Port trunk phone - 310 - - Ethernet81 IDF3 Standard Port trunk phone - 310 - - Ethernet82 IDF3 Standard Port trunk phone - 310 - - Ethernet83 IDF3 Standard Port trunk phone - 310 - - Ethernet84 IDF3 Standard Port trunk phone - 310 - - Ethernet85 IDF3 Standard Port trunk phone - 310 - - Ethernet86 IDF3 Standard Port trunk phone - 310 - - Ethernet87 IDF3 Standard Port trunk phone - 310 - - Ethernet88 IDF3 Standard Port trunk phone - 310 - - Ethernet89 IDF3 Standard Port trunk phone - 310 - - Ethernet90 IDF3 Standard Port trunk phone - 310 - - Ethernet91 IDF3 Standard Port trunk phone - 310 - - Ethernet92 IDF3 Standard Port trunk phone - 310 - - Ethernet93 IDF3 Standard Port trunk phone - 310 - - Ethernet94 IDF3 Standard Port trunk phone - 310 - - Ethernet95 IDF3 Standard Port trunk phone - 310 - - Ethernet96 IDF3 Standard Port trunk phone - 310 - - Ethernet97/1 LEAF3A_Ethernet97/3 *trunk *10,310,320,330 *- *- 971 Ethernet97/2 LEAF3B_Ethernet97/3 *trunk *10,310,320,330 *- *- 971 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet49\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet50\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet52\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet53\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet54\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet55\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet56\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet57\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet58\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet59\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet60\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet61\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet62\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet63\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet64\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet65\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet66\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet67\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet68\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet69\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet70\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet71\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet72\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet73\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet74\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet75\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet76\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet77\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet78\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet79\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet80\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet81\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet82\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet83\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet84\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet85\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet86\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet87\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet88\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet89\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet90\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet91\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet92\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet93\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet94\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet95\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet96\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet97/1\n   description LEAF3A_Ethernet97/3\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/2\n   description LEAF3B_Ethernet97/3\n   no shutdown\n   channel-group 971 mode active\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel971 IDF3_AGG_Po973 switched trunk 10,310,320,330 - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel971\n   description IDF3_AGG_Po973\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#routing","title":"Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#static-routes","title":"Static Routes","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - - default 0.0.0.0/0 10.10.10.1 - 1 - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#multicast","title":"Multicast","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#8021x-port-security","title":"802.1X Port Security","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#8021x-summary","title":"802.1X Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#8021x-interfaces","title":"802.1X Interfaces","text":"Interface PAE Mode State Phone Force Authorized Reauthentication Auth Failure Action Host Mode Mac Based Auth Eapol Ethernet1 authenticator auto - True allow vlan 330 multi-host True - Ethernet2 authenticator auto - True allow vlan 330 multi-host True - Ethernet3 authenticator auto - True allow vlan 330 multi-host True - Ethernet4 authenticator auto - True allow vlan 330 multi-host True - Ethernet5 authenticator auto - True allow vlan 330 multi-host True - Ethernet6 authenticator auto - True allow vlan 330 multi-host True - Ethernet7 authenticator auto - True allow vlan 330 multi-host True - Ethernet8 authenticator auto - True allow vlan 330 multi-host True - Ethernet9 authenticator auto - True allow vlan 330 multi-host True - Ethernet10 authenticator auto - True allow vlan 330 multi-host True - Ethernet11 authenticator auto - True allow vlan 330 multi-host True - Ethernet12 authenticator auto - True allow vlan 330 multi-host True - Ethernet13 authenticator auto - True allow vlan 330 multi-host True - Ethernet14 authenticator auto - True allow vlan 330 multi-host True - Ethernet15 authenticator auto - True allow vlan 330 multi-host True - Ethernet16 authenticator auto - True allow vlan 330 multi-host True - Ethernet17 authenticator auto - True allow vlan 330 multi-host True - Ethernet18 authenticator auto - True allow vlan 330 multi-host True - Ethernet19 authenticator auto - True allow vlan 330 multi-host True - Ethernet20 authenticator auto - True allow vlan 330 multi-host True - Ethernet21 authenticator auto - True allow vlan 330 multi-host True - Ethernet22 authenticator auto - True allow vlan 330 multi-host True - Ethernet23 authenticator auto - True allow vlan 330 multi-host True - Ethernet24 authenticator auto - True allow vlan 330 multi-host True - Ethernet25 authenticator auto - True allow vlan 330 multi-host True - Ethernet26 authenticator auto - True allow vlan 330 multi-host True - Ethernet27 authenticator auto - True allow vlan 330 multi-host True - Ethernet28 authenticator auto - True allow vlan 330 multi-host True - Ethernet29 authenticator auto - True allow vlan 330 multi-host True - Ethernet30 authenticator auto - True allow vlan 330 multi-host True - Ethernet31 authenticator auto - True allow vlan 330 multi-host True - Ethernet32 authenticator auto - True allow vlan 330 multi-host True - Ethernet33 authenticator auto - True allow vlan 330 multi-host True - Ethernet34 authenticator auto - True allow vlan 330 multi-host True - Ethernet35 authenticator auto - True allow vlan 330 multi-host True - Ethernet36 authenticator auto - True allow vlan 330 multi-host True - Ethernet37 authenticator auto - True allow vlan 330 multi-host True - Ethernet38 authenticator auto - True allow vlan 330 multi-host True - Ethernet39 authenticator auto - True allow vlan 330 multi-host True - Ethernet40 authenticator auto - True allow vlan 330 multi-host True - Ethernet41 authenticator auto - True allow vlan 330 multi-host True - Ethernet42 authenticator auto - True allow vlan 330 multi-host True - Ethernet43 authenticator auto - True allow vlan 330 multi-host True - Ethernet44 authenticator auto - True allow vlan 330 multi-host True - Ethernet45 authenticator auto - True allow vlan 330 multi-host True - Ethernet46 authenticator auto - True allow vlan 330 multi-host True - Ethernet47 authenticator auto - True allow vlan 330 multi-host True - Ethernet48 authenticator auto - True allow vlan 330 multi-host True - Ethernet49 authenticator auto - True allow vlan 330 multi-host True - Ethernet50 authenticator auto - True allow vlan 330 multi-host True - Ethernet51 authenticator auto - True allow vlan 330 multi-host True - Ethernet52 authenticator auto - True allow vlan 330 multi-host True - Ethernet53 authenticator auto - True allow vlan 330 multi-host True - Ethernet54 authenticator auto - True allow vlan 330 multi-host True - Ethernet55 authenticator auto - True allow vlan 330 multi-host True - Ethernet56 authenticator auto - True allow vlan 330 multi-host True - Ethernet57 authenticator auto - True allow vlan 330 multi-host True - Ethernet58 authenticator auto - True allow vlan 330 multi-host True - Ethernet59 authenticator auto - True allow vlan 330 multi-host True - Ethernet60 authenticator auto - True allow vlan 330 multi-host True - Ethernet61 authenticator auto - True allow vlan 330 multi-host True - Ethernet62 authenticator auto - True allow vlan 330 multi-host True - Ethernet63 authenticator auto - True allow vlan 330 multi-host True - Ethernet64 authenticator auto - True allow vlan 330 multi-host True - Ethernet65 authenticator auto - True allow vlan 330 multi-host True - Ethernet66 authenticator auto - True allow vlan 330 multi-host True - Ethernet67 authenticator auto - True allow vlan 330 multi-host True - Ethernet68 authenticator auto - True allow vlan 330 multi-host True - Ethernet69 authenticator auto - True allow vlan 330 multi-host True - Ethernet70 authenticator auto - True allow vlan 330 multi-host True - Ethernet71 authenticator auto - True allow vlan 330 multi-host True - Ethernet72 authenticator auto - True allow vlan 330 multi-host True - Ethernet73 authenticator auto - True allow vlan 330 multi-host True - Ethernet74 authenticator auto - True allow vlan 330 multi-host True - Ethernet75 authenticator auto - True allow vlan 330 multi-host True - Ethernet76 authenticator auto - True allow vlan 330 multi-host True - Ethernet77 authenticator auto - True allow vlan 330 multi-host True - Ethernet78 authenticator auto - True allow vlan 330 multi-host True - Ethernet79 authenticator auto - True allow vlan 330 multi-host True - Ethernet80 authenticator auto - True allow vlan 330 multi-host True - Ethernet81 authenticator auto - True allow vlan 330 multi-host True - Ethernet82 authenticator auto - True allow vlan 330 multi-host True - Ethernet83 authenticator auto - True allow vlan 330 multi-host True - Ethernet84 authenticator auto - True allow vlan 330 multi-host True - Ethernet85 authenticator auto - True allow vlan 330 multi-host True - Ethernet86 authenticator auto - True allow vlan 330 multi-host True - Ethernet87 authenticator auto - True allow vlan 330 multi-host True - Ethernet88 authenticator auto - True allow vlan 330 multi-host True - Ethernet89 authenticator auto - True allow vlan 330 multi-host True - Ethernet90 authenticator auto - True allow vlan 330 multi-host True - Ethernet91 authenticator auto - True allow vlan 330 multi-host True - Ethernet92 authenticator auto - True allow vlan 330 multi-host True - Ethernet93 authenticator auto - True allow vlan 330 multi-host True - Ethernet94 authenticator auto - True allow vlan 330 multi-host True - Ethernet95 authenticator auto - True allow vlan 330 multi-host True - Ethernet96 authenticator auto - True allow vlan 330 multi-host True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/campus-fabric/documentation/devices/LEAF3C.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html","title":"LEAF3D","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authorization</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>802.1X Port Security<ul> <li>802.1X Summary</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#management","title":"Management","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.109/24 172.100.100.1 Vlan10 L2LEAF_INBAND_MGMT inband default 10.10.10.12/24 10.10.10.1"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - - Vlan10 L2LEAF_INBAND_MGMT inband default - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.109/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\n   ip address 10.10.10.12/24\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ntp","title":"NTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#authentication","title":"Authentication","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#local-users","title":"Local Users","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#vlans","title":"VLANs","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 L2LEAF_INBAND_MGMT - 310 IDF3-Data - 320 IDF3-Voice - 330 IDF3-Guest -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name L2LEAF_INBAND_MGMT\n!\nvlan 310\n   name IDF3-Data\n!\nvlan 320\n   name IDF3-Voice\n!\nvlan 330\n   name IDF3-Guest\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#interfaces","title":"Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 IDF3 Standard Port trunk phone - 310 - - Ethernet2 IDF3 Standard Port trunk phone - 310 - - Ethernet3 IDF3 Standard Port trunk phone - 310 - - Ethernet4 IDF3 Standard Port trunk phone - 310 - - Ethernet5 IDF3 Standard Port trunk phone - 310 - - Ethernet6 IDF3 Standard Port trunk phone - 310 - - Ethernet7 IDF3 Standard Port trunk phone - 310 - - Ethernet8 IDF3 Standard Port trunk phone - 310 - - Ethernet9 IDF3 Standard Port trunk phone - 310 - - Ethernet10 IDF3 Standard Port trunk phone - 310 - - Ethernet11 IDF3 Standard Port trunk phone - 310 - - Ethernet12 IDF3 Standard Port trunk phone - 310 - - Ethernet13 IDF3 Standard Port trunk phone - 310 - - Ethernet14 IDF3 Standard Port trunk phone - 310 - - Ethernet15 IDF3 Standard Port trunk phone - 310 - - Ethernet16 IDF3 Standard Port trunk phone - 310 - - Ethernet17 IDF3 Standard Port trunk phone - 310 - - Ethernet18 IDF3 Standard Port trunk phone - 310 - - Ethernet19 IDF3 Standard Port trunk phone - 310 - - Ethernet20 IDF3 Standard Port trunk phone - 310 - - Ethernet21 IDF3 Standard Port trunk phone - 310 - - Ethernet22 IDF3 Standard Port trunk phone - 310 - - Ethernet23 IDF3 Standard Port trunk phone - 310 - - Ethernet24 IDF3 Standard Port trunk phone - 310 - - Ethernet25 IDF3 Standard Port trunk phone - 310 - - Ethernet26 IDF3 Standard Port trunk phone - 310 - - Ethernet27 IDF3 Standard Port trunk phone - 310 - - Ethernet28 IDF3 Standard Port trunk phone - 310 - - Ethernet29 IDF3 Standard Port trunk phone - 310 - - Ethernet30 IDF3 Standard Port trunk phone - 310 - - Ethernet31 IDF3 Standard Port trunk phone - 310 - - Ethernet32 IDF3 Standard Port trunk phone - 310 - - Ethernet33 IDF3 Standard Port trunk phone - 310 - - Ethernet34 IDF3 Standard Port trunk phone - 310 - - Ethernet35 IDF3 Standard Port trunk phone - 310 - - Ethernet36 IDF3 Standard Port trunk phone - 310 - - Ethernet37 IDF3 Standard Port trunk phone - 310 - - Ethernet38 IDF3 Standard Port trunk phone - 310 - - Ethernet39 IDF3 Standard Port trunk phone - 310 - - Ethernet40 IDF3 Standard Port trunk phone - 310 - - Ethernet41 IDF3 Standard Port trunk phone - 310 - - Ethernet42 IDF3 Standard Port trunk phone - 310 - - Ethernet43 IDF3 Standard Port trunk phone - 310 - - Ethernet44 IDF3 Standard Port trunk phone - 310 - - Ethernet45 IDF3 Standard Port trunk phone - 310 - - Ethernet46 IDF3 Standard Port trunk phone - 310 - - Ethernet47 IDF3 Standard Port trunk phone - 310 - - Ethernet48 IDF3 Standard Port trunk phone - 310 - - Ethernet49 IDF3 Standard Port trunk phone - 310 - - Ethernet50 IDF3 Standard Port trunk phone - 310 - - Ethernet51 IDF3 Standard Port trunk phone - 310 - - Ethernet52 IDF3 Standard Port trunk phone - 310 - - Ethernet53 IDF3 Standard Port trunk phone - 310 - - Ethernet54 IDF3 Standard Port trunk phone - 310 - - Ethernet55 IDF3 Standard Port trunk phone - 310 - - Ethernet56 IDF3 Standard Port trunk phone - 310 - - Ethernet57 IDF3 Standard Port trunk phone - 310 - - Ethernet58 IDF3 Standard Port trunk phone - 310 - - Ethernet59 IDF3 Standard Port trunk phone - 310 - - Ethernet60 IDF3 Standard Port trunk phone - 310 - - Ethernet61 IDF3 Standard Port trunk phone - 310 - - Ethernet62 IDF3 Standard Port trunk phone - 310 - - Ethernet63 IDF3 Standard Port trunk phone - 310 - - Ethernet64 IDF3 Standard Port trunk phone - 310 - - Ethernet65 IDF3 Standard Port trunk phone - 310 - - Ethernet66 IDF3 Standard Port trunk phone - 310 - - Ethernet67 IDF3 Standard Port trunk phone - 310 - - Ethernet68 IDF3 Standard Port trunk phone - 310 - - Ethernet69 IDF3 Standard Port trunk phone - 310 - - Ethernet70 IDF3 Standard Port trunk phone - 310 - - Ethernet71 IDF3 Standard Port trunk phone - 310 - - Ethernet72 IDF3 Standard Port trunk phone - 310 - - Ethernet73 IDF3 Standard Port trunk phone - 310 - - Ethernet74 IDF3 Standard Port trunk phone - 310 - - Ethernet75 IDF3 Standard Port trunk phone - 310 - - Ethernet76 IDF3 Standard Port trunk phone - 310 - - Ethernet77 IDF3 Standard Port trunk phone - 310 - - Ethernet78 IDF3 Standard Port trunk phone - 310 - - Ethernet79 IDF3 Standard Port trunk phone - 310 - - Ethernet80 IDF3 Standard Port trunk phone - 310 - - Ethernet81 IDF3 Standard Port trunk phone - 310 - - Ethernet82 IDF3 Standard Port trunk phone - 310 - - Ethernet83 IDF3 Standard Port trunk phone - 310 - - Ethernet84 IDF3 Standard Port trunk phone - 310 - - Ethernet85 IDF3 Standard Port trunk phone - 310 - - Ethernet86 IDF3 Standard Port trunk phone - 310 - - Ethernet87 IDF3 Standard Port trunk phone - 310 - - Ethernet88 IDF3 Standard Port trunk phone - 310 - - Ethernet89 IDF3 Standard Port trunk phone - 310 - - Ethernet90 IDF3 Standard Port trunk phone - 310 - - Ethernet91 IDF3 Standard Port trunk phone - 310 - - Ethernet92 IDF3 Standard Port trunk phone - 310 - - Ethernet93 IDF3 Standard Port trunk phone - 310 - - Ethernet94 IDF3 Standard Port trunk phone - 310 - - Ethernet95 IDF3 Standard Port trunk phone - 310 - - Ethernet96 IDF3 Standard Port trunk phone - 310 - - Ethernet97/1 LEAF3A_Ethernet97/4 *trunk *10,310,320,330 *- *- 971 Ethernet97/2 LEAF3B_Ethernet97/4 *trunk *10,310,320,330 *- *- 971 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet49\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet50\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet52\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet53\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet54\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet55\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet56\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet57\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet58\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet59\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet60\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet61\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet62\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet63\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet64\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet65\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet66\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet67\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet68\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet69\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet70\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet71\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet72\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet73\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet74\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet75\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet76\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet77\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet78\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet79\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet80\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet81\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet82\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet83\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet84\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet85\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet86\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet87\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet88\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet89\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet90\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet91\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet92\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet93\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet94\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet95\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet96\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet97/1\n   description LEAF3A_Ethernet97/4\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/2\n   description LEAF3B_Ethernet97/4\n   no shutdown\n   channel-group 971 mode active\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel971 IDF3_AGG_Po974 switched trunk 10,310,320,330 - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel971\n   description IDF3_AGG_Po974\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#routing","title":"Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#static-routes","title":"Static Routes","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - - default 0.0.0.0/0 10.10.10.1 - 1 - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#multicast","title":"Multicast","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#8021x-port-security","title":"802.1X Port Security","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#8021x-summary","title":"802.1X Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#8021x-interfaces","title":"802.1X Interfaces","text":"Interface PAE Mode State Phone Force Authorized Reauthentication Auth Failure Action Host Mode Mac Based Auth Eapol Ethernet1 authenticator auto - True allow vlan 330 multi-host True - Ethernet2 authenticator auto - True allow vlan 330 multi-host True - Ethernet3 authenticator auto - True allow vlan 330 multi-host True - Ethernet4 authenticator auto - True allow vlan 330 multi-host True - Ethernet5 authenticator auto - True allow vlan 330 multi-host True - Ethernet6 authenticator auto - True allow vlan 330 multi-host True - Ethernet7 authenticator auto - True allow vlan 330 multi-host True - Ethernet8 authenticator auto - True allow vlan 330 multi-host True - Ethernet9 authenticator auto - True allow vlan 330 multi-host True - Ethernet10 authenticator auto - True allow vlan 330 multi-host True - Ethernet11 authenticator auto - True allow vlan 330 multi-host True - Ethernet12 authenticator auto - True allow vlan 330 multi-host True - Ethernet13 authenticator auto - True allow vlan 330 multi-host True - Ethernet14 authenticator auto - True allow vlan 330 multi-host True - Ethernet15 authenticator auto - True allow vlan 330 multi-host True - Ethernet16 authenticator auto - True allow vlan 330 multi-host True - Ethernet17 authenticator auto - True allow vlan 330 multi-host True - Ethernet18 authenticator auto - True allow vlan 330 multi-host True - Ethernet19 authenticator auto - True allow vlan 330 multi-host True - Ethernet20 authenticator auto - True allow vlan 330 multi-host True - Ethernet21 authenticator auto - True allow vlan 330 multi-host True - Ethernet22 authenticator auto - True allow vlan 330 multi-host True - Ethernet23 authenticator auto - True allow vlan 330 multi-host True - Ethernet24 authenticator auto - True allow vlan 330 multi-host True - Ethernet25 authenticator auto - True allow vlan 330 multi-host True - Ethernet26 authenticator auto - True allow vlan 330 multi-host True - Ethernet27 authenticator auto - True allow vlan 330 multi-host True - Ethernet28 authenticator auto - True allow vlan 330 multi-host True - Ethernet29 authenticator auto - True allow vlan 330 multi-host True - Ethernet30 authenticator auto - True allow vlan 330 multi-host True - Ethernet31 authenticator auto - True allow vlan 330 multi-host True - Ethernet32 authenticator auto - True allow vlan 330 multi-host True - Ethernet33 authenticator auto - True allow vlan 330 multi-host True - Ethernet34 authenticator auto - True allow vlan 330 multi-host True - Ethernet35 authenticator auto - True allow vlan 330 multi-host True - Ethernet36 authenticator auto - True allow vlan 330 multi-host True - Ethernet37 authenticator auto - True allow vlan 330 multi-host True - Ethernet38 authenticator auto - True allow vlan 330 multi-host True - Ethernet39 authenticator auto - True allow vlan 330 multi-host True - Ethernet40 authenticator auto - True allow vlan 330 multi-host True - Ethernet41 authenticator auto - True allow vlan 330 multi-host True - Ethernet42 authenticator auto - True allow vlan 330 multi-host True - Ethernet43 authenticator auto - True allow vlan 330 multi-host True - Ethernet44 authenticator auto - True allow vlan 330 multi-host True - Ethernet45 authenticator auto - True allow vlan 330 multi-host True - Ethernet46 authenticator auto - True allow vlan 330 multi-host True - Ethernet47 authenticator auto - True allow vlan 330 multi-host True - Ethernet48 authenticator auto - True allow vlan 330 multi-host True - Ethernet49 authenticator auto - True allow vlan 330 multi-host True - Ethernet50 authenticator auto - True allow vlan 330 multi-host True - Ethernet51 authenticator auto - True allow vlan 330 multi-host True - Ethernet52 authenticator auto - True allow vlan 330 multi-host True - Ethernet53 authenticator auto - True allow vlan 330 multi-host True - Ethernet54 authenticator auto - True allow vlan 330 multi-host True - Ethernet55 authenticator auto - True allow vlan 330 multi-host True - Ethernet56 authenticator auto - True allow vlan 330 multi-host True - Ethernet57 authenticator auto - True allow vlan 330 multi-host True - Ethernet58 authenticator auto - True allow vlan 330 multi-host True - Ethernet59 authenticator auto - True allow vlan 330 multi-host True - Ethernet60 authenticator auto - True allow vlan 330 multi-host True - Ethernet61 authenticator auto - True allow vlan 330 multi-host True - Ethernet62 authenticator auto - True allow vlan 330 multi-host True - Ethernet63 authenticator auto - True allow vlan 330 multi-host True - Ethernet64 authenticator auto - True allow vlan 330 multi-host True - Ethernet65 authenticator auto - True allow vlan 330 multi-host True - Ethernet66 authenticator auto - True allow vlan 330 multi-host True - Ethernet67 authenticator auto - True allow vlan 330 multi-host True - Ethernet68 authenticator auto - True allow vlan 330 multi-host True - Ethernet69 authenticator auto - True allow vlan 330 multi-host True - Ethernet70 authenticator auto - True allow vlan 330 multi-host True - Ethernet71 authenticator auto - True allow vlan 330 multi-host True - Ethernet72 authenticator auto - True allow vlan 330 multi-host True - Ethernet73 authenticator auto - True allow vlan 330 multi-host True - Ethernet74 authenticator auto - True allow vlan 330 multi-host True - Ethernet75 authenticator auto - True allow vlan 330 multi-host True - Ethernet76 authenticator auto - True allow vlan 330 multi-host True - Ethernet77 authenticator auto - True allow vlan 330 multi-host True - Ethernet78 authenticator auto - True allow vlan 330 multi-host True - Ethernet79 authenticator auto - True allow vlan 330 multi-host True - Ethernet80 authenticator auto - True allow vlan 330 multi-host True - Ethernet81 authenticator auto - True allow vlan 330 multi-host True - Ethernet82 authenticator auto - True allow vlan 330 multi-host True - Ethernet83 authenticator auto - True allow vlan 330 multi-host True - Ethernet84 authenticator auto - True allow vlan 330 multi-host True - Ethernet85 authenticator auto - True allow vlan 330 multi-host True - Ethernet86 authenticator auto - True allow vlan 330 multi-host True - Ethernet87 authenticator auto - True allow vlan 330 multi-host True - Ethernet88 authenticator auto - True allow vlan 330 multi-host True - Ethernet89 authenticator auto - True allow vlan 330 multi-host True - Ethernet90 authenticator auto - True allow vlan 330 multi-host True - Ethernet91 authenticator auto - True allow vlan 330 multi-host True - Ethernet92 authenticator auto - True allow vlan 330 multi-host True - Ethernet93 authenticator auto - True allow vlan 330 multi-host True - Ethernet94 authenticator auto - True allow vlan 330 multi-host True - Ethernet95 authenticator auto - True allow vlan 330 multi-host True - Ethernet96 authenticator auto - True allow vlan 330 multi-host True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/campus-fabric/documentation/devices/LEAF3D.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html","title":"LEAF3E","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authorization</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>802.1X Port Security<ul> <li>802.1X Summary</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#management","title":"Management","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.110/24 172.100.100.1 Vlan10 L2LEAF_INBAND_MGMT inband default 10.10.10.13/24 10.10.10.1"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - - Vlan10 L2LEAF_INBAND_MGMT inband default - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.110/24\n!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\n   ip address 10.10.10.13/24\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ntp","title":"NTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#authentication","title":"Authentication","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#local-users","title":"Local Users","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#vlans","title":"VLANs","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 L2LEAF_INBAND_MGMT - 310 IDF3-Data - 320 IDF3-Voice - 330 IDF3-Guest -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name L2LEAF_INBAND_MGMT\n!\nvlan 310\n   name IDF3-Data\n!\nvlan 320\n   name IDF3-Voice\n!\nvlan 330\n   name IDF3-Guest\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#interfaces","title":"Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 IDF3 Standard Port trunk phone - 310 - - Ethernet2 IDF3 Standard Port trunk phone - 310 - - Ethernet3 IDF3 Standard Port trunk phone - 310 - - Ethernet4 IDF3 Standard Port trunk phone - 310 - - Ethernet5 IDF3 Standard Port trunk phone - 310 - - Ethernet6 IDF3 Standard Port trunk phone - 310 - - Ethernet7 IDF3 Standard Port trunk phone - 310 - - Ethernet8 IDF3 Standard Port trunk phone - 310 - - Ethernet9 IDF3 Standard Port trunk phone - 310 - - Ethernet10 IDF3 Standard Port trunk phone - 310 - - Ethernet11 IDF3 Standard Port trunk phone - 310 - - Ethernet12 IDF3 Standard Port trunk phone - 310 - - Ethernet13 IDF3 Standard Port trunk phone - 310 - - Ethernet14 IDF3 Standard Port trunk phone - 310 - - Ethernet15 IDF3 Standard Port trunk phone - 310 - - Ethernet16 IDF3 Standard Port trunk phone - 310 - - Ethernet17 IDF3 Standard Port trunk phone - 310 - - Ethernet18 IDF3 Standard Port trunk phone - 310 - - Ethernet19 IDF3 Standard Port trunk phone - 310 - - Ethernet20 IDF3 Standard Port trunk phone - 310 - - Ethernet21 IDF3 Standard Port trunk phone - 310 - - Ethernet22 IDF3 Standard Port trunk phone - 310 - - Ethernet23 IDF3 Standard Port trunk phone - 310 - - Ethernet24 IDF3 Standard Port trunk phone - 310 - - Ethernet25 IDF3 Standard Port trunk phone - 310 - - Ethernet26 IDF3 Standard Port trunk phone - 310 - - Ethernet27 IDF3 Standard Port trunk phone - 310 - - Ethernet28 IDF3 Standard Port trunk phone - 310 - - Ethernet29 IDF3 Standard Port trunk phone - 310 - - Ethernet30 IDF3 Standard Port trunk phone - 310 - - Ethernet31 IDF3 Standard Port trunk phone - 310 - - Ethernet32 IDF3 Standard Port trunk phone - 310 - - Ethernet33 IDF3 Standard Port trunk phone - 310 - - Ethernet34 IDF3 Standard Port trunk phone - 310 - - Ethernet35 IDF3 Standard Port trunk phone - 310 - - Ethernet36 IDF3 Standard Port trunk phone - 310 - - Ethernet37 IDF3 Standard Port trunk phone - 310 - - Ethernet38 IDF3 Standard Port trunk phone - 310 - - Ethernet39 IDF3 Standard Port trunk phone - 310 - - Ethernet40 IDF3 Standard Port trunk phone - 310 - - Ethernet41 IDF3 Standard Port trunk phone - 310 - - Ethernet42 IDF3 Standard Port trunk phone - 310 - - Ethernet43 IDF3 Standard Port trunk phone - 310 - - Ethernet44 IDF3 Standard Port trunk phone - 310 - - Ethernet45 IDF3 Standard Port trunk phone - 310 - - Ethernet46 IDF3 Standard Port trunk phone - 310 - - Ethernet47 IDF3 Standard Port trunk phone - 310 - - Ethernet48 IDF3 Standard Port trunk phone - 310 - - Ethernet49 IDF3 Standard Port trunk phone - 310 - - Ethernet50 IDF3 Standard Port trunk phone - 310 - - Ethernet51 IDF3 Standard Port trunk phone - 310 - - Ethernet52 IDF3 Standard Port trunk phone - 310 - - Ethernet53 IDF3 Standard Port trunk phone - 310 - - Ethernet54 IDF3 Standard Port trunk phone - 310 - - Ethernet55 IDF3 Standard Port trunk phone - 310 - - Ethernet56 IDF3 Standard Port trunk phone - 310 - - Ethernet57 IDF3 Standard Port trunk phone - 310 - - Ethernet58 IDF3 Standard Port trunk phone - 310 - - Ethernet59 IDF3 Standard Port trunk phone - 310 - - Ethernet60 IDF3 Standard Port trunk phone - 310 - - Ethernet61 IDF3 Standard Port trunk phone - 310 - - Ethernet62 IDF3 Standard Port trunk phone - 310 - - Ethernet63 IDF3 Standard Port trunk phone - 310 - - Ethernet64 IDF3 Standard Port trunk phone - 310 - - Ethernet65 IDF3 Standard Port trunk phone - 310 - - Ethernet66 IDF3 Standard Port trunk phone - 310 - - Ethernet67 IDF3 Standard Port trunk phone - 310 - - Ethernet68 IDF3 Standard Port trunk phone - 310 - - Ethernet69 IDF3 Standard Port trunk phone - 310 - - Ethernet70 IDF3 Standard Port trunk phone - 310 - - Ethernet71 IDF3 Standard Port trunk phone - 310 - - Ethernet72 IDF3 Standard Port trunk phone - 310 - - Ethernet73 IDF3 Standard Port trunk phone - 310 - - Ethernet74 IDF3 Standard Port trunk phone - 310 - - Ethernet75 IDF3 Standard Port trunk phone - 310 - - Ethernet76 IDF3 Standard Port trunk phone - 310 - - Ethernet77 IDF3 Standard Port trunk phone - 310 - - Ethernet78 IDF3 Standard Port trunk phone - 310 - - Ethernet79 IDF3 Standard Port trunk phone - 310 - - Ethernet80 IDF3 Standard Port trunk phone - 310 - - Ethernet81 IDF3 Standard Port trunk phone - 310 - - Ethernet82 IDF3 Standard Port trunk phone - 310 - - Ethernet83 IDF3 Standard Port trunk phone - 310 - - Ethernet84 IDF3 Standard Port trunk phone - 310 - - Ethernet85 IDF3 Standard Port trunk phone - 310 - - Ethernet86 IDF3 Standard Port trunk phone - 310 - - Ethernet87 IDF3 Standard Port trunk phone - 310 - - Ethernet88 IDF3 Standard Port trunk phone - 310 - - Ethernet89 IDF3 Standard Port trunk phone - 310 - - Ethernet90 IDF3 Standard Port trunk phone - 310 - - Ethernet91 IDF3 Standard Port trunk phone - 310 - - Ethernet92 IDF3 Standard Port trunk phone - 310 - - Ethernet93 IDF3 Standard Port trunk phone - 310 - - Ethernet94 IDF3 Standard Port trunk phone - 310 - - Ethernet95 IDF3 Standard Port trunk phone - 310 - - Ethernet96 IDF3 Standard Port trunk phone - 310 - - Ethernet97/1 LEAF3A_Ethernet98/1 *trunk *10,310,320,330 *- *- 971 Ethernet97/2 LEAF3B_Ethernet98/1 *trunk *10,310,320,330 *- *- 971 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet2\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet3\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet4\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet5\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet6\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet7\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet8\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet9\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet10\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet11\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet12\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet13\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet14\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet15\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet16\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet17\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet18\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet19\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet20\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet21\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet22\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet23\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet24\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet25\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet26\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet27\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet28\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet29\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet30\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet31\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet32\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet33\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet34\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet35\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet36\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet37\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet38\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet39\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet40\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet41\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet42\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet43\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet44\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet45\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet46\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet47\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet48\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet49\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet50\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet51\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet52\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet53\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet54\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet55\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet56\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet57\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet58\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet59\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet60\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet61\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet62\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet63\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet64\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet65\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet66\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet67\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet68\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet69\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet70\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet71\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet72\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet73\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet74\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet75\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet76\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet77\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet78\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet79\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet80\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet81\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet82\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet83\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet84\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet85\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet86\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet87\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet88\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet89\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet90\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet91\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet92\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet93\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet94\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet95\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet96\n   description IDF3 Standard Port\n   no shutdown\n   switchport trunk native vlan 310\n   switchport phone vlan 320\n   switchport phone trunk untagged\n   switchport mode trunk phone\n   switchport\n   dot1x pae authenticator\n   dot1x authentication failure action traffic allow vlan 330\n   dot1x reauthentication\n   dot1x port-control auto\n   dot1x host-mode multi-host authenticated\n   dot1x mac based authentication\n   dot1x timeout tx-period 3\n   dot1x timeout reauth-period server\n   dot1x reauthorization request limit 3\n   spanning-tree portfast\n   spanning-tree bpduguard enable\n!\ninterface Ethernet97/1\n   description LEAF3A_Ethernet98/1\n   no shutdown\n   channel-group 971 mode active\n!\ninterface Ethernet97/2\n   description LEAF3B_Ethernet98/1\n   no shutdown\n   channel-group 971 mode active\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel971 IDF3_AGG_Po981 switched trunk 10,310,320,330 - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel971\n   description IDF3_AGG_Po981\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#routing","title":"Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#static-routes","title":"Static Routes","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - - default 0.0.0.0/0 10.10.10.1 - 1 - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\nip route 0.0.0.0/0 10.10.10.1\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#multicast","title":"Multicast","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#8021x-port-security","title":"802.1X Port Security","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#8021x-summary","title":"802.1X Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#8021x-interfaces","title":"802.1X Interfaces","text":"Interface PAE Mode State Phone Force Authorized Reauthentication Auth Failure Action Host Mode Mac Based Auth Eapol Ethernet1 authenticator auto - True allow vlan 330 multi-host True - Ethernet2 authenticator auto - True allow vlan 330 multi-host True - Ethernet3 authenticator auto - True allow vlan 330 multi-host True - Ethernet4 authenticator auto - True allow vlan 330 multi-host True - Ethernet5 authenticator auto - True allow vlan 330 multi-host True - Ethernet6 authenticator auto - True allow vlan 330 multi-host True - Ethernet7 authenticator auto - True allow vlan 330 multi-host True - Ethernet8 authenticator auto - True allow vlan 330 multi-host True - Ethernet9 authenticator auto - True allow vlan 330 multi-host True - Ethernet10 authenticator auto - True allow vlan 330 multi-host True - Ethernet11 authenticator auto - True allow vlan 330 multi-host True - Ethernet12 authenticator auto - True allow vlan 330 multi-host True - Ethernet13 authenticator auto - True allow vlan 330 multi-host True - Ethernet14 authenticator auto - True allow vlan 330 multi-host True - Ethernet15 authenticator auto - True allow vlan 330 multi-host True - Ethernet16 authenticator auto - True allow vlan 330 multi-host True - Ethernet17 authenticator auto - True allow vlan 330 multi-host True - Ethernet18 authenticator auto - True allow vlan 330 multi-host True - Ethernet19 authenticator auto - True allow vlan 330 multi-host True - Ethernet20 authenticator auto - True allow vlan 330 multi-host True - Ethernet21 authenticator auto - True allow vlan 330 multi-host True - Ethernet22 authenticator auto - True allow vlan 330 multi-host True - Ethernet23 authenticator auto - True allow vlan 330 multi-host True - Ethernet24 authenticator auto - True allow vlan 330 multi-host True - Ethernet25 authenticator auto - True allow vlan 330 multi-host True - Ethernet26 authenticator auto - True allow vlan 330 multi-host True - Ethernet27 authenticator auto - True allow vlan 330 multi-host True - Ethernet28 authenticator auto - True allow vlan 330 multi-host True - Ethernet29 authenticator auto - True allow vlan 330 multi-host True - Ethernet30 authenticator auto - True allow vlan 330 multi-host True - Ethernet31 authenticator auto - True allow vlan 330 multi-host True - Ethernet32 authenticator auto - True allow vlan 330 multi-host True - Ethernet33 authenticator auto - True allow vlan 330 multi-host True - Ethernet34 authenticator auto - True allow vlan 330 multi-host True - Ethernet35 authenticator auto - True allow vlan 330 multi-host True - Ethernet36 authenticator auto - True allow vlan 330 multi-host True - Ethernet37 authenticator auto - True allow vlan 330 multi-host True - Ethernet38 authenticator auto - True allow vlan 330 multi-host True - Ethernet39 authenticator auto - True allow vlan 330 multi-host True - Ethernet40 authenticator auto - True allow vlan 330 multi-host True - Ethernet41 authenticator auto - True allow vlan 330 multi-host True - Ethernet42 authenticator auto - True allow vlan 330 multi-host True - Ethernet43 authenticator auto - True allow vlan 330 multi-host True - Ethernet44 authenticator auto - True allow vlan 330 multi-host True - Ethernet45 authenticator auto - True allow vlan 330 multi-host True - Ethernet46 authenticator auto - True allow vlan 330 multi-host True - Ethernet47 authenticator auto - True allow vlan 330 multi-host True - Ethernet48 authenticator auto - True allow vlan 330 multi-host True - Ethernet49 authenticator auto - True allow vlan 330 multi-host True - Ethernet50 authenticator auto - True allow vlan 330 multi-host True - Ethernet51 authenticator auto - True allow vlan 330 multi-host True - Ethernet52 authenticator auto - True allow vlan 330 multi-host True - Ethernet53 authenticator auto - True allow vlan 330 multi-host True - Ethernet54 authenticator auto - True allow vlan 330 multi-host True - Ethernet55 authenticator auto - True allow vlan 330 multi-host True - Ethernet56 authenticator auto - True allow vlan 330 multi-host True - Ethernet57 authenticator auto - True allow vlan 330 multi-host True - Ethernet58 authenticator auto - True allow vlan 330 multi-host True - Ethernet59 authenticator auto - True allow vlan 330 multi-host True - Ethernet60 authenticator auto - True allow vlan 330 multi-host True - Ethernet61 authenticator auto - True allow vlan 330 multi-host True - Ethernet62 authenticator auto - True allow vlan 330 multi-host True - Ethernet63 authenticator auto - True allow vlan 330 multi-host True - Ethernet64 authenticator auto - True allow vlan 330 multi-host True - Ethernet65 authenticator auto - True allow vlan 330 multi-host True - Ethernet66 authenticator auto - True allow vlan 330 multi-host True - Ethernet67 authenticator auto - True allow vlan 330 multi-host True - Ethernet68 authenticator auto - True allow vlan 330 multi-host True - Ethernet69 authenticator auto - True allow vlan 330 multi-host True - Ethernet70 authenticator auto - True allow vlan 330 multi-host True - Ethernet71 authenticator auto - True allow vlan 330 multi-host True - Ethernet72 authenticator auto - True allow vlan 330 multi-host True - Ethernet73 authenticator auto - True allow vlan 330 multi-host True - Ethernet74 authenticator auto - True allow vlan 330 multi-host True - Ethernet75 authenticator auto - True allow vlan 330 multi-host True - Ethernet76 authenticator auto - True allow vlan 330 multi-host True - Ethernet77 authenticator auto - True allow vlan 330 multi-host True - Ethernet78 authenticator auto - True allow vlan 330 multi-host True - Ethernet79 authenticator auto - True allow vlan 330 multi-host True - Ethernet80 authenticator auto - True allow vlan 330 multi-host True - Ethernet81 authenticator auto - True allow vlan 330 multi-host True - Ethernet82 authenticator auto - True allow vlan 330 multi-host True - Ethernet83 authenticator auto - True allow vlan 330 multi-host True - Ethernet84 authenticator auto - True allow vlan 330 multi-host True - Ethernet85 authenticator auto - True allow vlan 330 multi-host True - Ethernet86 authenticator auto - True allow vlan 330 multi-host True - Ethernet87 authenticator auto - True allow vlan 330 multi-host True - Ethernet88 authenticator auto - True allow vlan 330 multi-host True - Ethernet89 authenticator auto - True allow vlan 330 multi-host True - Ethernet90 authenticator auto - True allow vlan 330 multi-host True - Ethernet91 authenticator auto - True allow vlan 330 multi-host True - Ethernet92 authenticator auto - True allow vlan 330 multi-host True - Ethernet93 authenticator auto - True allow vlan 330 multi-host True - Ethernet94 authenticator auto - True allow vlan 330 multi-host True - Ethernet95 authenticator auto - True allow vlan 330 multi-host True - Ethernet96 authenticator auto - True allow vlan 330 multi-host True -"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/campus-fabric/documentation/devices/LEAF3E.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html","title":"SPINE1","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router OSPF</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#management","title":"Management","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.101/24 172.100.100.1"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.101/24\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ntp","title":"NTP","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#authentication","title":"Authentication","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#local-users","title":"Local Users","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#mlag","title":"MLAG","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link SPINES Vlan4094 192.168.0.1 Port-Channel551 <p>Dual primary detection is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id SPINES\n   local-interface Vlan4094\n   peer-address 192.168.0.1\n   peer-link Port-Channel551\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#vlans","title":"VLANs","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 L2LEAF_INBAND_MGMT - 110 IDF1-Data - 120 IDF1-Voice - 130 IDF1-Guest - 210 IDF2-Data - 220 IDF2-Voice - 230 IDF2-Guest - 310 IDF3-Data - 320 IDF3-Voice - 330 IDF3-Guest - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name L2LEAF_INBAND_MGMT\n!\nvlan 110\n   name IDF1-Data\n!\nvlan 120\n   name IDF1-Voice\n!\nvlan 130\n   name IDF1-Guest\n!\nvlan 210\n   name IDF2-Data\n!\nvlan 220\n   name IDF2-Voice\n!\nvlan 230\n   name IDF2-Guest\n!\nvlan 310\n   name IDF3-Data\n!\nvlan 320\n   name IDF3-Voice\n!\nvlan 330\n   name IDF3-Guest\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#interfaces","title":"Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 LEAF1A_Ethernet51 *trunk *10,110,120,130 *- *- 1 Ethernet49/1 LEAF2A_Ethernet1/1 *trunk *10,210,220,230 *- *- 491 Ethernet50/1 LEAF3A_Ethernet97/1 *trunk *10,310,320,330 *- *- 501 Ethernet51/1 LEAF3B_Ethernet97/1 *trunk *10,310,320,330 *- *- 501 Ethernet55/1 MLAG_PEER_SPINE2_Ethernet55/1 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 551 Ethernet56/1 MLAG_PEER_SPINE2_Ethernet56/1 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 551 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet52/1 P2P_LINK_TO_WAN_Ethernet1/1 routed - 10.0.0.3/31 default 1500 False - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description LEAF1A_Ethernet51\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet49/1\n   description LEAF2A_Ethernet1/1\n   no shutdown\n   channel-group 491 mode active\n!\ninterface Ethernet50/1\n   description LEAF3A_Ethernet97/1\n   no shutdown\n   channel-group 501 mode active\n!\ninterface Ethernet51/1\n   description LEAF3B_Ethernet97/1\n   no shutdown\n   channel-group 501 mode active\n!\ninterface Ethernet52/1\n   description P2P_LINK_TO_WAN_Ethernet1/1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.0.0.3/31\n   ip ospf network point-to-point\n   ip ospf area 0.0.0.0\n!\ninterface Ethernet55/1\n   description MLAG_PEER_SPINE2_Ethernet55/1\n   no shutdown\n   channel-group 551 mode active\n!\ninterface Ethernet56/1\n   description MLAG_PEER_SPINE2_Ethernet56/1\n   no shutdown\n   channel-group 551 mode active\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 IDF1_Po51 switched trunk 10,110,120,130 - - - - 1 - Port-Channel491 LEAF2A_Po11 switched trunk 10,210,220,230 - - - - 491 - Port-Channel501 IDF3_AGG_Po971 switched trunk 10,310,320,330 - - - - 501 - Port-Channel551 MLAG_PEER_SPINE2_Po551 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description IDF1_Po51\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,110,120,130\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel491\n   description LEAF2A_Po11\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,210,220,230\n   switchport mode trunk\n   mlag 491\n!\ninterface Port-Channel501\n   description IDF3_AGG_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 501\n!\ninterface Port-Channel551\n   description MLAG_PEER_SPINE2_Po551\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 Router_ID default 172.16.1.1/32"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 Router_ID default -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description Router_ID\n   no shutdown\n   ip address 172.16.1.1/32\n   ip ospf area 0.0.0.0\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan10 L2LEAF_INBAND_MGMT default 1500 False Vlan110 IDF1-Data default - False Vlan120 IDF1-Voice default - False Vlan130 IDF1-Guest default - False Vlan210 IDF2-Data default - False Vlan220 IDF2-Voice default - False Vlan230 IDF2-Guest default - False Vlan310 IDF3-Data default - False Vlan320 IDF3-Voice default - False Vlan330 IDF3-Guest default - False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan10 default 10.10.10.2/24 - 10.10.10.1 - - - Vlan110 default 10.1.10.2/23 - 10.1.10.1 - - - Vlan120 default 10.1.20.2/23 - 10.1.20.1 - - - Vlan130 default 10.1.30.2/23 - 10.1.30.1 - - - Vlan210 default 10.2.10.2/23 - 10.2.10.1 - - - Vlan220 default 10.2.20.2/23 - 10.2.20.1 - - - Vlan230 default 10.2.30.2/23 - 10.2.30.1 - - - Vlan310 default 10.3.10.2/23 - 10.3.10.1 - - - Vlan320 default 10.3.20.2/23 - 10.3.20.1 - - - Vlan330 default 10.3.30.2/23 - 10.3.30.1 - - - Vlan4093 default 10.1.1.0/31 - - - - - Vlan4094 default 192.168.0.0/31 - - - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\n   ip address 10.10.10.2/24\n   ip attached-host route export 19\n   ip virtual-router address 10.10.10.1\n!\ninterface Vlan110\n   description IDF1-Data\n   no shutdown\n   ip address 10.1.10.2/23\n   ip virtual-router address 10.1.10.1\n!\ninterface Vlan120\n   description IDF1-Voice\n   no shutdown\n   ip address 10.1.20.2/23\n   ip virtual-router address 10.1.20.1\n!\ninterface Vlan130\n   description IDF1-Guest\n   no shutdown\n   ip address 10.1.30.2/23\n   ip virtual-router address 10.1.30.1\n!\ninterface Vlan210\n   description IDF2-Data\n   no shutdown\n   ip address 10.2.10.2/23\n   ip virtual-router address 10.2.10.1\n!\ninterface Vlan220\n   description IDF2-Voice\n   no shutdown\n   ip address 10.2.20.2/23\n   ip virtual-router address 10.2.20.1\n!\ninterface Vlan230\n   description IDF2-Guest\n   no shutdown\n   ip address 10.2.30.2/23\n   ip virtual-router address 10.2.30.1\n!\ninterface Vlan310\n   description IDF3-Data\n   no shutdown\n   ip address 10.3.10.2/23\n   ip virtual-router address 10.3.10.1\n!\ninterface Vlan320\n   description IDF3-Voice\n   no shutdown\n   ip address 10.3.20.2/23\n   ip virtual-router address 10.3.20.1\n!\ninterface Vlan330\n   description IDF3-Guest\n   no shutdown\n   ip address 10.3.30.2/23\n   ip virtual-router address 10.3.30.1\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.1.1.0/31\n   ip ospf network point-to-point\n   ip ospf area 0.0.0.0\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.0/31\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#routing","title":"Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#virtual-router-mac-address-001c7300dc01","title":"Virtual Router MAC Address: 00:1c:73:00:dc:01","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:dc:01\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#static-routes","title":"Static Routes","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#router-ospf","title":"Router OSPF","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#router-ospf-summary","title":"Router OSPF Summary","text":"Process ID Router ID Default Passive Interface No Passive Interface BFD Max LSA Default Information Originate Log Adjacency Changes Detail Auto Cost Reference Bandwidth Maximum Paths MPLS LDP Sync Default Distribute List In 100 172.16.1.1 enabled Vlan4093  Ethernet52/1  disabled 12000 disabled disabled - - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#router-ospf-router-redistribution","title":"Router OSPF Router Redistribution","text":"Process ID Source Protocol Include Leaked Route Map 100 connected disabled -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ospf-interfaces","title":"OSPF Interfaces","text":"Interface Area Cost Point To Point Ethernet52/1 0.0.0.0 - True Vlan4093 0.0.0.0 - True Loopback0 0.0.0.0 - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#router-ospf-device-configuration","title":"Router OSPF Device Configuration","text":"<pre><code>!\nrouter ospf 100\n   router-id 172.16.1.1\n   passive-interface default\n   no passive-interface Vlan4093\n   no passive-interface Ethernet52/1\n   max-lsa 12000\n   redistribute connected\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#multicast","title":"Multicast","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/campus-fabric/documentation/devices/SPINE1.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html","title":"SPINE2","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router OSPF</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#management","title":"Management","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.102/24 172.100.100.1"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.102/24\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ntp","title":"NTP","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#authentication","title":"Authentication","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#local-users","title":"Local Users","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#mlag","title":"MLAG","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link SPINES Vlan4094 192.168.0.0 Port-Channel551 <p>Dual primary detection is disabled.</p>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id SPINES\n   local-interface Vlan4094\n   peer-address 192.168.0.0\n   peer-link Port-Channel551\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#vlans","title":"VLANs","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 L2LEAF_INBAND_MGMT - 110 IDF1-Data - 120 IDF1-Voice - 130 IDF1-Guest - 210 IDF2-Data - 220 IDF2-Voice - 230 IDF2-Guest - 310 IDF3-Data - 320 IDF3-Voice - 330 IDF3-Guest - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name L2LEAF_INBAND_MGMT\n!\nvlan 110\n   name IDF1-Data\n!\nvlan 120\n   name IDF1-Voice\n!\nvlan 130\n   name IDF1-Guest\n!\nvlan 210\n   name IDF2-Data\n!\nvlan 220\n   name IDF2-Voice\n!\nvlan 230\n   name IDF2-Guest\n!\nvlan 310\n   name IDF3-Data\n!\nvlan 320\n   name IDF3-Voice\n!\nvlan 330\n   name IDF3-Guest\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#interfaces","title":"Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 LEAF1B_Ethernet51 *trunk *10,110,120,130 *- *- 1 Ethernet49/1 LEAF2A_Ethernet1/3 *trunk *10,210,220,230 *- *- 491 Ethernet50/1 LEAF3A_Ethernet97/2 *trunk *10,310,320,330 *- *- 501 Ethernet51/1 LEAF3B_Ethernet97/2 *trunk *10,310,320,330 *- *- 501 Ethernet55/1 MLAG_PEER_SPINE1_Ethernet55/1 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 551 Ethernet56/1 MLAG_PEER_SPINE1_Ethernet56/1 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 551 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet52/1 P2P_LINK_TO_WAN_Ethernet1/1 routed - 10.0.0.5/31 default 1500 False - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description LEAF1B_Ethernet51\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet49/1\n   description LEAF2A_Ethernet1/3\n   no shutdown\n   channel-group 491 mode active\n!\ninterface Ethernet50/1\n   description LEAF3A_Ethernet97/2\n   no shutdown\n   channel-group 501 mode active\n!\ninterface Ethernet51/1\n   description LEAF3B_Ethernet97/2\n   no shutdown\n   channel-group 501 mode active\n!\ninterface Ethernet52/1\n   description P2P_LINK_TO_WAN_Ethernet1/1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.0.0.5/31\n   ip ospf network point-to-point\n   ip ospf area 0.0.0.0\n!\ninterface Ethernet55/1\n   description MLAG_PEER_SPINE1_Ethernet55/1\n   no shutdown\n   channel-group 551 mode active\n!\ninterface Ethernet56/1\n   description MLAG_PEER_SPINE1_Ethernet56/1\n   no shutdown\n   channel-group 551 mode active\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 IDF1_Po51 switched trunk 10,110,120,130 - - - - 1 - Port-Channel491 LEAF2A_Po11 switched trunk 10,210,220,230 - - - - 491 - Port-Channel501 IDF3_AGG_Po971 switched trunk 10,310,320,330 - - - - 501 - Port-Channel551 MLAG_PEER_SPINE1_Po551 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description IDF1_Po51\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,110,120,130\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel491\n   description LEAF2A_Po11\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,210,220,230\n   switchport mode trunk\n   mlag 491\n!\ninterface Port-Channel501\n   description IDF3_AGG_Po971\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,310,320,330\n   switchport mode trunk\n   mlag 501\n!\ninterface Port-Channel551\n   description MLAG_PEER_SPINE1_Po551\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 Router_ID default 172.16.1.2/32"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 Router_ID default -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description Router_ID\n   no shutdown\n   ip address 172.16.1.2/32\n   ip ospf area 0.0.0.0\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan10 L2LEAF_INBAND_MGMT default 1500 False Vlan110 IDF1-Data default - False Vlan120 IDF1-Voice default - False Vlan130 IDF1-Guest default - False Vlan210 IDF2-Data default - False Vlan220 IDF2-Voice default - False Vlan230 IDF2-Guest default - False Vlan310 IDF3-Data default - False Vlan320 IDF3-Voice default - False Vlan330 IDF3-Guest default - False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan10 default 10.10.10.3/24 - 10.10.10.1 - - - Vlan110 default 10.1.10.3/23 - 10.1.10.1 - - - Vlan120 default 10.1.20.3/23 - 10.1.20.1 - - - Vlan130 default 10.1.30.3/23 - 10.1.30.1 - - - Vlan210 default 10.2.10.3/23 - 10.2.10.1 - - - Vlan220 default 10.2.20.3/23 - 10.2.20.1 - - - Vlan230 default 10.2.30.3/23 - 10.2.30.1 - - - Vlan310 default 10.3.10.3/23 - 10.3.10.1 - - - Vlan320 default 10.3.20.3/23 - 10.3.20.1 - - - Vlan330 default 10.3.30.3/23 - 10.3.30.1 - - - Vlan4093 default 10.1.1.1/31 - - - - - Vlan4094 default 192.168.0.1/31 - - - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan10\n   description L2LEAF_INBAND_MGMT\n   no shutdown\n   mtu 1500\n   ip address 10.10.10.3/24\n   ip attached-host route export 19\n   ip virtual-router address 10.10.10.1\n!\ninterface Vlan110\n   description IDF1-Data\n   no shutdown\n   ip address 10.1.10.3/23\n   ip virtual-router address 10.1.10.1\n!\ninterface Vlan120\n   description IDF1-Voice\n   no shutdown\n   ip address 10.1.20.3/23\n   ip virtual-router address 10.1.20.1\n!\ninterface Vlan130\n   description IDF1-Guest\n   no shutdown\n   ip address 10.1.30.3/23\n   ip virtual-router address 10.1.30.1\n!\ninterface Vlan210\n   description IDF2-Data\n   no shutdown\n   ip address 10.2.10.3/23\n   ip virtual-router address 10.2.10.1\n!\ninterface Vlan220\n   description IDF2-Voice\n   no shutdown\n   ip address 10.2.20.3/23\n   ip virtual-router address 10.2.20.1\n!\ninterface Vlan230\n   description IDF2-Guest\n   no shutdown\n   ip address 10.2.30.3/23\n   ip virtual-router address 10.2.30.1\n!\ninterface Vlan310\n   description IDF3-Data\n   no shutdown\n   ip address 10.3.10.3/23\n   ip virtual-router address 10.3.10.1\n!\ninterface Vlan320\n   description IDF3-Voice\n   no shutdown\n   ip address 10.3.20.3/23\n   ip virtual-router address 10.3.20.1\n!\ninterface Vlan330\n   description IDF3-Guest\n   no shutdown\n   ip address 10.3.30.3/23\n   ip virtual-router address 10.3.30.1\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.1.1.1/31\n   ip ospf network point-to-point\n   ip ospf area 0.0.0.0\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.1/31\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#routing","title":"Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#virtual-router-mac-address-001c7300dc01","title":"Virtual Router MAC Address: 00:1c:73:00:dc:01","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:dc:01\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#static-routes","title":"Static Routes","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#router-ospf","title":"Router OSPF","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#router-ospf-summary","title":"Router OSPF Summary","text":"Process ID Router ID Default Passive Interface No Passive Interface BFD Max LSA Default Information Originate Log Adjacency Changes Detail Auto Cost Reference Bandwidth Maximum Paths MPLS LDP Sync Default Distribute List In 100 172.16.1.2 enabled Vlan4093  Ethernet52/1  disabled 12000 disabled disabled - - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#router-ospf-router-redistribution","title":"Router OSPF Router Redistribution","text":"Process ID Source Protocol Include Leaked Route Map 100 connected disabled -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ospf-interfaces","title":"OSPF Interfaces","text":"Interface Area Cost Point To Point Ethernet52/1 0.0.0.0 - True Vlan4093 0.0.0.0 - True Loopback0 0.0.0.0 - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#router-ospf-device-configuration","title":"Router OSPF Device Configuration","text":"<pre><code>!\nrouter ospf 100\n   router-id 172.16.1.2\n   passive-interface default\n   no passive-interface Vlan4093\n   no passive-interface Ethernet52/1\n   max-lsa 12000\n   redistribute connected\n</code></pre>"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#multicast","title":"Multicast","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/campus-fabric/documentation/devices/SPINE2.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html","title":"DC1_FABRIC","text":""},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Fabric Switches and Management IP<ul> <li>Fabric Switches with inband Management IP</li> </ul> </li> <li>Fabric Topology</li> <li>Fabric IP Allocation<ul> <li>Fabric Point-To-Point Links</li> <li>Point-To-Point Links Node Allocation</li> <li>Loopback Interfaces (BGP EVPN Peering)</li> <li>Loopback0 Interfaces Node Allocation</li> <li>VTEP Loopback VXLAN Tunnel Source Interfaces (VTEPs Only)</li> <li>VTEP Loopback Node allocation</li> </ul> </li> </ul>"},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#fabric-switches-and-management-ip","title":"Fabric Switches and Management IP","text":"POD Type Node Management IP Platform Provisioned in CloudVision Serial Number DC1_FABRIC leaf LEAF1A 172.100.100.103/24 cEOSLab Provisioned - DC1_FABRIC leaf LEAF1B 172.100.100.104/24 cEOSLab Provisioned - DC1_FABRIC leaf LEAF2A 172.100.100.105/24 cEOSLab Provisioned - DC1_FABRIC leaf LEAF3A 172.100.100.106/24 cEOSLab Provisioned - DC1_FABRIC leaf LEAF3B 172.100.100.107/24 cEOSLab Provisioned - DC1_FABRIC leaf LEAF3C 172.100.100.108/24 cEOSLab Provisioned - DC1_FABRIC leaf LEAF3D 172.100.100.109/24 cEOSLab Provisioned - DC1_FABRIC leaf LEAF3E 172.100.100.110/24 cEOSLab Provisioned - DC1_FABRIC l3spine SPINE1 172.100.100.101/24 cEOSLab Provisioned - DC1_FABRIC l3spine SPINE2 172.100.100.102/24 cEOSLab Provisioned - <p>Provision status is based on Ansible inventory declaration and do not represent real status from CloudVision.</p>"},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#fabric-switches-with-inband-management-ip","title":"Fabric Switches with inband Management IP","text":"POD Type Node Management IP Inband Interface DC1_FABRIC leaf LEAF1A 10.10.10.6/24 Vlan10 DC1_FABRIC leaf LEAF1B 10.10.10.7/24 Vlan10 DC1_FABRIC leaf LEAF2A 10.10.10.8/24 Vlan10 DC1_FABRIC leaf LEAF3A 10.10.10.9/24 Vlan10 DC1_FABRIC leaf LEAF3B 10.10.10.10/24 Vlan10 DC1_FABRIC leaf LEAF3C 10.10.10.11/24 Vlan10 DC1_FABRIC leaf LEAF3D 10.10.10.12/24 Vlan10 DC1_FABRIC leaf LEAF3E 10.10.10.13/24 Vlan10"},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#fabric-topology","title":"Fabric Topology","text":"Type Node Node Interface Peer Type Peer Node Peer Interface leaf LEAF1A Ethernet51 l3spine SPINE1 Ethernet1 leaf LEAF1A Ethernet53 mlag_peer LEAF1B Ethernet53 leaf LEAF1A Ethernet54 mlag_peer LEAF1B Ethernet54 leaf LEAF1B Ethernet51 l3spine SPINE2 Ethernet1 leaf LEAF2A Ethernet1/1 l3spine SPINE1 Ethernet49/1 leaf LEAF2A Ethernet1/3 l3spine SPINE2 Ethernet49/1 leaf LEAF3A Ethernet97/1 l3spine SPINE1 Ethernet50/1 leaf LEAF3A Ethernet97/2 l3spine SPINE2 Ethernet50/1 leaf LEAF3A Ethernet97/3 leaf LEAF3C Ethernet97/1 leaf LEAF3A Ethernet97/4 leaf LEAF3D Ethernet97/1 leaf LEAF3A Ethernet98/1 leaf LEAF3E Ethernet97/1 leaf LEAF3A Ethernet98/3 mlag_peer LEAF3B Ethernet98/3 leaf LEAF3A Ethernet98/4 mlag_peer LEAF3B Ethernet98/4 leaf LEAF3B Ethernet97/1 l3spine SPINE1 Ethernet51/1 leaf LEAF3B Ethernet97/2 l3spine SPINE2 Ethernet51/1 leaf LEAF3B Ethernet97/3 leaf LEAF3C Ethernet97/2 leaf LEAF3B Ethernet97/4 leaf LEAF3D Ethernet97/2 leaf LEAF3B Ethernet98/1 leaf LEAF3E Ethernet97/2 l3spine SPINE1 Ethernet55/1 mlag_peer SPINE2 Ethernet55/1 l3spine SPINE1 Ethernet56/1 mlag_peer SPINE2 Ethernet56/1"},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#fabric-ip-allocation","title":"Fabric IP Allocation","text":""},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#fabric-point-to-point-links","title":"Fabric Point-To-Point Links","text":"Uplink IPv4 Pool Available Addresses Assigned addresses Assigned Address %"},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#point-to-point-links-node-allocation","title":"Point-To-Point Links Node Allocation","text":"Node Node Interface Node IP Address Peer Node Peer Interface Peer IP Address"},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#loopback-interfaces-bgp-evpn-peering","title":"Loopback Interfaces (BGP EVPN Peering)","text":"Loopback Pool Available Addresses Assigned addresses Assigned Address % 172.16.1.0/24 256 2 0.79 %"},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#loopback0-interfaces-node-allocation","title":"Loopback0 Interfaces Node Allocation","text":"POD Node Loopback0 DC1_FABRIC SPINE1 172.16.1.1/32 DC1_FABRIC SPINE2 172.16.1.2/32"},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#vtep-loopback-vxlan-tunnel-source-interfaces-vteps-only","title":"VTEP Loopback VXLAN Tunnel Source Interfaces (VTEPs Only)","text":"VTEP Loopback Pool Available Addresses Assigned addresses Assigned Address %"},{"location":"examples/campus-fabric/documentation/fabric/DC1_FABRIC-documentation.html#vtep-loopback-node-allocation","title":"VTEP Loopback Node allocation","text":"POD Node Loopback1"},{"location":"examples/dual-dc-l3ls/index.html","title":"AVD example for a dual data center using L3LS","text":""},{"location":"examples/dual-dc-l3ls/index.html#introduction","title":"Introduction","text":"<p>This example is meant to be used as the logical evolution in AVD to new users. Therefore, this document follows the single data center structure and assumes the reader could deploy the scenario described in the section AVD example for a single data center using L3LS.</p> <p>The main goal of this example is to provide a base scenario to enable the new users to grow in the number of DCs (Data Centers) and configure the interconnection between different DCs.</p> <p>The example includes and describes all the AVD files and their content used to build an L3LS EVPN/VXLAN Symmetric IRB network covering two twin DCs. This design will use the EVPN DC GW feature to avoid unnecessary BGP overlay convergence. This feature rewrites EVPN routes on a set of devices (called EVPN Gateways) and shows the Gateways as the next hop for advertisements outside the EVPN domain using a DCI (DC Interconnect).</p>"},{"location":"examples/dual-dc-l3ls/index.html#dc1","title":"DC1","text":"<ul> <li>Two (virtual) spine switches.</li> <li>Two sets of (virtual) leaf switches, serving endpoints such as servers.</li> <li>Two (virtual) layer2-only switches often used for management connectivity to the servers.</li> </ul>"},{"location":"examples/dual-dc-l3ls/index.html#dc2","title":"DC2","text":"<ul> <li>Two (virtual) spine switches.</li> <li>Two sets of (virtual) leaf switches, serving endpoints such as servers.</li> <li>Two (virtual) layer2-only switches often used for management connectivity to the servers.</li> </ul> <p>In order to follow the principle of network design using patterns, both DCs have the same layout to keep a repetitive pattern using the Leaf and Spine architecture.</p> <p>There is, however, no hard requirement to have the exact same number of devices. For example, one DC could use 2 spines while the other could use 4 spines to comply with redundancy and bandwidth requirements.</p> <p>Integration with CloudVision is not included in this example to keep everything as simple as possible. In this case, the Ansible host will communicate directly with the switches using eAPI.</p>"},{"location":"examples/dual-dc-l3ls/index.html#installation","title":"Installation","text":"<p>Requirements to use this example:</p> <ul> <li>Follow the installation guide for AVD found here.</li> <li>Run the following playbook to copy the examples to your current working directory, for example <code>ansible-avd-examples</code>:</li> </ul> <p><code>ansible-playbook arista.avd.install_examples</code></p> <p>This will show the following:</p> <pre><code> ~/ansible-avd-examples# ansible-playbook arista.avd.install_examples\n\nPLAY [Install Examples]***************************************************************************************************************************************************************************************************************************************************************\n\nTASK [Copy all examples to ~/ansible-avd-examples]*****************************************************************************************************************************************************\nchanged: [localhost]\nPLAY RECAP\n****************************************************************************************************************************************************************************************************************************************************************************\nlocalhost                  : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0\n</code></pre> <p>After the playbook has run successfully, the directory structure will look as shown below, the contents of which will be covered in later sections:</p> <pre><code>ansible-avd-examples/ (or wherever the playbook was run)\n|\u2500\u2500 dual-dc-l3ls\n    \u251c\u2500\u2500 ansible.cfg\n    \u251c\u2500\u2500 documentation\n    \u251c\u2500\u2500 group_vars\n    \u251c\u2500\u2500 images\n    \u251c\u2500\u2500 intended\n    \u251c\u2500\u2500 inventory.yml\n    \u251c\u2500\u2500 playbook.yml\n    \u251c\u2500\u2500 README.md\n    \u2514\u2500\u2500 switch-basic-configurations\n</code></pre> <p>Info</p> <p>If the content of any file is modified and the playbook is rerun, the file will not be overwritten. However, if any file in the example is deleted and the playbook is rerun, Ansible will re-create the file.</p>"},{"location":"examples/dual-dc-l3ls/index.html#overall-design-overview","title":"Overall design overview","text":""},{"location":"examples/dual-dc-l3ls/index.html#physical-topology","title":"Physical topology","text":"<p>The drawing below shows the physical topology used in this example. The interface assignment is identical to the single DC example. The only change introduced in this topology is the DCI links, which are connected to port Ethernet 6 in dc1-leaf2a/b to dc2-leaf2a/b:</p> <p></p>"},{"location":"examples/dual-dc-l3ls/index.html#ip-ranges-used","title":"IP ranges used","text":"Out-of-band management IP allocation for DC1 172.16.1.0/24 Default gateway 172.16.1.1 dc1-spine1 172.16.1.11 dc1-spine2 172.16.1.12 dc1-leaf1a 172.16.1.101 dc1-leaf1b 172.16.1.102 dc1-leaf2a 172.16.1.103 dc1-leaf2b 172.16.1.104 dc1-leaf1c 172.16.1.151 dc1-leaf2c 172.16.1.152 dc2-spine1 172.16.2.21 dc2-spine2 172.16.2.22 dc2-leaf1a 172.16.2.111 dc2-leaf1b 172.16.2.112 dc2-leaf2a 172.16.2.113 dc2-leaf2b 172.16.2.114 dc2-leaf1c 172.16.2.161 dc2-leaf2c 172.16.2.162 Point-to-point links between leaf and spine (Underlay) DC1 10.255.255.0/26 DC2 10.255.255.64/26 Loopback0 interfaces used for EVPN peering DC1 10.255.0.0/27 DC2 10.255.128.0/27 Loopback1 interfaces used for VTEP (Leaf switches) DC1 10.255.1.0/27 DC2 10.255.129.0/27 VTEP Loopbacks used for diagnostics (Leaf switches) VRF10 - Common for both DCs 10.255.10.0/27 VRF11 - Common for both DCs 10.255.11.0/27 SVIs (interface vlan\u2026) 10.10.<code>&lt;VLAN-ID&gt;</code>.0/24 For example <code>interface VLAN11</code> has the IP address: 10.10.11.1 MLAG Peer-link (interface vlan 4094) (Leaf switches) DC1 10.255.1.64/27 DC2 10.255.129.64/27 MLAG iBGP Peering (interface vlan 4093) (Leaf switches) DC1 10.255.1.96/27 DC2 10.255.129.96/27"},{"location":"examples/dual-dc-l3ls/index.html#bgp-design","title":"BGP design","text":"<p>New BGP connections are established from <code>dc1-leaf2a</code> and <code>dc1-leaf2b</code> to <code>dc2-leaf2a</code> and <code>dc2-leaf2b</code> respectively. In addition, all BGP learned routes are redistributed into the underlay. This allows for an easier troubleshooting, as all router IDs (Loopback0 IP addresses) and VTEPs (Loopback1 IP addresses) are reachable at a fabric level.</p> <p>From the overlay perspective, each new leaf sees its peer in the twin DC as a new Route Server and will advertise all EVPN learned routes as they were directly connected to itself, making all changes inside its DC transparent to the twin DC.</p> UnderlayOverlay <p></p> <p></p>"},{"location":"examples/dual-dc-l3ls/index.html#basic-eos-config","title":"Basic EOS config","text":"<p>As discussed in the single DC example, basic connectivity between the Ansible host and the switches must be established before Ansible can be used to push configurations. Remember, you must configure the following on all switches:</p> <ul> <li>A hostname configured purely for ease of understanding.</li> <li>An IP enabled interface - in this example the dedicated out-of-band management interface is used.</li> <li>A username and password with the proper access privileges.</li> </ul> <p>Note</p> <p>The folder <code>dual-dc-l3ls/switch-basic-configurations/</code> contains a file per device for the initial configurations.</p>"},{"location":"examples/dual-dc-l3ls/index.html#ansible-inventory-group-vars-and-naming-scheme","title":"Ansible inventory, group vars and naming scheme","text":"<p>The following drawing shows a graphic overview of the Ansible inventory, group variables, and naming scheme used in this example:</p> <p></p> <p>Note</p> <p>The two servers on DC1 (<code>dc1-leaf1-server1</code> and <code>dc1-leaf2-server1</code>) and the two servers on DC2 (<code>dc2-leaf1-server1</code> and <code>dc2-leaf2-server1</code>) at the bottom are not configured by AVD, but the switch ports used to connect to the servers are. For this reason, the diagram shows them outside of the <code>FABRIC</code> definition.</p> <p>The same pattern used in the single DC example is followed:</p> <ul> <li>Group names use uppercase and underscore</li> <li>All hostnames use lowercase and dashes</li> </ul> <p>The drawing also shows the relationships between groups and their children. Be aware that all declarations on a higher level are inherited by chidren automatically.</p>"},{"location":"examples/dual-dc-l3ls/index.html#content-of-the-inventoryyml-file","title":"Content of the inventory.yml file","text":"<p>This section describes the entire <code>ansible-avd-examples/dual-dc-l3ls/inventory.yml</code> file used to represent the above topology.</p> <p>In this example, we will consider that no DNS is available and define the IPs that the Ansible host has to reach per device.</p> inventory.yml <pre><code>---\n# inventory.yml\nall:\nchildren:\nFABRIC:\nchildren:\nDC1:\nchildren:\nDC1_SPINES:\nhosts:\ndc1-spine1:\nansible_host: 172.16.1.11\ndc1-spine2:\nansible_host: 172.16.1.12\nDC1_L3_LEAVES:\nhosts:\ndc1-leaf1a:\nansible_host: 172.16.1.101\ndc1-leaf1b:\nansible_host: 172.16.1.102\ndc1-leaf2a:\nansible_host: 172.16.1.103\ndc1-leaf2b:\nansible_host: 172.16.1.104\nDC1_L2_LEAVES:\nhosts:\ndc1-leaf1c:\nansible_host: 172.16.1.151\ndc1-leaf2c:\nansible_host: 172.16.1.152\nDC2:\nchildren:\nDC2_SPINES:\nhosts:\ndc2-spine1:\nansible_host: 172.16.1.21\ndc2-spine2:\nansible_host: 172.16.1.22\nDC2_L3_LEAVES:\nhosts:\ndc2-leaf1a:\nansible_host: 172.16.1.201\ndc2-leaf1b:\nansible_host: 172.16.1.202\ndc2-leaf2a:\nansible_host: 172.16.1.203\ndc2-leaf2b:\nansible_host: 172.16.1.204\nDC2_L2_LEAVES:\nhosts:\ndc2-leaf1c:\nansible_host: 172.16.1.251\ndc2-leaf2c:\nansible_host: 172.16.1.252\nNETWORK_SERVICES:\nchildren:\nDC1_L3_LEAVES:\nDC1_L2_LEAVES:\nDC2_L3_LEAVES:\nDC2_L2_LEAVES:\nCONNECTED_ENDPOINTS:\nchildren:\nDC1_L3_LEAVES:\nDC1_L2_LEAVES:\nDC2_L3_LEAVES:\nDC2_L2_LEAVES:\n</code></pre>"},{"location":"examples/dual-dc-l3ls/index.html#defining-device-types","title":"Defining device types","text":"<p>As discussed in the single DC scenario, all device types must be explicitly defined. The device types are specified in the group variable files with the following names and content:</p> DC1_SPINES.ymlDC1_L3_LEAVES.ymlDC1_L2_LEAVES.ymlDC2_SPINES.ymlDC2_L3_LEAVES.ymlDC2_L2_LEAVES.yml <pre><code>---\n### group_vars/DC1_SPINES.yml\ntype: spine\n</code></pre> <pre><code>---\n### group_vars/DC1_L3_LEAVES.yml\ntype: l3leaf\n</code></pre> <pre><code>---\n### group_vars/DC1_L2_LEAVES.yml\ntype: l2leaf\n</code></pre> <pre><code>---\n### group_vars/DC2_SPINES.yml\ntype: spine\n</code></pre> <pre><code>---\n### group_vars/DC2_L3_LEAVES.yml\ntype: l3leaf\n</code></pre> <pre><code>---\n### group_vars/DC2_L2_LEAVES.yml\ntype: l2leaf\n</code></pre>"},{"location":"examples/dual-dc-l3ls/index.html#setting-fabric-wide-configuration-parameters","title":"Setting fabric-wide configuration parameters","text":"<p>The <code>ansible-avd-examples/dual-dc-l3ls/group_vars/FABRIC.yml</code> file defines generic settings that apply to all children of the <code>FABRIC</code> group as specified in the inventory described earlier.</p> <p>In this section, only additions to the previous example will be discussed. The only added change that must be inherited by both DCs is the L3 links between the L3 leaves, and it is represented at a fabric level using the following structure:</p> FABRIC.yml<pre><code>    # L3 Edge port definitions. This can be any port in the entire Fabric, where IP interfaces are defined.\nl3_edge:\n# Define a new IP pool that will be used to asign IP addreses to L3 Edge interfaces.\np2p_links_ip_pools:\nDCI_IP_pool: 172.100.100.0/24\n# Define a new link profile which will match the IP pool, the used ASNs and include the defined interface into underlay routing\np2p_links_profiles:\nDCI_profile:\nip_pool: DCI_IP_pool\nas: [65102, 65202]\ninclude_in_underlay_protocol: true\n# Define each P2P L3 link and link the nodes, the interfaces and the profile used.\np2p_links:\n- id: 1\nnodes: [dc1-leaf2a, dc2-leaf2a]\ninterfaces: [Ethernet6, Ethernet6]\nprofile: DCI_profile\n- id: 2\nnodes: [dc1-leaf2b, dc2-leaf2b]\n</code></pre> <ol> <li>Define a new IP Pool, with the name \u201cDCI_IP_pool\u201d which will use the prefix \u201c172.100.100.0/24\u201d to assign IP addresses.</li> <li>Define a new link profile, called \u201cDCI_profile\u201d which will use the previously created IP pool, the ASN will be \u201c65102\u201d for left devices and \u201c65202\u201d for right devices. And interfaces will be included in the underlay routing protocol.</li> <li>Define a new link, with the left and right node hostname defined in AVD, along with the interface and finally assign a profile containing all required information to configure the link.</li> </ol>"},{"location":"examples/dual-dc-l3ls/index.html#setting-device-specific-configuration-parameters","title":"Setting device specific configuration parameters","text":"<p>Both <code>ansible-avd-examples/dual-dc-l3ls/group_vars/DC1.yml</code> and <code>ansible-avd-examples/dual-dc-l3ls/group_vars/DC2.yml</code> files define settings that apply to all children of <code>DC1</code> and <code>DC2</code> groups as specified in the inventory described earlier.</p> <p>In this section, we will discuss <code>DC2</code> device definitions. From <code>DC1</code> only the changes will be discussed, as definitions are the same as in the single DC L3LS example. The only change, the one used to include the EVPN DC GW, will be discussed later.</p> <p>By changing only <code>DC2.yml</code> file, the defined settings are limited to DC2. In this example, DC2 follows the same configuration as DC1, but it could be totally different, keeping the DC1 definition intact while DC2 can be adjusted to meet different requirements.</p> DC2.yml<pre><code>---\nmgmt_gateway: 172.16.2.1 # (1)!\nspine:\ndefaults:\nplatform: vEOS-lab # (2)!\nloopback_ipv4_pool: 10.255.128.0/27 # (3)!\nbgp_as: 65200 # (4)!\nbgp_defaults: # (5)!\n- no bgp default ipv4-unicast\n- distance bgp 20 200 200\n- graceful-restart restart-time 300\n- graceful-restart\nnodes: # (6)!\ndc2-spine1:\nid: 11 # (7)!\nmgmt_ip: 172.16.2.21/24 # (8)!\ndc2-spine2:\nid: 12\nmgmt_ip: 172.16.2.22/24\n</code></pre> <ol> <li>The default gateway for the management interface of all devices in DC2 is defined.</li> <li><code>platform</code> references default settings defined in AVD specific to certain switch platforms.</li> <li><code>loopback_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for Loopback0.</li> <li><code>bgp_as</code> defines the BGP AS number.</li> <li><code>bgp_defaults</code> defines generic BGP settings.</li> <li><code>nodes</code> defines the actual spine switches, using the hostnames defined in the inventory.</li> <li><code>id</code> is used to calculate the various IP addresses, for example, the IPv4 address for the Loopback0 interface. In this case, dc2-spine1 will get the IPv4 address 10.255.128.11/27 assigned to the Loopback0 interface.</li> <li><code>mgmt_ip</code> defines the IPv4 address of the management interface. As stated earlier, Ansible will perform name lookups using the hostnames specified in the inventory unless using the <code>ansible_host</code> option. However, there is no automatic mechanism to grab the result of the name lookup and use that to generate the management interface configuration.</li> </ol> <p>The following section covers the L3 leaf switches. Significantly more settings need to be set compared to the spine switches:</p> DC2.yml<pre><code>l3leaf:\ndefaults:\nplatform: vEOS-lab # (1)!\nloopback_ipv4_pool: 10.255.128.0/27 # (2)!\nloopback_ipv4_offset: 2 # (3)!\nvtep_loopback_ipv4_pool: 10.255.129.0/27 # (4)!\nuplink_interfaces: ['Ethernet1', 'Ethernet2'] # (5)!\nuplink_switches: ['dc2-spine1', 'dc2-spine2'] # (6)!\nuplink_ipv4_pool: 10.255.255.64/26 # (7)!\nmlag_interfaces: ['Ethernet3', 'Ethernet4'] # (8)!\nmlag_peer_ipv4_pool: 10.255.129.64/27 # (9)!\nmlag_peer_l3_ipv4_pool: 10.255.129.96/27 # (10)!\nbgp_defaults:\n- no bgp default ipv4-unicast\n- distance bgp 20 200 200\n- graceful-restart restart-time 300\n- graceful-restart\nvirtual_router_mac_address: 00:1c:73:00:00:99 # (11)!\nspanning_tree_priority: 4096 # (12)!\nspanning_tree_mode: mstp # (13)!\nnode_groups: # (14)!\nDC2_L3_LEAF1:\nbgp_as: 65201 # (15)!\nnodes:\ndc2-leaf1a:\nid: 11\nmgmt_ip: 172.16.2.201/24\nuplink_switch_interfaces: # (16)!\n- Ethernet1\n- Ethernet1\ndc2-leaf1b:\nid: 12\nmgmt_ip: 172.16.2.202/24\nuplink_switch_interfaces:\n- Ethernet2\n- Ethernet2\nDC2_L3_LEAF2:\nbgp_as: 65202\nevpn_gateway: # (17)!\nevpn_l2:\nenabled: true\nevpn_l3:\nenabled: true\ninter_domain: true\nnodes:\ndc2-leaf2a:\nid: 13\nmgmt_ip: 172.16.2.203/24\nuplink_switch_interfaces:\n- Ethernet3\n- Ethernet3\nevpn_gateway:\nremote_peers: # (18)!\n- hostname: dc1-leaf2a\ndc2-leaf2b:\nid: 14\nmgmt_ip: 172.16.2.204/24\nuplink_switch_interfaces:\n- Ethernet4\n- Ethernet4\nevpn_gateway:\nremote_peers:\n- hostname: dc1-leaf2b\n</code></pre> <ol> <li><code>platform</code> references default settings defined in AVD specific to certain switch platforms.</li> <li><code>loopback_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for Loopback0. This IP pool is identical to the one used for the spine switches in this example. To avoid setting the same IP addresses for several devices, we define the option <code>loopback_ipv4_offset</code>.</li> <li><code>loopback_ipv4_offset</code> offsets all assigned loopback IP addresses counting from the beginning of the IP scope. This is required when the same IP pool is used for two different node_types (like spine and l3leaf in this example) to avoid overlapping IPs. For example, the offset is \u201c2\u201d in this case because each spine switch uses one loopback address.</li> <li><code>vtep_loopback_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for the VTEP (Loopback1).</li> <li><code>uplink_interfaces</code> defines the interfaces used locally on the leaf switches.</li> <li><code>uplink_switches</code> defines the uplink switches, which are dc2-spine1 and dc2-spine2. Note that the <code>uplink_interfaces</code> and <code>uplink_switches</code> are paired vertically.</li> <li><code>uplink_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for the uplink interfaces that were just defined.</li> <li><code>mlag_interfaces</code> defines the MLAG interfaces used on each leaf switch, in this case, Ethernet3 and Ethernet4. These two interfaces will form PortChannel3 used for the MLAG peer link. Note that PortChannel3 is selected since the first interface is Ethernet3.</li> <li><code>mlag_peer_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for the MLAG peer link interface VLAN4094.</li> <li><code>mlag_peer_l3_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for the iBGP peering established between the two leaf switches via the SVI/IRB interface VLAN4093.</li> <li><code>virtual_router_mac_address</code> defines the MAC address used for the anycast gateway on the various subnets. This is the MAC address connected endpoints will learn when ARPing for their default gateway.</li> <li><code>spanning_tree_priority</code> sets the spanning tree priority. Since spanning tree in an L3LS network is effectively only running locally on the switch, the same priority across all L3 leaf switches can be re-used.</li> <li><code>spanning_tree_mode</code> defines the spanning tree mode. In this case, we are using MSTP, which is the default. However, other modes are supported should they be required, for example, for connectivity to legacy or third-party vendor environments.</li> <li><code>node_groups</code> defines settings common to more than one node. For example, for leaf switches, when exactly two nodes are part of a node group, AVD will, by default, automatically generate MLAG configuration.</li> <li><code>bgp_as</code> is defined once since an MLAG pair shares a single BGP AS number.</li> <li><code>uplink_switch_interfaces</code> defines the interfaces used on the uplink switches (Ethernet1 on dc2-spine1 and dc2-spine2 in this example). Defining which spine interfaces the leaf is connected to under the leaf switch settings makes adding and removing leaf switches much easier. There is no need to add/remove any settings under the spine switch section; AVD takes care of that for you. This child device/parent device hierarchy also applies to L2 and L3 leaves.</li> <li><code>evpn_gateway</code> configures the EVPN DC GW features that will be inherited by the children of this group, in this case dc2-leaf2a and dc2-leaf2b. <code>evpn_l2</code> configures EVPN DC GW for EVPN type 2 routes (MAC-IP) while <code>evpn_l3</code> configures the GW for EVPN type 5 routes (IP-PREFIX).</li> <li><code>remote_peers</code> defines the RS for EVPN DC GW that will be configured on the device. This is a unique definition per device, and using the hostname, AVD can get all the information from the device in order to generate the configuration: Router ID to peer and BGP AS.</li> </ol> <p>Since we are adding the EVPN DC GW functionality in DC2, we need to also add it in DC1. This is a snipped part of <code>ansible-avd-examples/dual-dc-l3ls/group_vars/DC1.yml</code> file where the changes need to occur:</p> <p>Important</p> <p>The following is a snipped part of <code>DC1.yml</code> reflecting the changes needed compared to single DC L3LS example. The goal is to configure EVPN DC GW functionality.</p> DC1.yml<pre><code>                - Ethernet2\nDC1_L3_LEAF2:\nbgp_as: 65102\nevpn_gateway:\n# Specific BGP EVPN Gateway functionality for route types 2 (MAC-IP), 3 (IMET) and 5 (IP-PREFIX) can be enabled separately as needed.\nevpn_l2:\nenabled: true\nevpn_l3:\nenabled: true\ninter_domain: true\nnodes:\ndc1-leaf2a:\nid: 3\nmgmt_ip: 172.16.1.103/24\nuplink_switch_interfaces:\n- Ethernet3\n- Ethernet3\nevpn_gateway:\n# Define remote peers of the EVPN VXLAN Gateway. If the hostname can be found in the inventory, ip_address and BGP ASN will be automatically populated. Manual override takes precedence. If the peer's hostname can not be found in the inventory, ip_address and bgp_as must be defined.\nremote_peers:\n- hostname: dc2-leaf2a\ndc1-leaf2b:\nid: 4\nmgmt_ip: 172.16.1.104/24\nuplink_switch_interfaces:\n- Ethernet4\n- Ethernet4\nevpn_gateway:\n# Define remote peers of the EVPN VXLAN Gateway. If the hostname can be found in the inventory, ip_address and BGP ASN will be automatically populated. Manual override takes precedence. If the peer's hostname can not be found in the inventory, ip_address and bgp_as must be defined.\n</code></pre> <p>Finally, the definition in DC2 for the L2 leaf switches:</p> DC2.yml<pre><code>    # L2 Leaf switch group\nl2leaf:\ndefaults:\nplatform: vEOS-lab\nuplink_interfaces: ['Ethernet1', 'Ethernet2']\nspanning_tree_mode: mstp\nnode_groups:\nDC2_L2_LEAF1:\nuplink_switches: ['dc2-leaf1a', 'dc2-leaf1b']\nnodes:\ndc2-leaf1c:\nid: 11\nmgmt_ip: 172.16.2.251/24\nuplink_switch_interfaces:\n- Ethernet8\n- Ethernet8\nDC2_L2_LEAF2:\nuplink_switches: ['dc2-leaf2a', 'dc2-leaf2b']\nnodes:\ndc2-leaf2c:\nid: 12\nmgmt_ip: 172.16.2.252/24\nuplink_switch_interfaces:\n</code></pre>"},{"location":"examples/dual-dc-l3ls/index.html#specifying-network-services-vrfs-and-vlans-in-the-evpnvxlan-fabric","title":"Specifying network services (VRFs and VLANs) in the EVPN/VXLAN fabric","text":"<p>This file is identical to the one provided in the previous example. VRFs and VLANs are configured on all devices since no <code>tags</code> or <code>filter</code> are being used.</p> <p>It is important to consider adding the new leaves to the Inventory as described in the Inventory section, so they will rely on this file to configure the network services.</p> NETWORK_SERVICES.yml<pre><code>---\n### group_vars/NETWORK_SERVICES.yml\ntenants:\n# Definition of tenants. Additional level of abstraction to VRFs\nTENANT1:\n# Number used to generate the VNI of each VLAN by adding the VLAN number in this tenant.\nmac_vrf_vni_base: 10000\nvrfs:\n# VRF definitions inside the tenant.\nVRF10:\n# VRF VNI definition.\nvrf_vni: 10\n# Enable VTEP Network diagnostics\n# This will create a loopback with virtual source-nat enable to perform diagnostics from the switch.\nvtep_diagnostic:\n# Loopback interface number\nloopback: 10\n# Loopback ip range, a unique ip is derived from this ranged and assigned\n# to each l3 leaf based on it's unique id.\nloopback_ip_range: 10.255.10.0/27\nsvis:\n# SVI definitions.\n\"11\":\n# SVI Description\nname: VRF10_VLAN11\nenabled: true\n# IP anycast gateway to be used in the SVI in every leaf.\nip_address_virtual: 10.10.11.1/24\n\"12\":\nname: VRF10_VLAN12\nenabled: true\nip_address_virtual: 10.10.12.1/24\nVRF11:\nvrf_vni: 11\nvtep_diagnostic:\nloopback: 11\nloopback_ip_range: 10.255.11.0/27\nsvis:\n\"21\":\nname: VRF11_VLAN21\nenabled: true\nip_address_virtual: 10.10.21.1/24\n\"22\":\nname: VRF11_VLAN22\nenabled: true\nip_address_virtual: 10.10.22.1/24\nl2vlans:\n# These are pure L2 vlans. They do not have a SVI defined in the l3leafs and they will be bridged inside the VXLAN fabric\n\"3401\":\nname: L2_VLAN3401\n\"3402\":\nname: L2_VLAN3402\n</code></pre>"},{"location":"examples/dual-dc-l3ls/index.html#specifying-endpoint-connectivity-in-the-evpnvxlan-fabric","title":"Specifying endpoint connectivity in the EVPN/VXLAN fabric","text":"<p>After the previous section, all VRFs and VLANs across the fabric are now defined on each leaf node. The <code>ansible-avd-examples/dual-dc-l3ls/group_vars/CONNECTED_ENDPOINTS.yml</code> file specifies the connectivity for all endpoints in the fabric (typically servers):</p> CONNECTED_ENDPOINTS.yml<pre><code>---\n### group_vars/CONNECTED_ENDPOINTS.yml\n# Definition of connected endpoints in the fabric.\nservers:\n# Name of the defined server.\ndc1-leaf1-server1:\n# Definition of adapters on the server.\nadapters:\n# Name of the server interfaces that will be used in the description of each interface\n- endpoint_ports: [ PCI1, PCI2 ]\n# Device ports where the server ports are connected.\nswitch_ports: [ Ethernet5, Ethernet5 ]\n# Device names where the server ports are connected.\nswitches: [ dc1-leaf1a, dc1-leaf1b ]\n# VLANs that will be configured on these ports.\nvlans: 11-12,21-22\n# Native VLAN to be used on these ports.\nnative_vlan: 4092\n# L2 mode of the port.\nmode: trunk\n# Spanning tree portfast configuration on this port.\nspanning_tree_portfast: edge\n# Definition of the pair of ports as port channel.\nport_channel:\n# Description of the port channel interface.\ndescription: PortChannel dc1-leaf1-server1\n# Port channel mode for LACP.\nmode: active\n- endpoint_ports: [ iLO ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ dc1-leaf1c ]\nvlans: 11\nmode: access\nspanning_tree_portfast: edge\ndc1-leaf2-server1:\nadapters:\n- endpoint_ports: [ PCI1, PCI2 ]\nswitch_ports: [ Ethernet5, Ethernet5 ]\nswitches: [ dc1-leaf2a, dc1-leaf2b ]\nvlans: 11-12,21-22\nnative_vlan: 4092\nmode: trunk\nspanning_tree_portfast: edge\nport_channel:\ndescription: PortChannel dc1-leaf2-server1\nmode: active\n- endpoint_ports: [ iLO ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ dc1-leaf2c ]\nvlans: 11\nmode: access\nspanning_tree_portfast: edge\n# Start of definitions for DC2 (identical to DC1)\n# Name of the defined server.\ndc2-leaf1-server1:\n# Definition of adapters on the server.\nadapters:\n# Name of the server interfaces that will be used in the description of each interface\n- endpoint_ports: [ PCI1, PCI2 ]\n# Device ports where the server ports are connected.\nswitch_ports: [ Ethernet5, Ethernet5 ]\n# Device names where the server ports are connected.\nswitches: [ dc2-leaf1a, dc2-leaf1b ]\n# VLANs that will be configured on these ports.\nvlans: 11-12,21-22\n# Native VLAN to be used on these ports.\nnative_vlan: 4092\n# L2 mode of the port.\nmode: trunk\n# Spanning tree portfast configuration on this port.\nspanning_tree_portfast: edge\n# Definition of the pair of ports as port channel.\nport_channel:\n# Description of the port channel interface.\ndescription: PortChannel dc2-leaf1-server1\n# Port channel mode for LACP.\nmode: active\n- endpoint_ports: [ iLO ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ dc2-leaf1c ]\nvlans: 11\nmode: access\nspanning_tree_portfast: edge\ndc2-leaf2-server1:\nadapters:\n- endpoint_ports: [ PCI1, PCI2 ]\nswitch_ports: [ Ethernet5, Ethernet5 ]\nswitches: [ dc2-leaf2a, dc2-leaf2b ]\nvlans: 11-12,21-22\nnative_vlan: 4092\nmode: trunk\nspanning_tree_portfast: edge\nport_channel:\ndescription: PortChannel dc2-leaf2-server1\nmode: active\n- endpoint_ports: [ iLO ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ dc2-leaf2c ]\nvlans: 11\nmode: access\nspanning_tree_portfast: edge\n</code></pre> <p>The configuration of the endpoints in DC2 is identical to the ones in DC1. The only change resides in the name of the leaves used and their ports.</p>"},{"location":"examples/dual-dc-l3ls/index.html#the-playbook","title":"The playbook","text":"<p>The playbook is also the same, as the actions to execute in the fabric are the same. It is important to validate the <code>hosts</code> variable in the playbook to include all Ansible groups.</p>"},{"location":"examples/dual-dc-l3ls/index.html#testing-avd-output-without-a-lab","title":"Testing AVD output without a lab","text":"<p>Example of using this playbook without devices (local tasks):</p> playbook.yml <p>By simply commenting out (or deleting) the last task definition, the playbook will generate all of the output (variables, configurations, documentation), but will not attempt to communicate with any devices.</p> <p>Please look through the folders and files described above to learn more about the output generated by AVD.</p>"},{"location":"examples/dual-dc-l3ls/index.html#executing-the-playbook","title":"Executing the playbook","text":"<p>The execution of the playbook should produce the following output:</p> <pre><code>user@ubuntu:~/Documents/git_projects/ansible-avd-examples/dual-dc-l3ls$ ansible-playbook playbook.yml\n\nPLAY [Run AVD] *****************************************************************************************************************************************************************************\n\nTASK [arista.avd.eos_designs : Collection arista.avd version 3.5.0 loaded from /home/user/.ansible/collections/ansible_collections] ******************************************************\nok: [dc1-leaf1a]\nTASK [arista.avd.eos_designs : Create required output directories if not present] **********************************************************************************************************\nok: [dc1-leaf1a -&gt; localhost] =&gt; (item=/home/user/Documents/git_projects/ansible-avd-examples/dual-dc-l3ls/intended/structured_configs)\nok: [dc1-leaf1a -&gt; localhost] =&gt; (item=/home/user/Documents/git_projects/ansible-avd-examples/dual-dc-l3ls/documentation/fabric)\n(...)\n</code></pre> <p>If similar output is not shown, make sure:</p> <ol> <li>The documented requirements are met.</li> <li>The latest <code>arista.avd</code> collection is installed.</li> </ol>"},{"location":"examples/dual-dc-l3ls/index.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"examples/dual-dc-l3ls/index.html#evpn-not-working","title":"EVPN not working","text":"<p>If after doing the following steps:</p> <ol> <li>Manually copy/paste the switch-basic-configuration to the devices.</li> <li>Run the playbook and push the generated configuration to the fabric.</li> <li>Login to a leaf device, for example, dc1-leaf1a and run the command <code>show bgp evpn summary</code> to view EVPN routes.</li> </ol> <p>The following error message is shown:</p> <pre><code>dc1-leaf1a#show bgp evpn summ\n% Not supported\ndc1-leaf1a#\n</code></pre> <p>This is caused by AVD pushing the configuration line <code>service routing protocols model multi-agent</code>, which enables the multi-agent routing process supporting EVPN. This change requires a reboot of the device.</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html","title":"dc1-leaf1a","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.101/24 172.16.1.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.101/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#mlag","title":"MLAG","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC1_L3_LEAF1 Vlan4094 10.255.1.65 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC1_L3_LEAF1\n   local-interface Vlan4094\n   peer-address 10.255.1.65\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc1-leaf1b_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc1-leaf1b_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc1-leaf1-server1_PCI1 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC1-LEAF1C_Ethernet1 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-SPINE1_Ethernet1 routed - 10.255.255.1/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-SPINE2_Ethernet1 routed - 10.255.255.3/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-SPINE1_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.1/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-SPINE2_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.3/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc1-leaf1b_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc1-leaf1b_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc1-leaf1-server1_PCI1\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet8\n   description DC1-LEAF1C_Ethernet1\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc1-leaf1b_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc1-leaf1-server1_PortChannel dc1-leaf1-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC1-LEAF1C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc1-leaf1b_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc1-leaf1-server1_PortChannel dc1-leaf1-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC1-LEAF1C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.3/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.1.3/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.3/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.3/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.3/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.1.3/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.3/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.3/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.1.96/31 - - - - - Vlan3010 VRF11 10.255.1.96/31 - - - - - Vlan4093 default 10.255.1.96/31 - - - - - Vlan4094 default 10.255.1.64/31 - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.1.96/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.1.96/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.1.96/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.1.64/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc1-leaf1a_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65101 10.255.0.3 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65101 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.1 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.2 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.1.97 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.255.0 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.2 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.1.97 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.1.97 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.0.3:10011 10011:10011 - - learned 12 10.255.0.3:10012 10012:10012 - - learned 21 10.255.0.3:10021 10021:10021 - - learned 22 10.255.0.3:10022 10022:10022 - - learned 3401 10.255.0.3:13401 13401:13401 - - learned 3402 10.255.0.3:13402 13402:13402 - - learned"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.0.3:10 connected VRF11 10.255.0.3:11 connected"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65101\n   router-id 10.255.0.3\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65101\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc1-leaf1b\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.0.1 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.1 remote-as 65100\n   neighbor 10.255.0.1 description dc1-spine1\n   neighbor 10.255.0.2 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.2 remote-as 65100\n   neighbor 10.255.0.2 description dc1-spine2\n   neighbor 10.255.1.97 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.1.97 description dc1-leaf1b\n   neighbor 10.255.255.0 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.0 remote-as 65100\n   neighbor 10.255.255.0 description dc1-spine1_Ethernet1\n   neighbor 10.255.255.2 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.2 remote-as 65100\n   neighbor 10.255.255.2 description dc1-spine2_Ethernet1\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.0.3:10011\n      route-target both 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.0.3:10012\n      route-target both 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.0.3:10021\n      route-target both 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.0.3:10022\n      route-target both 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.0.3:13401\n      route-target both 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.0.3:13402\n      route-target both 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.0.3:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.0.3\n      neighbor 10.255.1.97 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.0.3:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.0.3\n      neighbor 10.255.1.97 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32 20 permit 10.255.1.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n   seq 20 permit 10.255.1.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.3 VRF11 10.255.11.3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.3\nip address virtual source-nat vrf VRF11 address 10.255.11.3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html","title":"dc1-leaf1b","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.102/24 172.16.1.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.102/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#mlag","title":"MLAG","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC1_L3_LEAF1 Vlan4094 10.255.1.64 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC1_L3_LEAF1\n   local-interface Vlan4094\n   peer-address 10.255.1.64\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc1-leaf1a_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc1-leaf1a_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc1-leaf1-server1_PCI2 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC1-LEAF1C_Ethernet2 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-SPINE1_Ethernet2 routed - 10.255.255.5/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-SPINE2_Ethernet2 routed - 10.255.255.7/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-SPINE1_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.5/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-SPINE2_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.7/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc1-leaf1a_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc1-leaf1a_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc1-leaf1-server1_PCI2\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet8\n   description DC1-LEAF1C_Ethernet2\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc1-leaf1a_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc1-leaf1-server1_PortChannel dc1-leaf1-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC1-LEAF1C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc1-leaf1a_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc1-leaf1-server1_PortChannel dc1-leaf1-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC1-LEAF1C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.4/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.1.3/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.4/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.4/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.4/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.1.3/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.4/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.4/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.1.97/31 - - - - - Vlan3010 VRF11 10.255.1.97/31 - - - - - Vlan4093 default 10.255.1.97/31 - - - - - Vlan4094 default 10.255.1.65/31 - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.1.97/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.1.97/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.1.97/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.1.65/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc1-leaf1b_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65101 10.255.0.4 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65101 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.1 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.2 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.1.96 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.255.4 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.6 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.1.96 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.1.96 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.0.4:10011 10011:10011 - - learned 12 10.255.0.4:10012 10012:10012 - - learned 21 10.255.0.4:10021 10021:10021 - - learned 22 10.255.0.4:10022 10022:10022 - - learned 3401 10.255.0.4:13401 13401:13401 - - learned 3402 10.255.0.4:13402 13402:13402 - - learned"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.0.4:10 connected VRF11 10.255.0.4:11 connected"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65101\n   router-id 10.255.0.4\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65101\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc1-leaf1a\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.0.1 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.1 remote-as 65100\n   neighbor 10.255.0.1 description dc1-spine1\n   neighbor 10.255.0.2 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.2 remote-as 65100\n   neighbor 10.255.0.2 description dc1-spine2\n   neighbor 10.255.1.96 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.1.96 description dc1-leaf1a\n   neighbor 10.255.255.4 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.4 remote-as 65100\n   neighbor 10.255.255.4 description dc1-spine1_Ethernet2\n   neighbor 10.255.255.6 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.6 remote-as 65100\n   neighbor 10.255.255.6 description dc1-spine2_Ethernet2\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.0.4:10011\n      route-target both 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.0.4:10012\n      route-target both 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.0.4:10021\n      route-target both 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.0.4:10022\n      route-target both 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.0.4:13401\n      route-target both 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.0.4:13402\n      route-target both 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.0.4:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.0.4\n      neighbor 10.255.1.96 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.0.4:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.0.4\n      neighbor 10.255.1.96 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32 20 permit 10.255.1.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n   seq 20 permit 10.255.1.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.4 VRF11 10.255.11.4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.4\nip address virtual source-nat vrf VRF11 address 10.255.11.4\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html","title":"dc1-leaf1c","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.151/24 172.16.1.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.151/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 32768"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 32768\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3401 L2_VLAN3401 - 3402 L2_VLAN3402 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 DC1-LEAF1A_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet2 DC1-LEAF1B_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet5 dc1-leaf1-server1_iLO access 11 - - - <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description DC1-LEAF1A_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description DC1-LEAF1B_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet5\n   description dc1-leaf1-server1_iLO\n   no shutdown\n   switchport access vlan 11\n   switchport mode access\n   switchport\n   spanning-tree portfast\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 DC1_L3_LEAF1_Po8 switched trunk 11-12,21-22,3401-3402 - - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description DC1_L3_LEAF1_Po8\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf1c.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html","title":"dc1-leaf2a","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.103/24 172.16.1.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.103/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#mlag","title":"MLAG","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC1_L3_LEAF2 Vlan4094 10.255.1.69 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC1_L3_LEAF2\n   local-interface Vlan4094\n   peer-address 10.255.1.69\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc1-leaf2b_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc1-leaf2b_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc1-leaf2-server1_PCI1 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC1-LEAF2C_Ethernet1 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-SPINE1_Ethernet3 routed - 10.255.255.9/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-SPINE2_Ethernet3 routed - 10.255.255.11/31 default 1500 False - - Ethernet6 P2P_LINK_TO_dc2-leaf2a_Ethernet6 routed - 172.100.100.0/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-SPINE1_Ethernet3\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.9/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-SPINE2_Ethernet3\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.11/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc1-leaf2b_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc1-leaf2b_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc1-leaf2-server1_PCI1\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet6\n   description P2P_LINK_TO_dc2-leaf2a_Ethernet6\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 172.100.100.0/31\n!\ninterface Ethernet8\n   description DC1-LEAF2C_Ethernet1\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc1-leaf2b_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc1-leaf2-server1_PortChannel dc1-leaf2-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC1-LEAF2C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc1-leaf2b_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc1-leaf2-server1_PortChannel dc1-leaf2-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC1-LEAF2C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.5/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.1.5/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.5/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.5/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.5/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.1.5/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.5/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.5/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.1.100/31 - - - - - Vlan3010 VRF11 10.255.1.100/31 - - - - - Vlan4093 default 10.255.1.100/31 - - - - - Vlan4094 default 10.255.1.68/31 - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.1.100/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.1.100/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.1.100/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.1.68/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc1-leaf2a_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65102 10.255.0.5 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#evpn-overlay-core","title":"EVPN-OVERLAY-CORE","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 15 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65102 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.1 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.2 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.1.101 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.128.15 65202 default - Inherited from peer group EVPN-OVERLAY-CORE Inherited from peer group EVPN-OVERLAY-CORE - Inherited from peer group EVPN-OVERLAY-CORE - - - 10.255.255.8 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.10 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 172.100.100.1 65202 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.1.101 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.1.101 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-CORE True default EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#evpn-dci-gateway-summary","title":"EVPN DCI Gateway Summary","text":"Settings Value Remote Domain Peer Groups EVPN-OVERLAY-CORE L3 Gateway Configured True L3 Gateway Inter-domain True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.0.5:10011 10011:10011remote 10011:10011 - - learned 12 10.255.0.5:10012 10012:10012remote 10012:10012 - - learned 21 10.255.0.5:10021 10021:10021remote 10021:10021 - - learned 22 10.255.0.5:10022 10022:10022remote 10022:10022 - - learned 3401 10.255.0.5:13401 13401:13401remote 13401:13401 - - learned 3402 10.255.0.5:13402 13402:13402remote 13402:13402 - - learned"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.0.5:10 connected VRF11 10.255.0.5:11 connected"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65102\n   router-id 10.255.0.5\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-CORE peer group\n   neighbor EVPN-OVERLAY-CORE update-source Loopback0\n   neighbor EVPN-OVERLAY-CORE bfd\n   neighbor EVPN-OVERLAY-CORE ebgp-multihop 15\n   neighbor EVPN-OVERLAY-CORE send-community\n   neighbor EVPN-OVERLAY-CORE maximum-routes 0\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65102\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc1-leaf2b\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.0.1 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.1 remote-as 65100\n   neighbor 10.255.0.1 description dc1-spine1\n   neighbor 10.255.0.2 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.2 remote-as 65100\n   neighbor 10.255.0.2 description dc1-spine2\n   neighbor 10.255.1.101 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.1.101 description dc1-leaf2b\n   neighbor 10.255.128.15 peer group EVPN-OVERLAY-CORE\n   neighbor 10.255.128.15 remote-as 65202\n   neighbor 10.255.128.15 description dc2-leaf2a\n   neighbor 10.255.255.8 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.8 remote-as 65100\n   neighbor 10.255.255.8 description dc1-spine1_Ethernet3\n   neighbor 10.255.255.10 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.10 remote-as 65100\n   neighbor 10.255.255.10 description dc1-spine2_Ethernet3\n   neighbor 172.100.100.1 peer group IPv4-UNDERLAY-PEERS\n   neighbor 172.100.100.1 remote-as 65202\n   neighbor 172.100.100.1 description dc2-leaf2a\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.0.5:10011\n      rd evpn domain remote 10.255.0.5:10011\n      route-target both 10011:10011\n      route-target import export evpn domain remote 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.0.5:10012\n      rd evpn domain remote 10.255.0.5:10012\n      route-target both 10012:10012\n      route-target import export evpn domain remote 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.0.5:10021\n      rd evpn domain remote 10.255.0.5:10021\n      route-target both 10021:10021\n      route-target import export evpn domain remote 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.0.5:10022\n      rd evpn domain remote 10.255.0.5:10022\n      route-target both 10022:10022\n      route-target import export evpn domain remote 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.0.5:13401\n      rd evpn domain remote 10.255.0.5:13401\n      route-target both 13401:13401\n      route-target import export evpn domain remote 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.0.5:13402\n      rd evpn domain remote 10.255.0.5:13402\n      route-target both 13402:13402\n      route-target import export evpn domain remote 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-CORE activate\n      neighbor EVPN-OVERLAY-CORE domain remote\n      neighbor EVPN-OVERLAY-PEERS activate\n      neighbor default next-hop-self received-evpn-routes route-type ip-prefix inter-domain\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-CORE activate\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.0.5:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.0.5\n      neighbor 10.255.1.101 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.0.5:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.0.5\n      neighbor 10.255.1.101 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32 20 permit 10.255.1.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n   seq 20 permit 10.255.1.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.5 VRF11 10.255.11.5"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.5\nip address virtual source-nat vrf VRF11 address 10.255.11.5\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html","title":"dc1-leaf2b","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.104/24 172.16.1.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.104/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#mlag","title":"MLAG","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC1_L3_LEAF2 Vlan4094 10.255.1.68 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC1_L3_LEAF2\n   local-interface Vlan4094\n   peer-address 10.255.1.68\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc1-leaf2a_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc1-leaf2a_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc1-leaf2-server1_PCI2 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC1-LEAF2C_Ethernet2 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-SPINE1_Ethernet4 routed - 10.255.255.13/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-SPINE2_Ethernet4 routed - 10.255.255.15/31 default 1500 False - - Ethernet6 P2P_LINK_TO_dc2-leaf2b_Ethernet6 routed - 172.100.100.2/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-SPINE1_Ethernet4\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.13/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-SPINE2_Ethernet4\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.15/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc1-leaf2a_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc1-leaf2a_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc1-leaf2-server1_PCI2\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet6\n   description P2P_LINK_TO_dc2-leaf2b_Ethernet6\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 172.100.100.2/31\n!\ninterface Ethernet8\n   description DC1-LEAF2C_Ethernet2\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc1-leaf2a_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc1-leaf2-server1_PortChannel dc1-leaf2-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC1-LEAF2C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc1-leaf2a_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc1-leaf2-server1_PortChannel dc1-leaf2-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC1-LEAF2C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.6/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.1.5/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.6/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.6/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.6/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.1.5/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.6/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.6/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.1.101/31 - - - - - Vlan3010 VRF11 10.255.1.101/31 - - - - - Vlan4093 default 10.255.1.101/31 - - - - - Vlan4094 default 10.255.1.69/31 - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.1.101/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.1.101/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.1.101/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.1.69/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc1-leaf2b_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65102 10.255.0.6 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#evpn-overlay-core","title":"EVPN-OVERLAY-CORE","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 15 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65102 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.1 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.2 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.1.100 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.128.16 65202 default - Inherited from peer group EVPN-OVERLAY-CORE Inherited from peer group EVPN-OVERLAY-CORE - Inherited from peer group EVPN-OVERLAY-CORE - - - 10.255.255.12 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.14 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 172.100.100.3 65202 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.1.100 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.1.100 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-CORE True default EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#evpn-dci-gateway-summary","title":"EVPN DCI Gateway Summary","text":"Settings Value Remote Domain Peer Groups EVPN-OVERLAY-CORE L3 Gateway Configured True L3 Gateway Inter-domain True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.0.6:10011 10011:10011remote 10011:10011 - - learned 12 10.255.0.6:10012 10012:10012remote 10012:10012 - - learned 21 10.255.0.6:10021 10021:10021remote 10021:10021 - - learned 22 10.255.0.6:10022 10022:10022remote 10022:10022 - - learned 3401 10.255.0.6:13401 13401:13401remote 13401:13401 - - learned 3402 10.255.0.6:13402 13402:13402remote 13402:13402 - - learned"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.0.6:10 connected VRF11 10.255.0.6:11 connected"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65102\n   router-id 10.255.0.6\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-CORE peer group\n   neighbor EVPN-OVERLAY-CORE update-source Loopback0\n   neighbor EVPN-OVERLAY-CORE bfd\n   neighbor EVPN-OVERLAY-CORE ebgp-multihop 15\n   neighbor EVPN-OVERLAY-CORE send-community\n   neighbor EVPN-OVERLAY-CORE maximum-routes 0\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65102\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc1-leaf2a\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.0.1 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.1 remote-as 65100\n   neighbor 10.255.0.1 description dc1-spine1\n   neighbor 10.255.0.2 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.2 remote-as 65100\n   neighbor 10.255.0.2 description dc1-spine2\n   neighbor 10.255.1.100 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.1.100 description dc1-leaf2a\n   neighbor 10.255.128.16 peer group EVPN-OVERLAY-CORE\n   neighbor 10.255.128.16 remote-as 65202\n   neighbor 10.255.128.16 description dc2-leaf2b\n   neighbor 10.255.255.12 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.12 remote-as 65100\n   neighbor 10.255.255.12 description dc1-spine1_Ethernet4\n   neighbor 10.255.255.14 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.14 remote-as 65100\n   neighbor 10.255.255.14 description dc1-spine2_Ethernet4\n   neighbor 172.100.100.3 peer group IPv4-UNDERLAY-PEERS\n   neighbor 172.100.100.3 remote-as 65202\n   neighbor 172.100.100.3 description dc2-leaf2b\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.0.6:10011\n      rd evpn domain remote 10.255.0.6:10011\n      route-target both 10011:10011\n      route-target import export evpn domain remote 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.0.6:10012\n      rd evpn domain remote 10.255.0.6:10012\n      route-target both 10012:10012\n      route-target import export evpn domain remote 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.0.6:10021\n      rd evpn domain remote 10.255.0.6:10021\n      route-target both 10021:10021\n      route-target import export evpn domain remote 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.0.6:10022\n      rd evpn domain remote 10.255.0.6:10022\n      route-target both 10022:10022\n      route-target import export evpn domain remote 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.0.6:13401\n      rd evpn domain remote 10.255.0.6:13401\n      route-target both 13401:13401\n      route-target import export evpn domain remote 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.0.6:13402\n      rd evpn domain remote 10.255.0.6:13402\n      route-target both 13402:13402\n      route-target import export evpn domain remote 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-CORE activate\n      neighbor EVPN-OVERLAY-CORE domain remote\n      neighbor EVPN-OVERLAY-PEERS activate\n      neighbor default next-hop-self received-evpn-routes route-type ip-prefix inter-domain\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-CORE activate\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.0.6:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.0.6\n      neighbor 10.255.1.100 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.0.6:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.0.6\n      neighbor 10.255.1.100 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32 20 permit 10.255.1.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n   seq 20 permit 10.255.1.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.6 VRF11 10.255.11.6"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.6\nip address virtual source-nat vrf VRF11 address 10.255.11.6\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html","title":"dc1-leaf2c","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.152/24 172.16.1.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.152/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 32768"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 32768\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3401 L2_VLAN3401 - 3402 L2_VLAN3402 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 DC1-LEAF2A_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet2 DC1-LEAF2B_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet5 dc1-leaf2-server1_iLO access 11 - - - <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description DC1-LEAF2A_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description DC1-LEAF2B_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet5\n   description dc1-leaf2-server1_iLO\n   no shutdown\n   switchport access vlan 11\n   switchport mode access\n   switchport\n   spanning-tree portfast\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 DC1_L3_LEAF2_Po8 switched trunk 11-12,21-22,3401-3402 - - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description DC1_L3_LEAF2_Po8\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-leaf2c.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html","title":"dc1-spine1","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Loopback Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.11/24 172.16.1.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.11/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: none</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode none\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-LEAF1A_Ethernet1 routed - 10.255.255.0/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-LEAF1B_Ethernet1 routed - 10.255.255.4/31 default 1500 False - - Ethernet3 P2P_LINK_TO_DC1-LEAF2A_Ethernet1 routed - 10.255.255.8/31 default 1500 False - - Ethernet4 P2P_LINK_TO_DC1-LEAF2B_Ethernet1 routed - 10.255.255.12/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-LEAF1A_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.0/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-LEAF1B_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.4/31\n!\ninterface Ethernet3\n   description P2P_LINK_TO_DC1-LEAF2A_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.8/31\n!\ninterface Ethernet4\n   description P2P_LINK_TO_DC1-LEAF2B_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.12/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.1/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.1/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65100 10.255.0.1 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Next-hop unchanged True Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.3 65101 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.4 65101 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.5 65102 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.6 65102 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.255.1 65101 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.5 65101 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.9 65102 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.13 65102 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65100\n   router-id 10.255.0.1\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS next-hop-unchanged\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor 10.255.0.3 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.3 remote-as 65101\n   neighbor 10.255.0.3 description dc1-leaf1a\n   neighbor 10.255.0.4 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.4 remote-as 65101\n   neighbor 10.255.0.4 description dc1-leaf1b\n   neighbor 10.255.0.5 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.5 remote-as 65102\n   neighbor 10.255.0.5 description dc1-leaf2a\n   neighbor 10.255.0.6 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.6 remote-as 65102\n   neighbor 10.255.0.6 description dc1-leaf2b\n   neighbor 10.255.255.1 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.1 remote-as 65101\n   neighbor 10.255.255.1 description dc1-leaf1a_Ethernet1\n   neighbor 10.255.255.5 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.5 remote-as 65101\n   neighbor 10.255.255.5 description dc1-leaf1b_Ethernet1\n   neighbor 10.255.255.9 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.9 remote-as 65102\n   neighbor 10.255.255.9 description dc1-leaf2a_Ethernet1\n   neighbor 10.255.255.13 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.13 remote-as 65102\n   neighbor 10.255.255.13 description dc1-leaf2b_Ethernet1\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine1.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html","title":"dc1-spine2","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Loopback Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.12/24 172.16.1.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.12/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: none</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode none\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-LEAF1A_Ethernet2 routed - 10.255.255.2/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-LEAF1B_Ethernet2 routed - 10.255.255.6/31 default 1500 False - - Ethernet3 P2P_LINK_TO_DC1-LEAF2A_Ethernet2 routed - 10.255.255.10/31 default 1500 False - - Ethernet4 P2P_LINK_TO_DC1-LEAF2B_Ethernet2 routed - 10.255.255.14/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-LEAF1A_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.2/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-LEAF1B_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.6/31\n!\ninterface Ethernet3\n   description P2P_LINK_TO_DC1-LEAF2A_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.10/31\n!\ninterface Ethernet4\n   description P2P_LINK_TO_DC1-LEAF2B_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.14/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.2/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.2/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65100 10.255.0.2 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Next-hop unchanged True Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.3 65101 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.4 65101 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.5 65102 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.6 65102 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.255.3 65101 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.7 65101 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.11 65102 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.15 65102 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65100\n   router-id 10.255.0.2\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS next-hop-unchanged\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor 10.255.0.3 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.3 remote-as 65101\n   neighbor 10.255.0.3 description dc1-leaf1a\n   neighbor 10.255.0.4 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.4 remote-as 65101\n   neighbor 10.255.0.4 description dc1-leaf1b\n   neighbor 10.255.0.5 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.5 remote-as 65102\n   neighbor 10.255.0.5 description dc1-leaf2a\n   neighbor 10.255.0.6 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.6 remote-as 65102\n   neighbor 10.255.0.6 description dc1-leaf2b\n   neighbor 10.255.255.3 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.3 remote-as 65101\n   neighbor 10.255.255.3 description dc1-leaf1a_Ethernet2\n   neighbor 10.255.255.7 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.7 remote-as 65101\n   neighbor 10.255.255.7 description dc1-leaf1b_Ethernet2\n   neighbor 10.255.255.11 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.11 remote-as 65102\n   neighbor 10.255.255.11 description dc1-leaf2a_Ethernet2\n   neighbor 10.255.255.15 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.15 remote-as 65102\n   neighbor 10.255.255.15 description dc1-leaf2b_Ethernet2\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc1-spine2.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html","title":"dc2-leaf1a","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.2.201/24 172.16.2.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.2.201/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#mlag","title":"MLAG","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC2_L3_LEAF1 Vlan4094 10.255.129.85 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC2_L3_LEAF1\n   local-interface Vlan4094\n   peer-address 10.255.129.85\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc2-leaf1b_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc2-leaf1b_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc2-leaf1-server1_PCI1 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC2-LEAF1C_Ethernet1 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC2-SPINE1_Ethernet1 routed - 10.255.255.105/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC2-SPINE2_Ethernet1 routed - 10.255.255.107/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC2-SPINE1_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.105/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC2-SPINE2_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.107/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc2-leaf1b_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc2-leaf1b_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc2-leaf1-server1_PCI1\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet8\n   description DC2-LEAF1C_Ethernet1\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc2-leaf1b_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc2-leaf1-server1_PortChannel dc2-leaf1-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC2-LEAF1C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc2-leaf1b_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc2-leaf1-server1_PortChannel dc2-leaf1-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC2-LEAF1C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.128.13/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.129.13/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.13/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.13/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.128.13/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.129.13/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.13/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.13/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.129.116/31 - - - - - Vlan3010 VRF11 10.255.129.116/31 - - - - - Vlan4093 default 10.255.129.116/31 - - - - - Vlan4094 default 10.255.129.84/31 - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.129.116/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.129.116/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.129.116/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.129.84/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc2-leaf1a_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.2.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.2.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65201 10.255.128.13 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65201 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.128.11 65200 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.128.12 65200 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.129.117 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.255.104 65200 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.106 65200 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.129.117 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.129.117 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.128.13:10011 10011:10011 - - learned 12 10.255.128.13:10012 10012:10012 - - learned 21 10.255.128.13:10021 10021:10021 - - learned 22 10.255.128.13:10022 10022:10022 - - learned 3401 10.255.128.13:13401 13401:13401 - - learned 3402 10.255.128.13:13402 13402:13402 - - learned"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.128.13:10 connected VRF11 10.255.128.13:11 connected"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65201\n   router-id 10.255.128.13\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65201\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc2-leaf1b\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.128.11 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.11 remote-as 65200\n   neighbor 10.255.128.11 description dc2-spine1\n   neighbor 10.255.128.12 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.12 remote-as 65200\n   neighbor 10.255.128.12 description dc2-spine2\n   neighbor 10.255.129.117 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.129.117 description dc2-leaf1b\n   neighbor 10.255.255.104 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.104 remote-as 65200\n   neighbor 10.255.255.104 description dc2-spine1_Ethernet1\n   neighbor 10.255.255.106 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.106 remote-as 65200\n   neighbor 10.255.255.106 description dc2-spine2_Ethernet1\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.128.13:10011\n      route-target both 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.128.13:10012\n      route-target both 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.128.13:10021\n      route-target both 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.128.13:10022\n      route-target both 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.128.13:13401\n      route-target both 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.128.13:13402\n      route-target both 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.128.13:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.128.13\n      neighbor 10.255.129.117 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.128.13:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.128.13\n      neighbor 10.255.129.117 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.128.0/27 eq 32 20 permit 10.255.129.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.128.0/27 eq 32\n   seq 20 permit 10.255.129.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.13 VRF11 10.255.11.13"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1a.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.13\nip address virtual source-nat vrf VRF11 address 10.255.11.13\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html","title":"dc2-leaf1b","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.2.202/24 172.16.2.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.2.202/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#mlag","title":"MLAG","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC2_L3_LEAF1 Vlan4094 10.255.129.84 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC2_L3_LEAF1\n   local-interface Vlan4094\n   peer-address 10.255.129.84\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc2-leaf1a_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc2-leaf1a_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc2-leaf1-server1_PCI2 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC2-LEAF1C_Ethernet2 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC2-SPINE1_Ethernet2 routed - 10.255.255.109/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC2-SPINE2_Ethernet2 routed - 10.255.255.111/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC2-SPINE1_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.109/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC2-SPINE2_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.111/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc2-leaf1a_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc2-leaf1a_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc2-leaf1-server1_PCI2\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet8\n   description DC2-LEAF1C_Ethernet2\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc2-leaf1a_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc2-leaf1-server1_PortChannel dc2-leaf1-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC2-LEAF1C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc2-leaf1a_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc2-leaf1-server1_PortChannel dc2-leaf1-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC2-LEAF1C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.128.14/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.129.13/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.14/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.14/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.128.14/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.129.13/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.14/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.14/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.129.117/31 - - - - - Vlan3010 VRF11 10.255.129.117/31 - - - - - Vlan4093 default 10.255.129.117/31 - - - - - Vlan4094 default 10.255.129.85/31 - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.129.117/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.129.117/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.129.117/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.129.85/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc2-leaf1b_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.2.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.2.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65201 10.255.128.14 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65201 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.128.11 65200 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.128.12 65200 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.129.116 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.255.108 65200 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.110 65200 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.129.116 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.129.116 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.128.14:10011 10011:10011 - - learned 12 10.255.128.14:10012 10012:10012 - - learned 21 10.255.128.14:10021 10021:10021 - - learned 22 10.255.128.14:10022 10022:10022 - - learned 3401 10.255.128.14:13401 13401:13401 - - learned 3402 10.255.128.14:13402 13402:13402 - - learned"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.128.14:10 connected VRF11 10.255.128.14:11 connected"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65201\n   router-id 10.255.128.14\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65201\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc2-leaf1a\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.128.11 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.11 remote-as 65200\n   neighbor 10.255.128.11 description dc2-spine1\n   neighbor 10.255.128.12 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.12 remote-as 65200\n   neighbor 10.255.128.12 description dc2-spine2\n   neighbor 10.255.129.116 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.129.116 description dc2-leaf1a\n   neighbor 10.255.255.108 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.108 remote-as 65200\n   neighbor 10.255.255.108 description dc2-spine1_Ethernet2\n   neighbor 10.255.255.110 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.110 remote-as 65200\n   neighbor 10.255.255.110 description dc2-spine2_Ethernet2\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.128.14:10011\n      route-target both 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.128.14:10012\n      route-target both 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.128.14:10021\n      route-target both 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.128.14:10022\n      route-target both 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.128.14:13401\n      route-target both 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.128.14:13402\n      route-target both 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.128.14:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.128.14\n      neighbor 10.255.129.116 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.128.14:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.128.14\n      neighbor 10.255.129.116 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.128.0/27 eq 32 20 permit 10.255.129.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.128.0/27 eq 32\n   seq 20 permit 10.255.129.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.14 VRF11 10.255.11.14"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1b.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.14\nip address virtual source-nat vrf VRF11 address 10.255.11.14\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html","title":"dc2-leaf1c","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.2.251/24 172.16.2.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.2.251/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 32768"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 32768\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3401 L2_VLAN3401 - 3402 L2_VLAN3402 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 DC2-LEAF1A_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet2 DC2-LEAF1B_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet5 dc2-leaf1-server1_iLO access 11 - - - <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description DC2-LEAF1A_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description DC2-LEAF1B_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet5\n   description dc2-leaf1-server1_iLO\n   no shutdown\n   switchport access vlan 11\n   switchport mode access\n   switchport\n   spanning-tree portfast\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 DC2_L3_LEAF1_Po8 switched trunk 11-12,21-22,3401-3402 - - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description DC2_L3_LEAF1_Po8\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.2.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.2.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf1c.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html","title":"dc2-leaf2a","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.2.203/24 172.16.2.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.2.203/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#mlag","title":"MLAG","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC2_L3_LEAF2 Vlan4094 10.255.129.89 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC2_L3_LEAF2\n   local-interface Vlan4094\n   peer-address 10.255.129.89\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc2-leaf2b_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc2-leaf2b_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc2-leaf2-server1_PCI1 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC2-LEAF2C_Ethernet1 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC2-SPINE1_Ethernet3 routed - 10.255.255.113/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC2-SPINE2_Ethernet3 routed - 10.255.255.115/31 default 1500 False - - Ethernet6 P2P_LINK_TO_dc1-leaf2a_Ethernet6 routed - 172.100.100.1/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC2-SPINE1_Ethernet3\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.113/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC2-SPINE2_Ethernet3\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.115/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc2-leaf2b_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc2-leaf2b_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc2-leaf2-server1_PCI1\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet6\n   description P2P_LINK_TO_dc1-leaf2a_Ethernet6\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 172.100.100.1/31\n!\ninterface Ethernet8\n   description DC2-LEAF2C_Ethernet1\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc2-leaf2b_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc2-leaf2-server1_PortChannel dc2-leaf2-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC2-LEAF2C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc2-leaf2b_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc2-leaf2-server1_PortChannel dc2-leaf2-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC2-LEAF2C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.128.15/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.129.15/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.15/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.15/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.128.15/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.129.15/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.15/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.15/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.129.120/31 - - - - - Vlan3010 VRF11 10.255.129.120/31 - - - - - Vlan4093 default 10.255.129.120/31 - - - - - Vlan4094 default 10.255.129.88/31 - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.129.120/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.129.120/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.129.120/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.129.88/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc2-leaf2a_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.2.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.2.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65202 10.255.128.15 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#evpn-overlay-core","title":"EVPN-OVERLAY-CORE","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 15 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65202 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.5 65102 default - Inherited from peer group EVPN-OVERLAY-CORE Inherited from peer group EVPN-OVERLAY-CORE - Inherited from peer group EVPN-OVERLAY-CORE - - - 10.255.128.11 65200 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.128.12 65200 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.129.121 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.255.112 65200 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.114 65200 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 172.100.100.0 65102 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.129.121 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.129.121 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-CORE True default EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#evpn-dci-gateway-summary","title":"EVPN DCI Gateway Summary","text":"Settings Value Remote Domain Peer Groups EVPN-OVERLAY-CORE L3 Gateway Configured True L3 Gateway Inter-domain True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.128.15:10011 10011:10011remote 10011:10011 - - learned 12 10.255.128.15:10012 10012:10012remote 10012:10012 - - learned 21 10.255.128.15:10021 10021:10021remote 10021:10021 - - learned 22 10.255.128.15:10022 10022:10022remote 10022:10022 - - learned 3401 10.255.128.15:13401 13401:13401remote 13401:13401 - - learned 3402 10.255.128.15:13402 13402:13402remote 13402:13402 - - learned"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.128.15:10 connected VRF11 10.255.128.15:11 connected"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65202\n   router-id 10.255.128.15\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-CORE peer group\n   neighbor EVPN-OVERLAY-CORE update-source Loopback0\n   neighbor EVPN-OVERLAY-CORE bfd\n   neighbor EVPN-OVERLAY-CORE ebgp-multihop 15\n   neighbor EVPN-OVERLAY-CORE send-community\n   neighbor EVPN-OVERLAY-CORE maximum-routes 0\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65202\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc2-leaf2b\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.0.5 peer group EVPN-OVERLAY-CORE\n   neighbor 10.255.0.5 remote-as 65102\n   neighbor 10.255.0.5 description dc1-leaf2a\n   neighbor 10.255.128.11 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.11 remote-as 65200\n   neighbor 10.255.128.11 description dc2-spine1\n   neighbor 10.255.128.12 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.12 remote-as 65200\n   neighbor 10.255.128.12 description dc2-spine2\n   neighbor 10.255.129.121 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.129.121 description dc2-leaf2b\n   neighbor 10.255.255.112 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.112 remote-as 65200\n   neighbor 10.255.255.112 description dc2-spine1_Ethernet3\n   neighbor 10.255.255.114 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.114 remote-as 65200\n   neighbor 10.255.255.114 description dc2-spine2_Ethernet3\n   neighbor 172.100.100.0 peer group IPv4-UNDERLAY-PEERS\n   neighbor 172.100.100.0 remote-as 65102\n   neighbor 172.100.100.0 description dc1-leaf2a\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.128.15:10011\n      rd evpn domain remote 10.255.128.15:10011\n      route-target both 10011:10011\n      route-target import export evpn domain remote 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.128.15:10012\n      rd evpn domain remote 10.255.128.15:10012\n      route-target both 10012:10012\n      route-target import export evpn domain remote 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.128.15:10021\n      rd evpn domain remote 10.255.128.15:10021\n      route-target both 10021:10021\n      route-target import export evpn domain remote 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.128.15:10022\n      rd evpn domain remote 10.255.128.15:10022\n      route-target both 10022:10022\n      route-target import export evpn domain remote 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.128.15:13401\n      rd evpn domain remote 10.255.128.15:13401\n      route-target both 13401:13401\n      route-target import export evpn domain remote 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.128.15:13402\n      rd evpn domain remote 10.255.128.15:13402\n      route-target both 13402:13402\n      route-target import export evpn domain remote 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-CORE activate\n      neighbor EVPN-OVERLAY-CORE domain remote\n      neighbor EVPN-OVERLAY-PEERS activate\n      neighbor default next-hop-self received-evpn-routes route-type ip-prefix inter-domain\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-CORE activate\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.128.15:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.128.15\n      neighbor 10.255.129.121 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.128.15:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.128.15\n      neighbor 10.255.129.121 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.128.0/27 eq 32 20 permit 10.255.129.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.128.0/27 eq 32\n   seq 20 permit 10.255.129.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.15 VRF11 10.255.11.15"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2a.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.15\nip address virtual source-nat vrf VRF11 address 10.255.11.15\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html","title":"dc2-leaf2b","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.2.204/24 172.16.2.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.2.204/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#mlag","title":"MLAG","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC2_L3_LEAF2 Vlan4094 10.255.129.88 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC2_L3_LEAF2\n   local-interface Vlan4094\n   peer-address 10.255.129.88\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc2-leaf2a_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc2-leaf2a_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc2-leaf2-server1_PCI2 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC2-LEAF2C_Ethernet2 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC2-SPINE1_Ethernet4 routed - 10.255.255.117/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC2-SPINE2_Ethernet4 routed - 10.255.255.119/31 default 1500 False - - Ethernet6 P2P_LINK_TO_dc1-leaf2b_Ethernet6 routed - 172.100.100.3/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC2-SPINE1_Ethernet4\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.117/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC2-SPINE2_Ethernet4\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.119/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc2-leaf2a_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc2-leaf2a_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc2-leaf2-server1_PCI2\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet6\n   description P2P_LINK_TO_dc1-leaf2b_Ethernet6\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 172.100.100.3/31\n!\ninterface Ethernet8\n   description DC2-LEAF2C_Ethernet2\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc2-leaf2a_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc2-leaf2-server1_PortChannel dc2-leaf2-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC2-LEAF2C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc2-leaf2a_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc2-leaf2-server1_PortChannel dc2-leaf2-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC2-LEAF2C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.128.16/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.129.15/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.16/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.16/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.128.16/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.129.15/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.16/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.16/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.129.121/31 - - - - - Vlan3010 VRF11 10.255.129.121/31 - - - - - Vlan4093 default 10.255.129.121/31 - - - - - Vlan4094 default 10.255.129.89/31 - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.129.121/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.129.121/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.129.121/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.129.89/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc2-leaf2b_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.2.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.2.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65202 10.255.128.16 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#evpn-overlay-core","title":"EVPN-OVERLAY-CORE","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 15 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65202 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.6 65102 default - Inherited from peer group EVPN-OVERLAY-CORE Inherited from peer group EVPN-OVERLAY-CORE - Inherited from peer group EVPN-OVERLAY-CORE - - - 10.255.128.11 65200 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.128.12 65200 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.129.120 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.255.116 65200 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.118 65200 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 172.100.100.2 65102 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.129.120 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.129.120 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-CORE True default EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#evpn-dci-gateway-summary","title":"EVPN DCI Gateway Summary","text":"Settings Value Remote Domain Peer Groups EVPN-OVERLAY-CORE L3 Gateway Configured True L3 Gateway Inter-domain True"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.128.16:10011 10011:10011remote 10011:10011 - - learned 12 10.255.128.16:10012 10012:10012remote 10012:10012 - - learned 21 10.255.128.16:10021 10021:10021remote 10021:10021 - - learned 22 10.255.128.16:10022 10022:10022remote 10022:10022 - - learned 3401 10.255.128.16:13401 13401:13401remote 13401:13401 - - learned 3402 10.255.128.16:13402 13402:13402remote 13402:13402 - - learned"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.128.16:10 connected VRF11 10.255.128.16:11 connected"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65202\n   router-id 10.255.128.16\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-CORE peer group\n   neighbor EVPN-OVERLAY-CORE update-source Loopback0\n   neighbor EVPN-OVERLAY-CORE bfd\n   neighbor EVPN-OVERLAY-CORE ebgp-multihop 15\n   neighbor EVPN-OVERLAY-CORE send-community\n   neighbor EVPN-OVERLAY-CORE maximum-routes 0\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65202\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc2-leaf2a\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.0.6 peer group EVPN-OVERLAY-CORE\n   neighbor 10.255.0.6 remote-as 65102\n   neighbor 10.255.0.6 description dc1-leaf2b\n   neighbor 10.255.128.11 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.11 remote-as 65200\n   neighbor 10.255.128.11 description dc2-spine1\n   neighbor 10.255.128.12 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.12 remote-as 65200\n   neighbor 10.255.128.12 description dc2-spine2\n   neighbor 10.255.129.120 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.129.120 description dc2-leaf2a\n   neighbor 10.255.255.116 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.116 remote-as 65200\n   neighbor 10.255.255.116 description dc2-spine1_Ethernet4\n   neighbor 10.255.255.118 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.118 remote-as 65200\n   neighbor 10.255.255.118 description dc2-spine2_Ethernet4\n   neighbor 172.100.100.2 peer group IPv4-UNDERLAY-PEERS\n   neighbor 172.100.100.2 remote-as 65102\n   neighbor 172.100.100.2 description dc1-leaf2b\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.128.16:10011\n      rd evpn domain remote 10.255.128.16:10011\n      route-target both 10011:10011\n      route-target import export evpn domain remote 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.128.16:10012\n      rd evpn domain remote 10.255.128.16:10012\n      route-target both 10012:10012\n      route-target import export evpn domain remote 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.128.16:10021\n      rd evpn domain remote 10.255.128.16:10021\n      route-target both 10021:10021\n      route-target import export evpn domain remote 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.128.16:10022\n      rd evpn domain remote 10.255.128.16:10022\n      route-target both 10022:10022\n      route-target import export evpn domain remote 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.128.16:13401\n      rd evpn domain remote 10.255.128.16:13401\n      route-target both 13401:13401\n      route-target import export evpn domain remote 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.128.16:13402\n      rd evpn domain remote 10.255.128.16:13402\n      route-target both 13402:13402\n      route-target import export evpn domain remote 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-CORE activate\n      neighbor EVPN-OVERLAY-CORE domain remote\n      neighbor EVPN-OVERLAY-PEERS activate\n      neighbor default next-hop-self received-evpn-routes route-type ip-prefix inter-domain\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-CORE activate\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.128.16:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.128.16\n      neighbor 10.255.129.120 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.128.16:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.128.16\n      neighbor 10.255.129.120 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.128.0/27 eq 32 20 permit 10.255.129.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.128.0/27 eq 32\n   seq 20 permit 10.255.129.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.16 VRF11 10.255.11.16"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2b.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.16\nip address virtual source-nat vrf VRF11 address 10.255.11.16\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html","title":"dc2-leaf2c","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.2.252/24 172.16.2.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.2.252/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 32768"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 32768\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#vlans","title":"VLANs","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3401 L2_VLAN3401 - 3402 L2_VLAN3402 -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 DC2-LEAF2A_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet2 DC2-LEAF2B_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet5 dc2-leaf2-server1_iLO access 11 - - - <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description DC2-LEAF2A_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description DC2-LEAF2B_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet5\n   description dc2-leaf2-server1_iLO\n   no shutdown\n   switchport access vlan 11\n   switchport mode access\n   switchport\n   spanning-tree portfast\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 DC2_L3_LEAF2_Po8 switched trunk 11-12,21-22,3401-3402 - - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description DC2_L3_LEAF2_Po8\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.2.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.2.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#multicast","title":"Multicast","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-leaf2c.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html","title":"dc2-spine1","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Loopback Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.2.21/24 172.16.2.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.2.21/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: none</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode none\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC2-LEAF1A_Ethernet1 routed - 10.255.255.104/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC2-LEAF1B_Ethernet1 routed - 10.255.255.108/31 default 1500 False - - Ethernet3 P2P_LINK_TO_DC2-LEAF2A_Ethernet1 routed - 10.255.255.112/31 default 1500 False - - Ethernet4 P2P_LINK_TO_DC2-LEAF2B_Ethernet1 routed - 10.255.255.116/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC2-LEAF1A_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.104/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC2-LEAF1B_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.108/31\n!\ninterface Ethernet3\n   description P2P_LINK_TO_DC2-LEAF2A_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.112/31\n!\ninterface Ethernet4\n   description P2P_LINK_TO_DC2-LEAF2B_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.116/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.128.11/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.128.11/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.2.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.2.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65200 10.255.128.11 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Next-hop unchanged True Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.128.13 65201 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.128.14 65201 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.128.15 65202 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.128.16 65202 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.255.105 65201 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.109 65201 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.113 65202 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.117 65202 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65200\n   router-id 10.255.128.11\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS next-hop-unchanged\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor 10.255.128.13 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.13 remote-as 65201\n   neighbor 10.255.128.13 description dc2-leaf1a\n   neighbor 10.255.128.14 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.14 remote-as 65201\n   neighbor 10.255.128.14 description dc2-leaf1b\n   neighbor 10.255.128.15 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.15 remote-as 65202\n   neighbor 10.255.128.15 description dc2-leaf2a\n   neighbor 10.255.128.16 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.16 remote-as 65202\n   neighbor 10.255.128.16 description dc2-leaf2b\n   neighbor 10.255.255.105 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.105 remote-as 65201\n   neighbor 10.255.255.105 description dc2-leaf1a_Ethernet1\n   neighbor 10.255.255.109 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.109 remote-as 65201\n   neighbor 10.255.255.109 description dc2-leaf1b_Ethernet1\n   neighbor 10.255.255.113 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.113 remote-as 65202\n   neighbor 10.255.255.113 description dc2-leaf2a_Ethernet1\n   neighbor 10.255.255.117 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.117 remote-as 65202\n   neighbor 10.255.255.117 description dc2-leaf2b_Ethernet1\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.128.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.128.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine1.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html","title":"dc2-spine2","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Loopback Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#management","title":"Management","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.2.22/24 172.16.2.1"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.2.22/24\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#authentication","title":"Authentication","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#local-users","title":"Local Users","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: none</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode none\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#interfaces","title":"Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC2-LEAF1A_Ethernet2 routed - 10.255.255.106/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC2-LEAF1B_Ethernet2 routed - 10.255.255.110/31 default 1500 False - - Ethernet3 P2P_LINK_TO_DC2-LEAF2A_Ethernet2 routed - 10.255.255.114/31 default 1500 False - - Ethernet4 P2P_LINK_TO_DC2-LEAF2B_Ethernet2 routed - 10.255.255.118/31 default 1500 False - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC2-LEAF1A_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.106/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC2-LEAF1B_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.110/31\n!\ninterface Ethernet3\n   description P2P_LINK_TO_DC2-LEAF2A_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.114/31\n!\ninterface Ethernet4\n   description P2P_LINK_TO_DC2-LEAF2B_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.118/31\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.128.12/32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.128.12/32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#routing","title":"Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#static-routes","title":"Static Routes","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.2.1 - 1 - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.2.1\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65200 10.255.128.12 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Next-hop unchanged True Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.128.13 65201 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.128.14 65201 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.128.15 65202 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.128.16 65202 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.255.107 65201 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.111 65201 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.115 65202 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.119 65202 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65200\n   router-id 10.255.128.12\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS next-hop-unchanged\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor 10.255.128.13 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.13 remote-as 65201\n   neighbor 10.255.128.13 description dc2-leaf1a\n   neighbor 10.255.128.14 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.14 remote-as 65201\n   neighbor 10.255.128.14 description dc2-leaf1b\n   neighbor 10.255.128.15 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.15 remote-as 65202\n   neighbor 10.255.128.15 description dc2-leaf2a\n   neighbor 10.255.128.16 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.128.16 remote-as 65202\n   neighbor 10.255.128.16 description dc2-leaf2b\n   neighbor 10.255.255.107 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.107 remote-as 65201\n   neighbor 10.255.255.107 description dc2-leaf1a_Ethernet2\n   neighbor 10.255.255.111 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.111 remote-as 65201\n   neighbor 10.255.255.111 description dc2-leaf1b_Ethernet2\n   neighbor 10.255.255.115 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.115 remote-as 65202\n   neighbor 10.255.255.115 description dc2-leaf2a_Ethernet2\n   neighbor 10.255.255.119 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.119 remote-as 65202\n   neighbor 10.255.255.119 description dc2-leaf2b_Ethernet2\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#bfd","title":"BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#filters","title":"Filters","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.128.0/27 eq 32"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.128.0/27 eq 32\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#route-maps","title":"Route-maps","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/dual-dc-l3ls/documentation/devices/dc2-spine2.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html","title":"FABRIC","text":""},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Fabric Switches and Management IP<ul> <li>Fabric Switches with inband Management IP</li> </ul> </li> <li>Fabric Topology</li> <li>Fabric IP Allocation<ul> <li>Fabric Point-To-Point Links</li> <li>Point-To-Point Links Node Allocation</li> <li>Loopback Interfaces (BGP EVPN Peering)</li> <li>Loopback0 Interfaces Node Allocation</li> <li>VTEP Loopback VXLAN Tunnel Source Interfaces (VTEPs Only)</li> <li>VTEP Loopback Node allocation</li> </ul> </li> </ul>"},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#fabric-switches-and-management-ip","title":"Fabric Switches and Management IP","text":"POD Type Node Management IP Platform Provisioned in CloudVision Serial Number FABRIC l3leaf dc1-leaf1a 172.16.1.101/24 vEOS-lab Provisioned - FABRIC l3leaf dc1-leaf1b 172.16.1.102/24 vEOS-lab Provisioned - FABRIC l2leaf dc1-leaf1c 172.16.1.151/24 vEOS-lab Provisioned - FABRIC l3leaf dc1-leaf2a 172.16.1.103/24 vEOS-lab Provisioned - FABRIC l3leaf dc1-leaf2b 172.16.1.104/24 vEOS-lab Provisioned - FABRIC l2leaf dc1-leaf2c 172.16.1.152/24 vEOS-lab Provisioned - FABRIC spine dc1-spine1 172.16.1.11/24 vEOS-lab Provisioned - FABRIC spine dc1-spine2 172.16.1.12/24 vEOS-lab Provisioned - FABRIC l3leaf dc2-leaf1a 172.16.2.201/24 vEOS-lab Provisioned - FABRIC l3leaf dc2-leaf1b 172.16.2.202/24 vEOS-lab Provisioned - FABRIC l2leaf dc2-leaf1c 172.16.2.251/24 vEOS-lab Provisioned - FABRIC l3leaf dc2-leaf2a 172.16.2.203/24 vEOS-lab Provisioned - FABRIC l3leaf dc2-leaf2b 172.16.2.204/24 vEOS-lab Provisioned - FABRIC l2leaf dc2-leaf2c 172.16.2.252/24 vEOS-lab Provisioned - FABRIC spine dc2-spine1 172.16.2.21/24 vEOS-lab Provisioned - FABRIC spine dc2-spine2 172.16.2.22/24 vEOS-lab Provisioned - <p>Provision status is based on Ansible inventory declaration and do not represent real status from CloudVision.</p>"},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#fabric-switches-with-inband-management-ip","title":"Fabric Switches with inband Management IP","text":"POD Type Node Management IP Inband Interface"},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#fabric-topology","title":"Fabric Topology","text":"Type Node Node Interface Peer Type Peer Node Peer Interface l3leaf dc1-leaf1a Ethernet1 spine dc1-spine1 Ethernet1 l3leaf dc1-leaf1a Ethernet2 spine dc1-spine2 Ethernet1 l3leaf dc1-leaf1a Ethernet3 mlag_peer dc1-leaf1b Ethernet3 l3leaf dc1-leaf1a Ethernet4 mlag_peer dc1-leaf1b Ethernet4 l3leaf dc1-leaf1a Ethernet8 l2leaf dc1-leaf1c Ethernet1 l3leaf dc1-leaf1b Ethernet1 spine dc1-spine1 Ethernet2 l3leaf dc1-leaf1b Ethernet2 spine dc1-spine2 Ethernet2 l3leaf dc1-leaf1b Ethernet8 l2leaf dc1-leaf1c Ethernet2 l3leaf dc1-leaf2a Ethernet1 spine dc1-spine1 Ethernet3 l3leaf dc1-leaf2a Ethernet2 spine dc1-spine2 Ethernet3 l3leaf dc1-leaf2a Ethernet3 mlag_peer dc1-leaf2b Ethernet3 l3leaf dc1-leaf2a Ethernet4 mlag_peer dc1-leaf2b Ethernet4 l3leaf dc1-leaf2a Ethernet6 l3leaf dc2-leaf2a Ethernet6 l3leaf dc1-leaf2a Ethernet8 l2leaf dc1-leaf2c Ethernet1 l3leaf dc1-leaf2b Ethernet1 spine dc1-spine1 Ethernet4 l3leaf dc1-leaf2b Ethernet2 spine dc1-spine2 Ethernet4 l3leaf dc1-leaf2b Ethernet6 l3leaf dc2-leaf2b Ethernet6 l3leaf dc1-leaf2b Ethernet8 l2leaf dc1-leaf2c Ethernet2 l3leaf dc2-leaf1a Ethernet1 spine dc2-spine1 Ethernet1 l3leaf dc2-leaf1a Ethernet2 spine dc2-spine2 Ethernet1 l3leaf dc2-leaf1a Ethernet3 mlag_peer dc2-leaf1b Ethernet3 l3leaf dc2-leaf1a Ethernet4 mlag_peer dc2-leaf1b Ethernet4 l3leaf dc2-leaf1a Ethernet8 l2leaf dc2-leaf1c Ethernet1 l3leaf dc2-leaf1b Ethernet1 spine dc2-spine1 Ethernet2 l3leaf dc2-leaf1b Ethernet2 spine dc2-spine2 Ethernet2 l3leaf dc2-leaf1b Ethernet8 l2leaf dc2-leaf1c Ethernet2 l3leaf dc2-leaf2a Ethernet1 spine dc2-spine1 Ethernet3 l3leaf dc2-leaf2a Ethernet2 spine dc2-spine2 Ethernet3 l3leaf dc2-leaf2a Ethernet3 mlag_peer dc2-leaf2b Ethernet3 l3leaf dc2-leaf2a Ethernet4 mlag_peer dc2-leaf2b Ethernet4 l3leaf dc2-leaf2a Ethernet8 l2leaf dc2-leaf2c Ethernet1 l3leaf dc2-leaf2b Ethernet1 spine dc2-spine1 Ethernet4 l3leaf dc2-leaf2b Ethernet2 spine dc2-spine2 Ethernet4 l3leaf dc2-leaf2b Ethernet8 l2leaf dc2-leaf2c Ethernet2"},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#fabric-ip-allocation","title":"Fabric IP Allocation","text":""},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#fabric-point-to-point-links","title":"Fabric Point-To-Point Links","text":"Uplink IPv4 Pool Available Addresses Assigned addresses Assigned Address % 10.255.255.0/26 64 16 25.0 % 10.255.255.64/26 64 16 25.0 %"},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#point-to-point-links-node-allocation","title":"Point-To-Point Links Node Allocation","text":"Node Node Interface Node IP Address Peer Node Peer Interface Peer IP Address dc1-leaf1a Ethernet1 10.255.255.1/31 dc1-spine1 Ethernet1 10.255.255.0/31 dc1-leaf1a Ethernet2 10.255.255.3/31 dc1-spine2 Ethernet1 10.255.255.2/31 dc1-leaf1b Ethernet1 10.255.255.5/31 dc1-spine1 Ethernet2 10.255.255.4/31 dc1-leaf1b Ethernet2 10.255.255.7/31 dc1-spine2 Ethernet2 10.255.255.6/31 dc1-leaf2a Ethernet1 10.255.255.9/31 dc1-spine1 Ethernet3 10.255.255.8/31 dc1-leaf2a Ethernet2 10.255.255.11/31 dc1-spine2 Ethernet3 10.255.255.10/31 dc1-leaf2a Ethernet6 172.100.100.0/31 dc2-leaf2a Ethernet6 172.100.100.1/31 dc1-leaf2b Ethernet1 10.255.255.13/31 dc1-spine1 Ethernet4 10.255.255.12/31 dc1-leaf2b Ethernet2 10.255.255.15/31 dc1-spine2 Ethernet4 10.255.255.14/31 dc1-leaf2b Ethernet6 172.100.100.2/31 dc2-leaf2b Ethernet6 172.100.100.3/31 dc2-leaf1a Ethernet1 10.255.255.105/31 dc2-spine1 Ethernet1 10.255.255.104/31 dc2-leaf1a Ethernet2 10.255.255.107/31 dc2-spine2 Ethernet1 10.255.255.106/31 dc2-leaf1b Ethernet1 10.255.255.109/31 dc2-spine1 Ethernet2 10.255.255.108/31 dc2-leaf1b Ethernet2 10.255.255.111/31 dc2-spine2 Ethernet2 10.255.255.110/31 dc2-leaf2a Ethernet1 10.255.255.113/31 dc2-spine1 Ethernet3 10.255.255.112/31 dc2-leaf2a Ethernet2 10.255.255.115/31 dc2-spine2 Ethernet3 10.255.255.114/31 dc2-leaf2b Ethernet1 10.255.255.117/31 dc2-spine1 Ethernet4 10.255.255.116/31 dc2-leaf2b Ethernet2 10.255.255.119/31 dc2-spine2 Ethernet4 10.255.255.118/31"},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#loopback-interfaces-bgp-evpn-peering","title":"Loopback Interfaces (BGP EVPN Peering)","text":"Loopback Pool Available Addresses Assigned addresses Assigned Address % 10.255.0.0/27 32 6 18.75 % 10.255.128.0/27 32 6 18.75 %"},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#loopback0-interfaces-node-allocation","title":"Loopback0 Interfaces Node Allocation","text":"POD Node Loopback0 FABRIC dc1-leaf1a 10.255.0.3/32 FABRIC dc1-leaf1b 10.255.0.4/32 FABRIC dc1-leaf2a 10.255.0.5/32 FABRIC dc1-leaf2b 10.255.0.6/32 FABRIC dc1-spine1 10.255.0.1/32 FABRIC dc1-spine2 10.255.0.2/32 FABRIC dc2-leaf1a 10.255.128.13/32 FABRIC dc2-leaf1b 10.255.128.14/32 FABRIC dc2-leaf2a 10.255.128.15/32 FABRIC dc2-leaf2b 10.255.128.16/32 FABRIC dc2-spine1 10.255.128.11/32 FABRIC dc2-spine2 10.255.128.12/32"},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#vtep-loopback-vxlan-tunnel-source-interfaces-vteps-only","title":"VTEP Loopback VXLAN Tunnel Source Interfaces (VTEPs Only)","text":"VTEP Loopback Pool Available Addresses Assigned addresses Assigned Address % 10.255.1.0/27 32 4 12.5 % 10.255.129.0/27 32 4 12.5 %"},{"location":"examples/dual-dc-l3ls/documentation/fabric/FABRIC-documentation.html#vtep-loopback-node-allocation","title":"VTEP Loopback Node allocation","text":"POD Node Loopback1 FABRIC dc1-leaf1a 10.255.1.3/32 FABRIC dc1-leaf1b 10.255.1.3/32 FABRIC dc1-leaf2a 10.255.1.5/32 FABRIC dc1-leaf2b 10.255.1.5/32 FABRIC dc2-leaf1a 10.255.129.13/32 FABRIC dc2-leaf1b 10.255.129.13/32 FABRIC dc2-leaf2a 10.255.129.15/32 FABRIC dc2-leaf2b 10.255.129.15/32"},{"location":"examples/l2ls-fabric/index.html","title":"Example for L2LS Fabric","text":""},{"location":"examples/l2ls-fabric/index.html#introduction","title":"Introduction","text":"<p>This example includes and describes all the AVD files used to build a Layer 2 Leaf Spine (L2LS) Fabric, with the following nodes:</p> <ul> <li>2 Spine nodes</li> <li>4 Leaf nodes</li> </ul> <p>The network fabric in this example is layer 2; an external firewall (FW) or layer 3 (L3) device will handle routing. Later, in this example, we will discuss adding L3 routing to the Spines. But, first, we will focus on defining the fabric variables to build this L2LS Topology. Before we start, we must ensure that we have installed AVD with the requirements covered in the Installation &amp; Requirements section.</p> <p>The example is meant as a starting foundation. You may build more advanced fabrics based on this design. To keep things simple, the Arista eAPI will be used to communicate with the switches.</p> Info <p>The configurations may also be applied with CloudVision with a few updates to your playbook and Ansible variables.</p>"},{"location":"examples/l2ls-fabric/index.html#installation-requirements","title":"Installation &amp; Requirements","text":"<ol> <li>Install AVD - Installation guide found here.</li> <li>Install Ansible module requirements - Instructions found here.</li> <li>Run the following playbook which will copy Getting Started examples to your current working directory.</li> </ol> <pre><code># current working directory: ~/ansible-avd-examples\nansible-playbook arista.avd.install_examples\n</code></pre> <p>The output will show something similar to the following. If not, please ensure that AVD and all requirements are correctly installed.</p> <pre><code> ~/ansible-avd-examples# ansible-playbook arista.avd.install_examples\n\nPLAY [Install Examples]***************************************************************************************************************************************************************************************************************************************************************\n\nTASK [Copy all examples to ~/ansible-avd-examples]*****************************************************************************************************************************************************\nchanged: [localhost]\nPLAY RECAP\n****************************************************************************************************************************************************************************************************************************************************************************\nlocalhost                  : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0\n</code></pre> <p>After the playbook has run successfully, the following directory structure will be created.</p> <pre><code>ansible-avd-examples/     (directory where playbook was run)\n\u251c\u2500\u2500 l2ls-fabric/\n    \u251c\u2500\u2500 documentation/\n    \u251c\u2500\u2500 group_vars/\n    \u251c\u2500\u2500 images/\n    \u251c\u2500\u2500 intended/\n    \u251c\u2500\u2500 switch-basic-configurations/\n    \u251c\u2500\u2500 ansible.cfg\n    \u251c\u2500\u2500 build.yml\n    \u251c\u2500\u2500 deploy.yml\n    \u251c\u2500\u2500 inventory.yml\n    \u2514\u2500\u2500 README.md (this document)\n</code></pre> Info <p>If the content of any file in the example is modified and the playbook is run again, the file will not be overwritten. However, if any file in the example is deleted and the playbook is run again, the file will be re-created.</p>"},{"location":"examples/l2ls-fabric/index.html#design-overview","title":"Design Overview","text":""},{"location":"examples/l2ls-fabric/index.html#physical-l2ls-topology","title":"Physical L2LS Topology","text":"<p>The drawing below shows the physical topology used in this example. The interface assignment shown here are referenced across the entire example, so keep that in mind if this example must be adapted to a different topology.</p> <p></p> Note <p>The FW/L3 Device and individual hosts (A-D) in this example are not managed by AVD, but the switch ports connecting to these devices are.</p>"},{"location":"examples/l2ls-fabric/index.html#basic-eos-switch-configuration","title":"Basic EOS Switch Configuration","text":"<p>Basic connectivity between the Ansible controller host and the switches must be established before Ansible can be used to deploy configurations. The following should be configured on all switches:</p> <ul> <li>Switch Hostname</li> <li>IP enabled interface</li> <li>Username and Password defined</li> <li>Management eAPI enabled</li> </ul> Info <p>When using vEOS/cEOS virtual switches, <code>Management0</code> is used. When using actual hardware switches, <code>Management1</code> is used. The included basic switch configurations may need to be adjusted for your environment.</p> <p>Below is the basic configuration file for SPINE1:</p> <pre><code>!\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\n!\nhostname SPINE1\n!\nvrf instance MGMT\n!\nmanagement api http-commands\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\ninterface Management0\n   vrf MGMT\n   ip address 172.100.100.101/24\n!\nip routing\nno ip routing vrf MGMT\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n!\nmanagement ssh\n   vrf MGMT\n      no shutdown\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/index.html#ansible-inventory","title":"Ansible Inventory","text":"<p>Now that we understand the physical L2LS topology, we need to create the Ansible inventory that represents this topology. The following is a textual and graphical representation of the Ansible inventory group variables and naming scheme used in this example:</p> <pre><code>- DC1\n  - DC1_FABRIC\n    - DC1_SPINES\n    - DC1_LEAFS\n  - DC1_NETWORK_SERVICES\n    - DC1_SPINES\n    - DC1_LEAFS\n  - DC1_NETWORK_PORTS\n    - DC1_SPINES\n    - DC1_LEAFS\n</code></pre> <p>DC1 represents the highest level within the hierarchy. Ansible variables defined at this level will be applied to all nodes in the fabric. Ansible groups have parent and child relationships. For example, both DC1_SPINES and DC1_LEAFS are children of DC1_FABRIC. Groups of Groups are possible and allow variables to be shared at any level within the hierarchy. For example, DC1_NETWORK_SERVICES is a group with two other groups defined as children: DC1_SPINES and DC1_LEAFS. The same applies to the group named DC1_NETWORK_PORTS. You will see these groups listed at the bottom of the inventory file.</p> <p>This naming convention makes it possible to extend anything quickly but can be changed based on your preferences. The names of all groups and hosts must be unique.</p> <p></p>"},{"location":"examples/l2ls-fabric/index.html#inventoryyml","title":"inventory.yml","text":"<p>The below inventory file represents two Spines and four Leafs. The nodes are defined under the groups DC1_SPINES and DC1_LEAFS, respectively. We apply group variables (group_vars) to these groups to define their functionality and configurations.</p> <p>The hostnames specified in the inventory must exist either in DNS or in the hosts file on your Ansible host to allow successful name lookup and be able to reach the switches directly. A successful ping from the Ansible host to each inventory host verifies name resolution (e.g., ping SPINE1).</p> <p>Alternatively, if DNS is not available, define the variable ansible_host to be an IP address for each device.</p> <pre><code># inventory.yml\nDC1:\nchildren:\nDC1_FABRIC:\nchildren:\nDC1_SPINES:\nhosts:\nSPINE1:\nansible_host: 172.100.100.101\nSPINE2:\nansible_host: 172.100.100.102\nDC1_LEAFS:\nhosts:\nLEAF1:\nansible_host: 172.100.100.105\nLEAF2:\nansible_host: 172.100.100.106\nLEAF3:\nansible_host: 172.100.100.107\nLEAF4:\nansible_host: 172.100.100.108\nDC1_NETWORK_SERVICES:\nchildren:\nDC1_LEAFS:\nDC1_SPINES:\nDC1_NETWORK_PORTS:\nchildren:\nDC1_LEAFS:\nDC1_SPINES:\n</code></pre>"},{"location":"examples/l2ls-fabric/index.html#avd-fabric-variables","title":"AVD Fabric Variables","text":"<p>To apply AVD variables to the nodes in the fabric, we make use of Ansible group_vars. How and where you define the variables is your choice. The group_vars table below is one example of AVD fabric variables.</p> group_vars/ Description DC1.yml Global settings for all devices DC1_FABRIC.yml Fabric, Topology, and Device settings DC1_SPINES.yml Device type for Spines DC1_LEAFS.yml Device type for Leafs DC1_NETWORK_SERVICES.yml VLANs DC1_NETWORK_PORTS.yml Port Profiles and Connected Endpoint settings <p>The tabs below show the Ansible group_vars used in this example.</p> DC1DC1_FABRICDC1_SPINESDC1_LEAFSDC1_NETWORK_SERVICESDC1_NETWORK_PORTS <p>At the top level (DC1), the following variables are defined in group_vars/DC1.yml. These Ansible variables apply to all nodes in the fabric and is a common place to set AAA, users, NTP, and management interface settings. Update local_users and passwords for your environment.</p> <p>You can create a sha512_password by creating a username and password on a switch and copy/paste it within double quotes here.</p> <pre><code>---\n### group_vars/DC1.yml\naaa_authentication:\npolicies:\nlocal:\nallow_nopassword: true\n# local users\nlocal_users:\n# Username with no password configured\narista:\nprivilege: 15\nrole: network-admin\nno_password: true\n# Username with a password\nadmin:\nprivilege: 15\nrole: network-admin\nsha512_password: \"$6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\"\n# OOB Management network default gateway.\nmgmt_gateway: 172.100.100.1\nmgmt_interface: Management0\n# dns servers.\nname_servers:\n- 8.8.4.4\n- 8.8.8.8\n# NTP Servers IP or DNS name, first NTP server will be prefered, and sourced from Managment VRF\nntp:\nservers:\n- name: time.google.com\npreferred: true\nvrf: MGMT\n- name: pool.ntp.org\nvrf: MGMT\n# Establish exec/enable role when logging in to switch\naaa_authorization:\nexec:\ndefault: local\n</code></pre> <p>At the Fabric level (DC1_FABRIC), the following variables are defined in group_vars/DC1_FABRIC.yml. The fabric name, design type (l2ls), spine and leaf defaults, ansible authentication, and interface links are defined at this level. Other variables you must supply include: spanning-tree mode and priority along with an mlag IP pool.</p> <p>Variables applied under the node key type (spine/leaf) defaults section are inherited to nodes under each type. These variables may be overwritten under the node itself.</p> <p>The spine interface used by a particular leaf is defined from the leaf\u2019s perspective with a variable called <code>uplink_switch_interfaces</code>. For example, LEAF2 has a unique variable <code>uplink_switch_interfaces: [Ethernet2, Ethernet2]</code> defined. This means that LEAF2 is connected to SPINE1\u2019s Ethernet2 and SPINE2\u2019s Ethernet2, respectively.</p> <pre><code>---\n### group_vars/DC1_FABRIC.yml\n# Set the Fabric Name - must match an Ansible Inventroy Group\nfabric_name: DC1_FABRIC\n# Set Design Type to L2ls\ndesign:\ntype: l2ls\n# Ansible connectivity definitions\n# eAPI connectivity via HTTPS is specified (as opposed to CLI via SSH)\nansible_connection: ansible.netcommon.httpapi\n# Specifies that we are indeed using Arista EOS\nansible_network_os: arista.eos.eos\n# This user/password must exist on the switches to enable Ansible access\nansible_user: admin\nansible_password: admin\n# User escalation (to enter enable mode)\nansible_become: true\nansible_become_method: enable\n# Use SSL (HTTPS)\nansible_httpapi_use_ssl: true\n# Do not try to validate certs\nansible_httpapi_validate_certs: false\n# Spine Switches (L2 only)\nspine:\ndefaults:\nplatform: cEOS-LAB\nspanning_tree_mode: mstp\nspanning_tree_priority: 4096\nmlag_peer_ipv4_pool: 192.168.0.0/24\nmlag_interfaces: [Ethernet47, Ethernet48]\nnode_groups:\nSPINES:\nnodes:\nSPINE1:\nid: 1\nmgmt_ip: 172.100.100.101/24\nSPINE2:\nid: 2\nmgmt_ip: 172.100.100.102/24\n# Leaf Switches\nleaf:\ndefaults:\nplatform: cEOS-LAB\nmlag_peer_ipv4_pool: 192.168.0.0/24\nuplink_switches: [SPINE1, SPINE2]\nuplink_interfaces: [Ethernet1, Ethernet2]\nmlag_interfaces: [Ethernet47, Ethernet48]\nspanning_tree_mode: mstp\nspanning_tree_priority: 16384\nnode_groups:\nRACK1:\nmlag: true\nfilter:\ntags: [bluezone, greenzone]\nnodes:\nLEAF1:\nid: 1\nmgmt_ip: 172.100.100.105/24\nuplink_switch_interfaces: [Ethernet1, Ethernet1]\nLEAF2:\nid: 2\nmgmt_ip: 172.100.100.106/24\nuplink_switch_interfaces: [Ethernet2, Ethernet2]\nRACK2:\nmlag: true\nfilter:\ntags: [bluezone, orangezone]\nnodes:\nLEAF3:\nid: 3\nmgmt_ip: 172.100.100.107/24\nuplink_switch_interfaces: [Ethernet3, Ethernet3]\nLEAF4:\nid: 4\nmgmt_ip: 172.100.100.108/24\nuplink_switch_interfaces: [Ethernet4, Ethernet4]\n#### Override for vEOS/cEOS Lab Caveats ####\np2p_uplinks_mtu: 1500\n# Documentation\neos_designs_documentation:\nconnected_endpoints: true\n</code></pre> <p>In an L2LS design, there are two types of spine nodes: <code>spine</code> and <code>l3spine</code>. In AVD. the node type defines the functionality and the EOS CLI configuration to be generated. For an L2LS design, we will use node type: spine. Later, we will add routing to the Spines by changing the node type to l3spine.</p> <pre><code>---\n### group_vars/DC1_SPINES.yml\ntype: spine     # Must be either spine|l3spine\n</code></pre> <p>In an L2LS design, we have one type of leaf node: <code>leaf</code>.</p> <pre><code>---\n### group_vars/DC1_LEAFS.yml\ntype: leaf     # Must be leaf\n</code></pre> <p>You add VLANs to the Fabric by updating the group_vars/DC1_NETWORK_SERVICES.yml. Each VLAN will be given a name and a list of tags. The tags filter the VLAN to specific Leaf Pairs. These variables are applied to spine and leaf nodes since they are a part of this group.</p> <pre><code>---\n### group_vars/DC1_NETWORK_SERVICES.yml\ntenants:\nMY_FABRIC:\nl2vlans:\n10:\nname: 'BLUE-NET'\ntags: [bluezone]\n20:\nname: 'GREEN-NET'\ntags: [greenzone]\n30:\nname: 'ORANGE-NET'\ntags: [orangezone]\n</code></pre> <p>Our fabric would not be complete without connecting some devices to it. We define connected endpoints and port profiles in group_vars/DC1_NETWORKS_PORTS.yml. Each endpoint\u2019s adapter defines which switch port(s) and port profile to use. In our example, we have four hosts and a firewall connected to the fabric. The connected endpoints keys are used for logical separation and apply to interface descriptions. These variables are applied to spine and leaf nodes since they are a part of this inventory group.</p> <pre><code>---\n### group_vars/DC1_NETWORK_PORTS.yml\nconnected_endpoints_keys:\nservers:\ntype: server\nfirewalls:\ntype: firewall\nrouters:\ntype: router\nport_profiles:\nPP-DEFAULTS:\nspanning_tree_portfast: edge\nPP-BLUE:\nmode: access\nvlans: \"10\"\nparent_profile: PP-DEFAULTS\nPP-GREEN:\nmode: access\nvlans: \"20\"\nparent_profile: PP-DEFAULTS\nPP-ORANGE:\nmode: access\nvlans: \"30\"\nparent_profile: PP-DEFAULTS\nPP-FIREWALL:\nmode: trunk\nvlans: \"10,20,30\"\nservers:\nHostA:\nrack: POD1\nadapters:\n- endpoint_ports: [Eth1]\nswitch_ports: [Ethernet3]\nswitches: [LEAF1]\nprofile: PP-BLUE\nHostB:\nrack: POD1\nadapters:\n- endpoint_ports: [Eth1]\nswitch_ports: [Ethernet3]\nswitches: [LEAF2]\nprofile: PP-GREEN\nHostC:\nrack: POD2\nadapters:\n- endpoint_ports: [Eth1]\nswitch_ports: [Ethernet3]\nswitches: [LEAF3]\nprofile: PP-BLUE\nHost2:\nrack: POD2\nadapters:\n- endpoint_ports: [Eth1]\nswitch_ports: [Ethernet3]\nswitches: [LEAF4]\nprofile: PP-ORANGE\nfirewalls:\nFIREWALL:\nadapters:\n- endpoint_ports: [Eth1, Eth2]\nswitch_ports: [Ethernet5, Ethernet5]\nswitches: [SPINE1, SPINE2]\nprofile: PP-FIREWALL\nport_channel:\nmode: active\n</code></pre>"},{"location":"examples/l2ls-fabric/index.html#the-playbooks","title":"The Playbooks","text":"<p>Now that we have defined all of our Ansible variables (AVD inputs), it is time to generate some configs. To make things simple, we provide two playbooks. One playbook will allow you to build and view EOS CLI intended configurations per device. The second playbook has an additional task to deploy the configurations to your switches. The playbooks are provided in the tabs below. The playbook is straightforward as it imports two AVD roles: eos_designs and eos_cli_config_gen, which do all the heavy lifting. The combination of these two roles produces recommended configurations that follow Arista Design Guides.</p> build.ymldeploy.yml <pre><code>---\n# build.yml\n- name: Build Configs\nhosts: DC1_FABRIC\ngather_facts: false\ntasks:\n- name: Generate AVD Structured Configurations and Fabric Documentation\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n- name: Generate Device Configurations and Documentation\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n</code></pre> <pre><code>---\n# deploy.yml\n- name: Build and Deploy Configs\nhosts: DC1_FABRIC\ngather_facts: false\ntasks:\n- name: Generate AVD Structured Configurations and Fabric Documentation\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n- name: Generate Device Configurations and Documentation\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n- name: Deploy Configurations to Devices\nansible.builtin.import_role:\nname: arista.avd.eos_config_deploy_eapi\n</code></pre>"},{"location":"examples/l2ls-fabric/index.html#playbook-run","title":"Playbook Run","text":"<p>To build the configurations files, run the playbook called <code>build.yml</code>.</p> <pre><code>### Build configurations\nansible-playbook playbooks/build.yml\n</code></pre> <p>After the playbook run finishes, EOS CLI intended configuration files were written to <code>intended/configs</code>.</p> <p>To build and deploy the configurations to your switches, run the playbook called <code>deploy.yml</code>. This assumes that your Ansible host has access and authentication rights to the switches. Those auth variables were defined in DC1_FABRIC.yml.</p> <pre><code>### Build configurations &amp; Push Configs to switches\nansible-playbook playbooks/deploy.yml\n</code></pre>"},{"location":"examples/l2ls-fabric/index.html#eos-intended-configurations","title":"EOS Intended Configurations","text":"<p>Your configuration files should be similar to these.</p> SPINE1SPINE2LEAF1LEAF2LEAF3LEAF4 <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname SPINE1\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 4096\n!\naaa authentication policy local allow-nopassword-remote-login\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n!\nvlan 10\nname BLUE-NET\n!\nvlan 20\nname GREEN-NET\n!\nvlan 30\nname ORANGE-NET\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel1\n   description RACK1_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel3\n   description RACK2_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,30\n   switchport mode trunk\n   mlag 3\n!\ninterface Port-Channel5\n   description FIREWALL\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20,30\n   switchport mode trunk\n   mlag 5\n!\ninterface Port-Channel47\n   description MLAG_PEER_SPINE2_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description LEAF1_Ethernet1\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description LEAF2_Ethernet1\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description LEAF3_Ethernet1\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description LEAF4_Ethernet1\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description FIREWALL_Eth1\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet47\n   description MLAG_PEER_SPINE2_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_SPINE2_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.101/24\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.0/31\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id SPINES\n   local-interface Vlan4094\n   peer-address 192.168.0.1\n   peer-link Port-Channel47\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname SPINE2\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 4096\n!\naaa authentication policy local allow-nopassword-remote-login\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n!\nvlan 10\nname BLUE-NET\n!\nvlan 20\nname GREEN-NET\n!\nvlan 30\nname ORANGE-NET\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel1\n   description RACK1_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel3\n   description RACK2_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,30\n   switchport mode trunk\n   mlag 3\n!\ninterface Port-Channel5\n   description FIREWALL\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20,30\n   switchport mode trunk\n   mlag 5\n!\ninterface Port-Channel47\n   description MLAG_PEER_SPINE1_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description LEAF1_Ethernet2\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description LEAF2_Ethernet2\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description LEAF3_Ethernet2\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description LEAF4_Ethernet2\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description FIREWALL_Eth2\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet47\n   description MLAG_PEER_SPINE1_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_SPINE1_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.102/24\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.1/31\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id SPINES\n   local-interface Vlan4094\n   peer-address 192.168.0.0\n   peer-link Port-Channel47\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF1\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n!\naaa authentication policy local allow-nopassword-remote-login\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n!\nvlan 10\nname BLUE-NET\n!\nvlan 20\nname GREEN-NET\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel1\n   description SPINES_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel47\n   description MLAG_PEER_LEAF2_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description SPINE1_Ethernet1\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description SPINE2_Ethernet1\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description HostA_Eth1\n   no shutdown\n   switchport access vlan 10\nswitchport mode access\n   switchport\n   spanning-tree portfast\n!\ninterface Ethernet47\n   description MLAG_PEER_LEAF2_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_LEAF2_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.105/24\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.0/31\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id RACK1\n   local-interface Vlan4094\n   peer-address 192.168.0.1\n   peer-link Port-Channel47\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF2\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n!\naaa authentication policy local allow-nopassword-remote-login\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n!\nvlan 10\nname BLUE-NET\n!\nvlan 20\nname GREEN-NET\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel1\n   description SPINES_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel47\n   description MLAG_PEER_LEAF1_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description SPINE1_Ethernet2\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description SPINE2_Ethernet2\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description HostB_Eth1\n   no shutdown\n   switchport access vlan 20\nswitchport mode access\n   switchport\n   spanning-tree portfast\n!\ninterface Ethernet47\n   description MLAG_PEER_LEAF1_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_LEAF1_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.106/24\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.1/31\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id RACK1\n   local-interface Vlan4094\n   peer-address 192.168.0.0\n   peer-link Port-Channel47\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF3\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n!\naaa authentication policy local allow-nopassword-remote-login\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n!\nvlan 10\nname BLUE-NET\n!\nvlan 30\nname ORANGE-NET\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel1\n   description SPINES_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,30\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel47\n   description MLAG_PEER_LEAF4_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description SPINE1_Ethernet3\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description SPINE2_Ethernet3\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description HostC_Eth1\n   no shutdown\n   switchport access vlan 10\nswitchport mode access\n   switchport\n   spanning-tree portfast\n!\ninterface Ethernet47\n   description MLAG_PEER_LEAF4_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_LEAF4_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.107/24\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.4/31\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id RACK2\n   local-interface Vlan4094\n   peer-address 192.168.0.5\n   peer-link Port-Channel47\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre> <pre><code>!RANCID-CONTENT-TYPE: arista\n!\nvlan internal order ascending range 1006 1199\n!\ntransceiver qsfp default-mode 4x10G\n!\nservice routing protocols model multi-agent\n!\nhostname LEAF4\nip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n!\naaa authentication policy local allow-nopassword-remote-login\naaa authorization exec default local\n!\nno enable password\nno aaa root\n!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n!\nvlan 10\nname BLUE-NET\n!\nvlan 30\nname ORANGE-NET\n!\nvlan 4094\nname MLAG_PEER\n   trunk group MLAG\n!\nvrf instance MGMT\n!\ninterface Port-Channel1\n   description SPINES_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,30\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel47\n   description MLAG_PEER_LEAF3_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n!\ninterface Ethernet1\n   description SPINE1_Ethernet4\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description SPINE2_Ethernet4\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description Host2_Eth1\n   no shutdown\n   switchport access vlan 30\nswitchport mode access\n   switchport\n   spanning-tree portfast\n!\ninterface Ethernet47\n   description MLAG_PEER_LEAF3_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_LEAF3_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.108/24\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\nno autostate\n   ip address 192.168.0.5/31\nno ip routing vrf MGMT\n!\nmlag configuration\n   domain-id RACK2\n   local-interface Vlan4094\n   peer-address 192.168.0.4\n   peer-link Port-Channel47\n   reload-delay mlag 300\nreload-delay non-mlag 330\n!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n</code></pre>"},{"location":"examples/l2ls-fabric/index.html#add-routing-to-spines","title":"Add Routing to Spines","text":"<p>In our example, we used an external L3/FW Device to route between subnets. This is very typical in a Layer 2 only environment. To route on the spines, we remove the L3/FW device from the topology and create the SVIs on the Spines. The updated topology is shown below.</p> Note <p>The spine type has been changed to l3spine.</p> <p></p> <p>The following group_vars need updating to enable L3 routing on the Spines.</p> <ul> <li>DC1_SPINES.yml</li> <li>DC1_FABRIC.yml</li> <li>DC1_NETWORK_SERVICES.yml</li> </ul> <p>The updated changes are noted in the tabs below.</p> DC1_SPINES.ymlDC1_FABRIC.ymlDC1_NETWORK_SERVICES.yml <p>Update type to <code>l3spine</code>. This makes it a routing device.</p> <pre><code>---\n### group_vars/DC1_SPINES.yml\ntype: l3spine\n</code></pre> <p>Update with the following changes and additions.</p> <ul> <li>Change the node key spine to l3spine to match the node type set previously in DC1_SPINES.yml</li> <li>Add loopback_ipv4_pool</li> <li>Add mlag_peer_l3_ipv4_pool</li> <li>Add virtual_router_mac_address</li> </ul> <p>Update DC1_FABRIC.yml with the following recommended settings. Use your own IP pools.</p> <pre><code># Node Key must be l3spine to match type\nl3spine:\ndefaults:\nplatform: cEOS-LAB\nspanning_tree_mode: mstp\nspanning_tree_priority: 4096\n# Loopback is used to generate a router-id\nloopback_ipv4_pool: 1.1.1.0/24\nmlag_peer_ipv4_pool: 192.168.0.0/24\n# Needed for L3 peering across the MLAG Trunk\nmlag_peer_l3_ipv4_pool: 10.1.1.0/24\n# Used for SVI Virual MAC address\nvirtual_router_mac_address: 00:1c:73:00:dc:01\nmlag_interfaces: [Ethernet47, Ethernet48]\n</code></pre> <p>Update Network Services to use L3 SVIs.</p> Note <p>To create L3 SVIs on the spines, we need to utilize an L3 VRF. In our case, we will use the default VRF. <code>MY_FABRIC</code> is simply a tenant name for organizing VRFs and SVIs.</p> <pre><code>---\ntenants:\nMY_FABRIC:\nvrfs:\ndefault:\nsvis:\n10:\nname: 'BLUE-NET'\ntags: [bluezone]\nenabled: true\nip_virtual_router_addresses:\n- 10.10.10.1\nnodes:\nSPINE1:\nip_address: 10.10.10.2/24\nSPINE2:\nip_address: 10.10.10.3/24\n20:\nname: 'GREEN-NET'\ntags: [greenzone]\nenabled: true\nip_virtual_router_addresses:\n- 10.20.20.1\nnodes:\nSPINE1:\nip_address: 10.20.20.2/24\nSPINE2:\nip_address: 10.20.20.3/24\n30:\nname: 'ORANGE-NET'\ntags: [orangezone]\nenabled: true\nip_virtual_router_addresses:\n- 10.30.30.1\nnodes:\nSPINE1:\nip_address: 10.30.30.2/24\nSPINE2:\nip_address: 10.30.30.3/24\n</code></pre> <p>Now re-run your playbook and build the new configs. The intended/configs for the spines will have been updated with L3 SVIs.</p> <pre><code>ansible-playbook playbooks/build.yml\n</code></pre> <p>If you wish to deploy these changes, then simply run the deploy playbook.</p> <pre><code>ansible-playbook playbooks/deploy.yml\n</code></pre>"},{"location":"examples/l2ls-fabric/index.html#next-steps","title":"Next steps","text":"<p>Try building your own topology.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html","title":"LEAF1","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authentication</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#management","title":"Management","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.105/24 172.100.100.1"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.105/24\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ntp","title":"NTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#authentication","title":"Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#local-users","title":"Local Users","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - arista 15 network-admin False -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#aaa-authentication","title":"AAA Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#aaa-authentication-summary","title":"AAA Authentication Summary","text":"Type Sub-type User Stores <p>Policy local allow-nopassword-remote-login has been enabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#aaa-authentication-device-configuration","title":"AAA Authentication Device Configuration","text":"<pre><code>aaa authentication policy local allow-nopassword-remote-login\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#mlag","title":"MLAG","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link RACK1 Vlan4094 192.168.0.1 Port-Channel47 <p>Dual primary detection is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id RACK1\n   local-interface Vlan4094\n   peer-address 192.168.0.1\n   peer-link Port-Channel47\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4094</li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#vlans","title":"VLANs","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 BLUE-NET - 20 GREEN-NET - 4094 MLAG_PEER MLAG"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name BLUE-NET\n!\nvlan 20\n   name GREEN-NET\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#interfaces","title":"Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 SPINE1_Ethernet1 *trunk *10,20 *- *- 1 Ethernet2 SPINE2_Ethernet1 *trunk *10,20 *- *- 1 Ethernet3 HostA_Eth1 access 10 - - - Ethernet47 MLAG_PEER_LEAF2_Ethernet47 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 Ethernet48 MLAG_PEER_LEAF2_Ethernet48 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description SPINE1_Ethernet1\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description SPINE2_Ethernet1\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description HostA_Eth1\n   no shutdown\n   switchport access vlan 10\n   switchport mode access\n   switchport\n   spanning-tree portfast\n!\ninterface Ethernet47\n   description MLAG_PEER_LEAF2_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_LEAF2_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 SPINES_Po1 switched trunk 10,20 - - - - 1 - Port-Channel47 MLAG_PEER_LEAF2_Po47 switched trunk 2-4094 - [\u2018MLAG\u2019] - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description SPINES_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel47\n   description MLAG_PEER_LEAF2_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ipv4_1","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan4094 default 192.168.0.0/31 - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.0/31\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#routing","title":"Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#static-routes","title":"Static Routes","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#multicast","title":"Multicast","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF1.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html","title":"LEAF2","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authentication</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#management","title":"Management","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.106/24 172.100.100.1"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.106/24\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ntp","title":"NTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#authentication","title":"Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#local-users","title":"Local Users","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - arista 15 network-admin False -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#aaa-authentication","title":"AAA Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#aaa-authentication-summary","title":"AAA Authentication Summary","text":"Type Sub-type User Stores <p>Policy local allow-nopassword-remote-login has been enabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#aaa-authentication-device-configuration","title":"AAA Authentication Device Configuration","text":"<pre><code>aaa authentication policy local allow-nopassword-remote-login\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#mlag","title":"MLAG","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link RACK1 Vlan4094 192.168.0.0 Port-Channel47 <p>Dual primary detection is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id RACK1\n   local-interface Vlan4094\n   peer-address 192.168.0.0\n   peer-link Port-Channel47\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4094</li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#vlans","title":"VLANs","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 BLUE-NET - 20 GREEN-NET - 4094 MLAG_PEER MLAG"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name BLUE-NET\n!\nvlan 20\n   name GREEN-NET\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#interfaces","title":"Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 SPINE1_Ethernet2 *trunk *10,20 *- *- 1 Ethernet2 SPINE2_Ethernet2 *trunk *10,20 *- *- 1 Ethernet3 HostB_Eth1 access 20 - - - Ethernet47 MLAG_PEER_LEAF1_Ethernet47 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 Ethernet48 MLAG_PEER_LEAF1_Ethernet48 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description SPINE1_Ethernet2\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description SPINE2_Ethernet2\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description HostB_Eth1\n   no shutdown\n   switchport access vlan 20\n   switchport mode access\n   switchport\n   spanning-tree portfast\n!\ninterface Ethernet47\n   description MLAG_PEER_LEAF1_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_LEAF1_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 SPINES_Po1 switched trunk 10,20 - - - - 1 - Port-Channel47 MLAG_PEER_LEAF1_Po47 switched trunk 2-4094 - [\u2018MLAG\u2019] - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description SPINES_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel47\n   description MLAG_PEER_LEAF1_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ipv4_1","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan4094 default 192.168.0.1/31 - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.1/31\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#routing","title":"Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#static-routes","title":"Static Routes","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#multicast","title":"Multicast","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF2.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html","title":"LEAF3","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authentication</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#management","title":"Management","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.107/24 172.100.100.1"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.107/24\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ntp","title":"NTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#authentication","title":"Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#local-users","title":"Local Users","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - arista 15 network-admin False -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#aaa-authentication","title":"AAA Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#aaa-authentication-summary","title":"AAA Authentication Summary","text":"Type Sub-type User Stores <p>Policy local allow-nopassword-remote-login has been enabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#aaa-authentication-device-configuration","title":"AAA Authentication Device Configuration","text":"<pre><code>aaa authentication policy local allow-nopassword-remote-login\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#mlag","title":"MLAG","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link RACK2 Vlan4094 192.168.0.5 Port-Channel47 <p>Dual primary detection is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id RACK2\n   local-interface Vlan4094\n   peer-address 192.168.0.5\n   peer-link Port-Channel47\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4094</li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#vlans","title":"VLANs","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 BLUE-NET - 30 ORANGE-NET - 4094 MLAG_PEER MLAG"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name BLUE-NET\n!\nvlan 30\n   name ORANGE-NET\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#interfaces","title":"Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 SPINE1_Ethernet3 *trunk *10,30 *- *- 1 Ethernet2 SPINE2_Ethernet3 *trunk *10,30 *- *- 1 Ethernet3 HostC_Eth1 access 10 - - - Ethernet47 MLAG_PEER_LEAF4_Ethernet47 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 Ethernet48 MLAG_PEER_LEAF4_Ethernet48 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description SPINE1_Ethernet3\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description SPINE2_Ethernet3\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description HostC_Eth1\n   no shutdown\n   switchport access vlan 10\n   switchport mode access\n   switchport\n   spanning-tree portfast\n!\ninterface Ethernet47\n   description MLAG_PEER_LEAF4_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_LEAF4_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 SPINES_Po3 switched trunk 10,30 - - - - 1 - Port-Channel47 MLAG_PEER_LEAF4_Po47 switched trunk 2-4094 - [\u2018MLAG\u2019] - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description SPINES_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,30\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel47\n   description MLAG_PEER_LEAF4_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ipv4_1","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan4094 default 192.168.0.4/31 - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.4/31\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#routing","title":"Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#static-routes","title":"Static Routes","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#multicast","title":"Multicast","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF3.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html","title":"LEAF4","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authentication</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#management","title":"Management","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.108/24 172.100.100.1"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.108/24\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ntp","title":"NTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#authentication","title":"Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#local-users","title":"Local Users","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - arista 15 network-admin False -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#aaa-authentication","title":"AAA Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#aaa-authentication-summary","title":"AAA Authentication Summary","text":"Type Sub-type User Stores <p>Policy local allow-nopassword-remote-login has been enabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#aaa-authentication-device-configuration","title":"AAA Authentication Device Configuration","text":"<pre><code>aaa authentication policy local allow-nopassword-remote-login\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#mlag","title":"MLAG","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link RACK2 Vlan4094 192.168.0.4 Port-Channel47 <p>Dual primary detection is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id RACK2\n   local-interface Vlan4094\n   peer-address 192.168.0.4\n   peer-link Port-Channel47\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 16384"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4094</li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 16384\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#vlans","title":"VLANs","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 BLUE-NET - 30 ORANGE-NET - 4094 MLAG_PEER MLAG"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name BLUE-NET\n!\nvlan 30\n   name ORANGE-NET\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#interfaces","title":"Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 SPINE1_Ethernet4 *trunk *10,30 *- *- 1 Ethernet2 SPINE2_Ethernet4 *trunk *10,30 *- *- 1 Ethernet3 Host2_Eth1 access 30 - - - Ethernet47 MLAG_PEER_LEAF3_Ethernet47 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 Ethernet48 MLAG_PEER_LEAF3_Ethernet48 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description SPINE1_Ethernet4\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description SPINE2_Ethernet4\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description Host2_Eth1\n   no shutdown\n   switchport access vlan 30\n   switchport mode access\n   switchport\n   spanning-tree portfast\n!\ninterface Ethernet47\n   description MLAG_PEER_LEAF3_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_LEAF3_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 SPINES_Po3 switched trunk 10,30 - - - - 1 - Port-Channel47 MLAG_PEER_LEAF3_Po47 switched trunk 2-4094 - [\u2018MLAG\u2019] - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description SPINES_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,30\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel47\n   description MLAG_PEER_LEAF3_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ipv4_1","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan4094 default 192.168.0.5/31 - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.5/31\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#routing","title":"Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#static-routes","title":"Static Routes","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#multicast","title":"Multicast","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/l2ls-fabric/documentation/devices/LEAF4.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html","title":"SPINE1","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authentication</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#management","title":"Management","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.101/24 172.100.100.1"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.101/24\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ntp","title":"NTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#authentication","title":"Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#local-users","title":"Local Users","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - arista 15 network-admin False -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#aaa-authentication","title":"AAA Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#aaa-authentication-summary","title":"AAA Authentication Summary","text":"Type Sub-type User Stores <p>Policy local allow-nopassword-remote-login has been enabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#aaa-authentication-device-configuration","title":"AAA Authentication Device Configuration","text":"<pre><code>aaa authentication policy local allow-nopassword-remote-login\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#mlag","title":"MLAG","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link SPINES Vlan4094 192.168.0.1 Port-Channel47 <p>Dual primary detection is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id SPINES\n   local-interface Vlan4094\n   peer-address 192.168.0.1\n   peer-link Port-Channel47\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4094</li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#vlans","title":"VLANs","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 BLUE-NET - 20 GREEN-NET - 30 ORANGE-NET - 4094 MLAG_PEER MLAG"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name BLUE-NET\n!\nvlan 20\n   name GREEN-NET\n!\nvlan 30\n   name ORANGE-NET\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#interfaces","title":"Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 LEAF1_Ethernet1 *trunk *10,20 *- *- 1 Ethernet2 LEAF2_Ethernet1 *trunk *10,20 *- *- 1 Ethernet3 LEAF3_Ethernet1 *trunk *10,30 *- *- 3 Ethernet4 LEAF4_Ethernet1 *trunk *10,30 *- *- 3 Ethernet5 FIREWALL_Eth1 *trunk *10,20,30 *- *- 5 Ethernet47 MLAG_PEER_SPINE2_Ethernet47 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 Ethernet48 MLAG_PEER_SPINE2_Ethernet48 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description LEAF1_Ethernet1\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description LEAF2_Ethernet1\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description LEAF3_Ethernet1\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description LEAF4_Ethernet1\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description FIREWALL_Eth1\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet47\n   description MLAG_PEER_SPINE2_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_SPINE2_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 RACK1_Po1 switched trunk 10,20 - - - - 1 - Port-Channel3 RACK2_Po1 switched trunk 10,30 - - - - 3 - Port-Channel5 FIREWALL switched trunk 10,20,30 - - - - 5 - Port-Channel47 MLAG_PEER_SPINE2_Po47 switched trunk 2-4094 - [\u2018MLAG\u2019] - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description RACK1_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel3\n   description RACK2_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,30\n   switchport mode trunk\n   mlag 3\n!\ninterface Port-Channel5\n   description FIREWALL\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20,30\n   switchport mode trunk\n   mlag 5\n!\ninterface Port-Channel47\n   description MLAG_PEER_SPINE2_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ipv4_1","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan4094 default 192.168.0.0/31 - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.0/31\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#routing","title":"Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#static-routes","title":"Static Routes","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#multicast","title":"Multicast","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE1.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html","title":"SPINE2","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>IP Name Servers</li> <li>NTP</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> <li>AAA Authentication</li> <li>AAA Authorization</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>VLAN Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#management","title":"Management","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management0 oob_management oob MGMT 172.100.100.102/24 172.100.100.1"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management0 oob_management oob MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management0\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.100.100.102/24\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ip-name-servers","title":"IP Name Servers","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ip-name-servers-summary","title":"IP Name Servers Summary","text":"Name Server VRF Priority 8.8.4.4 MGMT - 8.8.8.8 MGMT -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ip-name-servers-device-configuration","title":"IP Name Servers Device Configuration","text":"<pre><code>ip name-server vrf MGMT 8.8.4.4\nip name-server vrf MGMT 8.8.8.8\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ntp","title":"NTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ntp-summary","title":"NTP Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ntp-servers","title":"NTP Servers","text":"Server VRF Preferred Burst iBurst Version Min Poll Max Poll Local-interface Key pool.ntp.org MGMT - - - - - - - - time.google.com MGMT True - - - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ntp-device-configuration","title":"NTP Device Configuration","text":"<pre><code>!\nntp server vrf MGMT pool.ntp.org\nntp server vrf MGMT time.google.com prefer\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#authentication","title":"Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#local-users","title":"Local Users","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - arista 15 network-admin False -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin secret sha512 $6$eucN5ngreuExDgwS$xnD7T8jO..GBDX0DUlp.hn.W7yW94xTjSanqgaQGBzPIhDAsyAl9N4oScHvOMvf07uVBFI4mKMxwdVEUVKgY/.\nusername arista privilege 15 role network-admin nopassword\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#aaa-authentication","title":"AAA Authentication","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#aaa-authentication-summary","title":"AAA Authentication Summary","text":"Type Sub-type User Stores <p>Policy local allow-nopassword-remote-login has been enabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#aaa-authentication-device-configuration","title":"AAA Authentication Device Configuration","text":"<pre><code>aaa authentication policy local allow-nopassword-remote-login\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#aaa-authorization","title":"AAA Authorization","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#aaa-authorization-summary","title":"AAA Authorization Summary","text":"Type User Stores Exec local <p>Authorization for configuration commands is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#aaa-authorization-device-configuration","title":"AAA Authorization Device Configuration","text":"<pre><code>aaa authorization exec default local\n!\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#mlag","title":"MLAG","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link SPINES Vlan4094 192.168.0.0 Port-Channel47 <p>Dual primary detection is disabled.</p>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id SPINES\n   local-interface Vlan4094\n   peer-address 192.168.0.0\n   peer-link Port-Channel47\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4094</li> </ul>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#vlans","title":"VLANs","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 10 BLUE-NET - 20 GREEN-NET - 30 ORANGE-NET - 4094 MLAG_PEER MLAG"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 10\n   name BLUE-NET\n!\nvlan 20\n   name GREEN-NET\n!\nvlan 30\n   name ORANGE-NET\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#interfaces","title":"Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 LEAF1_Ethernet2 *trunk *10,20 *- *- 1 Ethernet2 LEAF2_Ethernet2 *trunk *10,20 *- *- 1 Ethernet3 LEAF3_Ethernet2 *trunk *10,30 *- *- 3 Ethernet4 LEAF4_Ethernet2 *trunk *10,30 *- *- 3 Ethernet5 FIREWALL_Eth2 *trunk *10,20,30 *- *- 5 Ethernet47 MLAG_PEER_SPINE1_Ethernet47 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 Ethernet48 MLAG_PEER_SPINE1_Ethernet48 *trunk *2-4094 *- *[\u2018MLAG\u2019] 47 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description LEAF1_Ethernet2\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description LEAF2_Ethernet2\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet3\n   description LEAF3_Ethernet2\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description LEAF4_Ethernet2\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description FIREWALL_Eth2\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet47\n   description MLAG_PEER_SPINE1_Ethernet47\n   no shutdown\n   channel-group 47 mode active\n!\ninterface Ethernet48\n   description MLAG_PEER_SPINE1_Ethernet48\n   no shutdown\n   channel-group 47 mode active\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 RACK1_Po1 switched trunk 10,20 - - - - 1 - Port-Channel3 RACK2_Po1 switched trunk 10,30 - - - - 3 - Port-Channel5 FIREWALL switched trunk 10,20,30 - - - - 5 - Port-Channel47 MLAG_PEER_SPINE1_Po47 switched trunk 2-4094 - [\u2018MLAG\u2019] - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description RACK1_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20\n   switchport mode trunk\n   mlag 1\n!\ninterface Port-Channel3\n   description RACK2_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,30\n   switchport mode trunk\n   mlag 3\n!\ninterface Port-Channel5\n   description FIREWALL\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 10,20,30\n   switchport mode trunk\n   mlag 5\n!\ninterface Port-Channel47\n   description MLAG_PEER_SPINE1_Po47\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group MLAG\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ipv4_1","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan4094 default 192.168.0.1/31 - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 192.168.0.1/31\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#routing","title":"Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#static-routes","title":"Static Routes","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.100.100.1 - 1 - - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.100.100.1\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#multicast","title":"Multicast","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/l2ls-fabric/documentation/devices/SPINE2.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html","title":"DC1_FABRIC","text":""},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Fabric Switches and Management IP<ul> <li>Fabric Switches with inband Management IP</li> </ul> </li> <li>Fabric Topology</li> <li>Fabric IP Allocation<ul> <li>Fabric Point-To-Point Links</li> <li>Point-To-Point Links Node Allocation</li> <li>Loopback Interfaces (BGP EVPN Peering)</li> <li>Loopback0 Interfaces Node Allocation</li> <li>VTEP Loopback VXLAN Tunnel Source Interfaces (VTEPs Only)</li> <li>VTEP Loopback Node allocation</li> </ul> </li> <li>Connected Endpoints<ul> <li>Connected Endpoint Keys</li> <li>Firewalls</li> <li>Servers</li> <li>Port Profiles</li> </ul> </li> </ul>"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#fabric-switches-and-management-ip","title":"Fabric Switches and Management IP","text":"POD Type Node Management IP Platform Provisioned in CloudVision Serial Number DC1_FABRIC leaf LEAF1 172.100.100.105/24 cEOS-LAB Provisioned - DC1_FABRIC leaf LEAF2 172.100.100.106/24 cEOS-LAB Provisioned - DC1_FABRIC leaf LEAF3 172.100.100.107/24 cEOS-LAB Provisioned - DC1_FABRIC leaf LEAF4 172.100.100.108/24 cEOS-LAB Provisioned - DC1_FABRIC spine SPINE1 172.100.100.101/24 cEOS-LAB Provisioned - DC1_FABRIC spine SPINE2 172.100.100.102/24 cEOS-LAB Provisioned - <p>Provision status is based on Ansible inventory declaration and do not represent real status from CloudVision.</p>"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#fabric-switches-with-inband-management-ip","title":"Fabric Switches with inband Management IP","text":"POD Type Node Management IP Inband Interface"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#fabric-topology","title":"Fabric Topology","text":"Type Node Node Interface Peer Type Peer Node Peer Interface leaf LEAF1 Ethernet1 spine SPINE1 Ethernet1 leaf LEAF1 Ethernet2 spine SPINE2 Ethernet1 leaf LEAF1 Ethernet47 mlag_peer LEAF2 Ethernet47 leaf LEAF1 Ethernet48 mlag_peer LEAF2 Ethernet48 leaf LEAF2 Ethernet1 spine SPINE1 Ethernet2 leaf LEAF2 Ethernet2 spine SPINE2 Ethernet2 leaf LEAF3 Ethernet1 spine SPINE1 Ethernet3 leaf LEAF3 Ethernet2 spine SPINE2 Ethernet3 leaf LEAF3 Ethernet47 mlag_peer LEAF4 Ethernet47 leaf LEAF3 Ethernet48 mlag_peer LEAF4 Ethernet48 leaf LEAF4 Ethernet1 spine SPINE1 Ethernet4 leaf LEAF4 Ethernet2 spine SPINE2 Ethernet4 spine SPINE1 Ethernet47 mlag_peer SPINE2 Ethernet47 spine SPINE1 Ethernet48 mlag_peer SPINE2 Ethernet48"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#fabric-ip-allocation","title":"Fabric IP Allocation","text":""},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#fabric-point-to-point-links","title":"Fabric Point-To-Point Links","text":"Uplink IPv4 Pool Available Addresses Assigned addresses Assigned Address %"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#point-to-point-links-node-allocation","title":"Point-To-Point Links Node Allocation","text":"Node Node Interface Node IP Address Peer Node Peer Interface Peer IP Address"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#loopback-interfaces-bgp-evpn-peering","title":"Loopback Interfaces (BGP EVPN Peering)","text":"Loopback Pool Available Addresses Assigned addresses Assigned Address %"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#loopback0-interfaces-node-allocation","title":"Loopback0 Interfaces Node Allocation","text":"POD Node Loopback0"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#vtep-loopback-vxlan-tunnel-source-interfaces-vteps-only","title":"VTEP Loopback VXLAN Tunnel Source Interfaces (VTEPs Only)","text":"VTEP Loopback Pool Available Addresses Assigned addresses Assigned Address %"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#vtep-loopback-node-allocation","title":"VTEP Loopback Node allocation","text":"POD Node Loopback1"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#connected-endpoints","title":"Connected Endpoints","text":""},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#connected-endpoint-keys","title":"Connected Endpoint Keys","text":"Key Type Description firewalls firewall - routers router - servers server -"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#firewalls","title":"Firewalls","text":"Name Port Fabric Device Fabric Port Description Shutdown Type Mode VLANs Profile FIREWALL Eth1 SPINE1 Ethernet5 FIREWALL_Eth1 False switched trunk 10,20,30 PP-FIREWALL FIREWALL Eth2 SPINE2 Ethernet5 FIREWALL_Eth2 False switched trunk 10,20,30 PP-FIREWALL"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#servers","title":"Servers","text":"Name Port Fabric Device Fabric Port Description Shutdown Type Mode VLANs Profile Host2 Eth1 LEAF4 Ethernet3 Host2_Eth1 False switched access 30 PP-ORANGE HostA Eth1 LEAF1 Ethernet3 HostA_Eth1 False switched access 10 PP-BLUE HostB Eth1 LEAF2 Ethernet3 HostB_Eth1 False switched access 20 PP-GREEN HostC Eth1 LEAF3 Ethernet3 HostC_Eth1 False switched access 10 PP-BLUE"},{"location":"examples/l2ls-fabric/documentation/fabric/DC1_FABRIC-documentation.html#port-profiles","title":"Port Profiles","text":"Profile Name Parent Profile PP-DEFAULTS - PP-BLUE - PP-GREEN - PP-ORANGE - PP-FIREWALL -"},{"location":"examples/single-dc-l3ls/index.html","title":"AVD example for a single data center using L3LS","text":""},{"location":"examples/single-dc-l3ls/index.html#introduction","title":"Introduction","text":"<p>This example is meant to be used as the logical second step in introducing AVD to new users, directly following the Introduction to Ansible and AVD section. The idea is that new users with access to virtual switches (using Arista vEOS-lab or cEOS) can learn how to generate configuration and documentation for a complete fabric environment. Users with access to physical switches will have to adapt a few settings. This is all documented inline in the comments included in the YAML files. If a lab with virtual or physical switches is not accessible, this example can also be used to only generate the output from AVD if required.</p> <p>The example includes and describes all the AVD files and their content used to build an L3LS EVPN/VXLAN Symmetric IRB network covering a single DC, using the following:</p> <ul> <li>Two (virtual) spine switches.</li> <li>Two sets of (virtual) leaf switches, serving endpoints such as servers.</li> <li>Two (virtual) layer2-only switches often used for management connectivity to the servers.</li> </ul> <p>Integration with CloudVision is not included in this example to keep everything as simple as possible. In this case, the Ansible host will communicate directly with the switches using eAPI.</p>"},{"location":"examples/single-dc-l3ls/index.html#installation","title":"Installation","text":"<p>Requirements to use this example:</p> <ul> <li>Follow the installation guide for AVD found here.</li> <li>Run the following playbook to copy the examples to your current working directory, for example <code>ansible-avd-examples</code>:</li> </ul> <p><code>ansible-playbook arista.avd.install_examples</code></p> <p>This will show the following:</p> <pre><code> ~/ansible-avd-examples# ansible-playbook arista.avd.install_examples\n\nPLAY [Install Examples]***************************************************************************************************************************************************************************************************************************************************************\n\nTASK [Copy all examples to ~/ansible-avd-examples]*****************************************************************************************************************************************************\nchanged: [localhost]\nPLAY RECAP\n****************************************************************************************************************************************************************************************************************************************************************************\nlocalhost                  : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0\n</code></pre> <p>After the playbook has run successfully, the directory structure will look as shown below, the contents of which will be covered in later sections:</p> <pre><code>ansible-avd-examples/ (or wherever the playbook was run)\n|\u2500\u2500 single-dc-l3ls\n    \u251c\u2500\u2500 ansible.cfg\n    \u251c\u2500\u2500 documentation\n    \u251c\u2500\u2500 group_vars\n    \u251c\u2500\u2500 images\n    \u251c\u2500\u2500 intended\n    \u251c\u2500\u2500 inventory.yml\n    \u251c\u2500\u2500 playbook.yml\n    \u251c\u2500\u2500 README.md\n    \u2514\u2500\u2500 switch-basic-configurations\n</code></pre> <p>Info</p> <p>If the content of any file is modified and the playbook is rerun, the file will not be overwritten. However, if any file in the example is deleted and the playbook is rerun, Ansible will re-create the file.</p>"},{"location":"examples/single-dc-l3ls/index.html#overall-design-overview","title":"Overall design overview","text":""},{"location":"examples/single-dc-l3ls/index.html#physical-topology","title":"Physical topology","text":"<p>The drawing below shows the physical topology used in this example. The interface assignment shown here are referenced across the entire example, so keep that in mind if this example must be adapted to a different topology. Finally, the Ansible host is connected to the dedicated out-of-band management port (Ethernet0 when using vEOS-lab):</p> <p></p>"},{"location":"examples/single-dc-l3ls/index.html#ip-ranges-used","title":"IP ranges used","text":"Out-of-band management IP allocation for DC1 172.16.1.0/24 Default gateway 172.16.1.1 dc1-spine1 172.16.1.11 dc1-spine2 172.16.1.12 dc1-leaf1a 172.16.1.101 dc1-leaf1b 172.16.1.102 dc1-leaf2a 172.16.1.103 dc1-leaf2b 172.16.1.104 dc1-leaf1c 172.16.1.151 dc1-leaf2c 172.16.1.152 Point-to-point links between leaf and spine (Underlay) DC1 10.255.255.0/26 Loopback0 interfaces used for EVPN peering 10.255.0.0/27 Loopback1 interfaces used for VTEP (Leaf switches) DC1 10.255.1.0/27 VTEP Loopbacks used for diagnostics (Leaf switches) VRF10 10.255.10.0/27 VRF11 10.255.11.0/27 SVIs (interface vlan\u2026) 10.10.<code>&lt;VLAN-ID&gt;</code>.0/24 For example <code>interface VLAN11</code> has the IP address: 10.10.11.1 MLAG Peer-link (interface vlan 4094) (Leaf switches) DC1 10.255.1.64/27 MLAG iBGP Peering (interface vlan 4093) (Leaf switches) DC1 10.255.1.96/27"},{"location":"examples/single-dc-l3ls/index.html#bgp-design","title":"BGP design","text":"UnderlayOverlay"},{"location":"examples/single-dc-l3ls/index.html#basic-eos-config","title":"Basic EOS config","text":"<p>Basic connectivity between the Ansible host and the switches must be established before Ansible can be used to push configurations. You must configure the following on all switches:</p> <ul> <li>A hostname configured purely for ease of understanding.</li> <li>An IP enabled interface - in this example the dedicated out-of-band management interface is used.</li> <li>A username and password with the proper access privileges.</li> </ul> <p>Below is the basic configuration file for <code>dc1-leaf1a</code>:</p> dc1-leaf1a-basic-configuration.txt<pre><code>! ansible-avd-examples/single-dc-l3ls/switch-basic-configurations/dc1-leaf1a-basic-configuration.txt\n! Basic EOS config\n!\n! Hostname of the device\nhostname dc1-leaf1a\n!\n! Configures username and password for the ansible user\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n!\n! Defines the VRF for MGMT\nvrf instance MGMT\n!\n! Defines the settings for the Management1 interface through which Ansible reaches the device\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ! IP address - must be set uniquely per device\n   ip address 172.16.1.101/24\n!\n! Static default route for VRF MGMT\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n!\n! Enables API access in VRF MGMT\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n!\nend\n!\n! Save configuration to flash\ncopy running-config startup-config\n</code></pre> <p>Note</p> <p>The folder <code>single-dc-l3ls/switch-basic-configurations/</code> contains a file per device for the initial configurations.</p>"},{"location":"examples/single-dc-l3ls/index.html#ansible-inventory-group-vars-and-naming-scheme","title":"Ansible inventory, group vars and naming scheme","text":"<p>The following drawing shows a graphic overview of the Ansible inventory, group variables, and naming scheme used in this example:</p> <p></p> <p>Note</p> <p>The two servers <code>dc1-leaf1-server1</code> and <code>dc1-leaf2-server1</code> at the bottom are not configured by AVD, but the switch ports used to connect to the servers are.</p> <p>Group names use uppercase and underscore syntax:</p> <ul> <li>FABRIC</li> <li>DC1</li> <li>DC1_SPINES</li> <li>DC1_L3_LEAVES</li> <li>DC1_L2_LEAVES</li> </ul> <p>All hostnames use lowercase and dashes, for example:</p> <ul> <li>dc1-spine1</li> <li>dc1-leaf1a</li> <li>dc1-leaf2c</li> </ul> <p>The drawing also shows the relationships between groups and their children:</p> <ul> <li>For example, <code>dc1-spine1</code> and <code>dc1-spine2</code> are both children of the group called <code>DC1_SPINES</code>.</li> </ul> <p>Additionally, groups themselves can be children of another group, for example:</p> <ul> <li><code>DC1_L3_LEAVES</code> is a group consisting of the groups <code>DC1_LEAF1</code> and <code>DC1_LEAF2</code></li> <li><code>DC1_L3_LEAVES</code> is also a child of the group <code>DC1</code>.</li> </ul> <p>This naming convention makes it possible to extend anything easily, but as always, this can be changed based on your preferences. Just ensure that the names of all groups and hosts are unique.</p>"},{"location":"examples/single-dc-l3ls/index.html#content-of-the-inventoryyml-file","title":"Content of the inventory.yml file","text":"<p>This section describes the entire <code>ansible-avd-examples/single-dc-l3ls/inventory.yml</code> file used to represent the above topology.</p> <p>It is important that the hostnames specified in the inventory exist either in DNS or in the hosts file on your Ansible host to allow successful name lookup and be able to reach the switches directly. A successful ping from the Ansible host to each inventory host verifies name resolution(e.g., <code>ping dc1-spine1</code>).</p> <p>Alternatively, if there is no DNS available, or if devices need to be reached using a fully qualified domain name (FQDN), define <code>ansible_host</code> to be an IP address or FQDN for each device - see below for an example:</p> inventory.yml<pre><code>---\nall:\nchildren:\nFABRIC:\nchildren:\nDC1:\nchildren:\nDC1_SPINES:\nhosts:\ndc1-spine1:\nansible_host: 172.16.1.11\ndc1-spine2:\nansible_host: 172.16.1.12\nDC1_L3_LEAVES:\nhosts:\ndc1-leaf1a:\nansible_host: 172.16.1.101\ndc1-leaf1b:\nansible_host: 172.16.1.102\ndc1-leaf2a:\nansible_host: 172.16.1.103\ndc1-leaf2b:\nansible_host: 172.16.1.104\nDC1_L2_LEAVES:\nhosts:\ndc1-leaf1c:\nansible_host: 172.16.1.151\ndc1-leaf2c:\nansible_host: 172.16.1.152\nNETWORK_SERVICES:\nchildren:\nDC1_L3_LEAVES:\nDC1_L2_LEAVES:\nCONNECTED_ENDPOINTS:\nchildren:\nDC1_L3_LEAVES:\nDC1_L2_LEAVES:\n</code></pre> <p>The above is what is included in this example, purely to make it as simple as possible to get started. However, in the future, please do not carry over this practice to a production environment, where an inventory file for an identical topology should look as follows when using DNS:</p> inventory.yml<pre><code>---\nall:\nchildren:\nFABRIC:\nchildren:\nDC1:\nchildren:\nDC1_SPINES:\nhosts:\ndc1-spine1:\ndc1-spine2:\nDC1_L3_LEAVES:\nhosts:\ndc1-leaf1a:\ndc1-leaf1b:\ndc1-leaf2a:\ndc1-leaf2b:\nDC1_L2_LEAVES:\nhosts:\ndc1-leaf1c:\ndc1-leaf2c:\nNETWORK_SERVICES: # (1)!\nchildren:\nDC1_L3_LEAVES:\nDC1_L2_LEAVES:\nCONNECTED_ENDPOINTS: # (2)!\nchildren:\nDC1_L3_LEAVES:\nDC1_L2_LEAVES:\n</code></pre> <ol> <li> <p><code>NETWORK_SERVICES</code></p> <p>- Creates a group named <code>NETWORK_SERVICES</code>. Ansible variable resolution resolves this group name to the identically named group_vars file (<code>ansible-avd-examples/single-dc-l3ls/group_vars/NETWORK_SERVICES.yml</code>).</p> <p>- The file\u2019s contents, which in this case are specifications of VRFs and VLANs, are then applied to the group\u2019s children. In this case, the two groups <code>DC1_L3_LEAVES</code> and <code>DC1_L2_LEAVES</code>.</p> </li> <li> <p><code>CONNECTED_ENDPOINTS</code></p> <p>- Creates a group named <code>CONNECTED_ENDPOINTS</code>. Ansible variable resolution resolves this group name to the identically named group_vars file (<code>ansible-avd-examples/single-dc-l3ls/group_vars/CONNECTED_ENDPOINTS.yml</code>).</p> <p>- The file\u2019s contents, which in this case are specifications of connected endpoints (typically servers), are then applied to the children of the group, in this case, the two groups <code>DC1_L3_LEAVES</code> and <code>DC1_L2_LEAVES</code>.</p> </li> </ol>"},{"location":"examples/single-dc-l3ls/index.html#defining-device-types","title":"Defining device types","text":"<p>Since this example covers building an L3LS network, AVD must know about the device types, for example, spines, L3 leaves, L2 leaves, etc. The devices are already grouped in the inventory, so the device types are specified in the group variable files with the following names and content:</p> DC1_SPINES.ymlDC1_L3_LEAVES.ymlDC1_L2_LEAVES.yml <pre><code>---\ntype: spine\n</code></pre> <pre><code>---\ntype: l3leaf\n</code></pre> <pre><code>---\ntype: l2leaf\n</code></pre> <p>For example, all switches that are children of the DC1_SPINES group defined in the inventory will be of type <code>spine</code>.</p>"},{"location":"examples/single-dc-l3ls/index.html#setting-fabric-wide-configuration-parameters","title":"Setting fabric-wide configuration parameters","text":"<p>The <code>ansible-avd-examples/single-dc-l3ls/group_vars/FABRIC.yml</code> file defines generic settings that apply to all children of the <code>FABRIC</code> group as specified in the inventory described earlier.</p> <p>The first section defines how the Ansible host connects to the devices:</p> FABRIC.yml<pre><code>ansible_connection: ansible.netcommon.httpapi # (1)!\nansible_network_os: arista.eos.eos # (2)!\nansible_user: ansible # (3)!\nansible_password: ansible\nansible_become: true\nansible_become_method: enable # (4)!\nansible_httpapi_use_ssl: true # (5)!\nansible_httpapi_validate_certs: false # (6)!\n</code></pre> <ol> <li>The Ansible host must use eAPI</li> <li>Network OS which in this case is Arista EOS</li> <li>The username/password combo</li> <li>How to escalate privileges to get write access</li> <li>Use SSL</li> <li>Do not validate SSL certificates</li> </ol> <p>The following section specifies variables that generate configuration to be applied to all devices in the fabric:</p> FABRIC.yml<pre><code>fabric_name: FABRIC # (1)!\nunderlay_routing_protocol: ebgp\noverlay_routing_protocol: ebgp\nlocal_users: # (2)!\nansible:\nprivilege: 15\nrole: network-admin\nsha512_password: $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\nadmin:\nprivilege: 15\nrole: network-admin\nno_password: true\nbgp_peer_groups: # (3)!\nevpn_overlay_peers:\npassword: Q4fqtbqcZ7oQuKfuWtNGRQ==\nipv4_underlay_peers:\npassword: 7x4B4rnJhZB438m9+BrBfQ==\nmlag_ipv4_underlay_peer:\npassword: 4b21pAdCvWeAqpcKDFMdWw==\np2p_uplinks_mtu: 1500 # (4)!\n</code></pre> <ol> <li>The name of the fabric for internal AVD use. This name must match the name of an Ansible Group (and therefore a corresponding group_vars file) covering all network devices.</li> <li>Local users/passwords and their privilege levels. In this case, the <code>ansible</code> user is set with the password <code>ansible</code> and an <code>admin</code> user is set with no password.</li> <li>BGP peer groups and their passwords (all passwords are \u201carista\u201d).</li> <li>Point-to-point interface MTU, in this case, is set to 1500 since the example uses vEOS, but when using hardware, this should be set to 9214 instead.</li> </ol>"},{"location":"examples/single-dc-l3ls/index.html#setting-device-specific-configuration-parameters","title":"Setting device specific configuration parameters","text":"<p>The <code>ansible-avd-examples/single-dc-l3ls/group_vars/DC1.yml</code> file defines settings that apply to all children of the <code>DC1</code> group as specified in the inventory described earlier. However, this time the settings defined are no longer fabric-wide but are limited to DC1. In this example, this is of limited benefit with only a single data center. Still, it allows us to scale the configuration to a scenario with multiple data centers in the future.</p> DC1.yml<pre><code>---\nmgmt_gateway: 172.16.1.1 # (1)!\nspine:\ndefaults:\nplatform: vEOS-lab # (2)!\nloopback_ipv4_pool: 10.255.0.0/27 # (3)!\nbgp_as: 65100 # (4)!\nbgp_defaults: # (5)!\n- no bgp default ipv4-unicast\n- distance bgp 20 200 200\n- graceful-restart restart-time 300\n- graceful-restart\nnodes: # (6)!\ndc1-spine1:\nid: 1 # (7)!\nmgmt_ip: 172.16.1.11/24 # (8)!\ndc1-spine2:\nid: 2\nmgmt_ip: 172.16.1.12/24\n</code></pre> <ol> <li>The default gateway for the management interface of all devices in DC1 is defined.</li> <li><code>platform</code> references default settings defined in AVD specific to certain switch platforms.</li> <li><code>loopback_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for Loopback0.</li> <li><code>bgp_as</code> defines the BGP AS number.</li> <li><code>bgp_defaults</code> defines generic BGP settings.</li> <li><code>nodes</code> defines the actual spine switches, using the hostnames defined in the inventory.</li> <li><code>id</code> is used to calculate the various IP addresses, for example, the IPv4 address for the Loopback0 interface. In this case, dc1-spine1 will get the IPv4 address 10.255.0.1/27 assigned to the Loopback0 interface.</li> <li><code>mgmt_ip</code> defines the IPv4 address of the management interface. As stated earlier, Ansible will perform name lookups using the hostnames specified in the inventory unless using the <code>ansible_host</code> option. However, there is no automatic mechanism to grab the result of the name lookup and use that to generate the management interface configuration.</li> </ol> <p>The following section covers the L3 leaf switches. Significantly more settings need to be set compared to the spine switches:</p> DC1.yml<pre><code>l3leaf:\ndefaults:\nplatform: vEOS-lab # (1)!\nloopback_ipv4_pool: 10.255.0.0/27 # (2)!\nloopback_ipv4_offset: 2 # (3)!\nvtep_loopback_ipv4_pool: 10.255.1.0/27 # (4)!\nuplink_interfaces: ['Ethernet1', 'Ethernet2'] # (5)!\nuplink_switches: ['dc1-spine1', 'dc1-spine2'] # (6)!\nuplink_ipv4_pool: 10.255.255.0/26 # (7)!\nmlag_interfaces: ['Ethernet3', 'Ethernet4'] # (8)!\nmlag_peer_ipv4_pool: 10.255.1.64/27 # (9)!\nmlag_peer_l3_ipv4_pool: 10.255.1.96/27 # (10)!\nbgp_defaults:\n- no bgp default ipv4-unicast\n- distance bgp 20 200 200\n- graceful-restart restart-time 300\n- graceful-restart\nvirtual_router_mac_address: 00:1c:73:00:00:99 # (11)!\nspanning_tree_priority: 4096 # (12)!\nspanning_tree_mode: mstp # (13)!\nnode_groups: # (14)!\nDC1_L3_LEAF1:\nbgp_as: 65101 # (15)!\nnodes:\ndc1-leaf1a:\nid: 1\nmgmt_ip: 172.16.1.101/24\nuplink_switch_interfaces: # (16)!\n- Ethernet1\n- Ethernet1\ndc1-leaf1b:\nid: 2\nmgmt_ip: 172.16.1.102/24\nuplink_switch_interfaces:\n- Ethernet2\n- Ethernet2\nDC1_L3_LEAF2:\nbgp_as: 65102\nnodes:\ndc1-leaf2a:\nid: 3\nmgmt_ip: 172.16.1.103/24\nuplink_switch_interfaces:\n- Ethernet3\n- Ethernet3\ndc1-leaf2b:\nid: 4\nmgmt_ip: 172.16.1.104/24\nuplink_switch_interfaces:\n- Ethernet4\n- Ethernet4\n</code></pre> <ol> <li><code>platform</code> references default settings defined in AVD specific to certain switch platforms.</li> <li><code>loopback_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for Loopback0. Please note that this IP pool is identical to the one used for the spine switches in this example. To avoid setting the same IP addresses for several devices, we define the option <code>loopback_ipv4_offset</code>.</li> <li><code>loopback_ipv4_offset</code> offsets all assigned loopback IP addresses counting from the beginning of the IP scope. This is required when the same IP pool is used for two different node_types (like spine and l3leaf in this example) to avoid overlapping IPs. The offset is \u201c2\u201d in this case because each spine switch uses one loopback address.</li> <li><code>vtep_loopback_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for the VTEP (Loopback1).</li> <li><code>uplink_interfaces</code> defines the interfaces used locally on the leaf switches.</li> <li><code>uplink_switches</code> defines the uplink switches, which are dc1-spine1 and dc1-spine2. Note that the <code>uplink_interfaces</code> and <code>uplink_switches</code> are paired vertically.</li> <li><code>uplink_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for the uplink interfaces that were just defined.</li> <li><code>mlag_interfaces</code> defines the MLAG interfaces used on each leaf switch, in this case, Ethernet3 and Ethernet4. These two interfaces will form PortChannel3 used for the MLAG peer link. Note that PortChannel3 is selected since the first interface is Ethernet3.</li> <li><code>mlag_peer_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for the MLAG peer link interface VLAN4094.</li> <li><code>mlag_peer_l3_ipv4_pool</code> defines the IP scope from which AVD assigns IPv4 addresses for the iBGP peering established between the two leaf switches via the SVI/IRB interface VLAN4093.</li> <li><code>virtual_router_mac_address</code> defines the MAC address used for the anycast gateway on the various subnets. This is the MAC address connected endpoints will learn when ARPing for their default gateway.</li> <li><code>spanning_tree_priority</code> sets the spanning tree priority. Since spanning tree in an L3LS network is effectively only running locally on the switch, the same priority across all L3 leaf switches can be re-used.</li> <li><code>spanning_tree_mode</code> defines the spanning tree mode. In this case, we are using MSTP, which is the default. However, other modes are supported should they be required, for example, for connectivity to legacy or third-party vendor environments.</li> <li><code>node_groups</code> defines settings common to more than one node. For example, for leaf switches, when exactly two nodes are part of a node group, AVD will, by default, automatically generate MLAG configuration.</li> <li><code>bgp_as</code> is defined once since an MLAG pair shares a single BGP AS number.</li> <li><code>uplink_switch_interfaces</code> defines the interfaces used on the uplink switches (Ethernet1 on dc1-spine1 and dc1-spine2 in this example). Defining which spine interfaces the leaf is connected to under the leaf switch settings makes adding and removing leaf switches much easier. There is no need to add/remove any settings under the spine switch section; AVD takes care of that for you. This child device/parent device hierarchy also applies to L2 and L3 leaves.</li> </ol> <p>Finally, more of the same, but this time for the L2 leaf switches:</p> DC1.yml<pre><code>l2leaf:\ndefaults:\nplatform: vEOS-lab\nuplink_interfaces: ['Ethernet1', 'Ethernet2']\nspanning_tree_mode: mstp\nnode_groups:\nDC1_L2_LEAF1:\nuplink_switches: ['dc1-leaf1a', 'dc1-leaf1b']\nnodes:\ndc1-leaf1c:\nid: 1\nmgmt_ip: 172.16.1.151/24\nuplink_switch_interfaces:\n- Ethernet8\n- Ethernet8\nDC1_L2_LEAF2:\nuplink_switches: ['dc1-leaf2a', 'dc1-leaf2b']\nnodes:\ndc1-leaf2c:\nid: 2\nmgmt_ip: 172.16.1.152/24\nuplink_switch_interfaces:\n- Ethernet8\n- Ethernet8\n</code></pre> <p>As should be clear, an L2 leaf switch is much simpler than an L3 switch. Hence there are fewer settings to define.</p>"},{"location":"examples/single-dc-l3ls/index.html#specifying-network-services-vrfs-and-vlans-in-the-evpnvxlan-fabric","title":"Specifying network services (VRFs and VLANs) in the EVPN/VXLAN fabric","text":"NETWORK_SERVICES.yml<pre><code>---\ntenants:\n# Definition of tenants. Additional level of abstraction to VRFs\nTENANT1:\n# Number used to generate the VNI of each VLAN by adding the VLAN number in this tenant.\nmac_vrf_vni_base: 10000\nvrfs:\n# VRF definitions inside the tenant.\nVRF10:\n# VRF VNI definition.\nvrf_vni: 10\n# Enable VTEP Network diagnostics\n# This will create a loopback with virtual source-nat enable to perform diagnostics from the switch.\nvtep_diagnostic:\n# Loopback interface number\nloopback: 10\n# Loopback ip range, a unique ip is derived from this ranged and assigned\n# to each l3 leaf based on it's unique id.\nloopback_ip_range: 10.255.10.0/27\nsvis:\n# SVI definitions.\n\"11\":\n# SVI Description\nname: VRF10_VLAN11\nenabled: true\n# IP anycast gateway to be used in the SVI in every leaf.\nip_address_virtual: 10.10.11.1/24\n\"12\":\nname: VRF10_VLAN12\nenabled: true\nip_address_virtual: 10.10.12.1/24\nVRF11:\nvrf_vni: 11\nvtep_diagnostic:\nloopback: 11\nloopback_ip_range: 10.255.11.0/27\nsvis:\n\"21\":\nname: VRF11_VLAN21\nenabled: true\nip_address_virtual: 10.10.21.1/24\n\"22\":\nname: VRF11_VLAN22\nenabled: true\nip_address_virtual: 10.10.22.1/24\nl2vlans:\n# These are pure L2 vlans. They do not have a SVI defined in the l3leafs and they will be bridged inside the VXLAN fabric\n\"3401\":\nname: L2_VLAN3401\n\"3402\":\nname: L2_VLAN3402\n</code></pre> <p>All VRF and VLANs are defined here. This means that regardless of where a given VRF or VLAN must exist, its existence is defined in this file, but it does not indicate where in the fabric it exists. That was done at the bottom of the inventory file previously described in the Inventory section.</p> <p>AVD offers granular control of where Tenants and VLANs are configured using <code>tags</code> and <code>filter</code>. Those areas are not covered in this basic example.</p> <p>A single tenant called <code>TENANT1</code> is specified. The first setting is the base number (<code>10000</code>) used to generate the L2VNI numbers automatically, <code>L2VNI = base number + VLAN-id</code>. For example, L2VNI for VLAN11 = 10000 + 11 = 10011.</p> <p>Next, two VRFs are defined, each with two VLANs. For example:</p> NETWORK_SERVICES.yml<pre><code>      VRF10:\nvrf_vni: 10\nvtep_diagnostic:\nloopback: 10\nloopback_ip_range: 10.255.10.0/27\nsvis:\n\"11\":\nname: VRF10_VLAN11\nenabled: true\nip_address_virtual: 10.10.11.1/24\n\"12\":\nname: VRF10_VLAN12\nenabled: true\nip_address_virtual: 10.10.12.1/24\n</code></pre> <p>This defines <code>VRF10</code>, with an L3VNI of <code>10</code> and two VLANs (<code>VLAN11</code> and <code>VLAN12</code>). Each VLAN has a name and a virtual IP address, which will be used as the default gateway for that particular VLAN on all leaf switches where the VLAN is created.</p> <p>The following configuration is also defined under <code>VRF10</code>:</p> NETWORK_SERVICES.yml<pre><code>        vtep_diagnostic:\nloopback: 10\nloopback_ip_range: 10.255.10.0/27\n</code></pre> <p>This enables more user-friendly diagnostics for troubleshooting purposes by defining a specific loopback per VRF. This will create the following Arista EOS config. For example, on dc1-leaf1a:</p> <pre><code>interface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.3/32\n!\nip address virtual source-nat vrf VRF10 address 10.255.10.3\n</code></pre> <p>At the bottom of the <code>NETWORK_SERVICES.yml</code> file, two layer2-only VLANs (<code>VLAN3401</code> and <code>VLAN3402</code>) are defined. These VLANs are only bridged across the fabric but never routed anywhere:</p> NETWORK_SERVICES.yml<pre><code>    l2vlans:\n\"3401\":\nname: L2_VLAN3401\n\"3402\":\nname: L2_VLAN3402\n</code></pre>"},{"location":"examples/single-dc-l3ls/index.html#specifying-endpoint-connectivity-in-the-evpnvxlan-fabric","title":"Specifying endpoint connectivity in the EVPN/VXLAN fabric","text":"<p>After the previous section, all VRFs and VLANs across the fabric are now defined. The <code>ansible-avd-examples/single-dc-l3ls/group_vars/CONNECTED_ENDPOINTS.yml</code> file specifies the connectivity for all endpoints in the fabric (typically servers):</p> CONNECTED_ENDPOINTS.yml<pre><code>---\n# Definition of connected endpoints in the fabric.\nservers:\n# Name of the defined server.\ndc1-leaf1-server1:\n# Definition of adapters on the server.\nadapters:\n# Name of the server interfaces that will be used in the description of each interface\n- endpoint_ports: [ PCI1, PCI2 ]\n# Device ports where the server ports are connected.\nswitch_ports: [ Ethernet5, Ethernet5 ]\n# Device names where the server ports are connected.\nswitches: [ dc1-leaf1a, dc1-leaf1b ]\n# VLANs that will be configured on these ports.\nvlans: 11-12,21-22\n# Native VLAN to be used on these ports.\nnative_vlan: 4092\n# L2 mode of the port.\nmode: trunk\n# Spanning tree portfast configuration on this port.\nspanning_tree_portfast: edge\n# Definition of the pair of ports as port channel.\nport_channel:\n# Description of the port channel interface.\ndescription: PortChannel dc1-leaf1-server1\n# Port channel mode for LACP.\nmode: active\n- endpoint_ports: [ iLO ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ dc1-leaf1c ]\nvlans: 11\nmode: access\nspanning_tree_portfast: edge\ndc1-leaf2-server1:\nadapters:\n- endpoint_ports: [ PCI1, PCI2 ]\nswitch_ports: [ Ethernet5, Ethernet5 ]\nswitches: [ dc1-leaf2a, dc1-leaf2b ]\nvlans: 11-12,21-22\nnative_vlan: 4092\nmode: trunk\nspanning_tree_portfast: edge\nport_channel:\ndescription: PortChannel dc1-leaf2-server1\nmode: active\n- endpoint_ports: [ iLO ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ dc1-leaf2c ]\nvlans: 11\nmode: access\nspanning_tree_portfast: edge\n</code></pre> <p>This defines the settings for the relevant switch ports to which the endpoints connect, in this case the two servers <code>dc1-leaf1-server1</code> and <code>dc1-leaf2-server1</code>.</p> <p>As an example, here is the configuration for <code>dc1-leaf1-server1</code>:</p> CONNECTED_ENDPOINTS.yml<pre><code>  dc1-leaf1-server1:\nadapters: # (1)!\n- type: server\nendpoint_ports: [ PCI1, PCI2 ] # (2)!\nswitch_ports: [ Ethernet5, Ethernet5 ] # (3)!\nswitches: [ dc1-leaf1a, dc1-leaf1b ] # (4)!\nvlans: 11-12,21-22 # (5)!\nnative_vlan: 4092 # (6)!\nmode: trunk # (7)!\nspanning_tree_portfast: edge # (8)!\nport_channel: # (9)!\ndescription: PortChannel dc1-leaf1-server1\nmode: active\n- type: ilo\nendpoint_ports: [ iLO ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ dc1-leaf1c ]\nvlans: 11\nmode: access\nspanning_tree_portfast: edge\n</code></pre> <ol> <li>The relevant <code>adapters</code> are defined. The <code>type</code> set to <code>server</code> and <code>ilo</code> is purely for documentation and readability purposes. It has no operational significance.</li> <li><code>endpoint_ports</code> are defined for use in the interface descriptions on the switch. This does not configure anything on the server.</li> <li><code>switch_ports</code> defines the interfaces used in the switches. In this example the server is dual-connected to Ethernet5 and Ethernet5. These two ports exist on switch dc1-leaf1a and dc1-leaf1b defined in the following line.</li> <li><code>switches</code> defines the switches used, in this case dc1-leaf1a and dc1-leaf1b. Note that the <code>endpoint_ports</code>, <code>switch_ports</code> and <code>switches</code> definitions are paired vertically.</li> <li><code>vlans</code> defines which VLANs are allowed on the switch_ports, in this case it is two ranges, VLAN11-12 and VLAN21-22 for the dual-attached server ports and VLAN11 for the iLO port.</li> <li><code>native_vlan</code> specifies the native VLAN when the switch port mode is set to trunk.</li> <li><code>mode</code> is set to trunk for the dual-attached server ports and access for the iLO port.</li> <li><code>spanning_tree_portfast</code> defines whether the switch port should be a spanning tree edge port or a network port.</li> <li><code>port-channel</code> defines the description and mode for the port-channel.</li> </ol>"},{"location":"examples/single-dc-l3ls/index.html#the-playbook","title":"The playbook","text":"<p>In this example, the playbook looks like the following:</p> playbook.yml<pre><code>---\n# Please note, comments below are intended for site documentation only\n- name: Run AVD # (1)!\nhosts: FABRIC\ngather_facts: false\ntasks:\n- name: Generate AVD Structured Configurations and Fabric Documentation # (2)!\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n- name: Generate Device Configurations and Documentation # (3)!\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n- name: Deploy Configurations to Devices # (4)!\nansible.builtin.import_role:\nname: arista.avd.eos_config_deploy_eapi\n</code></pre> <ol> <li>At the highest level, the name and scope of the playbook is set, which in this example is the entire fabric. For instance, <code>FABRIC</code> is a group name defined in the inventory. If the playbook should only apply to a subset of devices, it can be changed here.</li> <li>This task uses the role <code>arista.avd.eos_designs</code>, which generates structured configuration for each device. This structured configuration can be found in the <code>ansible-avd-examples/single-dc-l3ls/intended/structured_configs</code> folder.</li> <li>This task uses the role <code>arista.avd.eos_cli_config_gen</code>, which generates the actual Arista EOS CLI configurations found in the <code>ansible-avd-examples/single-dc-l3ls/intended/configs</code> folder, along with the device-specific and fabric wide documentation found in the <code>ansible-avd-examples/single-dc-l3ls/documentation/</code> folder. It relies on the structured configuration generated by <code>arista.avd.eos_designs</code>.</li> <li>This task uses the role <code>arista.avd.eos_config_deploy_eapi</code> that pushes the generated configuration to the devices in scope.</li> </ol>"},{"location":"examples/single-dc-l3ls/index.html#testing-avd-output-without-a-lab","title":"Testing AVD output without a lab","text":"<p>Example of using this playbook without devices (local tasks):</p> playbook.yml<pre><code>- name: Run AVD\nhosts: FABRIC\ngather_facts: false\ntasks:\n- name: Generate intended variables\nansible.builtin.import_role:\nname: arista.avd.eos_designs\n- name: Generate device intended config and documentation\nansible.builtin.import_role:\nname: arista.avd.eos_cli_config_gen\n# - name: Deploy configuration to device\n#   ansible.builtin.import_role:\n#      name: arista.avd.eos_config_deploy_eapi\n</code></pre> <p>By simply commenting out (or deleting) the last task definition, the playbook will generate all of the output (variables, configurations, documentation), but will not attempt to communicate with any devices.</p> <p>Please look through the folders and files described above to learn more about the output generated by AVD.</p>"},{"location":"examples/single-dc-l3ls/index.html#executing-the-playbook","title":"Executing the playbook","text":"<p>The execution of the playbook should produce the following output:</p> <pre><code>user@ubuntu:~/Documents/git_projects/ansible-avd-examples/single-dc-l3ls$ ansible-playbook playbook.yml\n\nPLAY [Run AVD] *****************************************************************************************************************************************************************************\n\nTASK [arista.avd.eos_designs : Collection arista.avd version 3.5.0 loaded from /home/user/.ansible/collections/ansible_collections] ******************************************************\nok: [dc1-leaf1a]\nTASK [arista.avd.eos_designs : Create required output directories if not present] **********************************************************************************************************\nok: [dc1-leaf1a -&gt; localhost] =&gt; (item=/home/user/Documents/git_projects/ansible-avd-examples/single-dc-l3ls/intended/structured_configs)\nok: [dc1-leaf1a -&gt; localhost] =&gt; (item=/home/user/Documents/git_projects/ansible-avd-examples/single-dc-l3ls/documentation/fabric)\n(...)\n</code></pre> <p>If similar output is not shown, make sure:</p> <ol> <li>The documented requirements are met.</li> <li>The latest <code>arista.avd</code> collection is installed.</li> </ol>"},{"location":"examples/single-dc-l3ls/index.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"examples/single-dc-l3ls/index.html#evpn-not-working","title":"EVPN not working","text":"<p>If after doing the following steps:</p> <ol> <li>Manually copy/paste the switch-basic-configuration to the devices.</li> <li>Run the playbook and push the generated configuration to the fabric.</li> <li>Login to a leaf device, for example, dc1-leaf1a and run the command <code>show bgp evpn summary</code> to view EVPN routes.</li> </ol> <p>The following error message is shown:</p> <pre><code>dc1-leaf1a#show bgp evpn summ\n% Not supported\ndc1-leaf1a#\n</code></pre> <p>This is caused by AVD pushing the configuration line <code>service routing protocols model multi-agent</code>, which enables the multi-agent routing process supporting EVPN. This change requires a reboot of the device.</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html","title":"dc1-leaf1a","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#management","title":"Management","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.101/24 172.16.1.1"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.101/24\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#authentication","title":"Authentication","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#local-users","title":"Local Users","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#mlag","title":"MLAG","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC1_L3_LEAF1 Vlan4094 10.255.1.65 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC1_L3_LEAF1\n   local-interface Vlan4094\n   peer-address 10.255.1.65\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlans","title":"VLANs","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#interfaces","title":"Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc1-leaf1b_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc1-leaf1b_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc1-leaf1-server1_PCI1 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC1-LEAF1C_Ethernet1 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-SPINE1_Ethernet1 routed - 10.255.255.1/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-SPINE2_Ethernet1 routed - 10.255.255.3/31 default 1500 False - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-SPINE1_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.1/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-SPINE2_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.3/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc1-leaf1b_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc1-leaf1b_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc1-leaf1-server1_PCI1\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet8\n   description DC1-LEAF1C_Ethernet1\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc1-leaf1b_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc1-leaf1-server1_PortChannel dc1-leaf1-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC1-LEAF1C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc1-leaf1b_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc1-leaf1-server1_PortChannel dc1-leaf1-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC1-LEAF1C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.3/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.1.3/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.3/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.3/32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.3/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.1.3/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.3/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.3/32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.1.96/31 - - - - - Vlan3010 VRF11 10.255.1.96/31 - - - - - Vlan4093 default 10.255.1.96/31 - - - - - Vlan4094 default 10.255.1.64/31 - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.1.96/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.1.96/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.1.96/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.1.64/31\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc1-leaf1a_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#routing","title":"Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#static-routes","title":"Static Routes","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65101 10.255.0.3 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65101 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.1 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.2 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.1.97 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.255.0 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.2 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.1.97 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.1.97 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.0.3:10011 10011:10011 - - learned 12 10.255.0.3:10012 10012:10012 - - learned 21 10.255.0.3:10021 10021:10021 - - learned 22 10.255.0.3:10022 10022:10022 - - learned 3401 10.255.0.3:13401 13401:13401 - - learned 3402 10.255.0.3:13402 13402:13402 - - learned"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.0.3:10 connected VRF11 10.255.0.3:11 connected"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65101\n   router-id 10.255.0.3\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65101\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc1-leaf1b\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.0.1 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.1 remote-as 65100\n   neighbor 10.255.0.1 description dc1-spine1\n   neighbor 10.255.0.2 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.2 remote-as 65100\n   neighbor 10.255.0.2 description dc1-spine2\n   neighbor 10.255.1.97 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.1.97 description dc1-leaf1b\n   neighbor 10.255.255.0 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.0 remote-as 65100\n   neighbor 10.255.255.0 description dc1-spine1_Ethernet1\n   neighbor 10.255.255.2 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.2 remote-as 65100\n   neighbor 10.255.255.2 description dc1-spine2_Ethernet1\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.0.3:10011\n      route-target both 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.0.3:10012\n      route-target both 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.0.3:10021\n      route-target both 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.0.3:10022\n      route-target both 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.0.3:13401\n      route-target both 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.0.3:13402\n      route-target both 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.0.3:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.0.3\n      neighbor 10.255.1.97 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.0.3:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.0.3\n      neighbor 10.255.1.97 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#bfd","title":"BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#multicast","title":"Multicast","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#filters","title":"Filters","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32 20 permit 10.255.1.0/27 eq 32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n   seq 20 permit 10.255.1.0/27 eq 32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#route-maps","title":"Route-maps","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.3 VRF11 10.255.11.3"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1a.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.3\nip address virtual source-nat vrf VRF11 address 10.255.11.3\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html","title":"dc1-leaf1b","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#management","title":"Management","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.102/24 172.16.1.1"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.102/24\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#authentication","title":"Authentication","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#local-users","title":"Local Users","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#mlag","title":"MLAG","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC1_L3_LEAF1 Vlan4094 10.255.1.64 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC1_L3_LEAF1\n   local-interface Vlan4094\n   peer-address 10.255.1.64\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlans","title":"VLANs","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#interfaces","title":"Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc1-leaf1a_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc1-leaf1a_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc1-leaf1-server1_PCI2 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC1-LEAF1C_Ethernet2 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-SPINE1_Ethernet2 routed - 10.255.255.5/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-SPINE2_Ethernet2 routed - 10.255.255.7/31 default 1500 False - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-SPINE1_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.5/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-SPINE2_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.7/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc1-leaf1a_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc1-leaf1a_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc1-leaf1-server1_PCI2\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet8\n   description DC1-LEAF1C_Ethernet2\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc1-leaf1a_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc1-leaf1-server1_PortChannel dc1-leaf1-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC1-LEAF1C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc1-leaf1a_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc1-leaf1-server1_PortChannel dc1-leaf1-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC1-LEAF1C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.4/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.1.3/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.4/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.4/32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.4/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.1.3/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.4/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.4/32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.1.97/31 - - - - - Vlan3010 VRF11 10.255.1.97/31 - - - - - Vlan4093 default 10.255.1.97/31 - - - - - Vlan4094 default 10.255.1.65/31 - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.1.97/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.1.97/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.1.97/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.1.65/31\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc1-leaf1b_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#routing","title":"Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#static-routes","title":"Static Routes","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65101 10.255.0.4 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65101 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.1 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.2 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.1.96 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.255.4 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.6 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.1.96 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.1.96 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.0.4:10011 10011:10011 - - learned 12 10.255.0.4:10012 10012:10012 - - learned 21 10.255.0.4:10021 10021:10021 - - learned 22 10.255.0.4:10022 10022:10022 - - learned 3401 10.255.0.4:13401 13401:13401 - - learned 3402 10.255.0.4:13402 13402:13402 - - learned"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.0.4:10 connected VRF11 10.255.0.4:11 connected"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65101\n   router-id 10.255.0.4\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65101\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc1-leaf1a\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.0.1 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.1 remote-as 65100\n   neighbor 10.255.0.1 description dc1-spine1\n   neighbor 10.255.0.2 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.2 remote-as 65100\n   neighbor 10.255.0.2 description dc1-spine2\n   neighbor 10.255.1.96 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.1.96 description dc1-leaf1a\n   neighbor 10.255.255.4 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.4 remote-as 65100\n   neighbor 10.255.255.4 description dc1-spine1_Ethernet2\n   neighbor 10.255.255.6 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.6 remote-as 65100\n   neighbor 10.255.255.6 description dc1-spine2_Ethernet2\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.0.4:10011\n      route-target both 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.0.4:10012\n      route-target both 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.0.4:10021\n      route-target both 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.0.4:10022\n      route-target both 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.0.4:13401\n      route-target both 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.0.4:13402\n      route-target both 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.0.4:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.0.4\n      neighbor 10.255.1.96 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.0.4:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.0.4\n      neighbor 10.255.1.96 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#bfd","title":"BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#multicast","title":"Multicast","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#filters","title":"Filters","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32 20 permit 10.255.1.0/27 eq 32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n   seq 20 permit 10.255.1.0/27 eq 32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#route-maps","title":"Route-maps","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.4 VRF11 10.255.11.4"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1b.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.4\nip address virtual source-nat vrf VRF11 address 10.255.11.4\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html","title":"dc1-leaf1c","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#management","title":"Management","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.151/24 172.16.1.1"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.151/24\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#authentication","title":"Authentication","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#local-users","title":"Local Users","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 32768"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 32768\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#vlans","title":"VLANs","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3401 L2_VLAN3401 - 3402 L2_VLAN3402 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#interfaces","title":"Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 DC1-LEAF1A_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet2 DC1-LEAF1B_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet5 dc1-leaf1-server1_iLO access 11 - - - <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description DC1-LEAF1A_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description DC1-LEAF1B_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet5\n   description dc1-leaf1-server1_iLO\n   no shutdown\n   switchport access vlan 11\n   switchport mode access\n   switchport\n   spanning-tree portfast\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 DC1_L3_LEAF1_Po8 switched trunk 11-12,21-22,3401-3402 - - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description DC1_L3_LEAF1_Po8\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#routing","title":"Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#static-routes","title":"Static Routes","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#multicast","title":"Multicast","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf1c.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html","title":"dc1-leaf2a","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#management","title":"Management","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.103/24 172.16.1.1"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.103/24\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#authentication","title":"Authentication","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#local-users","title":"Local Users","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#mlag","title":"MLAG","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC1_L3_LEAF2 Vlan4094 10.255.1.69 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC1_L3_LEAF2\n   local-interface Vlan4094\n   peer-address 10.255.1.69\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlans","title":"VLANs","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#interfaces","title":"Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc1-leaf2b_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc1-leaf2b_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc1-leaf2-server1_PCI1 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC1-LEAF2C_Ethernet1 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-SPINE1_Ethernet3 routed - 10.255.255.9/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-SPINE2_Ethernet3 routed - 10.255.255.11/31 default 1500 False - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-SPINE1_Ethernet3\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.9/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-SPINE2_Ethernet3\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.11/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc1-leaf2b_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc1-leaf2b_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc1-leaf2-server1_PCI1\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet8\n   description DC1-LEAF2C_Ethernet1\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc1-leaf2b_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc1-leaf2-server1_PortChannel dc1-leaf2-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC1-LEAF2C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc1-leaf2b_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc1-leaf2-server1_PortChannel dc1-leaf2-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC1-LEAF2C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.5/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.1.5/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.5/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.5/32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.5/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.1.5/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.5/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.5/32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.1.100/31 - - - - - Vlan3010 VRF11 10.255.1.100/31 - - - - - Vlan4093 default 10.255.1.100/31 - - - - - Vlan4094 default 10.255.1.68/31 - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.1.100/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.1.100/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.1.100/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.1.68/31\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc1-leaf2a_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#routing","title":"Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#static-routes","title":"Static Routes","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65102 10.255.0.5 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65102 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.1 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.2 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.1.101 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.255.8 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.10 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.1.101 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.1.101 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.0.5:10011 10011:10011 - - learned 12 10.255.0.5:10012 10012:10012 - - learned 21 10.255.0.5:10021 10021:10021 - - learned 22 10.255.0.5:10022 10022:10022 - - learned 3401 10.255.0.5:13401 13401:13401 - - learned 3402 10.255.0.5:13402 13402:13402 - - learned"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.0.5:10 connected VRF11 10.255.0.5:11 connected"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65102\n   router-id 10.255.0.5\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65102\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc1-leaf2b\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.0.1 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.1 remote-as 65100\n   neighbor 10.255.0.1 description dc1-spine1\n   neighbor 10.255.0.2 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.2 remote-as 65100\n   neighbor 10.255.0.2 description dc1-spine2\n   neighbor 10.255.1.101 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.1.101 description dc1-leaf2b\n   neighbor 10.255.255.8 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.8 remote-as 65100\n   neighbor 10.255.255.8 description dc1-spine1_Ethernet3\n   neighbor 10.255.255.10 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.10 remote-as 65100\n   neighbor 10.255.255.10 description dc1-spine2_Ethernet3\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.0.5:10011\n      route-target both 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.0.5:10012\n      route-target both 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.0.5:10021\n      route-target both 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.0.5:10022\n      route-target both 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.0.5:13401\n      route-target both 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.0.5:13402\n      route-target both 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.0.5:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.0.5\n      neighbor 10.255.1.101 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.0.5:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.0.5\n      neighbor 10.255.1.101 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#bfd","title":"BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#multicast","title":"Multicast","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#filters","title":"Filters","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32 20 permit 10.255.1.0/27 eq 32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n   seq 20 permit 10.255.1.0/27 eq 32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#route-maps","title":"Route-maps","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.5 VRF11 10.255.11.5"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2a.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.5\nip address virtual source-nat vrf VRF11 address 10.255.11.5\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html","title":"dc1-leaf2b","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>MLAG<ul> <li>MLAG Summary</li> <li>MLAG Device Configuration</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> <li>Loopback Interfaces</li> <li>VLAN Interfaces</li> <li>VXLAN Interface</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>Virtual Router MAC Address</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> <li>Virtual Source NAT<ul> <li>Virtual Source NAT Summary</li> <li>Virtual Source NAT Configuration</li> </ul> </li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#management","title":"Management","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.104/24 172.16.1.1"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.104/24\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#authentication","title":"Authentication","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#local-users","title":"Local Users","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#mlag","title":"MLAG","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#mlag-summary","title":"MLAG Summary","text":"Domain-id Local-interface Peer-address Peer-link DC1_L3_LEAF2 Vlan4094 10.255.1.68 Port-Channel3 <p>Dual primary detection is disabled.</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#mlag-device-configuration","title":"MLAG Device Configuration","text":"<pre><code>!\nmlag configuration\n   domain-id DC1_L3_LEAF2\n   local-interface Vlan4094\n   peer-address 10.255.1.68\n   peer-link Port-Channel3\n   reload-delay mlag 300\n   reload-delay non-mlag 330\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 4096"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#global-spanning-tree-settings","title":"Global Spanning-Tree Settings","text":"<ul> <li>Spanning Tree disabled for VLANs: 4093-4094</li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nno spanning-tree vlan-id 4093-4094\nspanning-tree mst 0 priority 4096\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlans","title":"VLANs","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3009 MLAG_iBGP_VRF10 LEAF_PEER_L3 3010 MLAG_iBGP_VRF11 LEAF_PEER_L3 3401 L2_VLAN3401 - 3402 L2_VLAN3402 - 4093 LEAF_PEER_L3 LEAF_PEER_L3 4094 MLAG_PEER MLAG"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3009\n   name MLAG_iBGP_VRF10\n   trunk group LEAF_PEER_L3\n!\nvlan 3010\n   name MLAG_iBGP_VRF11\n   trunk group LEAF_PEER_L3\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n!\nvlan 4093\n   name LEAF_PEER_L3\n   trunk group LEAF_PEER_L3\n!\nvlan 4094\n   name MLAG_PEER\n   trunk group MLAG\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#interfaces","title":"Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet3 MLAG_PEER_dc1-leaf2a_Ethernet3 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet4 MLAG_PEER_dc1-leaf2a_Ethernet4 *trunk *2-4094 *- *[\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] 3 Ethernet5 dc1-leaf2-server1_PCI2 *trunk *11-12,21-22 *4092 *- 5 Ethernet8 DC1-LEAF2C_Ethernet2 *trunk *11-12,21-22,3401-3402 *- *- 8 <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-SPINE1_Ethernet4 routed - 10.255.255.13/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-SPINE2_Ethernet4 routed - 10.255.255.15/31 default 1500 False - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-SPINE1_Ethernet4\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.13/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-SPINE2_Ethernet4\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.15/31\n!\ninterface Ethernet3\n   description MLAG_PEER_dc1-leaf2a_Ethernet3\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet4\n   description MLAG_PEER_dc1-leaf2a_Ethernet4\n   no shutdown\n   channel-group 3 mode active\n!\ninterface Ethernet5\n   description dc1-leaf2-server1_PCI2\n   no shutdown\n   channel-group 5 mode active\n!\ninterface Ethernet8\n   description DC1-LEAF2C_Ethernet2\n   no shutdown\n   channel-group 8 mode active\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel3 MLAG_PEER_dc1-leaf2a_Po3 switched trunk 2-4094 - [\u2018LEAF_PEER_L3\u2019, \u2018MLAG\u2019] - - - - Port-Channel5 dc1-leaf2-server1_PortChannel dc1-leaf2-server1 switched trunk 11-12,21-22 4092 - - - 5 - Port-Channel8 DC1-LEAF2C_Po1 switched trunk 11-12,21-22,3401-3402 - - - - 8 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel3\n   description MLAG_PEER_dc1-leaf2a_Po3\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 2-4094\n   switchport mode trunk\n   switchport trunk group LEAF_PEER_L3\n   switchport trunk group MLAG\n!\ninterface Port-Channel5\n   description dc1-leaf2-server1_PortChannel dc1-leaf2-server1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22\n   switchport trunk native vlan 4092\n   switchport mode trunk\n   mlag 5\n   spanning-tree portfast\n!\ninterface Port-Channel8\n   description DC1-LEAF2C_Po1\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n   mlag 8\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.6/32 Loopback1 VTEP_VXLAN_Tunnel_Source default 10.255.1.5/32 Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 10.255.10.6/32 Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 10.255.11.6/32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default - Loopback1 VTEP_VXLAN_Tunnel_Source default - Loopback10 VRF10_VTEP_DIAGNOSTICS VRF10 - Loopback11 VRF11_VTEP_DIAGNOSTICS VRF11 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.6/32\n!\ninterface Loopback1\n   description VTEP_VXLAN_Tunnel_Source\n   no shutdown\n   ip address 10.255.1.5/32\n!\ninterface Loopback10\n   description VRF10_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF10\n   ip address 10.255.10.6/32\n!\ninterface Loopback11\n   description VRF11_VTEP_DIAGNOSTICS\n   no shutdown\n   vrf VRF11\n   ip address 10.255.11.6/32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlan-interfaces","title":"VLAN Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlan-interfaces-summary","title":"VLAN Interfaces Summary","text":"Interface Description VRF MTU Shutdown Vlan11 VRF10_VLAN11 VRF10 - False Vlan12 VRF10_VLAN12 VRF10 - False Vlan21 VRF11_VLAN21 VRF11 - False Vlan22 VRF11_VLAN22 VRF11 - False Vlan3009 MLAG_PEER_L3_iBGP: vrf VRF10 VRF10 1500 False Vlan3010 MLAG_PEER_L3_iBGP: vrf VRF11 VRF11 1500 False Vlan4093 MLAG_PEER_L3_PEERING default 1500 False Vlan4094 MLAG_PEER default 1500 False"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv4_3","title":"IPv4","text":"Interface VRF IP Address IP Address Virtual IP Router Virtual Address VRRP ACL In ACL Out Vlan11 VRF10 - 10.10.11.1/24 - - - - Vlan12 VRF10 - 10.10.12.1/24 - - - - Vlan21 VRF11 - 10.10.21.1/24 - - - - Vlan22 VRF11 - 10.10.22.1/24 - - - - Vlan3009 VRF10 10.255.1.101/31 - - - - - Vlan3010 VRF11 10.255.1.101/31 - - - - - Vlan4093 default 10.255.1.101/31 - - - - - Vlan4094 default 10.255.1.69/31 - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlan-interfaces-device-configuration","title":"VLAN Interfaces Device Configuration","text":"<pre><code>!\ninterface Vlan11\n   description VRF10_VLAN11\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.11.1/24\n!\ninterface Vlan12\n   description VRF10_VLAN12\n   no shutdown\n   vrf VRF10\n   ip address virtual 10.10.12.1/24\n!\ninterface Vlan21\n   description VRF11_VLAN21\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.21.1/24\n!\ninterface Vlan22\n   description VRF11_VLAN22\n   no shutdown\n   vrf VRF11\n   ip address virtual 10.10.22.1/24\n!\ninterface Vlan3009\n   description MLAG_PEER_L3_iBGP: vrf VRF10\n   no shutdown\n   mtu 1500\n   vrf VRF10\n   ip address 10.255.1.101/31\n!\ninterface Vlan3010\n   description MLAG_PEER_L3_iBGP: vrf VRF11\n   no shutdown\n   mtu 1500\n   vrf VRF11\n   ip address 10.255.1.101/31\n!\ninterface Vlan4093\n   description MLAG_PEER_L3_PEERING\n   no shutdown\n   mtu 1500\n   ip address 10.255.1.101/31\n!\ninterface Vlan4094\n   description MLAG_PEER\n   no shutdown\n   mtu 1500\n   no autostate\n   ip address 10.255.1.69/31\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vxlan-interface","title":"VXLAN Interface","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vxlan-interface-summary","title":"VXLAN Interface Summary","text":"Setting Value Source Interface Loopback1 UDP port 4789 EVPN MLAG Shared Router MAC mlag-system-id"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vlan-to-vni-flood-list-and-multicast-group-mappings","title":"VLAN to VNI, Flood List and Multicast Group Mappings","text":"VLAN VNI Flood List Multicast Group 11 10011 - - 12 10012 - - 21 10021 - - 22 10022 - - 3401 13401 - - 3402 13402 - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vrf-to-vni-and-multicast-group-mappings","title":"VRF to VNI and Multicast Group Mappings","text":"VRF VNI Multicast Group VRF10 10 - VRF11 11 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vxlan-interface-device-configuration","title":"VXLAN Interface Device Configuration","text":"<pre><code>!\ninterface Vxlan1\n   description dc1-leaf2b_VTEP\n   vxlan source-interface Loopback1\n   vxlan virtual-router encapsulation mac-address mlag-system-id\n   vxlan udp-port 4789\n   vxlan vlan 11 vni 10011\n   vxlan vlan 12 vni 10012\n   vxlan vlan 21 vni 10021\n   vxlan vlan 22 vni 10022\n   vxlan vlan 3401 vni 13401\n   vxlan vlan 3402 vni 13402\n   vxlan vrf VRF10 vni 10\n   vxlan vrf VRF11 vni 11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#routing","title":"Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-router-mac-address","title":"Virtual Router MAC Address","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-router-mac-address-summary","title":"Virtual Router MAC Address Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-router-mac-address-001c73000099","title":"Virtual Router MAC Address: 00:1c:73:00:00:99","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-router-mac-address-configuration","title":"Virtual Router MAC Address Configuration","text":"<pre><code>!\nip virtual-router mac-address 00:1c:73:00:00:99\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False VRF10 True VRF11 True"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\nip routing vrf VRF10\nip routing vrf VRF11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false VRF10 false VRF11 false"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#static-routes","title":"Static Routes","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65102 10.255.0.6 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#mlag-ipv4-underlay-peer","title":"MLAG-IPv4-UNDERLAY-PEER","text":"Settings Value Address Family ipv4 Remote AS 65102 Next-hop self True Send community all Maximum routes 12000"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.1 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.2 65100 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.1.100 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER default - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.255.12 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.14 65100 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.1.100 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF10 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - - 10.255.1.100 Inherited from peer group MLAG-IPv4-UNDERLAY-PEER VRF11 - Inherited from peer group MLAG-IPv4-UNDERLAY-PEER Inherited from peer group MLAG-IPv4-UNDERLAY-PEER - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-vlans","title":"Router BGP VLANs","text":"VLAN Route-Distinguisher Both Route-Target Import Route Target Export Route-Target Redistribute 11 10.255.0.6:10011 10011:10011 - - learned 12 10.255.0.6:10012 10012:10012 - - learned 21 10.255.0.6:10021 10021:10021 - - learned 22 10.255.0.6:10022 10022:10022 - - learned 3401 10.255.0.6:13401 13401:13401 - - learned 3402 10.255.0.6:13402 13402:13402 - - learned"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-vrfs","title":"Router BGP VRFs","text":"VRF Route-Distinguisher Redistribute VRF10 10.255.0.6:10 connected VRF11 10.255.0.6:11 connected"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65102\n   router-id 10.255.0.6\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER peer group\n   neighbor MLAG-IPv4-UNDERLAY-PEER remote-as 65102\n   neighbor MLAG-IPv4-UNDERLAY-PEER next-hop-self\n   neighbor MLAG-IPv4-UNDERLAY-PEER description dc1-leaf2a\n   neighbor MLAG-IPv4-UNDERLAY-PEER password 7 4b21pAdCvWeAqpcKDFMdWw==\n   neighbor MLAG-IPv4-UNDERLAY-PEER send-community\n   neighbor MLAG-IPv4-UNDERLAY-PEER maximum-routes 12000\n   neighbor MLAG-IPv4-UNDERLAY-PEER route-map RM-MLAG-PEER-IN in\n   neighbor 10.255.0.1 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.1 remote-as 65100\n   neighbor 10.255.0.1 description dc1-spine1\n   neighbor 10.255.0.2 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.2 remote-as 65100\n   neighbor 10.255.0.2 description dc1-spine2\n   neighbor 10.255.1.100 peer group MLAG-IPv4-UNDERLAY-PEER\n   neighbor 10.255.1.100 description dc1-leaf2a\n   neighbor 10.255.255.12 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.12 remote-as 65100\n   neighbor 10.255.255.12 description dc1-spine1_Ethernet4\n   neighbor 10.255.255.14 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.14 remote-as 65100\n   neighbor 10.255.255.14 description dc1-spine2_Ethernet4\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   vlan 11\n      rd 10.255.0.6:10011\n      route-target both 10011:10011\n      redistribute learned\n   !\n   vlan 12\n      rd 10.255.0.6:10012\n      route-target both 10012:10012\n      redistribute learned\n   !\n   vlan 21\n      rd 10.255.0.6:10021\n      route-target both 10021:10021\n      redistribute learned\n   !\n   vlan 22\n      rd 10.255.0.6:10022\n      route-target both 10022:10022\n      redistribute learned\n   !\n   vlan 3401\n      rd 10.255.0.6:13401\n      route-target both 13401:13401\n      redistribute learned\n   !\n   vlan 3402\n      rd 10.255.0.6:13402\n      route-target both 13402:13402\n      redistribute learned\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n      neighbor MLAG-IPv4-UNDERLAY-PEER activate\n   !\n   vrf VRF10\n      rd 10.255.0.6:10\n      route-target import evpn 10:10\n      route-target export evpn 10:10\n      router-id 10.255.0.6\n      neighbor 10.255.1.100 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n   !\n   vrf VRF11\n      rd 10.255.0.6:11\n      route-target import evpn 11:11\n      route-target export evpn 11:11\n      router-id 10.255.0.6\n      neighbor 10.255.1.100 peer group MLAG-IPv4-UNDERLAY-PEER\n      redistribute connected\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#bfd","title":"BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#multicast","title":"Multicast","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#filters","title":"Filters","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32 20 permit 10.255.1.0/27 eq 32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n   seq 20 permit 10.255.1.0/27 eq 32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#route-maps","title":"Route-maps","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#rm-mlag-peer-in","title":"RM-MLAG-PEER-IN","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit - origin incomplete - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n!\nroute-map RM-MLAG-PEER-IN permit 10\n   description Make routes learned over MLAG Peer-link less preferred on spines to ensure optimal routing\n   set origin incomplete\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled VRF10 enabled VRF11 enabled"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n!\nvrf instance VRF10\n!\nvrf instance VRF11\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-source-nat","title":"Virtual Source NAT","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-source-nat-summary","title":"Virtual Source NAT Summary","text":"Source NAT VRF Source NAT IP Address VRF10 10.255.10.6 VRF11 10.255.11.6"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2b.html#virtual-source-nat-configuration","title":"Virtual Source NAT Configuration","text":"<pre><code>!\nip address virtual source-nat vrf VRF10 address 10.255.10.6\nip address virtual source-nat vrf VRF11 address 10.255.11.6\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html","title":"dc1-leaf2c","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>VLANs<ul> <li>VLANs Summary</li> <li>VLANs Device Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Port-Channel Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> </ul> </li> <li>Multicast<ul> <li>IP IGMP Snooping</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#management","title":"Management","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.152/24 172.16.1.1"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.152/24\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#authentication","title":"Authentication","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#local-users","title":"Local Users","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: mstp</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#mstp-instance-and-priority","title":"MSTP Instance and Priority","text":"Instance(s) Priority 0 32768"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode mstp\nspanning-tree mst 0 priority 32768\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#vlans","title":"VLANs","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#vlans-summary","title":"VLANs Summary","text":"VLAN ID Name Trunk Groups 11 VRF10_VLAN11 - 12 VRF10_VLAN12 - 21 VRF11_VLAN21 - 22 VRF11_VLAN22 - 3401 L2_VLAN3401 - 3402 L2_VLAN3402 -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#vlans-device-configuration","title":"VLANs Device Configuration","text":"<pre><code>!\nvlan 11\n   name VRF10_VLAN11\n!\nvlan 12\n   name VRF10_VLAN12\n!\nvlan 21\n   name VRF11_VLAN21\n!\nvlan 22\n   name VRF11_VLAN22\n!\nvlan 3401\n   name L2_VLAN3401\n!\nvlan 3402\n   name L2_VLAN3402\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#interfaces","title":"Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group Ethernet1 DC1-LEAF2A_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet2 DC1-LEAF2B_Ethernet8 *trunk *11-12,21-22,3401-3402 *- *- 1 Ethernet5 dc1-leaf2-server1_iLO access 11 - - - <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description DC1-LEAF2A_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet2\n   description DC1-LEAF2B_Ethernet8\n   no shutdown\n   channel-group 1 mode active\n!\ninterface Ethernet5\n   description dc1-leaf2-server1_iLO\n   no shutdown\n   switchport access vlan 11\n   switchport mode access\n   switchport\n   spanning-tree portfast\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#port-channel-interfaces","title":"Port-Channel Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#port-channel-interfaces-summary","title":"Port-Channel Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#l2_1","title":"L2","text":"Interface Description Type Mode VLANs Native VLAN Trunk Group LACP Fallback Timeout LACP Fallback Mode MLAG ID EVPN ESI Port-Channel1 DC1_L3_LEAF2_Po8 switched trunk 11-12,21-22,3401-3402 - - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#port-channel-interfaces-device-configuration","title":"Port-Channel Interfaces Device Configuration","text":"<pre><code>!\ninterface Port-Channel1\n   description DC1_L3_LEAF2_Po8\n   no shutdown\n   switchport\n   switchport trunk allowed vlan 11-12,21-22,3401-3402\n   switchport mode trunk\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#routing","title":"Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default False MGMT False"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>no ip routing vrf MGMT\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#static-routes","title":"Static Routes","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#multicast","title":"Multicast","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-igmp-snooping-summary","title":"IP IGMP Snooping Summary","text":"IGMP Snooping Fast Leave Interface Restart Query Proxy Restart Query Interval Robustness Variable Enabled - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#ip-igmp-snooping-device-configuration","title":"IP IGMP Snooping Device Configuration","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-leaf2c.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html","title":"dc1-spine1","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Loopback Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#management","title":"Management","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.11/24 172.16.1.1"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.11/24\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#authentication","title":"Authentication","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#local-users","title":"Local Users","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: none</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode none\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#interfaces","title":"Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-LEAF1A_Ethernet1 routed - 10.255.255.0/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-LEAF1B_Ethernet1 routed - 10.255.255.4/31 default 1500 False - - Ethernet3 P2P_LINK_TO_DC1-LEAF2A_Ethernet1 routed - 10.255.255.8/31 default 1500 False - - Ethernet4 P2P_LINK_TO_DC1-LEAF2B_Ethernet1 routed - 10.255.255.12/31 default 1500 False - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-LEAF1A_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.0/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-LEAF1B_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.4/31\n!\ninterface Ethernet3\n   description P2P_LINK_TO_DC1-LEAF2A_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.8/31\n!\ninterface Ethernet4\n   description P2P_LINK_TO_DC1-LEAF2B_Ethernet1\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.12/31\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.1/32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.1/32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#routing","title":"Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#static-routes","title":"Static Routes","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65100 10.255.0.1 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Next-hop unchanged True Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.3 65101 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.4 65101 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.5 65102 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.6 65102 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.255.1 65101 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.5 65101 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.9 65102 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.13 65102 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65100\n   router-id 10.255.0.1\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS next-hop-unchanged\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor 10.255.0.3 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.3 remote-as 65101\n   neighbor 10.255.0.3 description dc1-leaf1a\n   neighbor 10.255.0.4 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.4 remote-as 65101\n   neighbor 10.255.0.4 description dc1-leaf1b\n   neighbor 10.255.0.5 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.5 remote-as 65102\n   neighbor 10.255.0.5 description dc1-leaf2a\n   neighbor 10.255.0.6 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.6 remote-as 65102\n   neighbor 10.255.0.6 description dc1-leaf2b\n   neighbor 10.255.255.1 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.1 remote-as 65101\n   neighbor 10.255.255.1 description dc1-leaf1a_Ethernet1\n   neighbor 10.255.255.5 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.5 remote-as 65101\n   neighbor 10.255.255.5 description dc1-leaf1b_Ethernet1\n   neighbor 10.255.255.9 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.9 remote-as 65102\n   neighbor 10.255.255.9 description dc1-leaf2a_Ethernet1\n   neighbor 10.255.255.13 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.13 remote-as 65102\n   neighbor 10.255.255.13 description dc1-leaf2b_Ethernet1\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#bfd","title":"BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#filters","title":"Filters","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#route-maps","title":"Route-maps","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine1.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html","title":"dc1-spine2","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Management<ul> <li>Management Interfaces</li> <li>Management API HTTP</li> </ul> </li> <li>Authentication<ul> <li>Local Users</li> </ul> </li> <li>Spanning Tree<ul> <li>Spanning Tree Summary</li> <li>Spanning Tree Device Configuration</li> </ul> </li> <li>Internal VLAN Allocation Policy<ul> <li>Internal VLAN Allocation Policy Summary</li> <li>Internal VLAN Allocation Policy Configuration</li> </ul> </li> <li>Interfaces<ul> <li>Ethernet Interfaces</li> <li>Loopback Interfaces</li> </ul> </li> <li>Routing<ul> <li>Service Routing Protocols Model</li> <li>IP Routing</li> <li>IPv6 Routing</li> <li>Static Routes</li> <li>Router BGP</li> </ul> </li> <li>BFD<ul> <li>Router BFD</li> </ul> </li> <li>Filters<ul> <li>Prefix-lists</li> <li>Route-maps</li> </ul> </li> <li>VRF Instances<ul> <li>VRF Instances Summary</li> <li>VRF Instances Device Configuration</li> </ul> </li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#management","title":"Management","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#management-interfaces","title":"Management Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#management-interfaces-summary","title":"Management Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ipv4","title":"IPv4","text":"Management Interface description Type VRF IP Address Gateway Management1 oob_management oob MGMT 172.16.1.12/24 172.16.1.1"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ipv6","title":"IPv6","text":"Management Interface description Type VRF IPv6 Address IPv6 Gateway Management1 oob_management oob MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#management-interfaces-device-configuration","title":"Management Interfaces Device Configuration","text":"<pre><code>!\ninterface Management1\n   description oob_management\n   no shutdown\n   vrf MGMT\n   ip address 172.16.1.12/24\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#management-api-http","title":"Management API HTTP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#management-api-http-summary","title":"Management API HTTP Summary","text":"HTTP HTTPS Default Services False True -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#management-api-vrf-access","title":"Management API VRF Access","text":"VRF Name IPv4 ACL IPv6 ACL MGMT - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#management-api-http-configuration","title":"Management API HTTP Configuration","text":"<pre><code>!\nmanagement api http-commands\n   protocol https\n   no shutdown\n   !\n   vrf MGMT\n      no shutdown\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#authentication","title":"Authentication","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#local-users","title":"Local Users","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#local-users-summary","title":"Local Users Summary","text":"User Privilege Role Disabled Shell admin 15 network-admin False - ansible 15 network-admin False -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#local-users-device-configuration","title":"Local Users Device Configuration","text":"<pre><code>!\nusername admin privilege 15 role network-admin nopassword\nusername ansible privilege 15 role network-admin secret sha512 $6$7u4j1rkb3VELgcZE$EJt2Qff8kd/TapRoci0XaIZsL4tFzgq1YZBLD9c6f/knXzvcYY0NcMKndZeCv0T268knGKhOEwZAxqKjlMm920\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#spanning-tree","title":"Spanning Tree","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#spanning-tree-summary","title":"Spanning Tree Summary","text":"<p>STP mode: none</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#spanning-tree-device-configuration","title":"Spanning Tree Device Configuration","text":"<pre><code>!\nspanning-tree mode none\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#internal-vlan-allocation-policy","title":"Internal VLAN Allocation Policy","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#internal-vlan-allocation-policy-summary","title":"Internal VLAN Allocation Policy Summary","text":"Policy Allocation Range Beginning Range Ending ascending 1006 1199"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#internal-vlan-allocation-policy-configuration","title":"Internal VLAN Allocation Policy Configuration","text":"<pre><code>!\nvlan internal order ascending range 1006 1199\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#interfaces","title":"Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ethernet-interfaces","title":"Ethernet Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ethernet-interfaces-summary","title":"Ethernet Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#l2","title":"L2","text":"Interface Description Mode VLANs Native VLAN Trunk Group Channel-Group <p>*Inherited from Port-Channel Interface</p>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ipv4_1","title":"IPv4","text":"Interface Description Type Channel Group IP Address VRF MTU Shutdown ACL In ACL Out Ethernet1 P2P_LINK_TO_DC1-LEAF1A_Ethernet2 routed - 10.255.255.2/31 default 1500 False - - Ethernet2 P2P_LINK_TO_DC1-LEAF1B_Ethernet2 routed - 10.255.255.6/31 default 1500 False - - Ethernet3 P2P_LINK_TO_DC1-LEAF2A_Ethernet2 routed - 10.255.255.10/31 default 1500 False - - Ethernet4 P2P_LINK_TO_DC1-LEAF2B_Ethernet2 routed - 10.255.255.14/31 default 1500 False - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ethernet-interfaces-device-configuration","title":"Ethernet Interfaces Device Configuration","text":"<pre><code>!\ninterface Ethernet1\n   description P2P_LINK_TO_DC1-LEAF1A_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.2/31\n!\ninterface Ethernet2\n   description P2P_LINK_TO_DC1-LEAF1B_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.6/31\n!\ninterface Ethernet3\n   description P2P_LINK_TO_DC1-LEAF2A_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.10/31\n!\ninterface Ethernet4\n   description P2P_LINK_TO_DC1-LEAF2B_Ethernet2\n   no shutdown\n   mtu 1500\n   no switchport\n   ip address 10.255.255.14/31\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#loopback-interfaces","title":"Loopback Interfaces","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#loopback-interfaces-summary","title":"Loopback Interfaces Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ipv4_2","title":"IPv4","text":"Interface Description VRF IP Address Loopback0 EVPN_Overlay_Peering default 10.255.0.2/32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ipv6_1","title":"IPv6","text":"Interface Description VRF IPv6 Address Loopback0 EVPN_Overlay_Peering default -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#loopback-interfaces-device-configuration","title":"Loopback Interfaces Device Configuration","text":"<pre><code>!\ninterface Loopback0\n   description EVPN_Overlay_Peering\n   no shutdown\n   ip address 10.255.0.2/32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#routing","title":"Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"<p>Multi agent routing protocol model enabled</p> <pre><code>!\nservice routing protocols model multi-agent\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ip-routing","title":"IP Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ip-routing-summary","title":"IP Routing Summary","text":"VRF Routing Enabled default True MGMT False"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ip-routing-device-configuration","title":"IP Routing Device Configuration","text":"<pre><code>!\nip routing\nno ip routing vrf MGMT\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ipv6-routing","title":"IPv6 Routing","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ipv6-routing-summary","title":"IPv6 Routing Summary","text":"VRF Routing Enabled default False MGMT false"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#static-routes","title":"Static Routes","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#static-routes-summary","title":"Static Routes Summary","text":"VRF Destination Prefix Next Hop IP Exit interface Administrative Distance Tag Route Name Metric MGMT 0.0.0.0/0 172.16.1.1 - 1 - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#static-routes-device-configuration","title":"Static Routes Device Configuration","text":"<pre><code>!\nip route vrf MGMT 0.0.0.0/0 172.16.1.1\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#router-bgp","title":"Router BGP","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#router-bgp-summary","title":"Router BGP Summary","text":"BGP AS Router ID 65100 10.255.0.2 BGP Tuning no bgp default ipv4-unicast distance bgp 20 200 200 graceful-restart restart-time 300 graceful-restart maximum-paths 4 ecmp 4"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#router-bgp-peer-groups","title":"Router BGP Peer Groups","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#evpn-overlay-peers","title":"EVPN-OVERLAY-PEERS","text":"Settings Value Address Family evpn Next-hop unchanged True Source Loopback0 BFD True Ebgp multihop 3 Send community all Maximum routes 0 (no limit)"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#ipv4-underlay-peers","title":"IPv4-UNDERLAY-PEERS","text":"Settings Value Address Family ipv4 Send community all Maximum routes 12000"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#bgp-neighbors","title":"BGP Neighbors","text":"Neighbor Remote AS VRF Shutdown Send-community Maximum-routes Allowas-in BFD RIB Pre-Policy Retain Route-Reflector Client Passive 10.255.0.3 65101 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.4 65101 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.5 65102 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.0.6 65102 default - Inherited from peer group EVPN-OVERLAY-PEERS Inherited from peer group EVPN-OVERLAY-PEERS - Inherited from peer group EVPN-OVERLAY-PEERS - - - 10.255.255.3 65101 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.7 65101 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.11 65102 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - - 10.255.255.15 65102 default - Inherited from peer group IPv4-UNDERLAY-PEERS Inherited from peer group IPv4-UNDERLAY-PEERS - - - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#router-bgp-evpn-address-family","title":"Router BGP EVPN Address Family","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#evpn-peer-groups","title":"EVPN Peer Groups","text":"Peer Group Activate Encapsulation EVPN-OVERLAY-PEERS True default"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#router-bgp-device-configuration","title":"Router BGP Device Configuration","text":"<pre><code>!\nrouter bgp 65100\n   router-id 10.255.0.2\n   no bgp default ipv4-unicast\n   distance bgp 20 200 200\n   graceful-restart restart-time 300\n   graceful-restart\n   maximum-paths 4 ecmp 4\n   neighbor EVPN-OVERLAY-PEERS peer group\n   neighbor EVPN-OVERLAY-PEERS next-hop-unchanged\n   neighbor EVPN-OVERLAY-PEERS update-source Loopback0\n   neighbor EVPN-OVERLAY-PEERS bfd\n   neighbor EVPN-OVERLAY-PEERS ebgp-multihop 3\n   neighbor EVPN-OVERLAY-PEERS password 7 Q4fqtbqcZ7oQuKfuWtNGRQ==\n   neighbor EVPN-OVERLAY-PEERS send-community\n   neighbor EVPN-OVERLAY-PEERS maximum-routes 0\n   neighbor IPv4-UNDERLAY-PEERS peer group\n   neighbor IPv4-UNDERLAY-PEERS password 7 7x4B4rnJhZB438m9+BrBfQ==\n   neighbor IPv4-UNDERLAY-PEERS send-community\n   neighbor IPv4-UNDERLAY-PEERS maximum-routes 12000\n   neighbor 10.255.0.3 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.3 remote-as 65101\n   neighbor 10.255.0.3 description dc1-leaf1a\n   neighbor 10.255.0.4 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.4 remote-as 65101\n   neighbor 10.255.0.4 description dc1-leaf1b\n   neighbor 10.255.0.5 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.5 remote-as 65102\n   neighbor 10.255.0.5 description dc1-leaf2a\n   neighbor 10.255.0.6 peer group EVPN-OVERLAY-PEERS\n   neighbor 10.255.0.6 remote-as 65102\n   neighbor 10.255.0.6 description dc1-leaf2b\n   neighbor 10.255.255.3 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.3 remote-as 65101\n   neighbor 10.255.255.3 description dc1-leaf1a_Ethernet2\n   neighbor 10.255.255.7 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.7 remote-as 65101\n   neighbor 10.255.255.7 description dc1-leaf1b_Ethernet2\n   neighbor 10.255.255.11 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.11 remote-as 65102\n   neighbor 10.255.255.11 description dc1-leaf2a_Ethernet2\n   neighbor 10.255.255.15 peer group IPv4-UNDERLAY-PEERS\n   neighbor 10.255.255.15 remote-as 65102\n   neighbor 10.255.255.15 description dc1-leaf2b_Ethernet2\n   redistribute connected route-map RM-CONN-2-BGP\n   !\n   address-family evpn\n      neighbor EVPN-OVERLAY-PEERS activate\n   !\n   address-family ipv4\n      no neighbor EVPN-OVERLAY-PEERS activate\n      neighbor IPv4-UNDERLAY-PEERS activate\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#bfd","title":"BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#router-bfd","title":"Router BFD","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#router-bfd-multihop-summary","title":"Router BFD Multihop Summary","text":"Interval Minimum RX Multiplier 300 300 3"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#router-bfd-device-configuration","title":"Router BFD Device Configuration","text":"<pre><code>!\nrouter bfd\n   multihop interval 300 min-rx 300 multiplier 3\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#filters","title":"Filters","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#prefix-lists","title":"Prefix-lists","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#prefix-lists-summary","title":"Prefix-lists Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#pl-loopbacks-evpn-overlay","title":"PL-LOOPBACKS-EVPN-OVERLAY","text":"Sequence Action 10 permit 10.255.0.0/27 eq 32"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#prefix-lists-device-configuration","title":"Prefix-lists Device Configuration","text":"<pre><code>!\nip prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n   seq 10 permit 10.255.0.0/27 eq 32\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#route-maps","title":"Route-maps","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#route-maps-summary","title":"Route-maps Summary","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#rm-conn-2-bgp","title":"RM-CONN-2-BGP","text":"Sequence Type Match Set Sub-Route-Map Continue 10 permit ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY - - -"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#route-maps-device-configuration","title":"Route-maps Device Configuration","text":"<pre><code>!\nroute-map RM-CONN-2-BGP permit 10\n   match ip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#vrf-instances","title":"VRF Instances","text":""},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#vrf-instances-summary","title":"VRF Instances Summary","text":"VRF Name IP Routing MGMT disabled"},{"location":"examples/single-dc-l3ls/documentation/devices/dc1-spine2.html#vrf-instances-device-configuration","title":"VRF Instances Device Configuration","text":"<pre><code>!\nvrf instance MGMT\n</code></pre>"},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html","title":"FABRIC","text":""},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#table-of-contents","title":"Table of Contents","text":"<ul> <li>Fabric Switches and Management IP<ul> <li>Fabric Switches with inband Management IP</li> </ul> </li> <li>Fabric Topology</li> <li>Fabric IP Allocation<ul> <li>Fabric Point-To-Point Links</li> <li>Point-To-Point Links Node Allocation</li> <li>Loopback Interfaces (BGP EVPN Peering)</li> <li>Loopback0 Interfaces Node Allocation</li> <li>VTEP Loopback VXLAN Tunnel Source Interfaces (VTEPs Only)</li> <li>VTEP Loopback Node allocation</li> </ul> </li> </ul>"},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#fabric-switches-and-management-ip","title":"Fabric Switches and Management IP","text":"POD Type Node Management IP Platform Provisioned in CloudVision Serial Number FABRIC l3leaf dc1-leaf1a 172.16.1.101/24 vEOS-lab Provisioned - FABRIC l3leaf dc1-leaf1b 172.16.1.102/24 vEOS-lab Provisioned - FABRIC l2leaf dc1-leaf1c 172.16.1.151/24 vEOS-lab Provisioned - FABRIC l3leaf dc1-leaf2a 172.16.1.103/24 vEOS-lab Provisioned - FABRIC l3leaf dc1-leaf2b 172.16.1.104/24 vEOS-lab Provisioned - FABRIC l2leaf dc1-leaf2c 172.16.1.152/24 vEOS-lab Provisioned - FABRIC spine dc1-spine1 172.16.1.11/24 vEOS-lab Provisioned - FABRIC spine dc1-spine2 172.16.1.12/24 vEOS-lab Provisioned - <p>Provision status is based on Ansible inventory declaration and do not represent real status from CloudVision.</p>"},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#fabric-switches-with-inband-management-ip","title":"Fabric Switches with inband Management IP","text":"POD Type Node Management IP Inband Interface"},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#fabric-topology","title":"Fabric Topology","text":"Type Node Node Interface Peer Type Peer Node Peer Interface l3leaf dc1-leaf1a Ethernet1 spine dc1-spine1 Ethernet1 l3leaf dc1-leaf1a Ethernet2 spine dc1-spine2 Ethernet1 l3leaf dc1-leaf1a Ethernet3 mlag_peer dc1-leaf1b Ethernet3 l3leaf dc1-leaf1a Ethernet4 mlag_peer dc1-leaf1b Ethernet4 l3leaf dc1-leaf1a Ethernet8 l2leaf dc1-leaf1c Ethernet1 l3leaf dc1-leaf1b Ethernet1 spine dc1-spine1 Ethernet2 l3leaf dc1-leaf1b Ethernet2 spine dc1-spine2 Ethernet2 l3leaf dc1-leaf1b Ethernet8 l2leaf dc1-leaf1c Ethernet2 l3leaf dc1-leaf2a Ethernet1 spine dc1-spine1 Ethernet3 l3leaf dc1-leaf2a Ethernet2 spine dc1-spine2 Ethernet3 l3leaf dc1-leaf2a Ethernet3 mlag_peer dc1-leaf2b Ethernet3 l3leaf dc1-leaf2a Ethernet4 mlag_peer dc1-leaf2b Ethernet4 l3leaf dc1-leaf2a Ethernet8 l2leaf dc1-leaf2c Ethernet1 l3leaf dc1-leaf2b Ethernet1 spine dc1-spine1 Ethernet4 l3leaf dc1-leaf2b Ethernet2 spine dc1-spine2 Ethernet4 l3leaf dc1-leaf2b Ethernet8 l2leaf dc1-leaf2c Ethernet2"},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#fabric-ip-allocation","title":"Fabric IP Allocation","text":""},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#fabric-point-to-point-links","title":"Fabric Point-To-Point Links","text":"Uplink IPv4 Pool Available Addresses Assigned addresses Assigned Address % 10.255.255.0/26 64 16 25.0 %"},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#point-to-point-links-node-allocation","title":"Point-To-Point Links Node Allocation","text":"Node Node Interface Node IP Address Peer Node Peer Interface Peer IP Address dc1-leaf1a Ethernet1 10.255.255.1/31 dc1-spine1 Ethernet1 10.255.255.0/31 dc1-leaf1a Ethernet2 10.255.255.3/31 dc1-spine2 Ethernet1 10.255.255.2/31 dc1-leaf1b Ethernet1 10.255.255.5/31 dc1-spine1 Ethernet2 10.255.255.4/31 dc1-leaf1b Ethernet2 10.255.255.7/31 dc1-spine2 Ethernet2 10.255.255.6/31 dc1-leaf2a Ethernet1 10.255.255.9/31 dc1-spine1 Ethernet3 10.255.255.8/31 dc1-leaf2a Ethernet2 10.255.255.11/31 dc1-spine2 Ethernet3 10.255.255.10/31 dc1-leaf2b Ethernet1 10.255.255.13/31 dc1-spine1 Ethernet4 10.255.255.12/31 dc1-leaf2b Ethernet2 10.255.255.15/31 dc1-spine2 Ethernet4 10.255.255.14/31"},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#loopback-interfaces-bgp-evpn-peering","title":"Loopback Interfaces (BGP EVPN Peering)","text":"Loopback Pool Available Addresses Assigned addresses Assigned Address % 10.255.0.0/27 32 6 18.75 %"},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#loopback0-interfaces-node-allocation","title":"Loopback0 Interfaces Node Allocation","text":"POD Node Loopback0 FABRIC dc1-leaf1a 10.255.0.3/32 FABRIC dc1-leaf1b 10.255.0.4/32 FABRIC dc1-leaf2a 10.255.0.5/32 FABRIC dc1-leaf2b 10.255.0.6/32 FABRIC dc1-spine1 10.255.0.1/32 FABRIC dc1-spine2 10.255.0.2/32"},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#vtep-loopback-vxlan-tunnel-source-interfaces-vteps-only","title":"VTEP Loopback VXLAN Tunnel Source Interfaces (VTEPs Only)","text":"VTEP Loopback Pool Available Addresses Assigned addresses Assigned Address % 10.255.1.0/27 32 4 12.5 %"},{"location":"examples/single-dc-l3ls/documentation/fabric/FABRIC-documentation.html#vtep-loopback-node-allocation","title":"VTEP Loopback Node allocation","text":"POD Node Loopback1 FABRIC dc1-leaf1a 10.255.1.3/32 FABRIC dc1-leaf1b 10.255.1.3/32 FABRIC dc1-leaf2a 10.255.1.5/32 FABRIC dc1-leaf2b 10.255.1.5/32"},{"location":"plugins/index.html","title":"Arista AVD Plugins","text":""},{"location":"plugins/index.html#plugin-filters","title":"Plugin Filters","text":"<p>Arista AVD provides built-in filters to help extend jinja2 templates\u2019 functionality and improve code readability.</p>"},{"location":"plugins/index.html#list_compress-filter","title":"list_compress filter","text":"<p>The <code>arista.avd.list_compress</code> filter provides the capabilities to compress a list of integers and return it as a string, for example:</p> <pre><code>  - [1,2,3,4,5] -&gt; \"1-5\"\n- [1,2,3,7,8] -&gt; \"1-3,7-8\"\n</code></pre> <p>To use this filter:</p> <pre><code>{{ list_to_compress | arista.avd.list_compress }}\n</code></pre>"},{"location":"plugins/index.html#natural_sort-filter","title":"natural_sort filter","text":"<p>The <code>arista.avd.natural_sort</code> filter provides the capabilities to sort a list or a dictionary of integers and/or strings that contain alphanumeric characters naturally. When leveraged on a dictionary, only the key value will be returned. An optional <code>sort_key</code> can be specified, to sort on content of certain key if the items are dictionaries.</p> <p>The filter will return an empty list if the value parsed to <code>arista.avd.natural_sort</code> is <code>None</code> or <code>undefined</code>.</p> <p>To use this filter:</p> <pre><code>{% for item in dictionary_to_natural_sort | arista.avd.natural_sort %}\n{{ natural_sorted_item }}\n{% endfor %}\n{% for item in list_of_dicts_to_natural_sort | arista.avd.natural_sort('name') %}\n{{ dict_sorted_on_name }}\n{% endfor %}\n</code></pre>"},{"location":"plugins/index.html#default-filter","title":"default filter","text":"<p>The <code>arista.avd.default</code> filter can provide the same essential capability as the built-in <code>default</code> filter. It will return the input value only if it\u2019s valid and, if not, provide a default value instead. Our custom filter requires a value to be <code>not undefined</code> and <code>not None</code> to pass through. Furthermore, the filter allows multiple default values as arguments, which will undergo the same validation until we find a valid default value. As a last resort, the filter will return None.</p> <p>To use this filter:</p> <pre><code>{{ variable | arista.avd.default( default_value_1 , default_value_2 ... ) }}\n</code></pre>"},{"location":"plugins/index.html#convert_dicts-filter","title":"convert_dicts filter","text":"<p>The <code>arista.avd.convert_dicts</code> filter will convert a dictionary containing nested dictionaries to a list of dictionaries. It inserts the outer dictionary keys into each list item using the primary_key <code>name</code> (the key name is configurable). If there is a non-dictionary value, it inserts this value to a secondary key (the key name is configurable); if a secondary key is provided.</p> <p>This filter is intended for:</p> <ul> <li>Seamless data model migration from dictionaries to lists.</li> <li>Improve Ansible\u2019s processing performance when dealing with large dictionaries by converting them to lists of dictionaries.</li> </ul> <p>Note</p> <p>If there is a non-dictionary value with no secondary key provided, it will pass through untouched.</p> <p>To use this filter:</p> <pre><code>{# convert list of dictionary with default `name:` as the primary key and None secondary key #}\n{% set example_list = example_dictionary | arista.avd.convert_dicts %}\n{% for example_item in example_list %}\nitem primary key is {{ example_item.name }}\n{% endfor %}\n{# convert list of dictionary with `id:` set as the primary key and `types:` set as the secondary key #}\n{% set example_list = example_dictionary | arista.avd.convert_dicts('id','types') %}\n{% for example_item in example_list %}\nitem primary key is {{ example_item.id }}\nitem secondary key is {{ example_item.types }}\n{% endfor %}\n</code></pre>"},{"location":"plugins/index.html#ethernet-segment-identifiers-management-filter","title":"ethernet segment identifiers management filter","text":"<p>To help provide consistency when configuring EVPN A/A ESI values, the <code>esi_management</code> filter plugin provides an abstraction in the form of a <code>short_esi</code> key. <code>short_esi</code> is an abbreviated three octets value to encode Ethernet Segment ID, LACP ID, and route target. The following jinja2 filters manage the transformation from abstraction to network values:</p>"},{"location":"plugins/index.html#generate_esi-filter","title":"generate_esi filter","text":"<p>The <code>arista.avd.generate_esi</code> filter transforms short_esi: <code>0303:0202:0101</code> with prefix <code>0000:0000</code> to EVPN ESI: <code>0000:0000:0303:0202:0101</code></p> <p>example:</p> <pre><code>esi: {{ l2leaf.node_groups[l2leaf_node_group].short_esi | arista.avd.generate_esi }}\n</code></pre>"},{"location":"plugins/index.html#generate_lacp_id-filter","title":"generate_lacp_id filter","text":"<p>The <code>arista.avd.generate_lacp_id</code> filter transforms short_esi: <code>0303:0202:0101</code> to LACP ID format format: <code>0303.0202.0101</code></p> <p>example:</p> <pre><code>lacp_id: {{ l2leaf.node_groups[l2leaf_node_group].short_esi | arista.avd.generate_lacp_id }}\n</code></pre>"},{"location":"plugins/index.html#generate_route_target-filter","title":"generate_route_target filter","text":"<p>The <code>arista.avd.generate_route_target</code> filter transforms short_esi: <code>0303:0202:0101</code> to route-target format: <code>03:03:02:02:01:01</code></p> <p>example:</p> <pre><code>rt: {{ l2leaf.node_groups[l2leaf_node_group].short_esi | arista.avd.generate_route_target }}\n</code></pre>"},{"location":"plugins/index.html#add_md_toc-filter","title":"add_md_toc filter","text":"<p>The <code>arista.avd.add_md_toc</code> filter will parse the input MarkDown and add a TOC between the <code>toc_markers</code>.</p> <p>The module is used in <code>eos_designs</code> to create a table of contents for Fabric Documentation. The module is also used in <code>eos_cli_config_gen</code> to create a table of contents for Device Documentation.</p> <p>To use this filter:</p> <pre><code>{{ markdown string | arista.avd.add_md_toc(skip_lines=0, toc_levels=3, toc_marker='&lt;!-- toc --&gt;') }}\n</code></pre> Argument description type optional default value skip_lines Skip first x lines when parsing MD file Integer True 0 toc_levels How many levels of headings will be included in the TOC Integer True 3 toc_marker TOC will be inserted or updated between two of these markers in the MD file String True <code>\"&lt;!-- toc --&gt;\"</code> <p>example:</p> <p>To use this module:</p> <pre><code>tasks:\n- name: Generate fabric documentation\ntags: [build, provision, documentation]\nrun_once: true\ndelegate_to: localhost\ncheck_mode: no\ncopy:\ncontent: \"{{ lookup('template','documentation/fabric-documentation.j2') | arista.avd.add_md_toc(skip_lines=3) }}\"\ndest: \"{{ fabric_dir }}/{{ fabric_name }}-documentation.md\"\nmode: 0664\n</code></pre>"},{"location":"plugins/index.html#range_expand-filter","title":"range_expand filter","text":"<p>The <code>arista.avd.range_expand</code> filter provides the capabilities to expand a range of interfaces or list of ranges and return as a list for example:</p> <p>The filter supports VLANs, interfaces, modules, sub-interfaces, and ranges are expanded at all levels. Within a single range, prefixes (ex. Ethernet, Eth, Po) are carried over to items without prefixes (see third example below).</p> <pre><code>  - \"Ethernet1\"                                   -&gt; [\"Ethernet1\"]\n- \"Ethernet1-2\"                                 -&gt; [\"Ethernet1\", \"Ethernet2\"]\n- \"Eth 3-5,7-8\"                                 -&gt; [\"Eth 3\", \"Eth 4\", \"Eth 5\", \"Eth 7\", \"Eth 8\"]\n- \"et2-6,po1-2\"                                 -&gt; [\"et2\", \"et3\", \"et4\", \"et5\", \"et6\", \"po1\", \"po2\"]\n- [\"Ethernet1\"]                                 -&gt; [\"Ethernet1\"]\n- [\"Ethernet 1-2\", \"Eth3-5\", \"7-8\"]             -&gt; [\"Ethernet 1\", \"Ethernet 2\", \"Eth3\", \"Eth4\", \"Eth5\", \"7\", \"8\"]\n- [\"Ethernet2-6\", \"Port-channel1-2\"]            -&gt; [\"Ethernet2\", \"Ethernet3\", \"Ethernet4\", \"Ethernet5\", \"Ethernet6\", \"Port-channel1\", \"Port-channel2\"]\n- [\"Ethernet1/1-2\", \"Eth1-2/3-5,5/1-2\"]         -&gt; [\"Ethernet1/1\", \"Ethernet1/2\", \"Eth1/3\", \"Eth1/4\", \"Eth1/5\", \"Eth2/3\", \"Eth2/4\", \"Eth2/5\", \"Eth5/1\", \"Eth5/2\"]\n- [\"Eth1.1,9-10.1\", \"Eth2.2-3\", \"Eth3/1-2.3-4\"] -&gt; [\"Eth1.1\", \"Eth9.1\", \"Eth10.1\", \"Eth2.2\", \"Eth2.3\", \"Eth3/1.3\", \"Eth3/1.4\", \"Eth3/2.3\", \"Eth3/2.4\"]\n- \"1-3\"                                         -&gt; [\"1\", \"2\", \"3\"]\n- [\"1\", \"2\", \"3\"]                               -&gt; [\"1\", \"2\", \"3\"]\n- \"vlan1-3\"                                     -&gt; [\"vlan1\", \"vlan2\", \"vlan3\"]\n- \"Et1-2/3-4/5-6\"                               -&gt; [\"Et1/3/5\", \"Et1/3/6\", \"Et1/4/5\", \"Et1/4/6\", \"Et2/3/5\", \"Et2/3/6\", \"Et2/4/5\", \"Et2/4/6\"]\n</code></pre> <p>To use this filter:</p> <pre><code>{{ range_to_expand | arista.avd.range_expand }}\n</code></pre> <p>Note</p> <p>This isn\u2019t using the same range syntax as EOS for modular or break-out ports. For example, on EOS <code>et1/1-2/4</code> gives you <code>et1/1, et1/2, et1/3, et1/4, et2/1, et2/2, et2/3, et2/4</code> on a fixed switch, but a different result on a modular switch depending on the module types. In AVD, the same range would be <code>et1-2/1-4</code>.</p>"},{"location":"plugins/index.html#password-filters","title":"Password filters","text":"<p>The <code>arista.avd.encrypt</code> and <code>arista.avd.decrypt</code> filters are used to encrypt or decrypt supported passwords.</p> <p>To use these filters:</p> <pre><code>{{ &lt;var_with_clear_text_password&gt; | arista.avd.encrypt(passwd_type=&lt;type&gt;, key=&lt;encryption_key&gt;) }}\n{{ &lt;var_with_encrypted_password&gt; | arista.avd.decrypt(passwd_type=&lt;type&gt;, key=&lt;encryption_key&gt;) }}\n</code></pre> <p>Supported types:</p> <ul> <li>bgp</li> <li>ospf_simple</li> <li>ospf_message_digest</li> </ul> <p>Note</p> <p>For now this filter only supports encryption and decryption to type <code>7</code> and not type <code>8a</code> for OSPF and BGP passwords</p>"},{"location":"plugins/index.html#bgp-passwords","title":"BGP passwords","text":"<p>BGP passwords are encrypted/decrypted based on the Neighbor IP or the BGP Peer Group Name in EOS.</p> <p>Example usage for <code>arista.avd.encrypt</code> filter for BGP is to use it in conjunction with Ansible Vault to be able to load a password and have it encrypted on the fly by AVD in <code>eos_designs</code>.</p> <p>example:</p> <pre><code>bgp_peer_groups:\n  ipv4_underlay_peers:\n    name: IPv4-UNDERLAY-PEERS\n      password: \"{{ bgp_vault_password | arista.avd.encrypt(passwd_type='bgp', key='IPv4-UNDERLAY-PEERS') }}\"\n</code></pre>"},{"location":"plugins/index.html#ospf-passwords","title":"OSPF passwords","text":"<p>OSPF passwords are encrypted/decrypted based on the interface name (e.g., Ethernet1), and for message-digest-key, the hash algorithm (in the list [md5, sha1, sha256, sha384, sha512]) and the key ID (between 1 and 255).</p> <p>The filter provides two types for OSPF:</p> <ul> <li><code>ospf_simple</code> for simple authentication, which requires only the password and the interface name as key inputs.</li> <li><code>ospf_message_digest</code> for message digest keys which requires the password, the interface name as the key, the hash algorithm, and the key id as input.</li> </ul> <p>Example usage for <code>arista.avd.encrypt</code> filter for OSPF is to use it in conjunction with Ansible Vault to be able to load a password and have it encrypted on the fly by AVD in <code>eos_designs</code>.</p> <p>examples:</p> <ul> <li>Simple authentication<pre><code>ethernet_interfaces:\n  - name: Ethernet1:\n    ospf_authentication: simple\n    ospf_authentication_key: \"{{ ospf_vault_password | arista.avd.encrypt(passwd_type='ospf_simple', key='Ethernet1') }}\"\n</code></pre> </li> </ul> <ul> <li>Message Digest Keys<pre><code>ethernet_interfaces:\n  - name: Ethernet1:\n    ospf_authentication: message-digest\n    ospf_message_digest_keys:\n      - id: 1\n        hash_algorithm: md5\n        key: \"{{ ospf_vault_password | arista.avd.encrypt(passwd_type='ospf_message_digest', key='Ethernet1', hash_algorithm='md5', key_id='1') }}\"\n</code></pre> </li> </ul>"},{"location":"plugins/index.html#plugin-tests","title":"Plugin Tests","text":"<p>Arista AVD provides built-in test plugins to help verify data efficiently in jinja2 templates.</p>"},{"location":"plugins/index.html#defined-test","title":"defined test","text":"<p>The <code>arista.avd.defined</code> test will return <code>False</code> if the passed value is <code>Undefined</code> or <code>None</code>. Else it will return <code>True</code>. <code>arista.avd.defined</code> test also accepts an optional <code>test_value</code> argument to test if the value equals this. The optional <code>var_type</code> argument can also be used to test if the variable is of the expected type.</p> <p>Optionally the test can emit warnings or errors if the test fails.</p> <p>Compared to the builtin <code>is defined</code> test, this test will also test for <code>None</code> and can even test for a specific value or class.</p> <p>Syntax:</p> <pre><code>{% &lt;value&gt; is arista.avd.defined(test_value=&lt;test_value&gt;,\n                                 var_type=['float', 'int', 'str', 'list', 'dict', 'tuple', 'bool'],\n                                 fail_action=['warning','error'],\n                                 var_name=&lt;string representing name of value&gt;) %}\n</code></pre> <p>To use this test:</p> <pre><code>{% if extremely_long_variable_name is arista.avd.defined %}\ntext : {{ extremely_long_variable_name }}\n{% endif %}\n{% if extremely_long_variable_name is arista.avd.defined(\"something\") %}\ntext : {{ extremely_long_variable_name }}\n{% endif %}\nFeature is {{ \"not \" if extremely_long_variable_name is not arista.avd.defined }}configured\n</code></pre> <p>The <code>arista.avd.defined</code> test can be useful as an alternative to:</p> <pre><code>{% if extremely_long_variable_name is defined and extremely_long_variable_name is not none %}\ntext : {{ extremely_long_variable_name }}\n{% endif %}\n{% if extremely_long_variable_name is defined and extremely_long_variable_name == \"something\" %}\ntext : {{ extremely_long_variable_name }}\n{% endif %}\nFeature is {{ \"not \" if extremely_long_variable_name is defined and extremely_long_variable_name is not none }}configured\n</code></pre> <p>Warnings or Errors can be emitted with the optional arguments <code>fail_action</code> and <code>var_name</code>:</p> <pre><code>{% if my_dict.my_list[12].my_var is arista.avd.defined(fail_action='warning', var_name='my_dict.my_list[12].my_var') %}\n&gt;&gt;&gt; [WARNING]: my_dict.my_list[12].my_var was expected but not set. Output may be incorrect or incomplete!\n{% if my_dict.my_list[12].my_var is arista.avd.defined(fail_action='error', var_name='my_dict.my_list[12].my_var') %}\n&gt;&gt;&gt; fatal: [DC2-RS1]: FAILED! =&gt; {\"msg\": \"my_dict.my_list[12].my_var was expected but not set!\"}\n{% set my_dict.my_list[12].my_var = 'not_my_value' %}\n{% if my_dict.my_list[12].my_var is arista.avd.defined('my_value', fail_action='warning', var_name='my_dict.my_list[12].my_var') %}\n&gt;&gt;&gt; [WARNING]: my_dict.my_list[12].my_var was set to not_my_value but we expected my_value. Output may be incorrect or incomplete!\n{% if my_dict.my_list[12].my_var is arista.avd.defined('my_value', fail_action='error', var_name='my_dict.my_list[12].my_var') %}\n&gt;&gt;&gt; fatal: [DC2-RS1]: FAILED! =&gt; {\"msg\": \"my_dict.my_list[12].my_var was set to not_my_value but we expected my_value!\"}\n</code></pre>"},{"location":"plugins/index.html#contains-test","title":"contains test","text":"<p>The <code>arista.avd.contains</code> test will test if a list contains one or more of the supplied values. The test will return <code>False</code> if either the passed value or the test_values are <code>Undefined</code> or <code>none</code>.</p> <p>The test accepts either a single test_value or a list of test_values.</p> <p>To use this test:</p> <pre><code>{% if my_list is arista.avd.contains(item) %}Match{% endif %}\n{# or #}\n{% if my_list is arista.avd.contains(item_list) %}Match{% endif %}\n</code></pre> <p>example:</p> <p>The <code>arista.avd.contains</code> is used in the role <code>eos_designs</code> in combination with <code>selectattr</code> to parse the <code>platform_settings</code> list for an element where <code>switch_platform</code> is contained in the <code>platforms</code> attribute.</p> <p>Data model:</p> <pre><code>platform_settings:\n- platforms: [default]\nreload_delay:\nmlag: 300\nnon_mlag: 330\n- platforms: [ 7280R, 7280R2, 7500R, 7500R2, 7020R ]\ntcam_profile: vxlan-routing\nlag_hardware_only: true\nreload_delay:\nmlag: 900\nnon_mlag: 1020\n- platforms: [ 7280R3, 7500R3, 7800R3 ]\nreload_delay:\nmlag: 900\nnon_mlag: 1020\n</code></pre> <p>Jinja template without the <code>selectattr</code> and <code>arista.avd.contains</code> test:</p> <pre><code>switch:\n{% set ns = namespace() %}\n{% for platform_setting in platform_settings %}\n{%     set ns.platform_defined = false %}\n{%     if switch_platform in platform_setting.platforms %}\n{%         set ns.platform_defined = true ]}\nplatform_settings: {{ platform_setting }}\n{%         break; %}\n{%     endif %}\n{% endfor %}\n{% for platform_setting in platform_settings if ns.platform_defined == false %}\n{%     if 'default' in platform_setting.platforms %}\n  platform_settings: {{ platform_setting }}\n{%         break; %}\n{%     endif %}\n{% endfor %}\n</code></pre> <p>Jinja template with the <code>selectattr</code> and <code>arista.avd.contains</code> test:</p> <pre><code>switch:\n  platform_settings: {{ platform_settings | selectattr(\"platforms\", \"arista.avd.contains\", switch_platform) | first | arista.avd.default(\nplatform_settings | selectattr(\"platforms\", \"arista.avd.contains\", \"default\") | first) }}\n</code></pre>"},{"location":"plugins/index.html#modules","title":"Modules","text":""},{"location":"plugins/index.html#inventory-to-cloudvision-containers","title":"Inventory to CloudVision Containers","text":"<p>The <code>arista.avd.inventory_to_container</code> module provides following capabilities:</p> <ul> <li>Transform inventory groups into CloudVision containers topology.</li> <li>Create a list of configlet definitions.</li> </ul> <p>It saves everything in a <code>YAML</code> file using the <code>destination</code> keyword.</p> <p>It\u2019s a module to build a data structure to configure a CloudVision server. Output is ready to be passed to <code>arista.cvp</code> to configure CloudVision.</p> <p>example:</p> <p>To use this module:</p> <pre><code>tasks:\n- name: generate intended variables\ntags: [always]\narista.avd.inventory_to_container:\ninventory: \"{{ inventory_file }}\"\ncontainer_root: \"{{ container_root }}\"\nconfiglet_dir: \"intended/configs\"\nconfiglet_prefix: \"{{ configlets_prefix }}\"\ndestination: \"{{ playbook_dir }}/intended/structured_configs/{{ inventory_hostname }}.yml\"\n</code></pre> <p>Inventory example applied to this example:</p> <pre><code>all:\nchildren:\n# DC1_Fabric - EVPN Fabric running in home lab\nDC1:\nchildren:\nDC1_FABRIC:\nchildren:\nDC1_SPINES:\nhosts:\nDC1-SPINE1:\nDC1-SPINE2:\nDC1_L3LEAFS:\nchildren:\nDC1_LEAF1:\nhosts:\nDC1-LEAF1A:\nDC1-LEAF1B:\nDC1_LEAF2:\nhosts:\nDC1-LEAF2A:\nDC1-LEAF2B:\n</code></pre> <p>Generated output ready to be used by <code>arista.cvp</code> collection:</p> <pre><code>---\ncvp_devices:\nDC1-SPINE1:\nname: DC1-SPINE1\nparentContainerName: DC1_SPINES\nconfiglets:\n- DC1-AVD_DC1-SPINE1\nimageBundle: []\ncvp_containers:\nDC1_LEAF1:\nparent_container: DC1_L3LEAFS\nDC1_FABRIC:\nparent_container: Tenant\nDC1_L3LEAFS:\nparent_container: DC1_FABRIC\nDC1_LEAF2:\nparent_container: DC1_L3LEAFS\nDC1_SPINES:\nparent_container: DC1_FABRIC\n</code></pre>"},{"location":"plugins/index.html#build-configuration-to-publish-configlets-to-cloudvision","title":"Build Configuration to publish configlets to CloudVision","text":"<p>The <code>arista.avd.configlet_build_config</code> module provides the following capabilities:</p> <ul> <li>Build arista.cvp.configlet configuration.</li> <li>Build configuration to publish configlets to CloudVision.</li> </ul> <p>options:</p> <pre><code>- arista.avd.configlet_build_config:\nconfiglet_dir:  \"&lt; Directory where configlets are located | Required &gt;\"\nconfiglet_prefix: \"&lt; Prefix to append on configlet | Required &gt;\"\ndestination: \"&lt; File where to save information | Optional &gt;\"\nconfiglet_extension: \"&lt; File extension to look for | Default 'conf' &gt;\"\n</code></pre> <p>example:</p> <pre><code># tasks file for configlet_build_config\n- name: generate intended variables\ntags: [build, provision]\narista.avd.configlet_build_config:\nconfiglet_dir: \"/path/to/configlets/folder/\"\nconfiglet_prefix: \"AVD_\"\nconfiglet_extension: \"cfg\"\n</code></pre>"},{"location":"plugins/index.html#yaml-templates-to-facts","title":"YAML Templates to Facts","text":"<p>The <code>arista.avd.yaml_templates_to_facts</code> module is an Ansible Action Plugin providing the following capabilities:</p> <ul> <li>Set Facts based on one or more Jinja2 templates producing YAML output.</li> <li>Recursively combining templates\u2019 output to allow templates to update overlapping parts of the data models.</li> <li>Facts set by one template will be accessible by the following templates.</li> <li>Returned facts can be set below a specific <code>root_key</code>.</li> <li>Facts returned templates can be stripped for <code>null</code> values to avoid overwriting previous set facts.</li> </ul> <p>The module is used in <code>eos_designs</code> to generate the <code>structured_configuration</code> based on all the <code>eos_designs</code> templates.</p> <p>The module arguments are:</p> <pre><code>- arista.avd.yaml_templates_to_facts:\nroot_key: &lt; optional root_key name &gt;\ntemplates:\n# Path to template file\n- template: \"&lt; template file &gt;\"\noptions:\n# Merge strategy for lists for Ansible Combine filter. See Ansible Combine filter for details.\nlist_merge: &lt; append (default) | replace | keep | prepend | append_rp | prepend_rp &gt;\n# Filter out keys from the generated output if value is null/none/undefined\nstrip_empty_keys: &lt; true (default) | false &gt;\n# Output list 'avd_yaml_templates_to_facts_debug' with timestamps of each performed action.\ndebug: &lt; true | false (default) &gt;\n# Destination path. If set, the output facts will also be written to this path.\n# Autodetects data format based on file suffix. '.yml', '.yaml' -&gt; YAML, default -&gt; JSON\ndest: &lt; path &gt;\n# If true the output data will be run through another jinja2 rendering before returning.\n# This is to resolve any input values with inline jinja using variables/facts set by the input templates.\ntemplate_output: &lt; true | false (default) &gt;\n# Export cProfile data to a file ex. \"eos_designs_structured_config-{{inventory_hostname}}\"\ncprofile_file: &lt; filename &gt;\n</code></pre> <p>example:</p> <pre><code>- name: Set AVD facts\ntags: [build, provision]\narista.avd.yaml_templates_to_facts:\ntemplates: \"{{ templates.facts }}\"\ndelegate_to: localhost\ncheck_mode: no\nchanged_when: False\n- name: Generate device configuration in structured format\ntags: [build, provision]\narista.avd.yaml_templates_to_facts:\ntemplates: \"{{ templates.structured_config }}\"\ndest: \"{{ structured_dir }}/{{ inventory_hostname }}.{{ avd_structured_config_file_format }}\"\ntemplate_output: True\ndelegate_to: localhost\ncheck_mode: no\nregister: structured_config\n</code></pre> <p>Role default variables applied to this example:</p> <pre><code># Design variables\ndesign:\ntype: \"l3ls-evpn\"\ntemplates:\n# Templates defined per design\nl3ls-evpn:\nfacts:\n# Set general \"switch.*\" variables\n- template: \"facts/main.j2\"\n# Set design specific \"switch.*\" variables\n- template: \"facts/main.j2\"\nstructured_config:\n# Render Structured Configuration\n# Base features\n- template: \"base/main.j2\"\n# MLAG feature\n- template: \"mlag/main.j2\"\n# Underlay feature\n- template: \"underlay/main.j2\"\n# Overlay feature\n- template: \"overlay/main.j2\"\n# L3 Edge feature\n- template: \"l3_edge/main.j2\"\n# Tenants feature\n- template: \"network_services/main.j2\"\n# Connected Endpoints feature\n- template: \"connected_endpoints/main.j2\"\n# Merge custom_structured_configuration last\n- template: \"custom-structured-configuration-from-var.j2\"\noptions:\nlist_merge: \"{{ custom_structured_configuration_list_merge }}\"\nstrip_empty_keys: false\n</code></pre>"},{"location":"plugins/index.html#validate-and-template","title":"Validate and Template","text":"<p>The <code>arista.avd.validate_and_template</code> Action Plugin performs data conversions and validation according to the supplied Schema. The converted data is then used to render a Jinja2 template and writing the result to a file.</p> <p>The Action Plugin supports different modes for conversion and validation, to either block the playbook or just warn the user if the input data is not valid.</p> <p>For Markdown files the plugin can also run <code>md_toc</code> on the output before writing to the file.</p> <p>The module is used in <code>eos_cli_config_gen</code> for generating configuration and documentation outputs. By combining conversion, validation and template generation in a single tasks, we can avoid Ansible\u2019s variable precendence from interfering with the converted vars.</p> <p>If <code>dest</code> is not set, the template output will be returned under the <code>output</code> key in the result.</p> <p>The module arguments are:</p> <pre><code>  # Path to Jinja2 Template file | Required\nansible.builtin.template: &lt;str&gt;\n# Destination path. The rendered template will be written to this file | Optional\ndest: &lt;str&gt;\n# File mode for dest file | Optional\nmode: &lt;str&gt;\n# Schema conforming to \"AVD Meta Schema\" | Required\nschema: &lt;dict&gt;\n# Run md_toc on the output before writing to the file | Optional\nadd_md_toc: &lt;bool&gt;\n# Pass this value as skip_lines to add_md_toc | Optional, default: 0\nmd_toc_skip_lines: &lt;int&gt;\n# Run data conversion in either \"warning\", \"info\", \"debug\", \"quiet\" or \"disabled\" mode | Optional, default: \"debug\"\n# Conversion will perform type conversion of input variables as defined in the schema.\n# Conversion is intended to help the user to identify minor issues with the input data, while still allowing the data to be validated.\n# During conversion, messages will generated with information about the host(s) and key(s) which required conversion.\n# conversion_mode:disabled means that conversion will not run.\n# conversion_mode:error will produce error messages and fail the task.\n# conversion_mode:warning will produce warning messages.\n# conversion_mode:info will produce regular log messages.\n# conversion_mode:debug will produce hidden messages viewable with -v.\n# conversion_mode:quiet will not produce any messages\nconversion_mode: &lt;str&gt;\n# Run validation in either \"error\", \"warning\", \"info\", \"debug\" or \"disabled\" mode | Optional, default: \"warning\"\n# Validation will validate the input variables according to the schema.\n# During validation, messages will generated with information about the host(s) and key(s) which failed validation.\n# validation_mode:disabled means that validation will not run.\n# validation_mode:error will produce error messages and fail the task.\n# validation_mode:warning will produce warning messages.\n# validation_mode:info will produce regular log messages.\n# validation_mode:debug will produce hidden messages viewable with -v.\nvalidation_mode: &lt;str&gt;\n</code></pre> <p>Example:</p> <pre><code>- name: Generate device documentation\ntags: [build, provision, documentation]\narista.avd.validate_and_template:\ntemplate: \"eos-device-documentation.j2\"\ndest: \"{{ devices_dir }}/{{ inventory_hostname }}.md\"\nmode: 0664\nschema: \"{{ lookup('ansible.builtin.file', role_schema_path) | from_yaml }}\"\nconversion_mode: \"{{ avd_data_conversion_mode }}\"\nvalidation_mode: \"{{ avd_data_validation_mode }}\"\nadd_md_toc: true\nmd_toc_skip_lines: 3\ndelegate_to: localhost\nwhen: generate_device_documentation | arista.avd.default(true)\n</code></pre>"},{"location":"plugins/index.html#batch-template","title":"Batch Template","text":"<p>The <code>arista.avd.batch_template</code>  Action Plugin performs templating of one template for multiple \u201citems\u201d.</p> <p>Results are written to individual files named using format string passed to the plugin. Destination file mode is hardcoded to 0o664.</p> <pre><code>options:\ntemplate:\ndescription: Path to Jinja2 Template file\nrequired: true\ntype: str\ndest_format_str:\ndescription: Format string used to specify target file for each item. 'item' is the current item from 'items'. Like \"mypath/{item}.md\"\nrequired: true\ntype: str\nitems:\ndescription: List of strings. Each list item is passed to 'dest_format_str' as 'item' and passed to templater as 'item'\nrequired: true\ntype: list\nelements: str\nExample:\n```yaml\n- name: Output eos_cli_config_gen Documentation\ntags: [eos_cli_config_gen]\ndelegate_to: localhost\nrun_once: true\narista.avd.batch_template:\ntemplate: avd_schema_documentation.j2\ndest_format_str: \"{{ role_documentation_dir }}/{item}.md\"\nitems: \"{{ documentation_schema | list }}\"\nvars:\ndocumentation_schema: \"{{ role_name | arista.avd.convert_schema(type='documentation') }}\"\n</code></pre>"},{"location":"plugins/index.html#verify-requirements","title":"Verify Requirements","text":"<p>The <code>arista.avd.verify_requirements</code> module is an Ansible Action Plugin providing the following capabilities:</p> <ul> <li>Display the current running version of the collection.</li> <li>Given a list of python requirements, verify if the installed libraries match these requirements.</li> <li>Validate the ansible version against collection requirements.</li> <li>Validate the collection requirements against the collection requirements.</li> <li>Validate the running python version.</li> </ul> <p>A task is added to every <code>eos_*</code> role in the collection but the Verify Requirement task will run only once per playbook when multiple roles are used.</p> <p>Added in: version 4.0.0 of arista.avd</p> <p>Module options (= is mandatory):</p> <pre><code># Boolean, if set to True, the play does not stop if any requirement error is detected | Optional\navd_ignore_requirements: &lt;bool | default false&gt;\n# List of strings of python requirements with pip file syntax | Required\nrequirements: &lt;list of str&gt;\n</code></pre> <p>Example:</p> <pre><code>- name: Verify collection requirements\narista.avd.verify_requirements:\nrequirements:\n- Jinja2 &gt;= 2.9\n- paramiko == 2.7.1\ncheck_mode: false\nrun_once: true\n</code></pre> <p>Example output (with debug):</p> <pre><code>TASK [arista.avd.eos_designs : Verify Requirements] ********************************************************************************************************************************\nAVD version v4.0.0-dev5-25-g0233492b5\n{\n    \"ansible\": {\n        \"collection\": {\n            \"name\": \"arista.avd\",\n            \"path\": \"/tmp/ansible-avd/ansible_collections\",\n            \"version\": \"v4.0.0-dev5-25-g0233492b5\"\n        },\n        \"ansible_version\": \"2.14.2\",\n        \"requires_ansible\": \"!=2.13.0,&lt;2.15.0,&gt;=2.12.6\",\n        \"collection_requirements\": {\n            \"not_found\": {},\n            \"valid\": {\n                \"arista.cvp\": {\n                    \"installed\": \"3.3.1\",\n                    \"required_version\": null\n                },\n                \"arista.eos\": {\n                    \"installed\": \"4.1.1\",\n                    \"required_version\": null\n                },\n                \"ansible.netcommon\": {\n                    \"installed\": \"3.0.1\",\n                    \"required_version\": \"!=2.6.0,&gt;=2.4.0\"\n                }\n            },\n            \"mismatched\": {},\n            \"parsing_failed\": []\n        }\n    },\n    \"python\": {\n        \"python_version_info\": {\n            \"major\": 3,\n            \"minor\": 10,\n            \"micro\": 3,\n            \"releaselevel\": \"final\",\n            \"serial\": 0\n        },\n        \"python_path\": [\n            \"/tmp/.pyenv/versions/3.10.3/envs/ansible-avd/bin\",\n            \"/tmp/.pyenv/versions/3.10.3/lib/python310.zip\",\n            \"/tmp/.pyenv/versions/3.10.3/lib/python3.10\",\n            \"/tmp/.pyenv/versions/3.10.3/lib/python3.10/lib-dynload\",\n            \"/tmp/.pyenv/versions/3.10.3/envs/ansible-avd/lib/python3.10/site-packages\"\n        ],\n        \"python_requirements\": {\n            \"not_found\": {},\n            \"valid\": {\n                \"netaddr\": {\n                    \"installed\": \"0.8.0\",\n                    \"required_version\": \"&gt;=0.7.19\"\n                },\n                \"Jinja2\": {\n                    \"installed\": \"3.1.2\",\n                    \"required_version\": \"&gt;=2.11.3\"\n                },\n                \"treelib\": {\n                    \"installed\": \"1.6.1\",\n                    \"required_version\": \"&gt;=1.5.5\"\n                },\n                \"cvprac\": {\n                    \"installed\": \"1.2.2\",\n                    \"required_version\": \"&gt;=1.0.7\"\n                },\n                \"paramiko\": {\n                    \"installed\": \"3.0.0\",\n                    \"required_version\": \"&gt;=2.7.1\"\n                },\n                \"jsonschema\": {\n                    \"installed\": \"4.17.3\",\n                    \"required_version\": \"&gt;=4.5.1\"\n                },\n                \"requests\": {\n                    \"installed\": \"2.28.2\",\n                    \"required_version\": \"&gt;=2.25.1\"\n                },\n                \"PyYAML\": {\n                    \"installed\": \"5.4.1\",\n                    \"required_version\": \"&gt;=5.4.1\"\n                },\n                \"md-toc\": {\n                    \"installed\": \"8.1.8\",\n                    \"required_version\": \"&gt;=7.1.0\"\n                },\n                \"deepmerge\": {\n                    \"installed\": \"1.1.0\",\n                    \"required_version\": \"&gt;=1.1.0\"\n                },\n                \"cryptography\": {\n                    \"installed\": \"39.0.0\",\n                    \"required_version\": \"&gt;=38.0.4\"\n                },\n                \"packaging\": {\n                    \"installed\": \"23.0\",\n                    \"required_version\": \"&gt;=21.3\"\n                }\n            },\n            \"mismatched\": {},\n            \"parsing_failed\": []\n        }\n    }\n}\n</code></pre>"},{"location":"roles/build_output_folders/index.html","title":"build_output_folders","text":"<p>Role to cleanup and create local folder structure to save roles\u2019 outputs</p>"},{"location":"roles/build_output_folders/index.html#requirements","title":"Requirements","text":"<p>None</p>"},{"location":"roles/build_output_folders/index.html#role-variables","title":"Role Variables","text":"<p>Role support following variables:</p> <pre><code># Root directory where to build output structure\n# All folder below will be created in this directory folder.\nroot_dir: '{{ inventory_dir }}'\n# Main output directory\noutput_dir_name: 'intended'\n# Output for structured YAML files:\nstructured_dir_name: 'structured_configs'\n# EOS configuration directory name\neos_config_dir_name: 'configs'\n# Main documentation folder\ndocumentation_dir_name: 'documentation'\n# Fabric documentation\nfabric_dir_name: 'fabric'\n# Device documentation\ndevices_dir_name: 'devices'\n# EOS state validation directory name\neos_validate_state_name: 'reports'\n# EOS config deploy eapi running config backup directory\npost_running_config_backup_dir_name: 'config_backup'\npre_running_config_backup_dir_name: 'config_backup'\n</code></pre> <p>Role will create following structure:</p> <pre><code>\u251c\u2500\u2500 config_backup\n\u251c\u2500\u2500 documentation\n\u2502   \u251c\u2500\u2500 fabric\n\u2502   \u2514\u2500\u2500 devices\n\u251c\u2500\u2500 intended\n\u2502   \u251c\u2500\u2500 configs\n\u2502   \u2514\u2500\u2500 structured_configs\n\u251c\u2500\u2500 reports\n</code></pre> <p>If folders already exists, role will delete them and recreate structure.</p>"},{"location":"roles/build_output_folders/index.html#dependencies","title":"Dependencies","text":"<p>None</p>"},{"location":"roles/build_output_folders/index.html#example-playbook","title":"Example Playbook","text":"<p>Below is an example to use in your playbook to build output folders using default values.</p> <pre><code>- name: Build Switch configuration\nhosts: DC1_FABRIC\nconnection: local\ngather_facts: no\ntasks:\n- name: 'Build local folders for output'\ntags: [build]\nansible.builtin.import_role:\nname: arista.avd.build_output_folders\n</code></pre>"},{"location":"roles/build_output_folders/index.html#license","title":"License","text":"<p>Project is published under Apache 2.0 License</p>"},{"location":"roles/cvp_configlet_upload/index.html","title":"cvp_configlet_upload","text":""},{"location":"roles/cvp_configlet_upload/index.html#overview","title":"Overview","text":"<p>cvp_configlet_upload, is a role that deploys configlets stored in a local folder to the CloudVision server.</p>"},{"location":"roles/cvp_configlet_upload/index.html#role-requirements","title":"Role requirements","text":"<p>This role requires to install <code>arista.cvp</code> collection to support CloudVision interactions.</p> <pre><code>ansible-galaxy collection install arista.cvp\n</code></pre>"},{"location":"roles/cvp_configlet_upload/index.html#role-inputs-and-outputs","title":"Role Inputs and Outputs","text":"<p>Figure 1 below provides a visualization of the role\u2019s inputs, outputs, and tasks in order executed by the role.</p> <p> </p> <ol> <li>Read content of <code>{{ configlet_directory }}</code> and create cv_configlet input structure.</li> <li>Collect CloudVision facts.</li> <li>Create or update configlets on CloudVision server with content from <code>{{ configlet_directory }}</code></li> </ol>"},{"location":"roles/cvp_configlet_upload/index.html#inputs","title":"Inputs","text":""},{"location":"roles/cvp_configlet_upload/index.html#inventory-configuration","title":"Inventory configuration","text":"<p>An entry must be part of the inventory to describe the CloudVision server. <code>arista.cvp</code> modules use the httpapi approach. The example below provides a framework to use in your inventory.</p> <pre><code>all:\nchildren:\ncloudvision:\nhosts:\ncv_server01:\nansible_httpapi_host: 10.83.28.164\nansible_host: 10.83.28.164\nansible_user: ansible\nansible_password: ansible\nansible_connection: httpapi\nansible_httpapi_use_ssl: True\nansible_httpapi_validate_certs: False\nansible_network_os: eos\nansible_httpapi_port: 443\n# Configuration to get Virtual Env information\nansible_python_interpreter: $(which python3)\n</code></pre> <p>For complete list of authentication options available with CloudVision Ansible collection, you can read dedicated page on arista.cvp collection.</p>"},{"location":"roles/cvp_configlet_upload/index.html#module-variables","title":"Module variables","text":"<ul> <li><code>configlet_directory</code>: Folder where local configlets are stored. Default: <code>configlets</code>.</li> <li><code>file_extension</code>: File extension to look for configlet in their local folder. Default: <code>conf</code>.</li> <li><code>configlets_cvp_prefix</code>: Prefix to use for configlet on CV side. Default: Not set and it\u2019s required.</li> <li><code>execute_tasks</code>:  <code>true</code> / <code>false</code>. Support automatically excuting pending tasks. Default: <code>false</code>.</li> <li><code>cv_collection</code>: Version of CloudVision collection to use. Can be <code>v1</code> or <code>v3</code>. Default is <code>v1</code>.</li> </ul> <p>Example:</p> <pre><code>tasks:\n- name: Upload cvp configlets\nansible.builtin.import_role:\nname: arista.avd.cvp_configlet_upload\nvars:\nconfiglet_directory: 'configlets/'\nfile_extension: 'txt'\nconfiglets_cvp_prefix: 'DC1-AVD'\nexecute_tasks: false\ncv_collection: v1\n</code></pre> <p>This module also supports tags to run a subset of ansible tasks:</p> <ul> <li><code>build</code>: Generate <code>cv_configlet</code> input structure.</li> <li><code>provision</code>: Run <code>build</code> tags + configure CloudVision with information generated in previous tasks</li> </ul> <pre><code>ansible-playbook playbook.to.deploy.with.cvp.yml --tags \"provision\"\n</code></pre>"},{"location":"roles/cvp_configlet_upload/index.html#outputs","title":"Outputs","text":"<ul> <li>None.</li> </ul>"},{"location":"roles/cvp_configlet_upload/index.html#tasks","title":"Tasks","text":"<ol> <li>Read content of <code>{{ configlet_directory }}</code> and create cv_configlet input structure.</li> <li>Collect CloudVision facts.</li> <li>Create or update configlets on CloudVision server with content from <code>{{ configlet_directory }}</code></li> </ol>"},{"location":"roles/cvp_configlet_upload/index.html#requirements","title":"Requirements","text":"<p>Requirements are located here: avd-requirements</p>"},{"location":"roles/cvp_configlet_upload/index.html#license","title":"License","text":"<p>Project is published under Apache 2.0 License</p>"},{"location":"roles/dhcp_provisioner/index.html","title":"dhcp_provisioner","text":""},{"location":"roles/dhcp_provisioner/index.html#overview","title":"Overview","text":"<p>dhcp_provisioner is a role to build and deploy a DHCP configuration file to support Zero Touch Provisioning with Arista EOS devices.</p> <p>Tip</p> <p>The role supports two modes: <code>offline</code> and <code>online</code>:</p> <ul> <li><code>Offline</code> mode let you generate a configuration you can apply on your DHCP server after carefully reviewing it.</li> <li><code>Online</code> mode lets you generate and push configuration to CloudVision, RHEL, or Ubuntu-based Linux systems.</li> </ul>"},{"location":"roles/dhcp_provisioner/index.html#role-requirements","title":"Role requirements","text":"<p>This role requires installing the <code>arista.cvp</code> collection to support CloudVision interactions.</p> <pre><code>ansible-galaxy collection install arista.cvp\n</code></pre>"},{"location":"roles/dhcp_provisioner/index.html#role-inputs-and-outputs","title":"Role Inputs and Outputs","text":""},{"location":"roles/dhcp_provisioner/index.html#inputs","title":"Inputs","text":""},{"location":"roles/dhcp_provisioner/index.html#inventory-configuration","title":"Inventory configuration","text":"<p>An entry must be part of the inventory to describe DHCP server.</p> <pre><code>all:\nchildren:\nTOOLS:\nhosts:\ndhcp_server01:\n</code></pre>"},{"location":"roles/dhcp_provisioner/index.html#module-variables","title":"Module variables","text":""},{"location":"roles/dhcp_provisioner/index.html#variables-dedicated-to-dhcp-device","title":"Variables dedicated to DHCP device","text":"<ul> <li><code>fabric_group</code>: Ansible group where devices are defined per type.</li> <li><code>ztp_network_summary</code>: Subnet where DHCP will listen for request.</li> <li><code>ztp_pool_start</code>: First IP available in the pool.</li> <li><code>ztp_pool_end</code>: Last IP available in the pool.</li> <li><code>ztp_lease_time</code>: Maximum lease time before devices lose IP. Renewal is max/2 (default is 300 sec).</li> <li><code>ztp_mac_source</code>: Define which mac-address field is used for identification: interface mac-address (<code>interface</code>) or system-mac-address (<code>system</code>). Default: <code>system</code></li> <li><code>ztp_mode</code>: Define how role works either <code>offline</code> or <code>online</code> (Default <code>offline</code>).</li> </ul> <p>Example:</p> <pre><code>---\n- name: Build Switch configuration\nhosts: TOOLS\nconnection: local\ngather_facts: false\ntasks:\n- name: Create dhcp configuration file\nansible.builtin.import_role:\nname: arista.avd.dhcp_provisioner\nvars:\nztp_network_summary: 10.73.1.0/24\nztp_pool_start: 10.73.1.200\nztp_pool_end: 10.73.1.210\nztp_lease_time: 300\nfabric_group: 'DC1_FABRIC'\nztp_mac_source: system\n</code></pre> <p>This module also reads information from the fabric definition. For any node defined under spine, l3leaf, and l2leaf, the role generates a DHCP entry if mac-address is found. Entry is based on the following fields:</p> <ul> <li><code>mgmt_ip</code>: Management IP set as per <code>eos_designs</code>.</li> <li><code>mac_address</code>: MAC address used for DHCP. It can be either interface mac-address or system-mac-address.</li> </ul> <pre><code># Spine Switches\nspine:\nplatform: vEOS-LAB\nbgp_as: 65001\n# defines the range of acceptable remote ASNs from leaf switches\nnodes:\nAVD2-SPINE1:\nid: 1\nmgmt_ip: 10.73.254.1/24\nmac_address: '0c:1d:c0:1d:62:01'\nAVD2-SPINE2:\nid: 2\nmgmt_ip: 10.73.254.2/24\nmac_address: '0c:1d:c0:1d:62:02'\n</code></pre> <p>This module also uses the <code>cvp_instance_ip</code> or <code>cvp_instance_ips</code> knobs to set correct registration URL. In case you need to extend the TerminAttr daemon, you should use an approach similar to the following code:</p> <pre><code>cvp_instance_ips:\n- &lt; cvp instance 01 &gt;\n- &lt; cvp instance 02 &gt;\n- &lt; cvp instance 03 &gt;\ncvp_ingestauth_key: &lt; Fake ingest key overwritten by custom_structured_configuration &gt;\n# CloudVision server information\ncustom_structured_configuration_daemon_terminattr:\ncvauth:\nmethod: \"token\"\ntoken_file: \"&lt; path to the token file &gt;\"\n</code></pre>"},{"location":"roles/dhcp_provisioner/index.html#outputs","title":"Outputs","text":"<ul> <li>DHCP configuration file under <code>intended/configs/dhcpd.conf</code></li> </ul>"},{"location":"roles/dhcp_provisioner/index.html#tasks","title":"Tasks","text":"<ol> <li>Generate structured configuration for DHCP configuration as documented in <code>arista.cvp.dhcp_configuration</code>.</li> <li>Load generated variables.</li> <li>Create DHCP configuration file.</li> <li>If mode is online, apply configuration to DHCP server.</li> </ol>"},{"location":"roles/dhcp_provisioner/index.html#requirements","title":"Requirements","text":"<p>Requirements are located here: avd-requirements</p>"},{"location":"roles/dhcp_provisioner/index.html#license","title":"License","text":"<p>Project is published under Apache 2.0 License</p>"},{"location":"roles/eos_cli_config_gen/index.html","title":"eos_cli_config_gen","text":""},{"location":"roles/eos_cli_config_gen/index.html#overview","title":"Overview","text":"<p>eos_cli_config_gen, is a role that generates eos cli syntax and device documentation.</p> <p>The eos_cli_config_gen role:</p> <ul> <li>Designed to generate the intended configuration offline, without relying on switch current state information.</li> <li>Facilitates the evaluation of the configuration prior to deployment with tools like Batfish</li> <li>Facilitates the evaluation of the configuration post deployment with eos_validate_state role.</li> </ul>"},{"location":"roles/eos_cli_config_gen/index.html#role-inputs-and-outputs","title":"Role Inputs and Outputs","text":"<p>Figure 1 below provides a visualization of the roles inputs, and outputs and tasks in order executed by the role.</p> <p> </p> <p>Inputs:</p> <ul> <li>Structured EOS configuration according to supported data models.</li> </ul> <p>Outputs:</p> <ul> <li>EOS configuration in CLI format.</li> <li>Device Documentation in Markdown format.</li> </ul> <p>Tasks:</p> <ol> <li>Import device structured configuration from YAML file unless <code>structured_config</code> flag is set by <code>eos_designs</code>.</li> <li>Generate EOS configuration in CLI format.</li> <li>Generate Device Documentation in Markdown format.</li> </ol>"},{"location":"roles/eos_cli_config_gen/index.html#requirements","title":"Requirements","text":"<p>Requirements are located here: avd-requirements</p>"},{"location":"roles/eos_cli_config_gen/index.html#input-variables","title":"Input Variables","text":"<ul> <li>The input variables are documented in the Data Model section.</li> <li>Variables are organized by subject. For example, <code>AAA</code> input data is listed under <code>Authentication</code>.</li> <li>Available features and variables may vary by platforms, refer to documentation on arista.com for specifics.</li> <li>All values are optional.</li> </ul>"},{"location":"roles/eos_cli_config_gen/index.html#license","title":"License","text":"<p>Project is published under Apache 2.0 License</p>"},{"location":"roles/eos_cli_config_gen/docs/Input%20Variables.html","title":"Input Variables","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/ACLs.html","title":"ACLs","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/ACLs.html#ip-extended-access-lists-legacy-model","title":"IP Extended Access-Lists (legacy model)","text":"<p>AVD currently supports 2 different data models for extended ACLs:</p> <ul> <li>The legacy <code>access_lists</code> data model, for compatibility with existing deployments</li> <li>The improved <code>ip_access_lists</code> data model, for access to more EOS features</li> </ul> <p>Both data models can coexists without conflicts, as different keys are used: <code>access_lists</code> vs <code>ip_access_lists</code>. Access list names must be unique.</p> <p>The legacy data model supports simplified ACL definition with <code>sequence</code> to <code>action</code> mapping:</p> TableYAML Variable Type Required Default Value Restrictions Description access_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique Access-list Name \u00a0\u00a0\u00a0\u00a0counters_per_entry Boolean \u00a0\u00a0\u00a0\u00a0sequence_numbers List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer Required, Unique Sequence ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Required Action as stringExample: \u201cdeny ip any any\u201d <pre><code>access_lists:\n- name: &lt;str&gt;\ncounters_per_entry: &lt;bool&gt;\nsequence_numbers:\n- sequence: &lt;int&gt;\naction: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/ACLs.html#ip-extended-access-lists-improved-model","title":"IP Extended Access-Lists (improved model)","text":"<p>AVD currently supports 2 different data models for extended ACLs:</p> <ul> <li>The legacy <code>access_lists</code> data model, for compatibility with existing deployments</li> <li>The improved <code>ip_access_lists</code> data model, for access to more EOS features</li> </ul> <p>Both data models can coexists without conflicts, as different keys are used: <code>access_lists</code> vs <code>ip_access_lists</code>. Access list names must be unique.</p> <p>The improved data model has a more sophisticated design documented below:</p> TableYAML Variable Type Required Default Value Restrictions Description ip_access_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique Access-list Name \u00a0\u00a0\u00a0\u00a0counters_per_entry Boolean \u00a0\u00a0\u00a0\u00a0entries List, items: Dictionary ACL Entries \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer ACL entry sequence number. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remark String Comment up to 100 characters.If remark is defined, other keys in acl entry will be ignored. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Valid Values:- permit- deny ACL action.Required for standard entry. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0protocol String ip, tcp, udp, icmp or other protocol name or number.Required for standard entry. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source String any, A.B.C.D/E or A.B.C.D.A.B.C.D without a mask means host.Required for standard entry. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_ports_match String eq Valid Values:- eq- gt- lt- neq- range \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_ports List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String TCP/UDP source port name or number. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0destination String any, A.B.C.D/E or A.B.C.D.A.B.C.D without a mask means host.Required for standard entry. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0destination_ports_match String eq Valid Values:- eq- gt- lt- neq- range \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0destination_ports List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String TCP/UDP destination port name or number. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tcp_flags List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String TCP Flag Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fragments Boolean Match non-head fragment packets. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0log Boolean Log matches against this rule. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ttl Integer Min: 0Max: 254 TTL value \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ttl_match String eq Valid Values:- eq- gt- lt- neq \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0icmp_type String Message type name/number for ICMP packets. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0icmp_code String Message code for ICMP packets. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nexthop_group String nexthop-group name. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tracked Boolean Match packets in existing ICMP/UDP/TCP connections. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp String DSCP value or name. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan_number Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan_inner Boolean False \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan_mask String 0x000-0xFFF VLAN mask. <pre><code>ip_access_lists:\n- name: &lt;str&gt;\ncounters_per_entry: &lt;bool&gt;\nentries:\n- sequence: &lt;int&gt;\nremark: &lt;str&gt;\naction: &lt;str&gt;\nprotocol: &lt;str&gt;\nsource: &lt;str&gt;\nsource_ports_match: &lt;str&gt;\nsource_ports:\n- &lt;str&gt;\ndestination: &lt;str&gt;\ndestination_ports_match: &lt;str&gt;\ndestination_ports:\n- &lt;str&gt;\ntcp_flags:\n- &lt;str&gt;\nfragments: &lt;bool&gt;\nlog: &lt;bool&gt;\nttl: &lt;int&gt;\nttl_match: &lt;str&gt;\nicmp_type: &lt;str&gt;\nicmp_code: &lt;str&gt;\nnexthop_group: &lt;str&gt;\ntracked: &lt;bool&gt;\ndscp: &lt;str&gt;\nvlan_number: &lt;int&gt;\nvlan_inner: &lt;bool&gt;\nvlan_mask: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/ACLs.html#ip-access-lists-max-entries","title":"IP Access Lists Max Entries","text":"<p>The <code>ip_access_lists</code> data model allows to limit the number of ACL entries that AVD is allowed to generate by defining <code>ip_access_lists_max_entries</code>. Only normal entries under <code>ip_access_lists</code> will be counted, remarks will be ignored. If the number is above the limit, the playbook will fail. This provides a simplified control over hardware utilization. The numbers must be based on the hardware tests and AVD does not provide any guidance. Note that other EOS features may use the same hardware resources and affect the supported scale.</p> TableYAML Variable Type Required Default Value Restrictions Description ip_access_lists_max_entries Integer <pre><code>ip_access_lists_max_entries: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/ACLs.html#ipv6-extended-access-lists","title":"IPv6 Extended Access-Lists","text":"TableYAML Variable Type Required Default Value Restrictions Description ipv6_access_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique IPv6 Access-list Name \u00a0\u00a0\u00a0\u00a0counters_per_entry Boolean \u00a0\u00a0\u00a0\u00a0sequence_numbers List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer Required, Unique Sequence ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Required Action as stringExample: \u201cdeny ipv6 any any\u201d <pre><code>ipv6_access_lists:\n- name: &lt;str&gt;\ncounters_per_entry: &lt;bool&gt;\nsequence_numbers:\n- sequence: &lt;int&gt;\naction: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/ACLs.html#ipv6-standard-access-lists","title":"IPv6 Standard Access Lists","text":"TableYAML Variable Type Required Default Value Restrictions Description ipv6_standard_access_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique Access-list Name \u00a0\u00a0\u00a0\u00a0counters_per_entry Boolean \u00a0\u00a0\u00a0\u00a0sequence_numbers List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer Required, Unique Sequence ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Required Action as stringExample: \u201cdeny ipv6 any any\u201d <pre><code>ipv6_standard_access_lists:\n- name: &lt;str&gt;\ncounters_per_entry: &lt;bool&gt;\nsequence_numbers:\n- sequence: &lt;int&gt;\naction: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/ACLs.html#mac-access-lists","title":"MAC Access Lists","text":"TableYAML Variable Type Required Default Value Restrictions Description mac_access_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique MAC Access-list Name \u00a0\u00a0\u00a0\u00a0counters_per_entry Boolean \u00a0\u00a0\u00a0\u00a0entries List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String <pre><code>mac_access_lists:\n- name: &lt;str&gt;\ncounters_per_entry: &lt;bool&gt;\nentries:\n- sequence: &lt;int&gt;\naction: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/ACLs.html#standard-access-lists","title":"Standard Access Lists","text":"TableYAML Variable Type Required Default Value Restrictions Description standard_access_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique Access-list Name \u00a0\u00a0\u00a0\u00a0counters_per_entry Boolean \u00a0\u00a0\u00a0\u00a0sequence_numbers List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer Required, Unique Sequence ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Required Action as stringExample: \u201cdeny ip any any\u201d <pre><code>standard_access_lists:\n- name: &lt;str&gt;\ncounters_per_entry: &lt;bool&gt;\nsequence_numbers:\n- sequence: &lt;int&gt;\naction: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Address%20Locking.html","title":"Address Locking","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Address%20Locking.html#address-locking_1","title":"Address Locking","text":"TableYAML Variable Type Required Default Value Restrictions Description address_locking Dictionary \u00a0\u00a0dhcp_servers_ipv4 List, items: String \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String DHCP server IPv4 address \u00a0\u00a0disabled Boolean Disable IP locking on configured ports \u00a0\u00a0leases List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- ip String Required IP address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mac String Required MAC address (hhhh.hhhh.hhhh or hh:hh:hh:hh:hh:hh) \u00a0\u00a0local_interface String \u00a0\u00a0locked_address Dictionary \u00a0\u00a0\u00a0\u00a0expiration_mac_disabled Boolean Configure deauthorizing locked addresses upon MAC aging out \u00a0\u00a0\u00a0\u00a0ipv4_enforcement_disabled Boolean Configure enforcement for locked IPv4 addresses \u00a0\u00a0\u00a0\u00a0ipv6_enforcement_disabled Boolean Configure enforcement for locked IPv6 addresses <pre><code>address_locking:\ndhcp_servers_ipv4:\n- &lt;str&gt;\ndisabled: &lt;bool&gt;\nleases:\n- ip: &lt;str&gt;\nmac: &lt;str&gt;\nlocal_interface: &lt;str&gt;\nlocked_address:\nexpiration_mac_disabled: &lt;bool&gt;\nipv4_enforcement_disabled: &lt;bool&gt;\nipv6_enforcement_disabled: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Aliases.html","title":"Aliases","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Aliases.html#aliases_1","title":"Aliases","text":"<p>Multi-line string with one or more alias commands.</p> <p>Example:</p> <pre><code>aliases: |\nalias wr copy running-config startup-config\nalias siib show ip interface brief\n</code></pre> TableYAML Variable Type Required Default Value Restrictions Description aliases String <pre><code>aliases: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html","title":"Authentication","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#aaa-accounting","title":"AAA Accounting","text":"TableYAML Variable Type Required Default Value Restrictions Description aaa_accounting Dictionary \u00a0\u00a0exec Dictionary \u00a0\u00a0\u00a0\u00a0console Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Valid Values:- none- start-stop- stop-only \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0group String Group Name \u00a0\u00a0\u00a0\u00a0default Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Valid Values:- none- start-stop- stop-only \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0group String Group Name \u00a0\u00a0system Dictionary \u00a0\u00a0\u00a0\u00a0default Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Valid Values:- none- start-stop- stop-only \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0group String Group Name \u00a0\u00a0dot1x Dictionary \u00a0\u00a0\u00a0\u00a0default Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Valid Values:- start-stop- stop-only \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0group String Group Name \u00a0\u00a0commands Dictionary \u00a0\u00a0\u00a0\u00a0console List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- commands String Privelege level \u2018all\u2019 or 0-15 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Valid Values:- none- start-stop- stop-only \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0group String Group Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0logging Boolean \u00a0\u00a0\u00a0\u00a0default List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- commands String Privelege level \u2018all\u2019 or 0-15 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Valid Values:- none- start-stop- stop-only \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0group String Group Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0logging Boolean \u00a0\u00a0\u00a0\u00a0commands_default List Deprecated and removed key from AVD 2.x <pre><code>aaa_accounting:\nexec:\nconsole:\ntype: &lt;str&gt;\ngroup: &lt;str&gt;\ndefault:\ntype: &lt;str&gt;\ngroup: &lt;str&gt;\nsystem:\ndefault:\ntype: &lt;str&gt;\ngroup: &lt;str&gt;\ndot1x:\ndefault:\ntype: &lt;str&gt;\ngroup: &lt;str&gt;\ncommands:\nconsole:\n- commands: &lt;str&gt;\ntype: &lt;str&gt;\ngroup: &lt;str&gt;\nlogging: &lt;bool&gt;\ndefault:\n- commands: &lt;str&gt;\ntype: &lt;str&gt;\ngroup: &lt;str&gt;\nlogging: &lt;bool&gt;\ncommands_default:\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#aaa-authentication","title":"AAA Authentication","text":"TableYAML Variable Type Required Default Value Restrictions Description aaa_authentication Dictionary \u00a0\u00a0login Dictionary \u00a0\u00a0\u00a0\u00a0default String Login authentication method(s) as a string.Examples:- \u201cgroup tacacs+ local\u201d- \u201cgroup MYGROUP none\u201d- \u201cgroup radius group MYGROUP local\u201d \u00a0\u00a0\u00a0\u00a0console String Console authentication method(s) as a string.Examples:- \u201cgroup tacacs+ local\u201d- \u201cgroup MYGROUP none\u201d- \u201cgroup radius group MYGROUP local\u201d \u00a0\u00a0enable Dictionary \u00a0\u00a0\u00a0\u00a0default String Enable authentication method(s) as a string.Examples:- \u201cgroup tacacs+ local\u201d- \u201cgroup MYGROUP none\u201d- \u201cgroup radius group MYGROUP local\u201d \u00a0\u00a0dot1x Dictionary \u00a0\u00a0\u00a0\u00a0default String 802.1x authentication method(s) as a string.Examples:- \u201cgroup radius\u201d- \u201cgroup MYGROUP group radius\u201d \u00a0\u00a0policies Dictionary \u00a0\u00a0\u00a0\u00a0on_failure_log Boolean \u00a0\u00a0\u00a0\u00a0on_success_log Boolean \u00a0\u00a0\u00a0\u00a0local Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0allow_nopassword Boolean \u00a0\u00a0\u00a0\u00a0lockout Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0failure Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0duration Integer Min: 1Max: 4294967295 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0window Integer Min: 1Max: 4294967295 <pre><code>aaa_authentication:\nlogin:\ndefault: &lt;str&gt;\nconsole: &lt;str&gt;\nenable:\ndefault: &lt;str&gt;\ndot1x:\ndefault: &lt;str&gt;\npolicies:\non_failure_log: &lt;bool&gt;\non_success_log: &lt;bool&gt;\nlocal:\nallow_nopassword: &lt;bool&gt;\nlockout:\nfailure: &lt;int&gt;\nduration: &lt;int&gt;\nwindow: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#aaa-authorization","title":"AAA Authorization","text":"TableYAML Variable Type Required Default Value Restrictions Description aaa_authorization Dictionary \u00a0\u00a0policy Dictionary \u00a0\u00a0\u00a0\u00a0local_default_role String \u00a0\u00a0exec Dictionary \u00a0\u00a0\u00a0\u00a0default String Exec authorization method(s) as a string.Examples:- \u201cgroup tacacs+ local\u201d- \u201cgroup MYGROUP none\u201d- \u201cgroup radius group MYGROUP local\u201d \u00a0\u00a0config_commands Boolean \u00a0\u00a0serial_console Boolean \u00a0\u00a0dynamic Dictionary \u00a0\u00a0\u00a0\u00a0dot1x_additional_groups List, items: String Min Length: 1 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0commands Dictionary \u00a0\u00a0\u00a0\u00a0all_default String Command authorization method(s) as a string.Examples:- \u201cgroup tacacs+ local\u201d- \u201cgroup MYGROUP none\u201d- \u201cgroup tacacs+ group MYGROUP local \u00a0\u00a0\u00a0\u00a0privilege List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- level String Privilege level(s) 0-15 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default String Command authorization method(s) as a string.Examples:- \u201cgroup tacacs+ local\u201d- \u201cgroup MYGROUP none\u201d- \u201cgroup tacacs+ group MYGROUP local\u201d <pre><code>aaa_authorization:\npolicy:\nlocal_default_role: &lt;str&gt;\nexec:\ndefault: &lt;str&gt;\nconfig_commands: &lt;bool&gt;\nserial_console: &lt;bool&gt;\ndynamic:\ndot1x_additional_groups:\n- &lt;str&gt;\ncommands:\nall_default: &lt;str&gt;\nprivilege:\n- level: &lt;str&gt;\ndefault: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#aaa-root","title":"AAA Root","text":"TableYAML Variable Type Required Default Value Restrictions Description aaa_root Dictionary \u00a0\u00a0secret Dictionary \u00a0\u00a0\u00a0\u00a0sha512_password String <pre><code>aaa_root:\nsecret:\nsha512_password: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#aaa-server-groups","title":"AAA Server Groups","text":"TableYAML Variable Type Required Default Value Restrictions Description aaa_server_groups List, items: Dictionary \u00a0\u00a0- name String Group name \u00a0\u00a0\u00a0\u00a0type String Valid Values:- tacacs+- radius- ldap \u00a0\u00a0\u00a0\u00a0servers List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- server String Hostname or IP address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String VRF name <pre><code>aaa_server_groups:\n- name: &lt;str&gt;\ntype: &lt;str&gt;\nservers:\n- server: &lt;str&gt;\nvrf: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#cvx","title":"CVX","text":"<p>CVX server features are not supported on physical switches. See <code>management_cvx</code> for client configurations.</p> TableYAML Variable Type Required Default Value Restrictions Description cvx Dictionary \u00a0\u00a0shutdown Boolean \u00a0\u00a0peer_hosts List, items: String \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IP address or hostname \u00a0\u00a0services Dictionary \u00a0\u00a0\u00a0\u00a0mcs Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0redis Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0password String Hashed password using the password_type \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0password_type String 7 Valid Values:- 0- 7- 8a \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0vxlan Dictionary VXLAN Controller service \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vtep_mac_learning String Valid Values:- control-plane- data-plane <pre><code>cvx:\nshutdown: &lt;bool&gt;\npeer_hosts:\n- &lt;str&gt;\nservices:\nmcs:\nredis:\npassword: &lt;str&gt;\npassword_type: &lt;str&gt;\nshutdown: &lt;bool&gt;\nvxlan:\nshutdown: &lt;bool&gt;\nvtep_mac_learning: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#enable-password","title":"Enable Password","text":"TableYAML Variable Type Required Default Value Restrictions Description enable_password Dictionary \u00a0\u00a0hash_algorithm String Valid Values:- md5- sha512 \u00a0\u00a0key String Must be the hash of the password using the specified algorithm.By default EOS salts the password, so the simplest is to generate the hash on an EOS device. <pre><code>enable_password:\nhash_algorithm: &lt;str&gt;\nkey: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#ip-radius-source-interfaces","title":"IP Radius Source Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_radius_source_interfaces List, items: Dictionary \u00a0\u00a0- name String Interface Name \u00a0\u00a0\u00a0\u00a0vrf String VRF Name <pre><code>ip_radius_source_interfaces:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#ip-tacacs-source-interfaces","title":"IP Tacacs Source Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_tacacs_source_interfaces List, items: Dictionary \u00a0\u00a0- name String Interface name \u00a0\u00a0\u00a0\u00a0vrf String <pre><code>ip_tacacs_source_interfaces:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#local-users","title":"Local Users","text":"TableYAML Variable Type Required Default Value Restrictions Description local_users List, items: Dictionary \u00a0\u00a0- name String Required, Unique Username \u00a0\u00a0\u00a0\u00a0disabled Boolean If true, the user will be removed and all other settings are ignored.Useful for removing the default \u201cadmin\u201d user. \u00a0\u00a0\u00a0\u00a0privilege Integer Min: 0Max: 15 Initial privilege level with local EXEC authorization. \u00a0\u00a0\u00a0\u00a0role String EOS RBAC Role to be assigned to the user such as \u201cnetwork-admin\u201d or \u201cnetwork-operator\u201d \u00a0\u00a0\u00a0\u00a0sha512_password String SHA512 Hash of PasswordMust be the hash of the password. By default EOS salts the password with the username, so the simplest is to generate the hash on an EOS device using the same username. \u00a0\u00a0\u00a0\u00a0no_password Boolean If set a password will not be configured for this user. \u201csha512_password\u201d MUST not be defined for this user. \u00a0\u00a0\u00a0\u00a0ssh_key String \u00a0\u00a0\u00a0\u00a0shell String Valid Values:- /bin/bash- /bin/sh- /sbin/nologin Specify shell for the user <pre><code>local_users:\n- name: &lt;str&gt;\ndisabled: &lt;bool&gt;\nprivilege: &lt;int&gt;\nrole: &lt;str&gt;\nsha512_password: &lt;str&gt;\nno_password: &lt;bool&gt;\nssh_key: &lt;str&gt;\nshell: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#radius-server","title":"Radius Server","text":"TableYAML Variable Type Required Default Value Restrictions Description radius_server Dictionary \u00a0\u00a0attribute_32_include_in_access_req Dictionary \u00a0\u00a0\u00a0\u00a0hostname Boolean \u00a0\u00a0\u00a0\u00a0format String Specify the format of the NAS-Identifier. If \u2018hostname\u2019 is set, this is ignored. \u00a0\u00a0dynamic_authorization Dictionary \u00a0\u00a0\u00a0\u00a0port Integer Min: 0Max: 65535 TCP Port \u00a0\u00a0\u00a0\u00a0tls_ssl_profile String Name of TLS profile \u00a0\u00a0hosts List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- host String Required, Unique Host IP address or name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Integer Min: 1Max: 1000 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0retransmit Integer Min: 0Max: 100 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key String Encrypted key <pre><code>radius_server:\nattribute_32_include_in_access_req:\nhostname: &lt;bool&gt;\nformat: &lt;str&gt;\ndynamic_authorization:\nport: &lt;int&gt;\ntls_ssl_profile: &lt;str&gt;\nhosts:\n- host: &lt;str&gt;\nvrf: &lt;str&gt;\ntimeout: &lt;int&gt;\nretransmit: &lt;int&gt;\nkey: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#radius-servers","title":"Radius Servers","text":"TableYAML Variable Type Required Default Value Restrictions Description radius_servers deprecated List, items: Dictionary This key is deprecated. Support will be removed in AVD version v5.0.0. Use radius_server.hosts instead. \u00a0\u00a0- host String Host IP address or name \u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0\u00a0\u00a0key String Encrypted key <pre><code>radius_servers:\n- host: &lt;str&gt;\nvrf: &lt;str&gt;\nkey: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#roles","title":"Roles","text":"TableYAML Variable Type Required Default Value Restrictions Description roles List, items: Dictionary \u00a0\u00a0- name String Role name \u00a0\u00a0\u00a0\u00a0sequence_numbers List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer Sequence number \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Valid Values:- permit- deny \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String \u201cconfig\u201d, \u201cconfig-all\u201d, \u201cexec\u201d or mode key as string \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0command String Command as string <pre><code>roles:\n- name: &lt;str&gt;\nsequence_numbers:\n- sequence: &lt;int&gt;\naction: &lt;str&gt;\nmode: &lt;str&gt;\ncommand: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Authentication.html#tacacs-servers","title":"Tacacs Servers","text":"TableYAML Variable Type Required Default Value Restrictions Description tacacs_servers Dictionary \u00a0\u00a0hosts List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- host String Host IP address or name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key String Encrypted key \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key_type String 7 Valid Values:- 0- 7- 8a \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0single_connection Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Integer \u00a0\u00a0policy_unknown_mandatory_attribute_ignore Boolean <pre><code>tacacs_servers:\nhosts:\n- host: &lt;str&gt;\nvrf: &lt;str&gt;\nkey: &lt;str&gt;\nkey_type: &lt;str&gt;\nsingle_connection: &lt;bool&gt;\ntimeout: &lt;int&gt;\npolicy_unknown_mandatory_attribute_ignore: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Banners.html","title":"Banners","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Banners.html#banners_1","title":"Banners","text":"TableYAML Variable Type Required Default Value Restrictions Description banners Dictionary \u00a0\u00a0login String Multiline string ending with EOF on the last line \u00a0\u00a0motd String Multiline string ending with EOF on the last line <pre><code>banners:\nlogin: &lt;str&gt;\nmotd: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/DHCP%20Relay.html","title":"DHCP Relay","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/DHCP%20Relay.html#dhcp-relay_1","title":"DHCP Relay","text":"TableYAML Variable Type Required Default Value Restrictions Description dhcp_relay Dictionary \u00a0\u00a0servers List, items: String \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Server IP or Hostname \u00a0\u00a0tunnel_requests_disabled Boolean <pre><code>dhcp_relay:\nservers:\n- &lt;str&gt;\ntunnel_requests_disabled: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/EOS%20CLI.html","title":"EOS CLI","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/EOS%20CLI.html#eos-cli_1","title":"EOS CLI","text":"<p>Multiline string with EOS CLI rendered directly on the root level of the final EOS configuration</p> TableYAML Variable Type Required Default Value Restrictions Description eos_cli String <pre><code>eos_cli: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Endpoint%20Security.html","title":"Endpoint Security","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Endpoint%20Security.html#global-8021x-authentication","title":"Global 802.1x Authentication","text":"TableYAML Variable Type Required Default Value Restrictions Description dot1x Dictionary \u00a0\u00a0system_auth_control Boolean \u00a0\u00a0protocol_lldp_bypass Boolean \u00a0\u00a0dynamic_authorization Boolean \u00a0\u00a0mac_based_authentication Dictionary \u00a0\u00a0\u00a0\u00a0delay Integer Min: 0Max: 300 \u00a0\u00a0\u00a0\u00a0hold_period Integer Min: 1Max: 300 \u00a0\u00a0radius_av_pair Dictionary \u00a0\u00a0\u00a0\u00a0service_type Boolean \u00a0\u00a0\u00a0\u00a0framed_mtu Integer Min: 68Max: 9236 <pre><code>dot1x:\nsystem_auth_control: &lt;bool&gt;\nprotocol_lldp_bypass: &lt;bool&gt;\ndynamic_authorization: &lt;bool&gt;\nmac_based_authentication:\ndelay: &lt;int&gt;\nhold_period: &lt;int&gt;\nradius_av_pair:\nservice_type: &lt;bool&gt;\nframed_mtu: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Errdisable.html","title":"Errdisable","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Errdisable.html#errdisable_1","title":"Errdisable","text":"TableYAML Variable Type Required Default Value Restrictions Description errdisable Dictionary \u00a0\u00a0detect Dictionary \u00a0\u00a0\u00a0\u00a0causes List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Valid Values:- acl- arp-inspection- dot1x- link-change- tapagg- xcvr-misconfigured- xcvr-overheat- xcvr-power-unsupported \u00a0\u00a0recovery Dictionary \u00a0\u00a0\u00a0\u00a0causes List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Valid Values:- arp-inspection- bpduguard- dot1x- hitless-reload-down- lacp-rate-limit- link-flap- no-internal-vlan- portchannelguard- portsec- speed-misconfigured- tap-port-init- tapagg- uplink-failure-detection- xcvr-misconfigured- xcvr-overheat- xcvr-power-unsupported- xcvr-unsupported \u00a0\u00a0\u00a0\u00a0interval Integer 300 Min: 30Max: 86400 Interval in seconds <pre><code>errdisable:\ndetect:\ncauses:\n- &lt;str&gt;\nrecovery:\ncauses:\n- &lt;str&gt;\ninterval: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html","title":"Filters","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#as-path","title":"As Path","text":"TableYAML Variable Type Required Default Value Restrictions Description as_path Dictionary \u00a0\u00a0regex_mode String Valid Values:- asn- string \u00a0\u00a0access_lists List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Access List Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0entries List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- type String Valid Values:- permit- deny \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0match String Regex To Match \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0origin String any Valid Values:- any- egp- igp- incomplete <pre><code>as_path:\nregex_mode: &lt;str&gt;\naccess_lists:\n- name: &lt;str&gt;\nentries:\n- type: &lt;str&gt;\nmatch: &lt;str&gt;\norigin: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#community-lists-legacy-model","title":"Community Lists (legacy model)","text":"<p>AVD supports 2 different data models for community lists:</p> <ul> <li>The legacy <code>community_lists</code> data model that can be used for compatibility with the existing deployments.</li> <li>The improved <code>ip_community_lists</code> data model.</li> </ul> <p>Both data models can coexist without conflicts, as different keys are used: <code>community_lists</code> vs <code>ip_community_lists</code>. Community list names must be unique.</p> <p>The legacy data model supports simplified community list definition that only allows a single action to be defined as string:</p> TableYAML Variable Type Required Default Value Restrictions Description community_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique Community-list Name \u00a0\u00a0\u00a0\u00a0action String Required Action as stringExample: \u201cpermit GSHUT 65123:123\u201d <pre><code>community_lists:\n- name: &lt;str&gt;\naction: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#dynamic-prefix-lists","title":"Dynamic Prefix Lists","text":"TableYAML Variable Type Required Default Value Restrictions Description dynamic_prefix_lists List, items: Dictionary \u00a0\u00a0- name String Dynamic prefix-list name \u00a0\u00a0\u00a0\u00a0match_map String Route-map name \u00a0\u00a0\u00a0\u00a0prefix_list Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 String Prefix-list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 String Prefix-list name <pre><code>dynamic_prefix_lists:\n- name: &lt;str&gt;\nmatch_map: &lt;str&gt;\nprefix_list:\nipv4: &lt;str&gt;\nipv6: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#ip-community-lists","title":"IP Community Lists","text":"<p>AVD supports 2 different data models for community lists:</p> <ul> <li>The legacy <code>community_lists</code> data model that can be used for compatibility with the existing deployments.</li> <li>The improved <code>ip_community_lists</code> data model.</li> </ul> <p>Both data models can coexist without conflicts, as different keys are used: <code>community_lists</code> vs <code>ip_community_lists</code>. Community list names must be unique.</p> <p>The improved data model has a better design documented below:</p> <p>communities and regexp MUST not be configured together in the same entry possible community strings are (case insensitive):</p> <ul> <li>GSHUT</li> <li>internet</li> <li>local-as</li> <li>no-advertise</li> <li>no-export</li> <li>&lt;1-4294967040&gt;</li> <li>aa:nn</li> </ul> TableYAML Variable Type Required Default Value Restrictions Description ip_community_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique IP Community-list Name \u00a0\u00a0\u00a0\u00a0entries List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- action String Required Valid Values:- permit- deny \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0communities List, items: String If defined, a standard community-list will be configured \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0regexp String Regular ExpressionIf defined, a regex community-list will be configured <pre><code>ip_community_lists:\n- name: &lt;str&gt;\nentries:\n- action: &lt;str&gt;\ncommunities:\n- &lt;str&gt;\nregexp: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#ip-extended-community-lists","title":"IP Extended Community Lists","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_extcommunity_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique Community-list Name \u00a0\u00a0\u00a0\u00a0entries List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- type String Required Valid Values:- permit- deny \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0extcommunities String Required Communities as stringExample: \u201c65000:65000\u201d <pre><code>ip_extcommunity_lists:\n- name: &lt;str&gt;\nentries:\n- type: &lt;str&gt;\nextcommunities: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#ip-extended-community-lists-regexp","title":"IP Extended Community Lists RegExp","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_extcommunity_lists_regexp List, items: Dictionary \u00a0\u00a0- name String Required, Unique Community-list Name \u00a0\u00a0\u00a0\u00a0entries List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- type String Required Valid Values:- permit- deny \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0regexp String Required Regular Expression <pre><code>ip_extcommunity_lists_regexp:\n- name: &lt;str&gt;\nentries:\n- type: &lt;str&gt;\nregexp: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#ipv6-prefix-lists","title":"IPv6 Prefix Lists","text":"TableYAML Variable Type Required Default Value Restrictions Description ipv6_prefix_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique Prefix-list Name \u00a0\u00a0\u00a0\u00a0sequence_numbers List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer Required, Unique Sequence ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Required Action as stringExample: \u201cpermit 1b11:3a00:22b0:0082::/64 eq 128\u201d <pre><code>ipv6_prefix_lists:\n- name: &lt;str&gt;\nsequence_numbers:\n- sequence: &lt;int&gt;\naction: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#match-lists","title":"Match Lists","text":"TableYAML Variable Type Required Default Value Restrictions Description match_list_input Dictionary \u00a0\u00a0string List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Match-list Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sequence_numbers List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer Required, Unique Sequence ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0match_regex String Required Regular Expression <pre><code>match_list_input:\nstring:\n- name: &lt;str&gt;\nsequence_numbers:\n- sequence: &lt;int&gt;\nmatch_regex: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#peer-filters","title":"Peer Filters","text":"TableYAML Variable Type Required Default Value Restrictions Description peer_filters List, items: Dictionary \u00a0\u00a0- name String Required, Unique Peer-filter Name \u00a0\u00a0\u00a0\u00a0sequence_numbers List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer Required, Unique Sequence ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0match String Required Match as stringExample: \u201cas-range 1-100 result accept\u201d <pre><code>peer_filters:\n- name: &lt;str&gt;\nsequence_numbers:\n- sequence: &lt;int&gt;\nmatch: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#prefix-lists","title":"Prefix Lists","text":"TableYAML Variable Type Required Default Value Restrictions Description prefix_lists List, items: Dictionary \u00a0\u00a0- name String Required, Unique Prefix-list Name \u00a0\u00a0\u00a0\u00a0sequence_numbers List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer Required, Unique Sequence ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Required Action as stringExample: \u201cpermit 10.255.0.0/27 eq 32\u201d <pre><code>prefix_lists:\n- name: &lt;str&gt;\nsequence_numbers:\n- sequence: &lt;int&gt;\naction: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Filters.html#route-maps","title":"Route Maps","text":"TableYAML Variable Type Required Default Value Restrictions Description route_maps List, items: Dictionary \u00a0\u00a0- name String Required, Unique Route-map Name \u00a0\u00a0\u00a0\u00a0sequence_numbers List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sequence Integer Required, Unique Sequence ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Required Valid Values:- permit- deny \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0match List, items: String List of \u201cmatch\u201d statements \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Match as stringExample: \u201cip address prefix-list PL-LOOPBACKS-EVPN-OVERLAY\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0set List, items: String List of \u201cset\u201d statements \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Set as stringExample: \u201corigin incomplete\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sub_route_map String Name of Sub-Route-map \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0continue Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sequence_number Integer <pre><code>route_maps:\n- name: &lt;str&gt;\nsequence_numbers:\n- sequence: &lt;int&gt;\ntype: &lt;str&gt;\ndescription: &lt;str&gt;\nmatch:\n- &lt;str&gt;\nset:\n- &lt;str&gt;\nsub_route_map: &lt;str&gt;\ncontinue:\nenabled: &lt;bool&gt;\nsequence_number: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Flow%20Tracking.html","title":"Flow Tracking","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Flow%20Tracking.html#flow-trackings","title":"Flow Trackings","text":"TableYAML Variable Type Required Default Value Restrictions Description flow_trackings List, items: Dictionary \u00a0\u00a0- type String Required, Unique Valid Values:- sampled Flow Tracking Type - only \u2018sampled\u2019 supported for now \u00a0\u00a0\u00a0\u00a0sample Integer Min: 1Max: 4294967295 \u00a0\u00a0\u00a0\u00a0trackers List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Tracker Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0record_export Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0on_inactive_timeout Integer Min: 3000Max: 900000 Flow record inactive export timeout in milliseconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0on_interval Integer Min: 1000Max: 36000000 Flow record export interval in milliseconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls Boolean Export MPLS forwarding information \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0exporters List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Exporter Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0collector Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host String Collector IPv4 address or IPv6 address or fully qualified domain name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port Integer Min: 1Max: 65535 Collector Port Number \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0format Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipfix_version Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interface String Local Source Interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0template_interval Integer Min: 5000Max: 3600000 Template interval in milliseconds \u00a0\u00a0\u00a0\u00a0shutdown Boolean False <pre><code>flow_trackings:\n- type: &lt;str&gt;\nsample: &lt;int&gt;\ntrackers:\n- name: &lt;str&gt;\nrecord_export:\non_inactive_timeout: &lt;int&gt;\non_interval: &lt;int&gt;\nmpls: &lt;bool&gt;\nexporters:\n- name: &lt;str&gt;\ncollector:\nhost: &lt;str&gt;\nport: &lt;int&gt;\nformat:\nipfix_version: &lt;int&gt;\nlocal_interface: &lt;str&gt;\ntemplate_interval: &lt;int&gt;\nshutdown: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Hardware.html","title":"Hardware","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Hardware.html#hardware_1","title":"Hardware","text":"TableYAML Variable Type Required Default Value Restrictions Description hardware Dictionary \u00a0\u00a0access_list Dictionary \u00a0\u00a0\u00a0\u00a0mechanism String Valid Values:- algomatch- none- tcam \u00a0\u00a0speed_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- speed_group Integer Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0serdes String Serdes speed like \u201c10g\u201d or \u201c25g\u201d <pre><code>hardware:\naccess_list:\nmechanism: &lt;str&gt;\nspeed_groups:\n- speed_group: &lt;int&gt;\nserdes: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Hardware.html#hardware-counters","title":"Hardware Counters","text":"TableYAML Variable Type Required Default Value Restrictions Description hardware_counters Dictionary \u00a0\u00a0features List, items: Dictionary This data model allows to configure the list of hardware counters featureavailable on Arista platforms.The <code>name</code> key accepts a list of valid_values which MUST be updated to supportnew feature as they are released in EOS.The available values of the different keys like \u2018direction\u2019 or \u2018address_type\u2019are feature and hardware dependent and this model DOES NOT validate that thecombinations are valid. It is the responsability of the user of this data modelto make sure that the rendered CLI is accepted by the targeted device.Examples:  * Use: <code>yaml&lt;br&gt;    hardware_counters:&lt;br&gt;      features:&lt;br&gt;        - name: ip&lt;br&gt;          direction: out&lt;br&gt;          layer3: true&lt;br&gt;          units_packets: true&lt;br&gt;</code>    to render: <code>eos&lt;br&gt;    hardware counter feature ip out layer3 units packets&lt;br&gt;</code>  * Use: <code>yaml&lt;br&gt;    hardware_counters:&lt;br&gt;      features:&lt;br&gt;        - name: route&lt;br&gt;          address_type: ipv4&lt;br&gt;          vrf: test&lt;br&gt;          prefix: 192.168.0.0/24&lt;br&gt;</code>    to render: <code>eos&lt;br&gt;    hardware counter feature route ipv4 vrf test 192.168.0.0/24&lt;br&gt;</code> \u00a0\u00a0\u00a0\u00a0- name String Valid Values:- acl- decap-group- directflow- ecn- flow-spec- gre tunnel interface- ip- mpls interface- mpls lfib- mpls tunnel- multicast- nexthop- pbr- pdp- policing interface- qos- qos dual-rate-policer- route- routed-port- subinterface- tapagg- traffic-class- traffic-policy- vlan- vlan-interface- vni decap- vni encap- vtep decap- vtep encap \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction String Valid Values:- in- out- cpu Most features support only \u2018in\u2019 and \u2018out\u2019. Some like traffic-policy support \u2018cpu\u2019.Some features DO NOT have any direction.This validation IS NOT made by the schemas. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address_type String Valid Values:- ipv4- ipv6- mac Supported only for the following features:- acl: [ipv4, ipv6, mac] if direction is \u2018out\u2019- multicast: [ipv4, ipv6]- route: [ipv4, ipv6]This validation IS NOT made by the schemas. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0layer3 Boolean Supported only for the \u2018ip\u2019 feature \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String Supported only for the \u2018route\u2019 feature.This validation IS NOT made by the schemas. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix String Supported only for the \u2018route\u2019 feature.Mandatory for the \u2018route\u2019 feature.This validation IS NOT made by the schemas. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0units_packets Boolean <pre><code>hardware_counters:\nfeatures:\n- name: &lt;str&gt;\ndirection: &lt;str&gt;\naddress_type: &lt;str&gt;\nlayer3: &lt;bool&gt;\nvrf: &lt;str&gt;\nprefix: &lt;str&gt;\nunits_packets: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Hardware.html#platform","title":"Platform","text":"TableYAML Variable Type Required Default Value Restrictions Description platform Dictionary \u00a0\u00a0trident Dictionary \u00a0\u00a0\u00a0\u00a0forwarding_table_partition String \u00a0\u00a0sand Dictionary Most of the platform sand options are hardware dependant and optional \u00a0\u00a0\u00a0\u00a0qos_maps List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- traffic_class Integer Min: 0Max: 7 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0to_network_qos Integer Min: 0Max: 63 \u00a0\u00a0\u00a0\u00a0lag Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hardware_only Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String \u00a0\u00a0\u00a0\u00a0forwarding_mode String \u00a0\u00a0\u00a0\u00a0multicast_replication Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default String Valid Values:- ingress- egress <pre><code>platform:\ntrident:\nforwarding_table_partition: &lt;str&gt;\nsand:\nqos_maps:\n- traffic_class: &lt;int&gt;\nto_network_qos: &lt;int&gt;\nlag:\nhardware_only: &lt;bool&gt;\nmode: &lt;str&gt;\nforwarding_mode: &lt;str&gt;\nmulticast_replication:\ndefault: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Hardware.html#redundancy","title":"Redundancy","text":"TableYAML Variable Type Required Default Value Restrictions Description redundancy Dictionary \u00a0\u00a0protocol String Redundancy Protocol <pre><code>redundancy:\nprotocol: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Hardware.html#hardware-tcam-profiles","title":"Hardware TCAM Profiles","text":"TableYAML Variable Type Required Default Value Restrictions Description tcam_profile Dictionary \u00a0\u00a0system String TCAM profile name to activate \u00a0\u00a0profiles List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Tcam-Profile Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0config String Required TCAM Profile Config. Since these can be very long, it is often a good idea to import the config from a file.Example: \u201c{{ lookup(\u2018file\u2019, \u2018TCAM_TRAFFIC_POLICY.conf\u2019) }}\u201d <pre><code>tcam_profile:\nsystem: &lt;str&gt;\nprofiles:\n- name: &lt;str&gt;\nconfig: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IP%20DHCP%20Relay.html","title":"IP DHCP Relay","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IP%20DHCP%20Relay.html#ip-dhcp-relay_1","title":"IP DHCP Relay","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_dhcp_relay Dictionary \u00a0\u00a0information_option Boolean Insert Option-82 information <pre><code>ip_dhcp_relay:\ninformation_option: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IP%20Hardware.html","title":"IP Hardware","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IP%20Hardware.html#ip-hardware_1","title":"IP Hardware","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_hardware Dictionary \u00a0\u00a0fib Dictionary \u00a0\u00a0\u00a0\u00a0optimize Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefixes Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String Valid Values:- internet- urpf-internet <pre><code>ip_hardware:\nfib:\noptimize:\nprefixes:\nprofile: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IP%20ICMP%20Redirect.html","title":"IP ICMP Redirect","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IP%20ICMP%20Redirect.html#ip-icmp-redirect_1","title":"IP ICMP Redirect","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_icmp_redirect Boolean <pre><code>ip_icmp_redirect: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IP%20ICMP%20Redirect.html#ipv6-icmp-redirect","title":"IPv6 ICMP Redirect","text":"TableYAML Variable Type Required Default Value Restrictions Description ipv6_icmp_redirect Boolean <pre><code>ipv6_icmp_redirect: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IP%20NAT.html","title":"IP NAT","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IP%20NAT.html#ip-nat_1","title":"IP Nat","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_nat Dictionary \u00a0\u00a0kernel_buffer_size Integer Min: 1Max: 64 Buffer size in MB \u00a0\u00a0pools List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_length Integer Required Min: 16Max: 32 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ranges List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- first_ip String Required IPv4 address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0last_ip String Required IPv4 address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0first_port Integer Min: 1Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0last_port Integer Min: 1Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0utilization_log_threshold Integer Min: 1Max: 100 \u00a0\u00a0synchronization Dictionary \u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0expiry_interval Integer Min: 60Max: 3600 in seconds \u00a0\u00a0\u00a0\u00a0local_interface String EOS interface name \u00a0\u00a0\u00a0\u00a0peer_address String IPv4 address \u00a0\u00a0\u00a0\u00a0port_range Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0first_port Integer Min: 1024Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0last_port Integer Min: 1024Max: 65535 &gt;= first_port \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0split_disabled Boolean \u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0translation Dictionary \u00a0\u00a0\u00a0\u00a0address_selection Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0any Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hash_field_source_ip Boolean \u00a0\u00a0\u00a0\u00a0counters Boolean \u00a0\u00a0\u00a0\u00a0low_mark Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0percentage Integer Min: 1Max: 99 Used to render \u2018ip nat translation low-mark \u2018 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host_percentage Integer Min: 1Max: 99 Used to render \u2018ip nat translation low-mark  host\u2019 \u00a0\u00a0\u00a0\u00a0max_entries Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0limit Integer Min: 0Max: 4294967295 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host_limit Integer Min: 0Max: 4294967295 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_limits List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ip String Required, Unique IPv4 address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0limit Integer Required Min: 0Max: 4294967295 \u00a0\u00a0\u00a0\u00a0timeouts List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- protocol String Required, Unique Valid Values:- tcp- udp \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Integer Required Min: 0Max: 4294967295 in seconds <pre><code>ip_nat:\nkernel_buffer_size: &lt;int&gt;\npools:\n- name: &lt;str&gt;\nprefix_length: &lt;int&gt;\nranges:\n- first_ip: &lt;str&gt;\nlast_ip: &lt;str&gt;\nfirst_port: &lt;int&gt;\nlast_port: &lt;int&gt;\nutilization_log_threshold: &lt;int&gt;\nsynchronization:\ndescription: &lt;str&gt;\nexpiry_interval: &lt;int&gt;\nlocal_interface: &lt;str&gt;\npeer_address: &lt;str&gt;\nport_range:\nfirst_port: &lt;int&gt;\nlast_port: &lt;int&gt;\nsplit_disabled: &lt;bool&gt;\nshutdown: &lt;bool&gt;\ntranslation:\naddress_selection:\nany: &lt;bool&gt;\nhash_field_source_ip: &lt;bool&gt;\ncounters: &lt;bool&gt;\nlow_mark:\npercentage: &lt;int&gt;\nhost_percentage: &lt;int&gt;\nmax_entries:\nlimit: &lt;int&gt;\nhost_limit: &lt;int&gt;\nip_limits:\n- ip: &lt;str&gt;\nlimit: &lt;int&gt;\ntimeouts:\n- protocol: &lt;str&gt;\ntimeout: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IPv6%20Hardware.html","title":"IPv6 Hardware","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/IPv6%20Hardware.html#ipv6-hardware_1","title":"IPv6 Hardware","text":"TableYAML Variable Type Required Default Value Restrictions Description ipv6_hardware Dictionary \u00a0\u00a0fib Dictionary \u00a0\u00a0\u00a0\u00a0optimize Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefixes Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String Pre-defined profile \u2018internet\u2019 or user-defined profile name <pre><code>ipv6_hardware:\nfib:\noptimize:\nprefixes:\nprofile: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Interfaces.html","title":"Interfaces","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Interfaces.html#ethernet-interfaces","title":"Ethernet Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description ethernet_interfaces List, items: Dictionary \u00a0\u00a0- name String Required, Unique \u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0load_interval Integer Min: 0Max: 600 Interval in seconds for updating interface counters\u201d \u00a0\u00a0\u00a0\u00a0speed String Speed can be interface_speed or forced interface_speed or auto interface_speed \u00a0\u00a0\u00a0\u00a0mtu Integer \u00a0\u00a0\u00a0\u00a0l2_mtu Integer \u201cl2_mtu\u201d should only be defined for platforms supporting the \u201cl2 mtu\u201d CLI \u00a0\u00a0\u00a0\u00a0vlans String List of switchport vlans as stringFor a trunk port this would be a range like \u201c1-200,300\u201dFor an access port this would be a single vlan \u201c123\u201d \u00a0\u00a0\u00a0\u00a0native_vlan Integer \u00a0\u00a0\u00a0\u00a0native_vlan_tag Boolean If setting both native_vlan and native_vlan_tag, native_vlan_tag takes precedence \u00a0\u00a0\u00a0\u00a0mode String Valid Values:- access- dot1q-tunnel- trunk- trunk phone \u00a0\u00a0\u00a0\u00a0phone Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0trunk String Valid Values:- tagged- untagged \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan Integer Min: 1Max: 4094 \u00a0\u00a0\u00a0\u00a0l2_protocol Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encapsulation_dot1q_vlan Integer Vlan tag to configure on sub-interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0forwarding_profile String L2 protocol forwarding profile \u00a0\u00a0\u00a0\u00a0trunk_groups List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0type String Valid Values:- routed- switched- l3dot1q- l2dot1q l3dot1q and l2dot1q are used for sub-interfacesThe parent interface should be defined as routed \u00a0\u00a0\u00a0\u00a0snmp_trap_link_change Boolean \u00a0\u00a0\u00a0\u00a0address_locking Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Boolean Enable address locking for IPv4 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 Boolean Enable address locking for IPv6 \u00a0\u00a0\u00a0\u00a0flowcontrol Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0received String Valid Values:- desired- on- off \u00a0\u00a0\u00a0\u00a0vrf String VRF name \u00a0\u00a0\u00a0\u00a0flow_tracker Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sampled String Flow tracker name \u00a0\u00a0\u00a0\u00a0error_correction_encoding Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean True \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fire_code Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reed_solomon Boolean \u00a0\u00a0\u00a0\u00a0link_tracking_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction String Valid Values:- upstream- downstream \u00a0\u00a0\u00a0\u00a0evpn_ethernet_segment Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0identifier String EVPN Ethernet Segment Identifier (Type 1 format) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0redundancy String Valid Values:- all-active- single-active \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0designated_forwarder_election Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0algorithm String Valid Values:- modulus- preference \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0preference_value Integer Min: 0Max: 65535 Preference_value is only used when \u201calgorithm\u201d is \u201cpreference\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dont_preempt Boolean Dont_preempt is only used when \u201calgorithm\u201d is \u201cpreference\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hold_time Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0subsequent_hold_time Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0candidate_reachability_required Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shared_index Integer Min: 1Max: 1024 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tunnel_flood_filter_time Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_target String EVPN Route Target for ESI with format xx:xx:xx:xx:xx:xx \u00a0\u00a0\u00a0\u00a0encapsulation_dot1q_vlan Integer VLAN tag to configure on sub-interface \u00a0\u00a0\u00a0\u00a0encapsulation_vlan Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0client Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dot1q Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan Integer Client VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0outer Integer Client Outer VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inner Integer Client Inner VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unmatched Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network Dictionary Network encapsulations are all optional and skipped if using client unmatched \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dot1q Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan Integer Network VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0outer Integer Network outer VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inner Integer Network inner VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0client Boolean \u00a0\u00a0\u00a0\u00a0vlan_id Integer Min: 1Max: 4094 \u00a0\u00a0\u00a0\u00a0ip_address String IPv4 address/mask \u00a0\u00a0\u00a0\u00a0ip_address_secondaries List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0ip_helpers List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ip_helper String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_interface String Source interface name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String VRF name \u00a0\u00a0\u00a0\u00a0ipv6_enable Boolean \u00a0\u00a0\u00a0\u00a0ipv6_address String \u00a0\u00a0\u00a0\u00a0ipv6_address_link_local String Link local IPv6 address/mask \u00a0\u00a0\u00a0\u00a0ipv6_nd_ra_disabled Boolean \u00a0\u00a0\u00a0\u00a0ipv6_nd_managed_config_flag Boolean \u00a0\u00a0\u00a0\u00a0ipv6_nd_prefixes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ipv6_prefix String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0valid_lifetime String Infinite or lifetime in seconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0preferred_lifetime String Infinite or lifetime in seconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0no_autoconfig_flag Boolean \u00a0\u00a0\u00a0\u00a0ipv6_dhcp_relay_destinations List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- address String Required, Unique DHCP server\u2019s IPv6 address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interface String Local interface to communicate with DHCP server - mutually exclusive to source_address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_address String Source IPv6 address to communicate with DHCP server - mutually exclusive to local_interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_address String Override the default link address specified in the relayed DHCP packet \u00a0\u00a0\u00a0\u00a0access_group_in String Access list name \u00a0\u00a0\u00a0\u00a0access_group_out String Access list name \u00a0\u00a0\u00a0\u00a0ipv6_access_group_in String IPv6 access list name \u00a0\u00a0\u00a0\u00a0ipv6_access_group_out String IPv6 access list name \u00a0\u00a0\u00a0\u00a0mac_access_group_in String MAC access list name \u00a0\u00a0\u00a0\u00a0mac_access_group_out String MAC access list name \u00a0\u00a0\u00a0\u00a0multicast Dictionary Boundaries can be either 1 ACL or a list of multicast IP address_range(s)/prefix but not combination of both \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0boundaries List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- boundary String ACL name or multicast IP subnet \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0out Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0static Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0boundaries List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- boundary String ACL name or multicast IP subnet \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0static Boolean \u00a0\u00a0\u00a0\u00a0ospf_network_point_to_point Boolean \u00a0\u00a0\u00a0\u00a0ospf_area String \u00a0\u00a0\u00a0\u00a0ospf_cost Integer \u00a0\u00a0\u00a0\u00a0ospf_authentication String Valid Values:- none- simple- message-digest \u00a0\u00a0\u00a0\u00a0ospf_authentication_key String Encrypted password - only type 7 supported \u00a0\u00a0\u00a0\u00a0ospf_message_digest_keys List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hash_algorithm String Valid Values:- md5- sha1- sha256- sha384- sha512 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key String Encrypted password - only type 7 supported \u00a0\u00a0\u00a0\u00a0pim Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dr_priority Integer Min: 0Max: 429467295 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sparse_mode Boolean \u00a0\u00a0\u00a0\u00a0mac_security Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String \u00a0\u00a0\u00a0\u00a0channel_group Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0id Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String Valid Values:- on- active- passive \u00a0\u00a0\u00a0\u00a0isis_enable String ISIS instance \u00a0\u00a0\u00a0\u00a0isis_passive Boolean \u00a0\u00a0\u00a0\u00a0isis_metric Integer \u00a0\u00a0\u00a0\u00a0isis_network_point_to_point Boolean \u00a0\u00a0\u00a0\u00a0isis_circuit_type String Valid Values:- level-1-2- level-1- level-2 \u00a0\u00a0\u00a0\u00a0isis_hello_padding Boolean \u00a0\u00a0\u00a0\u00a0isis_authentication_mode String Valid Values:- text- md5 \u00a0\u00a0\u00a0\u00a0isis_authentication_key String Type-7 encrypted password \u00a0\u00a0\u00a0\u00a0poe Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0disabled Boolean False Disable PoE on a POE capable port. PoE is enabled on all ports that support it by default in EOS. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority String Valid Values:- critical- high- medium- low Prioritize a port\u2019s power in the event that one of the switch\u2019s power supplies loses power \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reboot Dictionary Set the PoE power behavior for a PoE port when the system is rebooted \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Valid Values:- maintain- power-off PoE action for interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_down Dictionary Set the PoE power behavior for a PoE port when the port goes down \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Valid Values:- maintain- power-off PoE action for interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0power_off_delay Integer Min: 1Max: 86400 Number of seconds to delay shutting the power off after a link down event occurs. Default value is 5 seconds in EOS. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shutdown Dictionary Set the PoE power behavior for a PoE port when the port is admin down \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Valid Values:- maintain- power-off PoE action for interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0limit Dictionary Override the hardware-negotiated power limit using either wattage or a power class. Note that if using a power class, AVD will automatically convert the class value to the wattage value corresponding to that power class. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0class Integer Min: 0Max: 8 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0watts String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fixed Boolean Set to ignore hardware classification \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0negotiation_lldp Boolean Disable to prevent port from negotiating power with powered devices over LLDP. Enabled by default in EOS. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0legacy_detect Boolean Allow a subset of legacy devices to work with the PoE switch. Disabled by default in EOS because it can cause false positive detections. \u00a0\u00a0\u00a0\u00a0ptp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interval Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay_req Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay_mechanism String Valid Values:- e2e- p2p \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync_message Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interval Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0role String Valid Values:- master- dynamic \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan String VLAN can be \u2018all\u2019 or list of vlans as string \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0transport String Valid Values:- ipv4- ipv6- layer2 \u00a0\u00a0\u00a0\u00a0profile String Interface profile \u00a0\u00a0\u00a0\u00a0storm_control Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level String Configure maximum storm-control level \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String percent Valid Values:- percent- pps Optional field and is hardware dependant \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0broadcast Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level String Configure maximum storm-control level \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String percent Valid Values:- percent- pps Optional field and is hardware dependant \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multicast Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level String Configure maximum storm-control level \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String percent Valid Values:- percent- pps Optional field and is hardware dependant \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unknown_unicast Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level String Configure maximum storm-control level \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String percent Valid Values:- percent- pps Optional field and is hardware dependant \u00a0\u00a0\u00a0\u00a0logging Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0event Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_status Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0congestion_drops Boolean \u00a0\u00a0\u00a0\u00a0lldp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0transmit Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0receive Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ztp_vlan Integer ZTP vlan number \u00a0\u00a0\u00a0\u00a0trunk_private_vlan_secondary Boolean \u00a0\u00a0\u00a0\u00a0pvlan_mapping String List of vlans as string \u00a0\u00a0\u00a0\u00a0vlan_translations List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- from String List of vlans as string (only one vlan if direction is \u201cboth\u201d) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0to Integer VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction String both Valid Values:- in- out- both \u00a0\u00a0\u00a0\u00a0dot1x Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_control String Valid Values:- auto- force-authorized- force-unauthorized \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_control_force_authorized_phone Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauthentication Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0pae Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String Valid Values:- authenticator \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0authentication_failure Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Valid Values:- allow- drop \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0allow_vlan Integer Min: 1Max: 4094 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host_mode Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String Valid Values:- multi-host- single-host \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multi_host_authenticated Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mac_based_authentication Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host_mode_common Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0idle_host Integer Min: 10Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0quiet_period Integer Min: 1Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauth_period String Value can be 60-4294967295 or \u2018server\u2019 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauth_timeout_ignore Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tx_period Integer Min: 1Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauthorization_request_limit Integer Min: 1Max: 10 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0eapol Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0disabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0authentication_failure_fallback_mba Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Integer Min: 0Max: 65535 \u00a0\u00a0\u00a0\u00a0service_profile String QOS profile \u00a0\u00a0\u00a0\u00a0shape Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate String Rate in kbps, pps or percentSupported options are platform dependentExamples:- \u201c5000 kbps\u201d- \u201c1000 pps\u201d- \u201c20 percent\u201d \u00a0\u00a0\u00a0\u00a0qos Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0trust String Valid Values:- dscp- cos- disabled \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Integer DSCP value \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cos Integer COS value \u00a0\u00a0\u00a0\u00a0spanning_tree_bpdufilter String Valid Values:- enabled- disabled- True- False- true- false \u00a0\u00a0\u00a0\u00a0spanning_tree_bpduguard String Valid Values:- enabled- disabled- True- False- true- false \u00a0\u00a0\u00a0\u00a0spanning_tree_guard String Valid Values:- loop- root- disabled \u00a0\u00a0\u00a0\u00a0spanning_tree_portfast String Valid Values:- edge- network \u00a0\u00a0\u00a0\u00a0vmtracer Boolean \u00a0\u00a0\u00a0\u00a0priority_flow_control Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priorities List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- priority Integer Required, Unique Min: 0Max: 7 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0no_drop Boolean \u00a0\u00a0\u00a0\u00a0bfd Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0echo Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interval Integer Interval in milliseconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0min_rx Integer Rate in milliseconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multiplier Integer Min: 3Max: 50 \u00a0\u00a0\u00a0\u00a0service_policy Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0pbr Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0input String Policy-map name \u00a0\u00a0\u00a0\u00a0mpls Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ldp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interface Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0igp_sync Boolean \u00a0\u00a0\u00a0\u00a0lacp_timer Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String Valid Values:- fast- normal \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multiplier Integer Min: 3Max: 3000 \u00a0\u00a0\u00a0\u00a0lacp_port_priority Integer Min: 0Max: 65535 \u00a0\u00a0\u00a0\u00a0transceiver Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0media Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0override String Transceiver type \u00a0\u00a0\u00a0\u00a0ip_proxy_arp Boolean \u00a0\u00a0\u00a0\u00a0traffic_policy Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0input String Ingress traffic policy \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0output String Egress traffic policy \u00a0\u00a0\u00a0\u00a0bgp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0session_tracker String Name of session tracker \u00a0\u00a0\u00a0\u00a0peer String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0peer_interface String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0peer_type String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0sflow Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0egress Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unmodified_enable Boolean \u00a0\u00a0\u00a0\u00a0port_profile String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0eos_cli String Multiline EOS CLI rendered directly on the ethernet interface in the final EOS configuration <pre><code>ethernet_interfaces:\n- name: &lt;str&gt;\ndescription: &lt;str&gt;\nshutdown: &lt;bool&gt;\nload_interval: &lt;int&gt;\nspeed: &lt;str&gt;\nmtu: &lt;int&gt;\nl2_mtu: &lt;int&gt;\nvlans: &lt;str&gt;\nnative_vlan: &lt;int&gt;\nnative_vlan_tag: &lt;bool&gt;\nmode: &lt;str&gt;\nphone:\ntrunk: &lt;str&gt;\nvlan: &lt;int&gt;\nl2_protocol:\nencapsulation_dot1q_vlan: &lt;int&gt;\nforwarding_profile: &lt;str&gt;\ntrunk_groups:\n- &lt;str&gt;\ntype: &lt;str&gt;\nsnmp_trap_link_change: &lt;bool&gt;\naddress_locking:\nipv4: &lt;bool&gt;\nipv6: &lt;bool&gt;\nflowcontrol:\nreceived: &lt;str&gt;\nvrf: &lt;str&gt;\nflow_tracker:\nsampled: &lt;str&gt;\nerror_correction_encoding:\nenabled: &lt;bool&gt;\nfire_code: &lt;bool&gt;\nreed_solomon: &lt;bool&gt;\nlink_tracking_groups:\n- name: &lt;str&gt;\ndirection: &lt;str&gt;\nevpn_ethernet_segment:\nidentifier: &lt;str&gt;\nredundancy: &lt;str&gt;\ndesignated_forwarder_election:\nalgorithm: &lt;str&gt;\npreference_value: &lt;int&gt;\ndont_preempt: &lt;bool&gt;\nhold_time: &lt;int&gt;\nsubsequent_hold_time: &lt;int&gt;\ncandidate_reachability_required: &lt;bool&gt;\nmpls:\nshared_index: &lt;int&gt;\ntunnel_flood_filter_time: &lt;int&gt;\nroute_target: &lt;str&gt;\nencapsulation_dot1q_vlan: &lt;int&gt;\nencapsulation_vlan:\nclient:\ndot1q:\nvlan: &lt;int&gt;\nouter: &lt;int&gt;\ninner: &lt;int&gt;\nunmatched: &lt;bool&gt;\nnetwork:\ndot1q:\nvlan: &lt;int&gt;\nouter: &lt;int&gt;\ninner: &lt;int&gt;\nclient: &lt;bool&gt;\nvlan_id: &lt;int&gt;\nip_address: &lt;str&gt;\nip_address_secondaries:\n- &lt;str&gt;\nip_helpers:\n- ip_helper: &lt;str&gt;\nsource_interface: &lt;str&gt;\nvrf: &lt;str&gt;\nipv6_enable: &lt;bool&gt;\nipv6_address: &lt;str&gt;\nipv6_address_link_local: &lt;str&gt;\nipv6_nd_ra_disabled: &lt;bool&gt;\nipv6_nd_managed_config_flag: &lt;bool&gt;\nipv6_nd_prefixes:\n- ipv6_prefix: &lt;str&gt;\nvalid_lifetime: &lt;str&gt;\npreferred_lifetime: &lt;str&gt;\nno_autoconfig_flag: &lt;bool&gt;\nipv6_dhcp_relay_destinations:\n- address: &lt;str&gt;\nvrf: &lt;str&gt;\nlocal_interface: &lt;str&gt;\nsource_address: &lt;str&gt;\nlink_address: &lt;str&gt;\naccess_group_in: &lt;str&gt;\naccess_group_out: &lt;str&gt;\nipv6_access_group_in: &lt;str&gt;\nipv6_access_group_out: &lt;str&gt;\nmac_access_group_in: &lt;str&gt;\nmac_access_group_out: &lt;str&gt;\nmulticast:\nipv4:\nboundaries:\n- boundary: &lt;str&gt;\nout: &lt;bool&gt;\nstatic: &lt;bool&gt;\nipv6:\nboundaries:\n- boundary: &lt;str&gt;\nstatic: &lt;bool&gt;\nospf_network_point_to_point: &lt;bool&gt;\nospf_area: &lt;str&gt;\nospf_cost: &lt;int&gt;\nospf_authentication: &lt;str&gt;\nospf_authentication_key: &lt;str&gt;\nospf_message_digest_keys:\n- id: &lt;int&gt;\nhash_algorithm: &lt;str&gt;\nkey: &lt;str&gt;\npim:\nipv4:\ndr_priority: &lt;int&gt;\nsparse_mode: &lt;bool&gt;\nmac_security:\nprofile: &lt;str&gt;\nchannel_group:\nid: &lt;int&gt;\nmode: &lt;str&gt;\nisis_enable: &lt;str&gt;\nisis_passive: &lt;bool&gt;\nisis_metric: &lt;int&gt;\nisis_network_point_to_point: &lt;bool&gt;\nisis_circuit_type: &lt;str&gt;\nisis_hello_padding: &lt;bool&gt;\nisis_authentication_mode: &lt;str&gt;\nisis_authentication_key: &lt;str&gt;\npoe:\ndisabled: &lt;bool&gt;\npriority: &lt;str&gt;\nreboot:\naction: &lt;str&gt;\nlink_down:\naction: &lt;str&gt;\npower_off_delay: &lt;int&gt;\nshutdown:\naction: &lt;str&gt;\nlimit:\nclass: &lt;int&gt;\nwatts: &lt;str&gt;\nfixed: &lt;bool&gt;\nnegotiation_lldp: &lt;bool&gt;\nlegacy_detect: &lt;bool&gt;\nptp:\nenable: &lt;bool&gt;\nannounce:\ninterval: &lt;int&gt;\ntimeout: &lt;int&gt;\ndelay_req: &lt;int&gt;\ndelay_mechanism: &lt;str&gt;\nsync_message:\ninterval: &lt;int&gt;\nrole: &lt;str&gt;\nvlan: &lt;str&gt;\ntransport: &lt;str&gt;\nprofile: &lt;str&gt;\nstorm_control:\nall:\nlevel: &lt;str&gt;\nunit: &lt;str&gt;\nbroadcast:\nlevel: &lt;str&gt;\nunit: &lt;str&gt;\nmulticast:\nlevel: &lt;str&gt;\nunit: &lt;str&gt;\nunknown_unicast:\nlevel: &lt;str&gt;\nunit: &lt;str&gt;\nlogging:\nevent:\nlink_status: &lt;bool&gt;\ncongestion_drops: &lt;bool&gt;\nlldp:\ntransmit: &lt;bool&gt;\nreceive: &lt;bool&gt;\nztp_vlan: &lt;int&gt;\ntrunk_private_vlan_secondary: &lt;bool&gt;\npvlan_mapping: &lt;str&gt;\nvlan_translations:\n- from: &lt;str&gt;\nto: &lt;int&gt;\ndirection: &lt;str&gt;\ndot1x:\nport_control: &lt;str&gt;\nport_control_force_authorized_phone: &lt;bool&gt;\nreauthentication: &lt;bool&gt;\npae:\nmode: &lt;str&gt;\nauthentication_failure:\naction: &lt;str&gt;\nallow_vlan: &lt;int&gt;\nhost_mode:\nmode: &lt;str&gt;\nmulti_host_authenticated: &lt;bool&gt;\nmac_based_authentication:\nenabled: &lt;bool&gt;\nalways: &lt;bool&gt;\nhost_mode_common: &lt;bool&gt;\ntimeout:\nidle_host: &lt;int&gt;\nquiet_period: &lt;int&gt;\nreauth_period: &lt;str&gt;\nreauth_timeout_ignore: &lt;bool&gt;\ntx_period: &lt;int&gt;\nreauthorization_request_limit: &lt;int&gt;\neapol:\ndisabled: &lt;bool&gt;\nauthentication_failure_fallback_mba:\nenabled: &lt;bool&gt;\ntimeout: &lt;int&gt;\nservice_profile: &lt;str&gt;\nshape:\nrate: &lt;str&gt;\nqos:\ntrust: &lt;str&gt;\ndscp: &lt;int&gt;\ncos: &lt;int&gt;\nspanning_tree_bpdufilter: &lt;str&gt;\nspanning_tree_bpduguard: &lt;str&gt;\nspanning_tree_guard: &lt;str&gt;\nspanning_tree_portfast: &lt;str&gt;\nvmtracer: &lt;bool&gt;\npriority_flow_control:\nenabled: &lt;bool&gt;\npriorities:\n- priority: &lt;int&gt;\nno_drop: &lt;bool&gt;\nbfd:\necho: &lt;bool&gt;\ninterval: &lt;int&gt;\nmin_rx: &lt;int&gt;\nmultiplier: &lt;int&gt;\nservice_policy:\npbr:\ninput: &lt;str&gt;\nmpls:\nip: &lt;bool&gt;\nldp:\ninterface: &lt;bool&gt;\nigp_sync: &lt;bool&gt;\nlacp_timer:\nmode: &lt;str&gt;\nmultiplier: &lt;int&gt;\nlacp_port_priority: &lt;int&gt;\ntransceiver:\nmedia:\noverride: &lt;str&gt;\nip_proxy_arp: &lt;bool&gt;\ntraffic_policy:\ninput: &lt;str&gt;\noutput: &lt;str&gt;\nbgp:\nsession_tracker: &lt;str&gt;\npeer: &lt;str&gt;\npeer_interface: &lt;str&gt;\npeer_type: &lt;str&gt;\nsflow:\nenable: &lt;bool&gt;\negress:\nenable: &lt;bool&gt;\nunmodified_enable: &lt;bool&gt;\nport_profile: &lt;str&gt;\neos_cli: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Interfaces.html#interface-defaults","title":"Interface Defaults","text":"TableYAML Variable Type Required Default Value Restrictions Description interface_defaults Dictionary \u00a0\u00a0ethernet Dictionary \u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0mtu Integer <pre><code>interface_defaults:\nethernet:\nshutdown: &lt;bool&gt;\nmtu: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Interfaces.html#interface-profiles","title":"Interface Profiles","text":"TableYAML Variable Type Required Default Value Restrictions Description interface_profiles List, items: Dictionary \u00a0\u00a0- name String Required, Unique Interface-Profile Name \u00a0\u00a0\u00a0\u00a0commands List, items: String Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String EOS CLI interface commandExample: \u201cswitchport mode access\u201d <pre><code>interface_profiles:\n- name: &lt;str&gt;\ncommands:\n- &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Interfaces.html#loopback-interfaces","title":"Loopback Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description loopback_interfaces List, items: Dictionary \u00a0\u00a0- name String Required, Unique Loopback interface name e.g. \u201cLoopback0\u201d \u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0vrf String VRF name \u00a0\u00a0\u00a0\u00a0ip_address String IPv4_address/Mask \u00a0\u00a0\u00a0\u00a0ip_address_secondaries List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IPv4_address/Mask \u00a0\u00a0\u00a0\u00a0ipv6_enable Boolean \u00a0\u00a0\u00a0\u00a0ipv6_address String IPv6_address/Mask \u00a0\u00a0\u00a0\u00a0ip_proxy_arp Boolean \u00a0\u00a0\u00a0\u00a0ospf_area String \u00a0\u00a0\u00a0\u00a0mpls Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ldp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interface Boolean \u00a0\u00a0\u00a0\u00a0isis_enable String ISIS instance name \u00a0\u00a0\u00a0\u00a0isis_passive Boolean \u00a0\u00a0\u00a0\u00a0isis_metric Integer \u00a0\u00a0\u00a0\u00a0isis_network_point_to_point Boolean \u00a0\u00a0\u00a0\u00a0node_segment Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4_index Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6_index Integer \u00a0\u00a0\u00a0\u00a0eos_cli String EOS CLI rendered directly on the loopback interface in the final EOS configuration <pre><code>loopback_interfaces:\n- name: &lt;str&gt;\ndescription: &lt;str&gt;\nshutdown: &lt;bool&gt;\nvrf: &lt;str&gt;\nip_address: &lt;str&gt;\nip_address_secondaries:\n- &lt;str&gt;\nipv6_enable: &lt;bool&gt;\nipv6_address: &lt;str&gt;\nip_proxy_arp: &lt;bool&gt;\nospf_area: &lt;str&gt;\nmpls:\nldp:\ninterface: &lt;bool&gt;\nisis_enable: &lt;str&gt;\nisis_passive: &lt;bool&gt;\nisis_metric: &lt;int&gt;\nisis_network_point_to_point: &lt;bool&gt;\nnode_segment:\nipv4_index: &lt;int&gt;\nipv6_index: &lt;int&gt;\neos_cli: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Interfaces.html#port-channel-interfaces","title":"Port Channel Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description port_channel_interfaces List, items: Dictionary \u00a0\u00a0- name String Required, Unique \u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0logging Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0event Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_status Boolean \u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0l2_mtu Integer \u201cl2_mtu\u201d should only be defined for platforms supporting the \u201cl2 mtu\u201d CLI \u00a0\u00a0\u00a0\u00a0vlans String List of switchport vlans as stringFor a trunk port this would be a range like \u201c1-200,300\u201dFor an access port this would be a single vlan \u201c123\u201d \u00a0\u00a0\u00a0\u00a0snmp_trap_link_change Boolean \u00a0\u00a0\u00a0\u00a0type String Valid Values:- routed- switched- l3dot1q- l2dot1q l3dot1q and l2dot1q are used for sub-interfacesThe parent interface should be defined as routed \u00a0\u00a0\u00a0\u00a0encapsulation_dot1q_vlan Integer VLAN tag to configure on sub-interface \u00a0\u00a0\u00a0\u00a0vrf String VRF name \u00a0\u00a0\u00a0\u00a0encapsulation_vlan Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0client Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dot1q Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan Integer Client VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0outer Integer Client Outer VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inner Integer Client Inner VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unmatched Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network Dictionary Network encapsulation are all optional, and skipped if using client unmatched \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dot1q Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan Integer Network VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0outer Integer Network Outer VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inner Integer Network Inner VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0client Boolean \u00a0\u00a0\u00a0\u00a0vlan_id Integer Min: 1Max: 4094 \u00a0\u00a0\u00a0\u00a0mode String Valid Values:- access- dot1q-tunnel- trunk- trunk phone \u00a0\u00a0\u00a0\u00a0native_vlan Integer If setting both native_vlan and native_vlan_tag, native_vlan_tag takes precedence \u00a0\u00a0\u00a0\u00a0native_vlan_tag Boolean False If setting both native_vlan and native_vlan_tag, native_vlan_tag takes precedence \u00a0\u00a0\u00a0\u00a0link_tracking_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction String Valid Values:- upstream- downstream \u00a0\u00a0\u00a0\u00a0phone Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0trunk String Valid Values:- tagged- untagged \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan Integer Min: 1Max: 4094 \u00a0\u00a0\u00a0\u00a0l2_protocol Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encapsulation_dot1q_vlan Integer Vlan tag to configure on sub-interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0forwarding_profile String L2 protocol forwarding profile \u00a0\u00a0\u00a0\u00a0mtu Integer \u00a0\u00a0\u00a0\u00a0mlag Integer Min: 1Max: 2000 MLAG ID \u00a0\u00a0\u00a0\u00a0trunk_groups List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0lacp_fallback_timeout Integer 90 Min: 0Max: 300 Timeout in seconds \u00a0\u00a0\u00a0\u00a0lacp_fallback_mode String Valid Values:- individual- static \u00a0\u00a0\u00a0\u00a0qos Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0trust String Valid Values:- dscp- cos- disabled \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Integer DSCP value \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cos Integer COS value \u00a0\u00a0\u00a0\u00a0bfd Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0echo Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interval Integer Interval in milliseconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0min_rx Integer Rate in milliseconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multiplier Integer Min: 3Max: 50 \u00a0\u00a0\u00a0\u00a0service_policy Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0pbr Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0input String Policy-map name \u00a0\u00a0\u00a0\u00a0mpls Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ldp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interface Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0igp_sync Boolean \u00a0\u00a0\u00a0\u00a0trunk_private_vlan_secondary Boolean \u00a0\u00a0\u00a0\u00a0pvlan_mapping String List of vlans as string \u00a0\u00a0\u00a0\u00a0vlan_translations List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- from String List of vlans as string (only one vlan if direction is \u201cboth\u201d) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0to Integer VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction String both Valid Values:- in- out- both \u00a0\u00a0\u00a0\u00a0shape Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate String Rate in kbps, pps or percentSupported options are platform dependentExamples:- \u201c5000 kbps\u201d- \u201c1000 pps\u201d- \u201c20 percent\u201d \u00a0\u00a0\u00a0\u00a0storm_control Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level String Configure maximum storm-control level \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String percent Valid Values:- percent- pps Optional field and is hardware dependant \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0broadcast Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level String Configure maximum storm-control level \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String percent Valid Values:- percent- pps Optional field and is hardware dependant \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multicast Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level String Configure maximum storm-control level \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String percent Valid Values:- percent- pps Optional field and is hardware dependant \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unknown_unicast Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level String Configure maximum storm-control level \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String percent Valid Values:- percent- pps Optional field and is hardware dependant \u00a0\u00a0\u00a0\u00a0ip_proxy_arp Boolean \u00a0\u00a0\u00a0\u00a0isis_enable String ISIS instance \u00a0\u00a0\u00a0\u00a0isis_passive Boolean \u00a0\u00a0\u00a0\u00a0isis_metric Integer \u00a0\u00a0\u00a0\u00a0isis_network_point_to_point Boolean \u00a0\u00a0\u00a0\u00a0isis_circuit_type String Valid Values:- level-1-2- level-1- level-2 \u00a0\u00a0\u00a0\u00a0isis_hello_padding Boolean \u00a0\u00a0\u00a0\u00a0isis_authentication_mode String Valid Values:- text- md5 \u00a0\u00a0\u00a0\u00a0isis_authentication_key String Type-7 encrypted password \u00a0\u00a0\u00a0\u00a0traffic_policy Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0input String Ingress traffic policy \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0output String Egress traffic policy \u00a0\u00a0\u00a0\u00a0evpn_ethernet_segment Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0identifier String EVPN Ethernet Segment Identifier (Type 1 format) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0redundancy String Valid Values:- all-active- single-active \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0designated_forwarder_election Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0algorithm String Valid Values:- modulus- preference \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0preference_value Integer Min: 0Max: 65535 Preference_value is only used when \u201calgorithm\u201d is \u201cpreference\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dont_preempt Boolean False Dont_preempt is only used when \u201calgorithm\u201d is \u201cpreference\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hold_time Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0subsequent_hold_time Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0candidate_reachability_required Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shared_index Integer Min: 1Max: 1024 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tunnel_flood_filter_time Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_target String EVPN Route Target for ESI with format xx:xx:xx:xx:xx:xx \u00a0\u00a0\u00a0\u00a0esi String EVPN Ethernet Segment Identifier (Type 1 format)Will be deprecated in AVD 4.0 in favor of \u201cevpn_ethernet_segment.identifier\u201dIf both \u201cesi\u201d and \u201cevpn_ethernet_segment.identifier\u201d are defined, the new variable takes precedence \u00a0\u00a0\u00a0\u00a0rt String EVPN Route Target for ESI with format xx:xx:xx:xx:xx:xxWill be deprecated in AVD 4.0 in favor of \u201cevpn_ethernet_segment.route_target\u201dIf both \u201crt\u201d and \u201cevpn_ethernet_segment.route_target\u201d are defined, the new variable takes precedence \u00a0\u00a0\u00a0\u00a0lacp_id String LACP ID with format xxxx.xxxx.xxxx \u00a0\u00a0\u00a0\u00a0spanning_tree_bpdufilter String Valid Values:- enabled- disabled- True- False- true- false \u00a0\u00a0\u00a0\u00a0spanning_tree_bpduguard String Valid Values:- enabled- disabled- True- False- true- false \u00a0\u00a0\u00a0\u00a0spanning_tree_guard String Valid Values:- loop- root- disabled \u00a0\u00a0\u00a0\u00a0spanning_tree_portfast String Valid Values:- edge- network \u00a0\u00a0\u00a0\u00a0vmtracer Boolean \u00a0\u00a0\u00a0\u00a0ptp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interval Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay_req Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay_mechanism String Valid Values:- e2e- p2p \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync_message Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interval Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0role String Valid Values:- master- dynamic \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan String VLAN can be \u2018all\u2019 or list of vlans as string \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0transport String Valid Values:- ipv4- ipv6- layer2 \u00a0\u00a0\u00a0\u00a0ip_address String IPv4 address/mask \u00a0\u00a0\u00a0\u00a0ipv6_enable Boolean \u00a0\u00a0\u00a0\u00a0ipv6_address String IPv6 address/mask \u00a0\u00a0\u00a0\u00a0ipv6_address_link_local String Link local IPv6 address/mask \u00a0\u00a0\u00a0\u00a0ipv6_nd_ra_disabled Boolean \u00a0\u00a0\u00a0\u00a0ipv6_nd_managed_config_flag Boolean \u00a0\u00a0\u00a0\u00a0ipv6_nd_prefixes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ipv6_prefix String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0valid_lifetime String Infinite or lifetime in seconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0preferred_lifetime String Infinite or lifetime in seconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0no_autoconfig_flag Boolean \u00a0\u00a0\u00a0\u00a0access_group_in String Access list name \u00a0\u00a0\u00a0\u00a0access_group_out String Access list name \u00a0\u00a0\u00a0\u00a0ipv6_access_group_in String IPv6 access list name \u00a0\u00a0\u00a0\u00a0ipv6_access_group_out String IPv6 access list name \u00a0\u00a0\u00a0\u00a0mac_access_group_in String MAC access list name \u00a0\u00a0\u00a0\u00a0mac_access_group_out String MAC access list name \u00a0\u00a0\u00a0\u00a0pim Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dr_priority Integer Min: 0Max: 429467295 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sparse_mode Boolean \u00a0\u00a0\u00a0\u00a0service_profile String QOS profile \u00a0\u00a0\u00a0\u00a0ospf_network_point_to_point Boolean \u00a0\u00a0\u00a0\u00a0ospf_area String \u00a0\u00a0\u00a0\u00a0ospf_cost Integer \u00a0\u00a0\u00a0\u00a0ospf_authentication String Valid Values:- none- simple- message-digest \u00a0\u00a0\u00a0\u00a0ospf_authentication_key String Encrypted password \u00a0\u00a0\u00a0\u00a0ospf_message_digest_keys List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hash_algorithm String Valid Values:- md5- sha1- sha256- sha384- sha512 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key String Encrypted password \u00a0\u00a0\u00a0\u00a0flow_tracker Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sampled String Flow tracker name \u00a0\u00a0\u00a0\u00a0bgp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0session_tracker String Name of session tracker \u00a0\u00a0\u00a0\u00a0peer String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0peer_interface String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0peer_type String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0sflow Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0egress Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unmodified_enable Boolean \u00a0\u00a0\u00a0\u00a0eos_cli String Multiline EOS CLI rendered directly on the port-channel interface in the final EOS configuration <pre><code>port_channel_interfaces:\n- name: &lt;str&gt;\ndescription: &lt;str&gt;\nlogging:\nevent:\nlink_status: &lt;bool&gt;\nshutdown: &lt;bool&gt;\nl2_mtu: &lt;int&gt;\nvlans: &lt;str&gt;\nsnmp_trap_link_change: &lt;bool&gt;\ntype: &lt;str&gt;\nencapsulation_dot1q_vlan: &lt;int&gt;\nvrf: &lt;str&gt;\nencapsulation_vlan:\nclient:\ndot1q:\nvlan: &lt;int&gt;\nouter: &lt;int&gt;\ninner: &lt;int&gt;\nunmatched: &lt;bool&gt;\nnetwork:\ndot1q:\nvlan: &lt;int&gt;\nouter: &lt;int&gt;\ninner: &lt;int&gt;\nclient: &lt;bool&gt;\nvlan_id: &lt;int&gt;\nmode: &lt;str&gt;\nnative_vlan: &lt;int&gt;\nnative_vlan_tag: &lt;bool&gt;\nlink_tracking_groups:\n- name: &lt;str&gt;\ndirection: &lt;str&gt;\nphone:\ntrunk: &lt;str&gt;\nvlan: &lt;int&gt;\nl2_protocol:\nencapsulation_dot1q_vlan: &lt;int&gt;\nforwarding_profile: &lt;str&gt;\nmtu: &lt;int&gt;\nmlag: &lt;int&gt;\ntrunk_groups:\n- &lt;str&gt;\nlacp_fallback_timeout: &lt;int&gt;\nlacp_fallback_mode: &lt;str&gt;\nqos:\ntrust: &lt;str&gt;\ndscp: &lt;int&gt;\ncos: &lt;int&gt;\nbfd:\necho: &lt;bool&gt;\ninterval: &lt;int&gt;\nmin_rx: &lt;int&gt;\nmultiplier: &lt;int&gt;\nservice_policy:\npbr:\ninput: &lt;str&gt;\nmpls:\nip: &lt;bool&gt;\nldp:\ninterface: &lt;bool&gt;\nigp_sync: &lt;bool&gt;\ntrunk_private_vlan_secondary: &lt;bool&gt;\npvlan_mapping: &lt;str&gt;\nvlan_translations:\n- from: &lt;str&gt;\nto: &lt;int&gt;\ndirection: &lt;str&gt;\nshape:\nrate: &lt;str&gt;\nstorm_control:\nall:\nlevel: &lt;str&gt;\nunit: &lt;str&gt;\nbroadcast:\nlevel: &lt;str&gt;\nunit: &lt;str&gt;\nmulticast:\nlevel: &lt;str&gt;\nunit: &lt;str&gt;\nunknown_unicast:\nlevel: &lt;str&gt;\nunit: &lt;str&gt;\nip_proxy_arp: &lt;bool&gt;\nisis_enable: &lt;str&gt;\nisis_passive: &lt;bool&gt;\nisis_metric: &lt;int&gt;\nisis_network_point_to_point: &lt;bool&gt;\nisis_circuit_type: &lt;str&gt;\nisis_hello_padding: &lt;bool&gt;\nisis_authentication_mode: &lt;str&gt;\nisis_authentication_key: &lt;str&gt;\ntraffic_policy:\ninput: &lt;str&gt;\noutput: &lt;str&gt;\nevpn_ethernet_segment:\nidentifier: &lt;str&gt;\nredundancy: &lt;str&gt;\ndesignated_forwarder_election:\nalgorithm: &lt;str&gt;\npreference_value: &lt;int&gt;\ndont_preempt: &lt;bool&gt;\nhold_time: &lt;int&gt;\nsubsequent_hold_time: &lt;int&gt;\ncandidate_reachability_required: &lt;bool&gt;\nmpls:\nshared_index: &lt;int&gt;\ntunnel_flood_filter_time: &lt;int&gt;\nroute_target: &lt;str&gt;\nesi: &lt;str&gt;\nrt: &lt;str&gt;\nlacp_id: &lt;str&gt;\nspanning_tree_bpdufilter: &lt;str&gt;\nspanning_tree_bpduguard: &lt;str&gt;\nspanning_tree_guard: &lt;str&gt;\nspanning_tree_portfast: &lt;str&gt;\nvmtracer: &lt;bool&gt;\nptp:\nenable: &lt;bool&gt;\nannounce:\ninterval: &lt;int&gt;\ntimeout: &lt;int&gt;\ndelay_req: &lt;int&gt;\ndelay_mechanism: &lt;str&gt;\nsync_message:\ninterval: &lt;int&gt;\nrole: &lt;str&gt;\nvlan: &lt;str&gt;\ntransport: &lt;str&gt;\nip_address: &lt;str&gt;\nipv6_enable: &lt;bool&gt;\nipv6_address: &lt;str&gt;\nipv6_address_link_local: &lt;str&gt;\nipv6_nd_ra_disabled: &lt;bool&gt;\nipv6_nd_managed_config_flag: &lt;bool&gt;\nipv6_nd_prefixes:\n- ipv6_prefix: &lt;str&gt;\nvalid_lifetime: &lt;str&gt;\npreferred_lifetime: &lt;str&gt;\nno_autoconfig_flag: &lt;bool&gt;\naccess_group_in: &lt;str&gt;\naccess_group_out: &lt;str&gt;\nipv6_access_group_in: &lt;str&gt;\nipv6_access_group_out: &lt;str&gt;\nmac_access_group_in: &lt;str&gt;\nmac_access_group_out: &lt;str&gt;\npim:\nipv4:\ndr_priority: &lt;int&gt;\nsparse_mode: &lt;bool&gt;\nservice_profile: &lt;str&gt;\nospf_network_point_to_point: &lt;bool&gt;\nospf_area: &lt;str&gt;\nospf_cost: &lt;int&gt;\nospf_authentication: &lt;str&gt;\nospf_authentication_key: &lt;str&gt;\nospf_message_digest_keys:\n- id: &lt;int&gt;\nhash_algorithm: &lt;str&gt;\nkey: &lt;str&gt;\nflow_tracker:\nsampled: &lt;str&gt;\nbgp:\nsession_tracker: &lt;str&gt;\npeer: &lt;str&gt;\npeer_interface: &lt;str&gt;\npeer_type: &lt;str&gt;\nsflow:\nenable: &lt;bool&gt;\negress:\nenable: &lt;bool&gt;\nunmodified_enable: &lt;bool&gt;\neos_cli: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Interfaces.html#switchport-default","title":"Switchport Default","text":"TableYAML Variable Type Required Default Value Restrictions Description switchport_default Dictionary \u00a0\u00a0mode String Valid Values:- routed- access \u00a0\u00a0phone Dictionary \u00a0\u00a0\u00a0\u00a0cos Integer Min: 0Max: 7 \u00a0\u00a0\u00a0\u00a0trunk String Valid Values:- tagged- untagged \u00a0\u00a0\u00a0\u00a0vlan Integer Min: 1Max: 4094 VLAN ID <pre><code>switchport_default:\nmode: &lt;str&gt;\nphone:\ncos: &lt;int&gt;\ntrunk: &lt;str&gt;\nvlan: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Interfaces.html#tunnel-interfaces","title":"Tunnel Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description tunnel_interfaces List, items: Dictionary \u00a0\u00a0- name String Required, Unique Tunnel Interface Name \u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0mtu Integer Min: 68Max: 65535 \u00a0\u00a0\u00a0\u00a0vrf String VRF Name \u00a0\u00a0\u00a0\u00a0ip_address String Format: ipv4_cidr IPv4_address/Mask \u00a0\u00a0\u00a0\u00a0ipv6_enable Boolean \u00a0\u00a0\u00a0\u00a0ipv6_address String Format: ipv6_cidr IPv6_address/Mask \u00a0\u00a0\u00a0\u00a0access_group_in String IPv4 ACL Name for ingress \u00a0\u00a0\u00a0\u00a0access_group_out String IPv4 ACL Name for egress \u00a0\u00a0\u00a0\u00a0ipv6_access_group_in String IPv6 ACL Name for ingress \u00a0\u00a0\u00a0\u00a0ipv6_access_group_out String IPv6 ACL Name for egress \u00a0\u00a0\u00a0\u00a0tcp_mss_ceiling Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Integer Min: 64Max: 65495 Segment Size for IPv4 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 Integer Min: 64Max: 65475 Segment Size for IPv6 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction String Valid Values:- ingress- egress Optional direction (\u2018ingress\u2019, \u2018egress\u2019)  for tcp mss ceiling \u00a0\u00a0\u00a0\u00a0source_interface String Tunnel Source Interface Name \u00a0\u00a0\u00a0\u00a0destination String IPv4 or IPv6 Address Tunnel Destination \u00a0\u00a0\u00a0\u00a0path_mtu_discovery Boolean Enable Path MTU Discovery On Tunnel \u00a0\u00a0\u00a0\u00a0eos_cli String Multiline String with EOS CLI rendered directly on the Tunnel interface in the final EOS configuration. <pre><code>tunnel_interfaces:\n- name: &lt;str&gt;\ndescription: &lt;str&gt;\nshutdown: &lt;bool&gt;\nmtu: &lt;int&gt;\nvrf: &lt;str&gt;\nip_address: &lt;str&gt;\nipv6_enable: &lt;bool&gt;\nipv6_address: &lt;str&gt;\naccess_group_in: &lt;str&gt;\naccess_group_out: &lt;str&gt;\nipv6_access_group_in: &lt;str&gt;\nipv6_access_group_out: &lt;str&gt;\ntcp_mss_ceiling:\nipv4: &lt;int&gt;\nipv6: &lt;int&gt;\ndirection: &lt;str&gt;\nsource_interface: &lt;str&gt;\ndestination: &lt;str&gt;\npath_mtu_discovery: &lt;bool&gt;\neos_cli: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Interfaces.html#vlan-interfaces","title":"VLAN Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description vlan_interfaces List, items: Dictionary \u00a0\u00a0- name String Required, Unique VLAN interface name like \u201cVlan123\u201d \u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0vrf String VRF name \u00a0\u00a0\u00a0\u00a0arp_aging_timeout Integer Min: 1Max: 65535 In seconds \u00a0\u00a0\u00a0\u00a0arp_cache_dynamic_capacity Integer Min: 0Max: 4294967295 \u00a0\u00a0\u00a0\u00a0arp_gratuitous_accept Boolean \u00a0\u00a0\u00a0\u00a0arp_monitor_mac_address Boolean \u00a0\u00a0\u00a0\u00a0ip_proxy_arp Boolean \u00a0\u00a0\u00a0\u00a0ip_directed_broadcast Boolean \u00a0\u00a0\u00a0\u00a0ip_address String IPv4_address/Mask \u00a0\u00a0\u00a0\u00a0ip_address_secondaries List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IPv4_address/Mask \u00a0\u00a0\u00a0\u00a0ip_virtual_router_addresses List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IPv4 address or IPv4_address/Mask \u00a0\u00a0\u00a0\u00a0ip_address_virtual String IPv4_address/Mask \u00a0\u00a0\u00a0\u00a0ip_address_virtual_secondaries List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IPv4_address/Mask \u00a0\u00a0\u00a0\u00a0ip_igmp Boolean \u00a0\u00a0\u00a0\u00a0ip_igmp_version Integer Min: 1Max: 3 \u00a0\u00a0\u00a0\u00a0ip_helpers List, items: Dictionary List of DHCP servers \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ip_helper String Required, Unique IP address or hostname of DHCP server \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_interface String Interface used as source for forwarded DHCP packets \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String VRF where DHCP server can be reached \u00a0\u00a0\u00a0\u00a0ipv6_enable Boolean \u00a0\u00a0\u00a0\u00a0ipv6_address String IPv6_address/Mask \u00a0\u00a0\u00a0\u00a0ipv6_address_virtual deprecated String IPv6_address/MaskIf both \u201cipv6_address_virtual\u201d and \u201cipv6_address_virtuals\u201d are set, all addresses will be configuredThis key is deprecated. Support will be removed in AVD version 5.0.0. Use ipv6_address_virtuals instead. \u00a0\u00a0\u00a0\u00a0ipv6_address_virtuals List, items: String The new \u201cipv6_address_virtuals\u201d key support multiple virtual ipv6 addresses. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IPv6_address/Mask \u00a0\u00a0\u00a0\u00a0ipv6_address_link_local String IPv6_address/Mask \u00a0\u00a0\u00a0\u00a0ipv6_virtual_router_address String \u201cipv6_virtual_router_address\u201d key will be deprecated in AVD v4.0This should not be mixed with the new \u201cipv6_virtual_router_addresses\u201d key below to avoid conflicts. \u00a0\u00a0\u00a0\u00a0ipv6_virtual_router_addresses List, items: String Improved \u201cVARPv6\u201d data model to support multiple VARPv6 addresses. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IPv6 address or IPv6_address/Mask \u00a0\u00a0\u00a0\u00a0ipv6_nd_ra_disabled Boolean \u00a0\u00a0\u00a0\u00a0ipv6_nd_managed_config_flag Boolean \u00a0\u00a0\u00a0\u00a0ipv6_nd_prefixes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ipv6_prefix String Required, Unique IPv6_address/Mask \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0valid_lifetime String In seconds &lt;0-4294967295&gt; or infinite \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0preferred_lifetime String In seconds &lt;0-4294967295&gt; or infinite \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0no_autoconfig_flag Boolean \u00a0\u00a0\u00a0\u00a0ipv6_dhcp_relay_destinations List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- address String Required, Unique DHCP server\u2019s IPv6 address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interface String Local interface to communicate with DHCP server - mutually exclusive to source_address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_address String Source IPv6 address to communicate with DHCP server - mutually exclusive to local_interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_address String Override the default link address specified in the relayed DHCP packet \u00a0\u00a0\u00a0\u00a0access_group_in String IPv4 access-list name \u00a0\u00a0\u00a0\u00a0access_group_out String IPv4 access-list name \u00a0\u00a0\u00a0\u00a0ipv6_access_group_in String IPv6 access-list name \u00a0\u00a0\u00a0\u00a0ipv6_access_group_out String IPv6 access-list name \u00a0\u00a0\u00a0\u00a0multicast Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0boundaries List, items: Dictionary Boundaries can be either 1 ACL or a list of multicast IP address_range(s)/prefix but not combination of both \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- boundary String Required, Unique IPv4 access-list name or IPv4 multicast group prefix with mask \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0out Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_route_export Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0administrative_distance Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0static Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0boundaries List, items: Dictionary Boundaries can be either 1 ACL or a list of multicast IP address_range(s)/prefix but not combination of both \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- boundary String Required, Unique IPv6 access-list name or IPv6 multicast group prefix with mask \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_route_export Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0administrative_distance Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0static Boolean \u00a0\u00a0\u00a0\u00a0ospf_network_point_to_point Boolean \u00a0\u00a0\u00a0\u00a0ospf_area String \u00a0\u00a0\u00a0\u00a0ospf_cost Integer \u00a0\u00a0\u00a0\u00a0ospf_authentication String Valid Values:- none- simple- message-digest \u00a0\u00a0\u00a0\u00a0ospf_authentication_key String Encrypted password used for simple authentication \u00a0\u00a0\u00a0\u00a0ospf_message_digest_keys List, items: Dictionary Keys used for message-digest authentication \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hash_algorithm String Valid Values:- md5- sha1- sha256- sha384- sha512 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key String Encrypted password \u00a0\u00a0\u00a0\u00a0pim Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dr_priority Integer Min: 0Max: 429467295 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sparse_mode Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interface String \u00a0\u00a0\u00a0\u00a0isis_enable String ISIS instance name \u00a0\u00a0\u00a0\u00a0isis_passive Boolean \u00a0\u00a0\u00a0\u00a0isis_metric Integer \u00a0\u00a0\u00a0\u00a0isis_network_point_to_point Boolean \u00a0\u00a0\u00a0\u00a0mtu Integer \u00a0\u00a0\u00a0\u00a0no_autostate Boolean \u00a0\u00a0\u00a0\u00a0vrrp_ids List, items: Dictionary Improved \u201cvrrp\u201d data model to support multiple VRRP IDs \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique VRID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority_level Integer Instance priority \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0advertisement Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interval Integer Interval in seconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0preempt Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0minimum Integer Minimum preempt delay in seconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reload Integer Reload preempt delay in seconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timers Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reload Integer Delay after reload in seconds. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tracked_object List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Tracked object name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0decrement Integer Min: 1Max: 254 Decrement VRRP priority by 1-254 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address String Required Virtual IPv4 address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0version Integer Valid Values:- 2- 3 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address String Required Virtual IPv6 address \u00a0\u00a0\u00a0\u00a0vrrp Dictionary \u201cvrrp\u201d key will be deprecated in AVD v4.0This should not be mixed with the new \u201cvrrp_ids\u201d key above to avoid conflicts. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0virtual_router String Virtual Router ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority Integer Instance priority \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0advertisement_interval Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0preempt_delay_minimum Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 String Virtual IPv4 address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 String Virtual IPv6 address \u00a0\u00a0\u00a0\u00a0ip_attached_host_route_export Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0distance Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0bfd Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0echo Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interval Integer Rate in milliseconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0min_rx Integer Minimum RX hold time in milliseconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multiplier Integer Min: 3Max: 50 \u00a0\u00a0\u00a0\u00a0service_policy Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0pbr Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0input String Name of policy-map used for policy based routing \u00a0\u00a0\u00a0\u00a0pvlan_mapping String List of VLANs as string \u00a0\u00a0\u00a0\u00a0tenant String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0tags List, items: String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0type String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0eos_cli String Multiline EOS CLI rendered directly on the VLAN interface in the final EOS configuration <pre><code>vlan_interfaces:\n- name: &lt;str&gt;\ndescription: &lt;str&gt;\nshutdown: &lt;bool&gt;\nvrf: &lt;str&gt;\narp_aging_timeout: &lt;int&gt;\narp_cache_dynamic_capacity: &lt;int&gt;\narp_gratuitous_accept: &lt;bool&gt;\narp_monitor_mac_address: &lt;bool&gt;\nip_proxy_arp: &lt;bool&gt;\nip_directed_broadcast: &lt;bool&gt;\nip_address: &lt;str&gt;\nip_address_secondaries:\n- &lt;str&gt;\nip_virtual_router_addresses:\n- &lt;str&gt;\nip_address_virtual: &lt;str&gt;\nip_address_virtual_secondaries:\n- &lt;str&gt;\nip_igmp: &lt;bool&gt;\nip_igmp_version: &lt;int&gt;\nip_helpers:\n- ip_helper: &lt;str&gt;\nsource_interface: &lt;str&gt;\nvrf: &lt;str&gt;\nipv6_enable: &lt;bool&gt;\nipv6_address: &lt;str&gt;\nipv6_address_virtual: &lt;str&gt;\nipv6_address_virtuals:\n- &lt;str&gt;\nipv6_address_link_local: &lt;str&gt;\nipv6_virtual_router_address: &lt;str&gt;\nipv6_virtual_router_addresses:\n- &lt;str&gt;\nipv6_nd_ra_disabled: &lt;bool&gt;\nipv6_nd_managed_config_flag: &lt;bool&gt;\nipv6_nd_prefixes:\n- ipv6_prefix: &lt;str&gt;\nvalid_lifetime: &lt;str&gt;\npreferred_lifetime: &lt;str&gt;\nno_autoconfig_flag: &lt;bool&gt;\nipv6_dhcp_relay_destinations:\n- address: &lt;str&gt;\nvrf: &lt;str&gt;\nlocal_interface: &lt;str&gt;\nsource_address: &lt;str&gt;\nlink_address: &lt;str&gt;\naccess_group_in: &lt;str&gt;\naccess_group_out: &lt;str&gt;\nipv6_access_group_in: &lt;str&gt;\nipv6_access_group_out: &lt;str&gt;\nmulticast:\nipv4:\nboundaries:\n- boundary: &lt;str&gt;\nout: &lt;bool&gt;\nsource_route_export:\nenabled: &lt;bool&gt;\nadministrative_distance: &lt;int&gt;\nstatic: &lt;bool&gt;\nipv6:\nboundaries:\n- boundary: &lt;str&gt;\nsource_route_export:\nenabled: &lt;bool&gt;\nadministrative_distance: &lt;int&gt;\nstatic: &lt;bool&gt;\nospf_network_point_to_point: &lt;bool&gt;\nospf_area: &lt;str&gt;\nospf_cost: &lt;int&gt;\nospf_authentication: &lt;str&gt;\nospf_authentication_key: &lt;str&gt;\nospf_message_digest_keys:\n- id: &lt;int&gt;\nhash_algorithm: &lt;str&gt;\nkey: &lt;str&gt;\npim:\nipv4:\ndr_priority: &lt;int&gt;\nsparse_mode: &lt;bool&gt;\nlocal_interface: &lt;str&gt;\nisis_enable: &lt;str&gt;\nisis_passive: &lt;bool&gt;\nisis_metric: &lt;int&gt;\nisis_network_point_to_point: &lt;bool&gt;\nmtu: &lt;int&gt;\nno_autostate: &lt;bool&gt;\nvrrp_ids:\n- id: &lt;int&gt;\npriority_level: &lt;int&gt;\nadvertisement:\ninterval: &lt;int&gt;\npreempt:\nenabled: &lt;bool&gt;\ndelay:\nminimum: &lt;int&gt;\nreload: &lt;int&gt;\ntimers:\ndelay:\nreload: &lt;int&gt;\ntracked_object:\n- name: &lt;str&gt;\ndecrement: &lt;int&gt;\nshutdown: &lt;bool&gt;\nipv4:\naddress: &lt;str&gt;\nversion: &lt;int&gt;\nipv6:\naddress: &lt;str&gt;\nvrrp:\nvirtual_router: &lt;str&gt;\npriority: &lt;int&gt;\nadvertisement_interval: &lt;int&gt;\npreempt_delay_minimum: &lt;int&gt;\nipv4: &lt;str&gt;\nipv6: &lt;str&gt;\nip_attached_host_route_export:\nenabled: &lt;bool&gt;\ndistance: &lt;int&gt;\nbfd:\necho: &lt;bool&gt;\ninterval: &lt;int&gt;\nmin_rx: &lt;int&gt;\nmultiplier: &lt;int&gt;\nservice_policy:\npbr:\ninput: &lt;str&gt;\npvlan_mapping: &lt;str&gt;\ntenant: &lt;str&gt;\ntags:\n- &lt;str&gt;\ntype: &lt;str&gt;\neos_cli: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Interfaces.html#vxlan-interface","title":"VxLAN Interface","text":"TableYAML Variable Type Required Default Value Restrictions Description vxlan_interface Dictionary \u00a0\u00a0Vxlan1 Dictionary \u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0vxlan Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_interface String Source Interface Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0controller_client Dictionary Client to CVX Controllers \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_source_interface String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0udp_port Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0virtual_router_encapsulation_mac_address String \u201cmlag-system-id\u201d or ethernet_address (H.H.H) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd_vtep_evpn Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interval Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0min_rx Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multiplier Integer Min: 3Max: 50 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0qos Dictionary For the Traffic Class to be derived based on the outer DSCP field of the incoming VxLan packet, the core ports must be in \u201cDSCP Trust\u201d mode.!!!Warning, only few hardware types with software version &gt;= 4.26.0 support the below knobs to configure Vxlan DSCP mapping. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp_propagation_encapsulation Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0map_dscp_to_traffic_class_decapsulation Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlans List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vni Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multicast_group String IP Multicast Group Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0flood_vteps List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Remote VTEP IP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique VRF Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vni Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multicast_group String IP Multicast Group Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0flood_vteps List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Remote VTEP IP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0flood_vtep_learned_data_plane Boolean \u00a0\u00a0\u00a0\u00a0eos_cli String Multiline String with EOS CLI rendered directly on the Vxlan interface in the final EOS configuration. <pre><code>vxlan_interface:\nVxlan1:\ndescription: &lt;str&gt;\nvxlan:\nsource_interface: &lt;str&gt;\ncontroller_client:\nenabled: &lt;bool&gt;\nmlag_source_interface: &lt;str&gt;\nudp_port: &lt;int&gt;\nvirtual_router_encapsulation_mac_address: &lt;str&gt;\nbfd_vtep_evpn:\ninterval: &lt;int&gt;\nmin_rx: &lt;int&gt;\nmultiplier: &lt;int&gt;\nprefix_list: &lt;str&gt;\nqos:\ndscp_propagation_encapsulation: &lt;bool&gt;\nmap_dscp_to_traffic_class_decapsulation: &lt;bool&gt;\nvlans:\n- id: &lt;int&gt;\nvni: &lt;int&gt;\nmulticast_group: &lt;str&gt;\nflood_vteps:\n- &lt;str&gt;\nvrfs:\n- name: &lt;str&gt;\nvni: &lt;int&gt;\nmulticast_group: &lt;str&gt;\nflood_vteps:\n- &lt;str&gt;\nflood_vtep_learned_data_plane: &lt;bool&gt;\neos_cli: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/L2%20Protocol%20Forwarding.html","title":"L2 Protocol Forwarding","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/L2%20Protocol%20Forwarding.html#l2-protocol","title":"L2 Protocol","text":"TableYAML Variable Type Required Default Value Restrictions Description l2_protocol Dictionary \u00a0\u00a0forwarding_profiles List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0protocols List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Valid Values:- bfd per-link rfc-7130- e-lmi- isis- lacp- lldp- macsec- pause- stp \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0forward Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tagged_forward Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0untagged_forward Boolean <pre><code>l2_protocol:\nforwarding_profiles:\n- name: &lt;str&gt;\nprotocols:\n- name: &lt;str&gt;\nforward: &lt;bool&gt;\ntagged_forward: &lt;bool&gt;\nuntagged_forward: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/LACP.html","title":"LACP","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/LACP.html#lacp_1","title":"LACP","text":"<p>Set Link Aggregation Control Protocol (LACP) parameters.</p> TableYAML Variable Type Required Default Value Restrictions Description lacp Dictionary \u00a0\u00a0port_id Dictionary LACP port-ID range configuration. \u00a0\u00a0\u00a0\u00a0range Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0begin Integer Minimum LACP port-ID range. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0end Integer Maximum LACP port-ID range. \u00a0\u00a0rate_limit Dictionary Set LACPDU rate limit options. \u00a0\u00a0\u00a0\u00a0default Boolean Enable LACPDU rate limiting by default on all ports. \u00a0\u00a0system_priority Integer Min: 0Max: 65535 Set local system LACP priority. <pre><code>lacp:\nport_id:\nrange:\nbegin: &lt;int&gt;\nend: &lt;int&gt;\nrate_limit:\ndefault: &lt;bool&gt;\nsystem_priority: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/LLDP.html","title":"LLDP","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/LLDP.html#lldp_1","title":"LLDP","text":"TableYAML Variable Type Required Default Value Restrictions Description lldp Dictionary \u00a0\u00a0timer Integer \u00a0\u00a0timer_reinitialization String \u00a0\u00a0holdtime Integer \u00a0\u00a0management_address String \u00a0\u00a0vrf String \u00a0\u00a0receive_packet_tagged_drop String \u00a0\u00a0tlvs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Valid Values:- link-aggregation- management-address- max-frame-size- med- port-description- port-vlan- power-via-mdi- system-capabilities- system-description- system-name- vlan-name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0transmit Boolean \u00a0\u00a0run Boolean <pre><code>lldp:\ntimer: &lt;int&gt;\ntimer_reinitialization: &lt;str&gt;\nholdtime: &lt;int&gt;\nmanagement_address: &lt;str&gt;\nvrf: &lt;str&gt;\nreceive_packet_tagged_drop: &lt;str&gt;\ntlvs:\n- name: &lt;str&gt;\ntransmit: &lt;bool&gt;\nrun: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Link%20Tracking%20Groups.html","title":"Link Tracking Groups","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Link%20Tracking%20Groups.html#link-tracking-groups_1","title":"Link Tracking Groups","text":"TableYAML Variable Type Required Default Value Restrictions Description link_tracking_groups List, items: Dictionary \u00a0\u00a0- name String Required, Unique \u00a0\u00a0\u00a0\u00a0links_minimum Integer Min: 1Max: 100000 \u00a0\u00a0\u00a0\u00a0recovery_delay Integer Min: 0Max: 3600 <pre><code>link_tracking_groups:\n- name: &lt;str&gt;\nlinks_minimum: &lt;int&gt;\nrecovery_delay: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/MAC%20Address-table.html","title":"MAC Address-table","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/MAC%20Address-table.html#mac-address-table_1","title":"MAC Address Table","text":"TableYAML Variable Type Required Default Value Restrictions Description mac_address_table Dictionary \u00a0\u00a0aging_time Integer Aging time in seconds \u00a0\u00a0notification_host_flap Dictionary \u00a0\u00a0\u00a0\u00a0logging Boolean \u00a0\u00a0\u00a0\u00a0detection Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0window Integer Min: 2Max: 300 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0moves Integer Min: 2Max: 10 <pre><code>mac_address_table:\naging_time: &lt;int&gt;\nnotification_host_flap:\nlogging: &lt;bool&gt;\ndetection:\nwindow: &lt;int&gt;\nmoves: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/MAC%20Security.html","title":"MAC Security","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/MAC%20Security.html#mac-security-macsec","title":"MAC Security (MACsec)","text":"TableYAML Variable Type Required Default Value Restrictions Description mac_security Dictionary \u00a0\u00a0license Dictionary Required \u00a0\u00a0\u00a0\u00a0license_name String Required \u00a0\u00a0\u00a0\u00a0license_key String Required \u00a0\u00a0fips_restrictions Boolean Required \u00a0\u00a0profiles List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Profile-Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cipher String Valid Values:- aes128-gcm- aes128-gcm-xpn- aes256-gcm- aes256-gcm-xpn \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0connection_keys List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encrypted_key String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fallback Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mka Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key_server_priority Integer Min: 0Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0session Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rekey_period Integer Min: 30Max: 100000 Rekey period in seconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sci Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0l2_protocols Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ethernet_flow_control Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String Required Valid Values:- encrypt- bypass \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lldp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String Required Valid Values:- bypass- bypass unauthorized <pre><code>mac_security:\nlicense:\nlicense_name: &lt;str&gt;\nlicense_key: &lt;str&gt;\nfips_restrictions: &lt;bool&gt;\nprofiles:\n- name: &lt;str&gt;\ncipher: &lt;str&gt;\nconnection_keys:\n- id: &lt;str&gt;\nencrypted_key: &lt;str&gt;\nfallback: &lt;bool&gt;\nmka:\nkey_server_priority: &lt;int&gt;\nsession:\nrekey_period: &lt;int&gt;\nsci: &lt;bool&gt;\nl2_protocols:\nethernet_flow_control:\nmode: &lt;str&gt;\nlldp:\nmode: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/MCS%20Client.html","title":"MCS Client","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/MCS%20Client.html#mcs-client_1","title":"MCS Client","text":"TableYAML Variable Type Required Default Value Restrictions Description mcs_client Dictionary \u00a0\u00a0shutdown Boolean \u00a0\u00a0cvx_secondary Dictionary \u00a0\u00a0\u00a0\u00a0name String \u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0server_hosts List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IP or hostname <pre><code>mcs_client:\nshutdown: &lt;bool&gt;\ncvx_secondary:\nname: &lt;str&gt;\nshutdown: &lt;bool&gt;\nserver_hosts:\n- &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/MLAG.html","title":"MLAG","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/MLAG.html#multi-chassis-link-aggregation-mlag-configuration","title":"Multi-Chassis Link Aggregation (MLAG) Configuration","text":"TableYAML Variable Type Required Default Value Restrictions Description mlag_configuration Dictionary \u00a0\u00a0domain_id String \u00a0\u00a0heartbeat_interval Integer Heartbeat interval in milliseconds \u00a0\u00a0local_interface String Local Interface Name \u00a0\u00a0peer_address String IPv4 Address \u00a0\u00a0peer_address_heartbeat Dictionary \u00a0\u00a0\u00a0\u00a0peer_ip String IPv4 Address \u00a0\u00a0\u00a0\u00a0vrf String VRF Name \u00a0\u00a0dual_primary_detection_delay Integer Min: 0Max: 86400 Delay in seconds \u00a0\u00a0dual_primary_recovery_delay_mlag Integer Min: 0Max: 86400 Delay in seconds \u00a0\u00a0dual_primary_recovery_delay_non_mlag Integer Min: 0Max: 86400 Delay in seconds \u00a0\u00a0peer_link String Port-Channel interface name \u00a0\u00a0reload_delay_mlag String Delay in seconds &lt;0-86400&gt; or \u2018infinity\u2019 \u00a0\u00a0reload_delay_non_mlag String Delay in seconds &lt;0-86400&gt; or \u2018infinity\u2019 <pre><code>mlag_configuration:\ndomain_id: &lt;str&gt;\nheartbeat_interval: &lt;int&gt;\nlocal_interface: &lt;str&gt;\npeer_address: &lt;str&gt;\npeer_address_heartbeat:\npeer_ip: &lt;str&gt;\nvrf: &lt;str&gt;\ndual_primary_detection_delay: &lt;int&gt;\ndual_primary_recovery_delay_mlag: &lt;int&gt;\ndual_primary_recovery_delay_non_mlag: &lt;int&gt;\npeer_link: &lt;str&gt;\nreload_delay_mlag: &lt;str&gt;\nreload_delay_non_mlag: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/MPLS.html","title":"MPLS","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/MPLS.html#mpls_1","title":"MPLS","text":"TableYAML Variable Type Required Default Value Restrictions Description mpls Dictionary \u00a0\u00a0ip Boolean \u00a0\u00a0ldp Dictionary \u00a0\u00a0\u00a0\u00a0interface_disabled_default Boolean \u00a0\u00a0\u00a0\u00a0router_id String \u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0transport_address_interface String Interface Name <pre><code>mpls:\nip: &lt;bool&gt;\nldp:\ninterface_disabled_default: &lt;bool&gt;\nrouter_id: &lt;str&gt;\nshutdown: &lt;bool&gt;\ntransport_address_interface: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Maintenance%20Mode.html","title":"Maintenance Mode","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Maintenance%20Mode.html#bgp-groups","title":"BGP Groups","text":"TableYAML Variable Type Required Default Value Restrictions Description bgp_groups List, items: Dictionary \u00a0\u00a0- name String Required, Unique Group Name \u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0\u00a0\u00a0neighbors List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0bgp_maintenance_profiles List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Profile Name <pre><code>bgp_groups:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\nneighbors:\n- &lt;str&gt;\nbgp_maintenance_profiles:\n- &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Maintenance%20Mode.html#maintenance-interface-groups","title":"Maintenance Interface Groups","text":"TableYAML Variable Type Required Default Value Restrictions Description interface_groups List, items: Dictionary \u00a0\u00a0- name String Required, Unique Interface-Group name \u00a0\u00a0\u00a0\u00a0interfaces List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Interface Name \u00a0\u00a0\u00a0\u00a0bgp_maintenance_profiles List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Name of BGP Maintenance Profile \u00a0\u00a0\u00a0\u00a0interface_maintenance_profiles List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Name of Interface Maintenance Profile <pre><code>interface_groups:\n- name: &lt;str&gt;\ninterfaces:\n- &lt;str&gt;\nbgp_maintenance_profiles:\n- &lt;str&gt;\ninterface_maintenance_profiles:\n- &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Maintenance%20Mode.html#maintenance-mode_1","title":"Maintenance Mode","text":"TableYAML Variable Type Required Default Value Restrictions Description maintenance Dictionary \u00a0\u00a0default_interface_profile String Name of default Interface Profile \u00a0\u00a0default_bgp_profile String Name of default BGP Profile \u00a0\u00a0default_unit_profile String Name of default Unit Profile \u00a0\u00a0interface_profiles List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate_monitoring Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0load_interval Integer Load Interval in Seconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0threshold Integer Threshold in kbps \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shutdown Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_delay Integer Max delay in seconds \u00a0\u00a0bgp_profiles List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique BGP Profile Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0initiator Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_inout String Route Map \u00a0\u00a0unit_profiles List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Unit Profile Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0on_boot Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0duration Integer Min: 300Max: 3600 On-boot in seconds \u00a0\u00a0units List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Unit Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0quiesce Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String Name of Unit Profile \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0groups Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_groups List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Name of BGP Group \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interface_groups List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Name of Interface Group <pre><code>maintenance:\ndefault_interface_profile: &lt;str&gt;\ndefault_bgp_profile: &lt;str&gt;\ndefault_unit_profile: &lt;str&gt;\ninterface_profiles:\n- name: &lt;str&gt;\nrate_monitoring:\nload_interval: &lt;int&gt;\nthreshold: &lt;int&gt;\nshutdown:\nmax_delay: &lt;int&gt;\nbgp_profiles:\n- name: &lt;str&gt;\ninitiator:\nroute_map_inout: &lt;str&gt;\nunit_profiles:\n- name: &lt;str&gt;\non_boot:\nduration: &lt;int&gt;\nunits:\n- name: &lt;str&gt;\nquiesce: &lt;bool&gt;\nprofile: &lt;str&gt;\ngroups:\nbgp_groups:\n- &lt;str&gt;\ninterface_groups:\n- &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html","title":"Management","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#clock","title":"Clock","text":"TableYAML Variable Type Required Default Value Restrictions Description clock Dictionary \u00a0\u00a0timezone String <pre><code>clock:\ntimezone: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#dns-domain","title":"DNS Domain","text":"<p>Domain Name</p> TableYAML Variable Type Required Default Value Restrictions Description dns_domain String <pre><code>dns_domain: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#domain-list","title":"Domain List","text":"<p>Search list of DNS domains</p> TableYAML Variable Type Required Default Value Restrictions Description domain_list List, items: String \u00a0\u00a0- &lt;str&gt; String Domain name <pre><code>domain_list:\n- &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#ip-domain-lookup","title":"IP Domain Lookup","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_domain_lookup Dictionary \u00a0\u00a0source_interfaces List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Source Interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String <pre><code>ip_domain_lookup:\nsource_interfaces:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#ip-http-client-source-interfaces","title":"IP HTTP Client Source Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_http_client_source_interfaces List, items: Dictionary \u00a0\u00a0- name String Interface Name \u00a0\u00a0\u00a0\u00a0vrf String <pre><code>ip_http_client_source_interfaces:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#ip-name-servers","title":"IP Name Servers","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_name_servers List, items: Dictionary \u00a0\u00a0- ip_address String IPv4 or IPv6 address for DNS server \u00a0\u00a0\u00a0\u00a0vrf String VRF Name \u00a0\u00a0\u00a0\u00a0priority Integer Min: 0Max: 4 Priority value (lower is first) <pre><code>ip_name_servers:\n- ip_address: &lt;str&gt;\nvrf: &lt;str&gt;\npriority: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#ip-ssh-client-source-interfaces","title":"IP SSH Client Source Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_ssh_client_source_interfaces List, items: Dictionary \u00a0\u00a0- name String Interface Name \u00a0\u00a0\u00a0\u00a0vrf String default <pre><code>ip_ssh_client_source_interfaces:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#management-api-gnmi","title":"Management API Gnmi","text":"TableYAML Variable Type Required Default Value Restrictions Description management_api_gnmi Dictionary \u00a0\u00a0provider String eos-native \u00a0\u00a0transport Dictionary \u00a0\u00a0\u00a0\u00a0grpc List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Transport name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ssl_profile String SSL profile name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String VRF name is optional \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0notification_timestamp String Valid Values:- send-time- last-change-time Per the GNMI specification, the default timestamp field of a notification message is set to bethe time at which the value of the underlying data source changes or when the reported event takes place.In order to facilitate integration in legacy environments oriented around polling style operations,an option to support overriding the timestamp field to the send-time is available from EOS 4.27.0F. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_access_group String ACL name \u00a0\u00a0\u00a0\u00a0grpc_tunnels List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Transport name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shutdown Boolean Operational status of the gRPC tunnel \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tunnel_ssl_profile String Tunnel SSL profile name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0gnmi_ssl_profile String gNMI SSL profile name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String VRF name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0destination Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address String Required IP address or hostname \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port Integer Required Min: 1Max: 65535 TCP Port \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interface Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String Required Interface name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port Integer Required Min: 1Max: 65535 TCP Port \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0target Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0use_serial_number Boolean Use serial number as the Target ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0target_ids List, items: String Target IDs as a list. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0enable_vrfs List, items: Dictionary Enable VRFs will be deprecated in AVD v4.0.These should not be mixed with the new keys above. \u00a0\u00a0\u00a0\u00a0- name String Required, Unique VRF name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group String Standard IPv4 ACL name \u00a0\u00a0octa Dictionary Octa key will be deprecated in AVD v4.0.These should not be mixed with the new keys above.Octa activates <code>eos-native</code> provider and it is the only provider currently supported by EOS. <pre><code>management_api_gnmi:\nprovider: &lt;str&gt;\ntransport:\ngrpc:\n- name: &lt;str&gt;\nssl_profile: &lt;str&gt;\nvrf: &lt;str&gt;\nnotification_timestamp: &lt;str&gt;\nip_access_group: &lt;str&gt;\ngrpc_tunnels:\n- name: &lt;str&gt;\nshutdown: &lt;bool&gt;\ntunnel_ssl_profile: &lt;str&gt;\ngnmi_ssl_profile: &lt;str&gt;\nvrf: &lt;str&gt;\ndestination:\naddress: &lt;str&gt;\nport: &lt;int&gt;\nlocal_interface:\nname: &lt;str&gt;\nport: &lt;int&gt;\ntarget:\nuse_serial_number: &lt;bool&gt;\ntarget_ids:\n- &lt;str&gt;\nenable_vrfs:\n- name: &lt;str&gt;\naccess_group: &lt;str&gt;\nocta:\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#management-api-http","title":"Management API HTTP","text":"TableYAML Variable Type Required Default Value Restrictions Description management_api_http Dictionary \u00a0\u00a0enable_http Boolean \u00a0\u00a0enable_https Boolean \u00a0\u00a0https_ssl_profile String SSL Profile Name \u00a0\u00a0default_services Boolean Enable default services: capi-doc and tapagg \u00a0\u00a0enable_vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique VRF Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group String Standard IPv4 ACL name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6_access_group String Standard IPv6 ACL name \u00a0\u00a0protocol_https_certificate Dictionary \u00a0\u00a0\u00a0\u00a0certificate String Name of certificate; private key must also be specified \u00a0\u00a0\u00a0\u00a0private_key String Name of private key; certificate must also be specified <pre><code>management_api_http:\nenable_http: &lt;bool&gt;\nenable_https: &lt;bool&gt;\nhttps_ssl_profile: &lt;str&gt;\ndefault_services: &lt;bool&gt;\nenable_vrfs:\n- name: &lt;str&gt;\naccess_group: &lt;str&gt;\nipv6_access_group: &lt;str&gt;\nprotocol_https_certificate:\ncertificate: &lt;str&gt;\nprivate_key: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#management-api-models","title":"Management API Models","text":"TableYAML Variable Type Required Default Value Restrictions Description management_api_models Dictionary \u00a0\u00a0providers List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Valid Values:- sysdb- smash \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0paths List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- path String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0disabled Boolean False <pre><code>management_api_models:\nproviders:\n- name: &lt;str&gt;\npaths:\n- path: &lt;str&gt;\ndisabled: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#management-console","title":"Management Console","text":"TableYAML Variable Type Required Default Value Restrictions Description management_console Dictionary \u00a0\u00a0idle_timeout Integer Min: 0Max: 86400 <pre><code>management_console:\nidle_timeout: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#management-cvx","title":"Management CVX","text":"TableYAML Variable Type Required Default Value Restrictions Description management_cvx Dictionary \u00a0\u00a0shutdown Boolean \u00a0\u00a0server_hosts List, items: String \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IP or hostname \u00a0\u00a0source_interface String Interface name \u00a0\u00a0vrf String VRF Name <pre><code>management_cvx:\nshutdown: &lt;bool&gt;\nserver_hosts:\n- &lt;str&gt;\nsource_interface: &lt;str&gt;\nvrf: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#management-defaults","title":"Management Defaults","text":"TableYAML Variable Type Required Default Value Restrictions Description management_defaults Dictionary \u00a0\u00a0secret Dictionary \u00a0\u00a0\u00a0\u00a0hash String Valid Values:- md5- sha512 <pre><code>management_defaults:\nsecret:\nhash: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#management-interfaces","title":"Management Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description management_interfaces List, items: Dictionary \u00a0\u00a0- name String Required, Unique Management Interface Name \u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0mtu Integer \u00a0\u00a0\u00a0\u00a0vrf String VRF Name \u00a0\u00a0\u00a0\u00a0ip_address String IPv4_address/Mask \u00a0\u00a0\u00a0\u00a0ipv6_enable Boolean \u00a0\u00a0\u00a0\u00a0ipv6_address String IPv6_address/Mask \u00a0\u00a0\u00a0\u00a0type String oob Valid Values:- oob- inband For documentation purposes only \u00a0\u00a0\u00a0\u00a0gateway String IPv4 address of default gateway in management VRF \u00a0\u00a0\u00a0\u00a0ipv6_gateway String IPv6 address of default gateway in management VRF \u00a0\u00a0\u00a0\u00a0mac_address String MAC address \u00a0\u00a0\u00a0\u00a0eos_cli String Multiline EOS CLI rendered directly on the management interface in the final EOS configuration <pre><code>management_interfaces:\n- name: &lt;str&gt;\ndescription: &lt;str&gt;\nshutdown: &lt;bool&gt;\nmtu: &lt;int&gt;\nvrf: &lt;str&gt;\nip_address: &lt;str&gt;\nipv6_enable: &lt;bool&gt;\nipv6_address: &lt;str&gt;\ntype: &lt;str&gt;\ngateway: &lt;str&gt;\nipv6_gateway: &lt;str&gt;\nmac_address: &lt;str&gt;\neos_cli: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#management-security","title":"Management Security","text":"TableYAML Variable Type Required Default Value Restrictions Description management_security Dictionary \u00a0\u00a0entropy_source String \u00a0\u00a0password Dictionary \u00a0\u00a0\u00a0\u00a0minimum_length Integer Min: 1Max: 32 \u00a0\u00a0\u00a0\u00a0encryption_key_common Boolean \u00a0\u00a0\u00a0\u00a0encryption_reversible String \u00a0\u00a0ssl_profiles List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tls_versions String List of allowed TLS versions as stringExamples:  - \u201c1.0\u201d  - \u201c1.0 1.1\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cipher_list String cipher_list syntax follows the openssl cipher strings format.Colon (:) separated list of allowed ciphers as a string \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0certificate Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0file String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key String <pre><code>management_security:\nentropy_source: &lt;str&gt;\npassword:\nminimum_length: &lt;int&gt;\nencryption_key_common: &lt;bool&gt;\nencryption_reversible: &lt;str&gt;\nssl_profiles:\n- name: &lt;str&gt;\ntls_versions: &lt;str&gt;\ncipher_list: &lt;str&gt;\ncertificate:\nfile: &lt;str&gt;\nkey: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#management-ssh","title":"Management SSH","text":"TableYAML Variable Type Required Default Value Restrictions Description management_ssh Dictionary \u00a0\u00a0access_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Standard ACL Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String VRF Name \u00a0\u00a0ipv6_access_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Standard ACL Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String VRF Name \u00a0\u00a0idle_timeout Integer Min: 0Max: 86400 Idle timeout in minutes \u00a0\u00a0cipher List, items: String Cryptographic ciphers for SSH to use \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0key_exchange List, items: String Cryptographic key exchange methods for SSH to use \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0mac List, items: String Cryptographic MAC algorithms for SSH to use \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0hostkey Dictionary \u00a0\u00a0\u00a0\u00a0server List, items: String SSH host key settings \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0enable Boolean Enable SSH daemon \u00a0\u00a0connection Dictionary \u00a0\u00a0\u00a0\u00a0limit Integer Min: 1Max: 100 Maximum total number of SSH sessions to device \u00a0\u00a0\u00a0\u00a0per_host Integer Min: 1Max: 20 Maximum number of SSH sessions to device from a single host \u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique VRF Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean Enable SSH in VRF \u00a0\u00a0log_level String SSH daemon log level <pre><code>management_ssh:\naccess_groups:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\nipv6_access_groups:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\nidle_timeout: &lt;int&gt;\ncipher:\n- &lt;str&gt;\nkey_exchange:\n- &lt;str&gt;\nmac:\n- &lt;str&gt;\nhostkey:\nserver:\n- &lt;str&gt;\nenable: &lt;bool&gt;\nconnection:\nlimit: &lt;int&gt;\nper_host: &lt;int&gt;\nvrfs:\n- name: &lt;str&gt;\nenable: &lt;bool&gt;\nlog_level: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#management-tech-support","title":"Management Tech Support","text":"TableYAML Variable Type Required Default Value Restrictions Description management_tech_support Dictionary \u00a0\u00a0policy_show_tech_support Dictionary \u00a0\u00a0\u00a0\u00a0exclude_commands List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- command String Command to exclude from tech-support \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String text Valid Values:- text- json The supported values for type are platform dependent. \u00a0\u00a0\u00a0\u00a0include_commands List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- command String Command to include in tech-support <pre><code>management_tech_support:\npolicy_show_tech_support:\nexclude_commands:\n- command: &lt;str&gt;\ntype: &lt;str&gt;\ninclude_commands:\n- command: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#name-server","title":"Name Server","text":"TableYAML Variable Type Required Default Value Restrictions Description name_server deprecated Dictionary This key is deprecated. Support will be removed in AVD version v5.0.0. Use ip_name_servers instead. \u00a0\u00a0source Dictionary \u00a0\u00a0\u00a0\u00a0vrf String VRF Name \u00a0\u00a0nodes List, items: String \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String <pre><code>name_server:\nsource:\nvrf: &lt;str&gt;\nnodes:\n- &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Management.html#ntp","title":"NTP","text":"TableYAML Variable Type Required Default Value Restrictions Description ntp Dictionary \u00a0\u00a0local_interface Dictionary \u00a0\u00a0\u00a0\u00a0name String Source interface \u00a0\u00a0\u00a0\u00a0vrf String VRF name \u00a0\u00a0servers List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String IP or hostname e.g., 2.2.2.55, ie.pool.ntp.org \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0burst Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0iburst Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key Integer Min: 1Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interface String Source interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maxpoll Integer Min: 3Max: 17 Value of maxpoll between 3 - 17 (Logarithmic) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0minpoll Integer Min: 3Max: 17 Value of minpoll between 3 - 17 (Logarithmic) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0preferred Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0version Integer Min: 1Max: 4 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String VRF name \u00a0\u00a0authenticate Boolean \u00a0\u00a0authenticate_servers_only Boolean \u00a0\u00a0authentication_keys List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique Min: 1Max: 65534 Key identifier \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hash_algorithm String Valid Values:- md5- sha1 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key String Obfuscated key \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key_type String Valid Values:- 0- 7- 8a \u00a0\u00a0trusted_keys String List of trusted-keys as string ex. 10-12,15 <pre><code>ntp:\nlocal_interface:\nname: &lt;str&gt;\nvrf: &lt;str&gt;\nservers:\n- name: &lt;str&gt;\nburst: &lt;bool&gt;\niburst: &lt;bool&gt;\nkey: &lt;int&gt;\nlocal_interface: &lt;str&gt;\nmaxpoll: &lt;int&gt;\nminpoll: &lt;int&gt;\npreferred: &lt;bool&gt;\nversion: &lt;int&gt;\nvrf: &lt;str&gt;\nauthenticate: &lt;bool&gt;\nauthenticate_servers_only: &lt;bool&gt;\nauthentication_keys:\n- id: &lt;int&gt;\nhash_algorithm: &lt;str&gt;\nkey: &lt;str&gt;\nkey_type: &lt;str&gt;\ntrusted_keys: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html","title":"Monitoring","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#daemon-terminattr","title":"Daemon TerminAttr","text":"<p>You can either provide a list of IPs/FQDNs to target on-premise Cloudvision cluster or use DNS name for your Cloudvision as a Service instance. Streaming to multiple clusters both on-prem and cloud service is supported.</p> <p>Note</p> <p>For TerminAttr version recommendation and EOS compatibility matrix, please refer to the latest TerminAttr Release Notes which always contain the latest recommended versions and minimum required versions per EOS release.</p> TableYAML Variable Type Required Default Value Restrictions Description daemon_terminattr Dictionary \u00a0\u00a0cvaddrs List, items: String Streaming address(es) for CloudVision single cluster- TCP 9910 is used for CV on-prem- TCP 443 is used for CV as a Service \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Server address in the format <code>&lt;ip/fqdn&gt;:&lt;port&gt;</code> \u00a0\u00a0clusters List, items: Dictionary Multiple CloudVision clusters \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Cluster Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cvaddrs List, items: String Streaming address(es) for CloudVision cluster- TCP 9910 is used for CV on-prem- TCP 443 is used for CV as a Service \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Server address in the format <code>&lt;ip/fqdn&gt;:&lt;port&gt;</code> \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cvauth Dictionary Authentication scheme used to connect to CloudVision \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0method String Valid Values:- token- token-secure- key- certs \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0token_file String Token file pathe.g. \u201c/tmp/token\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cert_file String Client certificate file pathe.g. \u201c/persist/secure/ssl/terminattr/primary/certs/client.crt\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ca_file String CA certificate file path (on-prem only)e.g. \u201c/persist/secure/ssl/terminattr/primary/certs/ca.crt\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key_file String Client certificate key file pathe.g. \u201c/persist/secure/ssl/terminattr/primary/keys/client.key\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cvobscurekeyfile Boolean Encrypt the private key used for authentication to CloudVision \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cvproxy String Proxy server through which CloudVision is reachable. Useful when the CloudVision server is hosted in the cloud.The expected form is http://[user:password@]ip:port, e.g.: <code>http://arista:arista@10.83.12.78:3128</code>. Available as of TerminAttr v1.13.0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cvsourceip String Set source IP address in case of in-band managament \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cvsourceintf String Set source interface in case of in-band managament. Available as of TerminAttr v1.23.0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cvvrf String The VRF to use to connect to CloudVision \u00a0\u00a0cvauth Dictionary Authentication scheme used to connect to CloudVision \u00a0\u00a0\u00a0\u00a0method String Valid Values:- token- token-secure- key- certs \u00a0\u00a0\u00a0\u00a0key String \u00a0\u00a0\u00a0\u00a0token_file String Token file pathe.g. \u201c/tmp/token\u201d \u00a0\u00a0\u00a0\u00a0cert_file String Client certificate file pathe.g. \u201c/persist/secure/ssl/terminattr/primary/certs/client.crt\u201d \u00a0\u00a0\u00a0\u00a0ca_file String CA certificate file path (on-prem only)e.g. \u201c/persist/secure/ssl/terminattr/primary/certs/ca.crt\u201d \u00a0\u00a0\u00a0\u00a0key_file String Client certificate key file pathe.g. \u201c/persist/secure/ssl/terminattr/primary/keys/client.key\u201d \u00a0\u00a0cvobscurekeyfile Boolean Encrypt the private key used for authentication to CloudVision \u00a0\u00a0cvproxy String Proxy server through which CloudVision is reachable. Useful when the CloudVision server is hosted in the cloud.The expected form is http://[user:password@]ip:port, e.g.: <code>http://arista:arista@10.83.12.78:3128</code>. Available as of TerminAttr v1.13.0 \u00a0\u00a0cvsourceip String Set source IP address in case of in-band managament \u00a0\u00a0cvsourceintf String Set source interface in case of in-band managament \u00a0\u00a0cvvrf String The VRF to use to connect to CloudVision \u00a0\u00a0cvgnmi Boolean Stream states from EOS GNMI servers (Openconfig) to CloudVision. Available as of TerminAttr v1.13.1 \u00a0\u00a0disable_aaa Boolean Disable AAA authorization and accounting.When setting this flag, all commands pushed from CloudVision are applied directly to the CLI without authorization \u00a0\u00a0grpcaddr String Set the gRPC server address, the default is 127.0.0.1:6042e.g. \u201cMGMT/0.0.0.0:6042\u201d \u00a0\u00a0grpcreadonly Boolean gNMI read-only mode - Disable gnmi.Set() \u00a0\u00a0ingestexclude String Exclude paths from Sysdb on the ingest side.e.g. \u201c/Sysdb/cell/1/agent,/Sysdb/cell/2/agent\u201d \u00a0\u00a0smashexcludes String Exclude paths from the shared memory table.e.g. \u201cale,flexCounter,hardware,kni,pulse,strata\u201d \u00a0\u00a0taillogs String Enable log file collection; /var/log/messages is streamed by default if no path is set.e.g. \u201c/var/log/messages\u201d \u00a0\u00a0ecodhcpaddr String ECO DHCP Collector address or ECO DHCP Fingerprint listening address in standalone mode (default \u201c127.0.0.1:67\u201d) \u00a0\u00a0ipfix Boolean Enable IPFIX provider (TerminAttr default is true).This flag is enabled by default and does not have to be added to the daemon configuration. \u00a0\u00a0ipfixaddr String ECO IPFIX Collector address to listen on to receive IPFIX packets (TerminAttr default \u201c127.0.0.1:4739\u201d). \u00a0\u00a0sflow Boolean Enable sFlow provider (TerminAttr default is true). \u00a0\u00a0sflowaddr String ECO sFlow Collector address to listen on to receive sFlow packets (TerminAttr default \u201c127.0.0.1:6343\u201d). \u00a0\u00a0cvconfig Boolean Subscribe to dynamic device configuration from CloudVision (TerminAttr default is false). \u00a0\u00a0cvcompression String The default compression scheme when streaming to CloudVision is gzip since TerminAttr 1.6.1 and CVP 2019.1.0.There is no need to change the compression scheme. \u00a0\u00a0ingestauth_key String Deprecated key. Use <code>cvauth</code> instead. \u00a0\u00a0ingestgrpcurl Dictionary Deprecated key. Use <code>cvaddrs</code> instead. \u00a0\u00a0\u00a0\u00a0ips List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0port Integer \u00a0\u00a0ingestvrf String Deprecated key. Use <code>cvvrf</code> instead. <pre><code>daemon_terminattr:\ncvaddrs:\n- &lt;str&gt;\nclusters:\n- name: &lt;str&gt;\ncvaddrs:\n- &lt;str&gt;\ncvauth:\nmethod: &lt;str&gt;\nkey: &lt;str&gt;\ntoken_file: &lt;str&gt;\ncert_file: &lt;str&gt;\nca_file: &lt;str&gt;\nkey_file: &lt;str&gt;\ncvobscurekeyfile: &lt;bool&gt;\ncvproxy: &lt;str&gt;\ncvsourceip: &lt;str&gt;\ncvsourceintf: &lt;str&gt;\ncvvrf: &lt;str&gt;\ncvauth:\nmethod: &lt;str&gt;\nkey: &lt;str&gt;\ntoken_file: &lt;str&gt;\ncert_file: &lt;str&gt;\nca_file: &lt;str&gt;\nkey_file: &lt;str&gt;\ncvobscurekeyfile: &lt;bool&gt;\ncvproxy: &lt;str&gt;\ncvsourceip: &lt;str&gt;\ncvsourceintf: &lt;str&gt;\ncvvrf: &lt;str&gt;\ncvgnmi: &lt;bool&gt;\ndisable_aaa: &lt;bool&gt;\ngrpcaddr: &lt;str&gt;\ngrpcreadonly: &lt;bool&gt;\ningestexclude: &lt;str&gt;\nsmashexcludes: &lt;str&gt;\ntaillogs: &lt;str&gt;\necodhcpaddr: &lt;str&gt;\nipfix: &lt;bool&gt;\nipfixaddr: &lt;str&gt;\nsflow: &lt;bool&gt;\nsflowaddr: &lt;str&gt;\ncvconfig: &lt;bool&gt;\ncvcompression: &lt;str&gt;\ningestauth_key: &lt;str&gt;\ningestgrpcurl:\nips:\n- &lt;str&gt;\nport: &lt;int&gt;\ningestvrf: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#custom-daemons","title":"Custom Daemons","text":"TableYAML Variable Type Required Default Value Restrictions Description daemons List, items: Dictionary \u00a0\u00a0- name String Required, Unique Daemon Name \u00a0\u00a0\u00a0\u00a0exec String Required command to run as a daemon \u00a0\u00a0\u00a0\u00a0enabled Boolean True <pre><code>daemons:\n- name: &lt;str&gt;\nexec: &lt;str&gt;\nenabled: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#event-handlers","title":"Event Handlers","text":"TableYAML Variable Type Required Default Value Restrictions Description event_handlers List, items: Dictionary \u00a0\u00a0- name String Required, Unique Event Handler Name \u00a0\u00a0\u00a0\u00a0action_type String Valid Values:- bash- increment- log \u00a0\u00a0\u00a0\u00a0action String Command to execute \u00a0\u00a0\u00a0\u00a0delay Integer Event-handler delay in seconds \u00a0\u00a0\u00a0\u00a0trigger String Valid Values:- on-logging- on-startup-config Configure event trigger condition. \u00a0\u00a0\u00a0\u00a0regex String Regular expression to use for searching log messages. Required for on-logging trigger \u00a0\u00a0\u00a0\u00a0asynchronous Boolean False Set the action to be non-blocking. <pre><code>event_handlers:\n- name: &lt;str&gt;\naction_type: &lt;str&gt;\naction: &lt;str&gt;\ndelay: &lt;int&gt;\ntrigger: &lt;str&gt;\nregex: &lt;str&gt;\nasynchronous: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#event-monitor","title":"Event Monitor","text":"TableYAML Variable Type Required Default Value Restrictions Description event_monitor Dictionary \u00a0\u00a0enabled Boolean <pre><code>event_monitor:\nenabled: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#load-interval","title":"Load Interval","text":"TableYAML Variable Type Required Default Value Restrictions Description load_interval Dictionary \u00a0\u00a0default Integer Default load interval in seconds <pre><code>load_interval:\ndefault: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#logging","title":"Logging","text":"TableYAML Variable Type Required Default Value Restrictions Description logging Dictionary \u00a0\u00a0console String Valid Values:- debugging- informational- notifications- warnings- errors- critical- alerts- emergencies- disabled Console logging severity level \u00a0\u00a0monitor String Valid Values:- debugging- informational- notifications- warnings- errors- critical- alerts- emergencies- disabled Monitor logging severity level \u00a0\u00a0buffered Dictionary \u00a0\u00a0\u00a0\u00a0size Integer Min: 10Max: 2147483647 \u00a0\u00a0\u00a0\u00a0level String Valid Values:- alerts- critical- debugging- emergencies- errors- informational- notifications- warnings- disabled Buffer logging severity level \u00a0\u00a0trap String Valid Values:- alerts- critical- debugging- emergencies- errors- informational- notifications- system- warnings- disabled Trap logging severity level \u00a0\u00a0synchronous Dictionary \u00a0\u00a0\u00a0\u00a0level String critical Valid Values:- alerts- all- critical- debugging- emergencies- errors- informational- notifications- warnings- disabled Synchronous logging severity level \u00a0\u00a0format Dictionary \u00a0\u00a0\u00a0\u00a0timestamp String Valid Values:- high-resolution- traditional- traditional timezone- traditional year- traditional timezone year- traditional year timezone Timestamp format \u00a0\u00a0\u00a0\u00a0hostname String Valid Values:- fqdn- ipv4 Hostname format \u00a0\u00a0\u00a0\u00a0sequence_numbers Boolean Add sequence numbers to log messages \u00a0\u00a0facility String Valid Values:- auth- cron- daemon- kern- local0- local1- local2- local3- local4- local5- local6- local7- lpr- mail- news- sys9- sys10- sys11- sys12- sys13- sys14- syslog- user- uucp \u00a0\u00a0source_interface String Source Interface Name \u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique VRF name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_interface String Source interface name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hosts List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Syslog server name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0protocol String udp Valid Values:- tcp- udp \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ports List, items: Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;int&gt; Integer \u00a0\u00a0policy Dictionary \u00a0\u00a0\u00a0\u00a0match Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0match_lists List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Match list \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String Valid Values:- discard <pre><code>logging:\nconsole: &lt;str&gt;\nmonitor: &lt;str&gt;\nbuffered:\nsize: &lt;int&gt;\nlevel: &lt;str&gt;\ntrap: &lt;str&gt;\nsynchronous:\nlevel: &lt;str&gt;\nformat:\ntimestamp: &lt;str&gt;\nhostname: &lt;str&gt;\nsequence_numbers: &lt;bool&gt;\nfacility: &lt;str&gt;\nsource_interface: &lt;str&gt;\nvrfs:\n- name: &lt;str&gt;\nsource_interface: &lt;str&gt;\nhosts:\n- name: &lt;str&gt;\nprotocol: &lt;str&gt;\nports:\n- &lt;int&gt;\npolicy:\nmatch:\nmatch_lists:\n- name: &lt;str&gt;\naction: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#monitor-connectivity","title":"Monitor Connectivity","text":"TableYAML Variable Type Required Default Value Restrictions Description monitor_connectivity Dictionary \u00a0\u00a0shutdown Boolean \u00a0\u00a0interval Integer \u00a0\u00a0interface_sets List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interfaces String Interface range(s) should be of same type, Ethernet, Loopback, Management etc.Multiple interface ranges can be specified separated by \u201c,\u201d \u00a0\u00a0local_interfaces String \u00a0\u00a0hosts List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Host Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interfaces String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0url String \u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String VRF Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interface_sets List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interfaces String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interfaces String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hosts List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Host name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interfaces String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0url String <pre><code>monitor_connectivity:\nshutdown: &lt;bool&gt;\ninterval: &lt;int&gt;\ninterface_sets:\n- name: &lt;str&gt;\ninterfaces: &lt;str&gt;\nlocal_interfaces: &lt;str&gt;\nhosts:\n- name: &lt;str&gt;\ndescription: &lt;str&gt;\nip: &lt;str&gt;\nlocal_interfaces: &lt;str&gt;\nurl: &lt;str&gt;\nvrfs:\n- name: &lt;str&gt;\ndescription: &lt;str&gt;\ninterface_sets:\n- name: &lt;str&gt;\ninterfaces: &lt;str&gt;\nlocal_interfaces: &lt;str&gt;\nhosts:\n- name: &lt;str&gt;\ndescription: &lt;str&gt;\nip: &lt;str&gt;\nlocal_interfaces: &lt;str&gt;\nurl: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#monitor-sessions","title":"Monitor Sessions","text":"TableYAML Variable Type Required Default Value Restrictions Description monitor_sessions List, items: Dictionary \u00a0\u00a0- name String Required Session Name \u00a0\u00a0\u00a0\u00a0sources List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Interface name, range or comma separated list \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction String Valid Values:- rx- tx- both \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Valid Values:- ip- ipv6- mac \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String ACL Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority Integer \u00a0\u00a0\u00a0\u00a0destinations List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u2018cpu\u2019 or interface name, range or comma separated list \u00a0\u00a0\u00a0\u00a0encapsulation_gre_metadata_tx Boolean \u00a0\u00a0\u00a0\u00a0header_remove_size Integer Number of bytes to remove from header \u00a0\u00a0\u00a0\u00a0access_group Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Valid Values:- ip- ipv6- mac \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String ACL Name \u00a0\u00a0\u00a0\u00a0rate_limit_per_ingress_chip String Ratelimit and unit as string.Examples:  \u201c100000 bps\u201d  \u201c100 kbps\u201d  \u201c10 mbps\u201d \u00a0\u00a0\u00a0\u00a0rate_limit_per_egress_chip String Ratelimit and unit as string.Examples:  \u201c100000 bps\u201d  \u201c100 kbps\u201d  \u201c10 mbps\u201d \u00a0\u00a0\u00a0\u00a0sample Integer \u00a0\u00a0\u00a0\u00a0truncate Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0size Integer Size in bytes <pre><code>monitor_sessions:\n- name: &lt;str&gt;\nsources:\n- name: &lt;str&gt;\ndirection: &lt;str&gt;\naccess_group:\ntype: &lt;str&gt;\nname: &lt;str&gt;\npriority: &lt;int&gt;\ndestinations:\n- &lt;str&gt;\nencapsulation_gre_metadata_tx: &lt;bool&gt;\nheader_remove_size: &lt;int&gt;\naccess_group:\ntype: &lt;str&gt;\nname: &lt;str&gt;\nrate_limit_per_ingress_chip: &lt;str&gt;\nrate_limit_per_egress_chip: &lt;str&gt;\nsample: &lt;int&gt;\ntruncate:\nenabled: &lt;bool&gt;\nsize: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#sflow","title":"Sflow","text":"TableYAML Variable Type Required Default Value Restrictions Description sflow Dictionary \u00a0\u00a0sample Integer \u00a0\u00a0dangerous Boolean \u00a0\u00a0polling_interval Integer Polling interval in seconds \u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0destinations List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- destination String Required, Unique Sflow Destination IP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port Integer Port Number \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source String Source IP Address.\u201csource\u201d and \u201csource_interface\u201d are mutually exclusive. If both are defined, \u201csource_interface\u201d takes precedence. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_interface String Source Interface \u00a0\u00a0destinations List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- destination String Required, Unique Sflow Destination IP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port Integer Port Number \u00a0\u00a0source String Source IP Address.\u201csource\u201d and \u201csource_interface\u201d are mutually exclusive. If both are defined, \u201csource_interface\u201d takes precedence. \u00a0\u00a0source_interface String Source Interface \u00a0\u00a0extensions List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Extension Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean Required Enable or Disable Extension \u00a0\u00a0interface Dictionary \u00a0\u00a0\u00a0\u00a0disable Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default Boolean \u00a0\u00a0run Boolean \u00a0\u00a0hardware_acceleration Dictionary \u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0sample Integer \u00a0\u00a0\u00a0\u00a0modules List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean True <pre><code>sflow:\nsample: &lt;int&gt;\ndangerous: &lt;bool&gt;\npolling_interval: &lt;int&gt;\nvrfs:\n- name: &lt;str&gt;\ndestinations:\n- destination: &lt;str&gt;\nport: &lt;int&gt;\nsource: &lt;str&gt;\nsource_interface: &lt;str&gt;\ndestinations:\n- destination: &lt;str&gt;\nport: &lt;int&gt;\nsource: &lt;str&gt;\nsource_interface: &lt;str&gt;\nextensions:\n- name: &lt;str&gt;\nenabled: &lt;bool&gt;\ninterface:\ndisable:\ndefault: &lt;bool&gt;\nrun: &lt;bool&gt;\nhardware_acceleration:\nenabled: &lt;bool&gt;\nsample: &lt;int&gt;\nmodules:\n- name: &lt;str&gt;\nenabled: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#snmp-server","title":"Snmp Server","text":"<p>SNMP settings</p> TableYAML Variable Type Required Default Value Restrictions Description snmp_server Dictionary \u00a0\u00a0engine_ids Dictionary \u00a0\u00a0\u00a0\u00a0local String Engine ID in hexadecimal \u00a0\u00a0\u00a0\u00a0remotes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id String Remote engine ID in hexadecimal \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address String Hostname or IP of remote engine \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0udp_port Integer \u00a0\u00a0contact String SNMP contact \u00a0\u00a0location String SNMP location \u00a0\u00a0communities List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Community name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access String Valid Values:- ro- rw \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_list_ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String IPv4 access list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_list_ipv6 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String IPv6 access list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0view String \u00a0\u00a0ipv4_acls List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String IPv4 access list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0ipv6_acls List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String IPv6 access list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0local_interfaces List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Interface name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0views List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String SNMP view name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mib_family_name String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0included Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0MIB_family_name deprecated String This key is deprecated. Support will be removed in AVD version 5.0.0. Use mib_family_name instead. \u00a0\u00a0groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0version String Valid Values:- v1- v2c- v3 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0authentication String Valid Values:- auth- noauth- priv \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0read String Read view \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0write String Write view \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0notify String Notify view \u00a0\u00a0users List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Username \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0group String Group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_address String Hostname or ip of remote engineThe remote_address and udp_port are used for remote users \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0udp_port Integer udp_port will not be used if no remote_address is configured \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0version String Valid Values:- v1- v2c- v3 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0localized String Engine ID in hexadecimal for localizing auth and/or priv \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0auth String Hash algorithm \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0auth_passphrase String Hashed authentication passphrase if localized is used else cleartext authentication passphrase \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priv String Encryption algorithm \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priv_passphrase String Hashed privacy passphrase if localized is used else cleartext privacy passphrase \u00a0\u00a0hosts List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- host String Host IP address or name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0version String Valid Values:- 1- 2c- 3 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0community String Community name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0users List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- username String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0authentication_level String Valid Values:- auth- noauth- priv \u00a0\u00a0traps Dictionary \u00a0\u00a0\u00a0\u00a0enable Boolean False Enable or disable all snmp-traps \u00a0\u00a0\u00a0\u00a0snmp_traps List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Enable or disable specific snmp-traps and their sub_trapsExamples:- \u201cbgp\u201d- \u201cbgp established\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean True \u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String VRF name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean <pre><code>snmp_server:\nengine_ids:\nlocal: &lt;str&gt;\nremotes:\n- id: &lt;str&gt;\naddress: &lt;str&gt;\nudp_port: &lt;int&gt;\ncontact: &lt;str&gt;\nlocation: &lt;str&gt;\ncommunities:\n- name: &lt;str&gt;\naccess: &lt;str&gt;\naccess_list_ipv4:\nname: &lt;str&gt;\naccess_list_ipv6:\nname: &lt;str&gt;\nview: &lt;str&gt;\nipv4_acls:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\nipv6_acls:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\nlocal_interfaces:\n- name: &lt;str&gt;\nvrf: &lt;str&gt;\nviews:\n- name: &lt;str&gt;\nmib_family_name: &lt;str&gt;\nincluded: &lt;bool&gt;\nMIB_family_name: &lt;str&gt;\ngroups:\n- name: &lt;str&gt;\nversion: &lt;str&gt;\nauthentication: &lt;str&gt;\nread: &lt;str&gt;\nwrite: &lt;str&gt;\nnotify: &lt;str&gt;\nusers:\n- name: &lt;str&gt;\ngroup: &lt;str&gt;\nremote_address: &lt;str&gt;\nudp_port: &lt;int&gt;\nversion: &lt;str&gt;\nlocalized: &lt;str&gt;\nauth: &lt;str&gt;\nauth_passphrase: &lt;str&gt;\npriv: &lt;str&gt;\npriv_passphrase: &lt;str&gt;\nhosts:\n- host: &lt;str&gt;\nvrf: &lt;str&gt;\nversion: &lt;str&gt;\ncommunity: &lt;str&gt;\nusers:\n- username: &lt;str&gt;\nauthentication_level: &lt;str&gt;\ntraps:\nenable: &lt;bool&gt;\nsnmp_traps:\n- name: &lt;str&gt;\nenabled: &lt;bool&gt;\nvrfs:\n- name: &lt;str&gt;\nenable: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#tap-aggregation","title":"Tap Aggregation","text":"TableYAML Variable Type Required Default Value Restrictions Description tap_aggregation Dictionary \u00a0\u00a0mode Dictionary \u00a0\u00a0\u00a0\u00a0exclusive Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String Profile Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0no_errdisable List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Interface name e.g Ethernet1, Port-Channel1 \u00a0\u00a0encapsulation_dot1br_strip Boolean \u00a0\u00a0encapsulation_vn_tag_strip Boolean \u00a0\u00a0protocol_lldp_trap Boolean \u00a0\u00a0truncation_size Integer Allowed truncation_size values vary depending on the platform \u00a0\u00a0mac Dictionary \u00a0\u00a0\u00a0\u00a0timestamp Dictionary mac.timestamp.replace_source_mac and mac.timestamp.header.format are mutually exclsuive. If both are defined, replace_source_mac takes precedence \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0replace_source_mac Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0header Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0format String Valid Values:- 48-bit- 64-bit \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0eth_type Integer EtherType \u00a0\u00a0\u00a0\u00a0fcs_append Boolean mac.fcs_append and mac.fcs_error are mutually exclusive. If both are defined, mac.fcs_append takes precedence \u00a0\u00a0\u00a0\u00a0fcs_error String Valid Values:- correct- discard- pass-through <pre><code>tap_aggregation:\nmode:\nexclusive:\nenabled: &lt;bool&gt;\nprofile: &lt;str&gt;\nno_errdisable:\n- &lt;str&gt;\nencapsulation_dot1br_strip: &lt;bool&gt;\nencapsulation_vn_tag_strip: &lt;bool&gt;\nprotocol_lldp_trap: &lt;bool&gt;\ntruncation_size: &lt;int&gt;\nmac:\ntimestamp:\nreplace_source_mac: &lt;bool&gt;\nheader:\nformat: &lt;str&gt;\neth_type: &lt;int&gt;\nfcs_append: &lt;bool&gt;\nfcs_error: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Monitoring.html#trackers","title":"Trackers","text":"TableYAML Variable Type Required Default Value Restrictions Description trackers List, items: Dictionary \u00a0\u00a0- name String Required, Unique Name of tracker object \u00a0\u00a0\u00a0\u00a0interface String Required Name of tracked interface \u00a0\u00a0\u00a0\u00a0tracked_property String line-protocol Property to track <pre><code>trackers:\n- name: &lt;str&gt;\ninterface: &lt;str&gt;\ntracked_property: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Multicast.html","title":"Multicast","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Multicast.html#ip-igmp-snooping","title":"IP IGMP Snooping","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_igmp_snooping Dictionary \u00a0\u00a0globally_enabled Boolean True \u00a0\u00a0robustness_variable Integer \u00a0\u00a0restart_query_interval Integer \u00a0\u00a0interface_restart_query Integer \u00a0\u00a0fast_leave Boolean \u00a0\u00a0querier Dictionary \u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0address String IP Address \u00a0\u00a0\u00a0\u00a0query_interval Integer \u00a0\u00a0\u00a0\u00a0max_response_time Integer \u00a0\u00a0\u00a0\u00a0last_member_query_interval Integer \u00a0\u00a0\u00a0\u00a0last_member_query_count Integer \u00a0\u00a0\u00a0\u00a0startup_query_interval Integer \u00a0\u00a0\u00a0\u00a0startup_query_count Integer \u00a0\u00a0\u00a0\u00a0version Integer \u00a0\u00a0proxy Boolean \u00a0\u00a0vlans List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique VLAN ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0querier Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address String IP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0query_interval Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_response_time Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0last_member_query_interval Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0last_member_query_count Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0startup_query_interval Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0startup_query_count Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0version Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_groups Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fast_leave Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0proxy Boolean Global proxy settings should be enabled before enabling per-vlan <pre><code>ip_igmp_snooping:\nglobally_enabled: &lt;bool&gt;\nrobustness_variable: &lt;int&gt;\nrestart_query_interval: &lt;int&gt;\ninterface_restart_query: &lt;int&gt;\nfast_leave: &lt;bool&gt;\nquerier:\nenabled: &lt;bool&gt;\naddress: &lt;str&gt;\nquery_interval: &lt;int&gt;\nmax_response_time: &lt;int&gt;\nlast_member_query_interval: &lt;int&gt;\nlast_member_query_count: &lt;int&gt;\nstartup_query_interval: &lt;int&gt;\nstartup_query_count: &lt;int&gt;\nversion: &lt;int&gt;\nproxy: &lt;bool&gt;\nvlans:\n- id: &lt;int&gt;\nenabled: &lt;bool&gt;\nquerier:\nenabled: &lt;bool&gt;\naddress: &lt;str&gt;\nquery_interval: &lt;int&gt;\nmax_response_time: &lt;int&gt;\nlast_member_query_interval: &lt;int&gt;\nlast_member_query_count: &lt;int&gt;\nstartup_query_interval: &lt;int&gt;\nstartup_query_count: &lt;int&gt;\nversion: &lt;int&gt;\nmax_groups: &lt;int&gt;\nfast_leave: &lt;bool&gt;\nproxy: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Multicast.html#router-multicast","title":"Router Multicast","text":"TableYAML Variable Type Required Default Value Restrictions Description router_multicast Dictionary \u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0counters Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate_period_decay Integer Min: 0Max: 600 Rate in seconds \u00a0\u00a0\u00a0\u00a0routing Boolean \u00a0\u00a0\u00a0\u00a0multipath String Valid Values:- none- deterministic- deterministic color- deterministic router-id \u00a0\u00a0\u00a0\u00a0software_forwarding String Valid Values:- kernel- sfe \u00a0\u00a0\u00a0\u00a0rpf Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0routes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- source_prefix String Required Source address A.B.C.D or Source prefix A.B.C.D/E \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0destinations List, items: Dictionary Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- nexthop String Required Next-hop IP address or interface name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0distance Integer Min: 1Max: 255 Administrative distance for this route \u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0routing Boolean <pre><code>router_multicast:\nipv4:\ncounters:\nrate_period_decay: &lt;int&gt;\nrouting: &lt;bool&gt;\nmultipath: &lt;str&gt;\nsoftware_forwarding: &lt;str&gt;\nrpf:\nroutes:\n- source_prefix: &lt;str&gt;\ndestinations:\n- nexthop: &lt;str&gt;\ndistance: &lt;int&gt;\nvrfs:\n- name: &lt;str&gt;\nipv4:\nrouting: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Multicast.html#router-pim-sparse-mode","title":"Router PIM Sparse Mode","text":"TableYAML Variable Type Required Default Value Restrictions Description router_pim_sparse_mode Dictionary \u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0bfd Boolean Enable/Disable BFD \u00a0\u00a0\u00a0\u00a0ssm_range String IPv4 Prefix associated with SSM \u00a0\u00a0\u00a0\u00a0rp_addresses List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- address String Required, Unique RP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0groups List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_lists List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority Integer Min: 0Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hashmask Integer Min: 0Max: 32 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0override Boolean \u00a0\u00a0\u00a0\u00a0anycast_rps List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- address String Required, Unique Anycast RP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0other_anycast_rp_addresses List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- address String Required, Unique Other Anycast RP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0register_count Integer \u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String VRF Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd Boolean Enable/Disable BFD \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rp_addresses List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- address String Required RP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0groups List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_lists List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority Integer Min: 0Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hashmask Integer Min: 0Max: 32 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0override Boolean <pre><code>router_pim_sparse_mode:\nipv4:\nbfd: &lt;bool&gt;\nssm_range: &lt;str&gt;\nrp_addresses:\n- address: &lt;str&gt;\ngroups:\n- &lt;str&gt;\naccess_lists:\n- &lt;str&gt;\npriority: &lt;int&gt;\nhashmask: &lt;int&gt;\noverride: &lt;bool&gt;\nanycast_rps:\n- address: &lt;str&gt;\nother_anycast_rp_addresses:\n- address: &lt;str&gt;\nregister_count: &lt;int&gt;\nvrfs:\n- name: &lt;str&gt;\nipv4:\nbfd: &lt;bool&gt;\nrp_addresses:\n- address: &lt;str&gt;\ngroups:\n- &lt;str&gt;\naccess_lists:\n- &lt;str&gt;\npriority: &lt;int&gt;\nhashmask: &lt;int&gt;\noverride: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/PTP.html","title":"PTP","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/PTP.html#ptp_1","title":"PTP","text":"TableYAML Variable Type Required Default Value Restrictions Description ptp Dictionary \u00a0\u00a0mode String Valid Values:- boundary- transparent \u00a0\u00a0forward_unicast Boolean \u00a0\u00a0clock_identity String The clock-id in xx:xx:xx:xx:xx:xx format \u00a0\u00a0source Dictionary \u00a0\u00a0\u00a0\u00a0ip String Source IP \u00a0\u00a0priority1 Integer Min: 0Max: 255 \u00a0\u00a0priority2 Integer Min: 0Max: 255 \u00a0\u00a0ttl Integer Min: 1Max: 254 \u00a0\u00a0domain Integer Min: 0Max: 255 \u00a0\u00a0message_type Dictionary \u00a0\u00a0\u00a0\u00a0general Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Integer \u00a0\u00a0\u00a0\u00a0event Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Integer \u00a0\u00a0monitor Dictionary \u00a0\u00a0\u00a0\u00a0enabled Boolean True \u00a0\u00a0\u00a0\u00a0threshold Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset_from_master Integer Min: 0Max: 1000000000 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mean_path_delay Integer Min: 0Max: 1000000000 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0drop Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset_from_master Integer Min: 0Max: 1000000000 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mean_path_delay Integer Min: 0Max: 1000000000 \u00a0\u00a0\u00a0\u00a0missing_message Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0intervals Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Integer Min: 2Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0follow_up Integer Min: 2Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync Integer Min: 2Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sequence_ids Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Integer Min: 2Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay_resp Integer Min: 2Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0follow_up Integer Min: 2Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync Integer Min: 2Max: 255 <pre><code>ptp:\nmode: &lt;str&gt;\nforward_unicast: &lt;bool&gt;\nclock_identity: &lt;str&gt;\nsource:\nip: &lt;str&gt;\npriority1: &lt;int&gt;\npriority2: &lt;int&gt;\nttl: &lt;int&gt;\ndomain: &lt;int&gt;\nmessage_type:\ngeneral:\ndscp: &lt;int&gt;\nevent:\ndscp: &lt;int&gt;\nmonitor:\nenabled: &lt;bool&gt;\nthreshold:\noffset_from_master: &lt;int&gt;\nmean_path_delay: &lt;int&gt;\ndrop:\noffset_from_master: &lt;int&gt;\nmean_path_delay: &lt;int&gt;\nmissing_message:\nintervals:\nannounce: &lt;int&gt;\nfollow_up: &lt;int&gt;\nsync: &lt;int&gt;\nsequence_ids:\nenabled: &lt;bool&gt;\nannounce: &lt;int&gt;\ndelay_resp: &lt;int&gt;\nfollow_up: &lt;int&gt;\nsync: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Patch%20Panel.html","title":"Patch Panel","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Patch%20Panel.html#patch-panel_1","title":"Patch Panel","text":"TableYAML Variable Type Required Default Value Restrictions Description patch_panel Dictionary \u00a0\u00a0patches List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0connectors List, items: Dictionary Min Length: 2Max Length: 2 Must have exactly two connectors to a patch of which at least one must be of type \u201cinterface\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Required Valid Values:- interface- pseudowire \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0endpoint String Required String with relevant endpoint depending on type.Examples:- \u201cEthernet1\u201d- \u201cEthernet1 dot1q vlan 123\u201d- \u201cbgp vpws TENANT_A pseudowire VPWS_PW_1\u201d- \u201cldp LDP_PW_1\u201d <pre><code>patch_panel:\npatches:\n- name: &lt;str&gt;\nenabled: &lt;bool&gt;\nconnectors:\n- id: &lt;str&gt;\ntype: &lt;str&gt;\nendpoint: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Power%20over%20Ethernet.html","title":"Power over Ethernet","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Power%20over%20Ethernet.html#poe","title":"PoE","text":"TableYAML Variable Type Required Default Value Restrictions Description poe Dictionary \u00a0\u00a0reboot Dictionary Set the global PoE power behavior for PoE ports when the system is rebooted. \u00a0\u00a0\u00a0\u00a0action String Valid Values:- power-off- maintain PoE action for interface. By default in EOS, reboot action is set to power-off. \u00a0\u00a0interface_shutdown Dictionary Set the global PoE power behavior for PoE ports when ports are admin down \u00a0\u00a0\u00a0\u00a0action String Valid Values:- power-off- maintain PoE action for interface. By default in EOS, interface shutdown action is set to maintain. <pre><code>poe:\nreboot:\naction: &lt;str&gt;\ninterface_shutdown:\naction: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Prompt.html","title":"Prompt","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Prompt.html#prompt_1","title":"Prompt","text":"TableYAML Variable Type Required Default Value Restrictions Description prompt String <pre><code>prompt: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Quality%20of%20Service.html","title":"Quality of Service","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Quality%20of%20Service.html#qos-class-maps","title":"QOS Class-maps","text":"TableYAML Variable Type Required Default Value Restrictions Description class_maps Dictionary \u00a0\u00a0pbr List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Class-Map Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group String Standard Access-List Name \u00a0\u00a0qos List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Class-Map Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan Integer VLAN value(s) or range(s) of VLAN values \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cos Integer CoS value(s) or range(s) of CoS values \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group String IPv4 Access-List Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group String IPv6 Access-List Name <pre><code>class_maps:\npbr:\n- name: &lt;str&gt;\nip:\naccess_group: &lt;str&gt;\nqos:\n- name: &lt;str&gt;\nvlan: &lt;int&gt;\ncos: &lt;int&gt;\nip:\naccess_group: &lt;str&gt;\nipv6:\naccess_group: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Quality%20of%20Service.html#policy-maps","title":"Policy Maps","text":"TableYAML Variable Type Required Default Value Restrictions Description policy_maps Dictionary \u00a0\u00a0pbr List, items: Dictionary PBR Policy-Maps \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Policy-Map Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0classes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Class Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0index Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0drop Boolean \u2018drop\u2019 and \u2018set\u2019 are mutually exclusive \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0set Dictionary Set Nexthop\u2018drop\u2019 and \u2018set\u2019 are mutually exclusive \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nexthop Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_address String IPv4 or IPv6 Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0recursive Boolean \u00a0\u00a0qos List, items: Dictionary QOS Policy-Maps \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Policy-Map Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0classes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Class Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0set Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cos Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0traffic_class Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0drop_precedence Integer <pre><code>policy_maps:\npbr:\n- name: &lt;str&gt;\nclasses:\n- name: &lt;str&gt;\nindex: &lt;int&gt;\ndrop: &lt;bool&gt;\nset:\nnexthop:\nip_address: &lt;str&gt;\nrecursive: &lt;bool&gt;\nqos:\n- name: &lt;str&gt;\nclasses:\n- name: &lt;str&gt;\nset:\ncos: &lt;int&gt;\ndscp: &lt;str&gt;\ntraffic_class: &lt;int&gt;\ndrop_precedence: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Quality%20of%20Service.html#qos","title":"QOS","text":"TableYAML Variable Type Required Default Value Restrictions Description qos Dictionary \u00a0\u00a0map Dictionary \u00a0\u00a0\u00a0\u00a0cos List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Example: \u201c0 1 to traffic-class 1\u201d \u00a0\u00a0\u00a0\u00a0dscp List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Example: \u201c8 9 10 to traffic-class 1\u201d \u00a0\u00a0\u00a0\u00a0traffic_class List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Example: \u201c1 to dscp 32\u201d \u00a0\u00a0rewrite_dscp Boolean <pre><code>qos:\nmap:\ncos:\n- &lt;str&gt;\ndscp:\n- &lt;str&gt;\ntraffic_class:\n- &lt;str&gt;\nrewrite_dscp: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Quality%20of%20Service.html#qos-profiles","title":"QOS Profiles","text":"TableYAML Variable Type Required Default Value Restrictions Description qos_profiles List, items: Dictionary \u00a0\u00a0- name String Required, Unique Profile-Name \u00a0\u00a0\u00a0\u00a0trust String Valid Values:- cos- dscp- disabled \u00a0\u00a0\u00a0\u00a0cos Integer \u00a0\u00a0\u00a0\u00a0dscp Integer \u00a0\u00a0\u00a0\u00a0shape Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate String Supported options are platform dependentExample: \u201c&lt; rate &gt; kbps\u201d, \u201c1-100 percent\u201d, \u201c&lt; rate &gt; pps\u201d \u00a0\u00a0\u00a0\u00a0service_policy Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0qos_input String Policy-map name \u00a0\u00a0\u00a0\u00a0tx_queues List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique TX-Queue ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bandwidth_percent Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bandwidth_guaranteed_percent Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority String Valid Values:- priority strict- no priority \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shape Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate String Supported options are platform dependentExample: \u201c&lt; rate &gt; kbps\u201d, \u201c1-100 percent\u201d, \u201c&lt; rate &gt; pps\u201d \u00a0\u00a0\u00a0\u00a0uc_tx_queues List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique UC TX queue ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bandwidth_percent Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bandwidth_guaranteed_percent Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority String Valid Values:- priority strict- no priority \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shape Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate String Supported options are platform dependentExample: \u201c&lt; rate &gt; kbps\u201d, \u201c1-100 percent\u201d, \u201c&lt; rate &gt; pps\u201d \u00a0\u00a0\u00a0\u00a0mc_tx_queues List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique MC TX queue ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bandwidth_percent Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bandwidth_guaranteed_percent Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority String Valid Values:- priority strict- no priority \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shape Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate String Supported options are platform dependentExample: \u201c&lt; rate &gt; kbps\u201d, \u201c1-100 percent\u201d, \u201c&lt; rate &gt; pps\u201d <pre><code>qos_profiles:\n- name: &lt;str&gt;\ntrust: &lt;str&gt;\ncos: &lt;int&gt;\ndscp: &lt;int&gt;\nshape:\nrate: &lt;str&gt;\nservice_policy:\ntype:\nqos_input: &lt;str&gt;\ntx_queues:\n- id: &lt;int&gt;\nbandwidth_percent: &lt;int&gt;\nbandwidth_guaranteed_percent: &lt;int&gt;\npriority: &lt;str&gt;\nshape:\nrate: &lt;str&gt;\nuc_tx_queues:\n- id: &lt;int&gt;\nbandwidth_percent: &lt;int&gt;\nbandwidth_guaranteed_percent: &lt;int&gt;\npriority: &lt;str&gt;\nshape:\nrate: &lt;str&gt;\nmc_tx_queues:\n- id: &lt;int&gt;\nbandwidth_percent: &lt;int&gt;\nbandwidth_guaranteed_percent: &lt;int&gt;\npriority: &lt;str&gt;\nshape:\nrate: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Quality%20of%20Service.html#queue-monitor-length","title":"Queue Monitor Length","text":"TableYAML Variable Type Required Default Value Restrictions Description queue_monitor_length Dictionary \u00a0\u00a0enabled Boolean \u201cenabled: true\u201d will be required in AVD4.0.In AVD3.x default is true as long as queue_monitor_length is defined and not None \u00a0\u00a0log Integer Logging interval in seconds \u00a0\u00a0notifying Boolean should only be used for platforms supporting the \u201cqueue-monitor length notifying\u201d CLI \u00a0\u00a0cpu Dictionary \u00a0\u00a0\u00a0\u00a0thresholds Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0high Integer Required \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0low Integer <pre><code>queue_monitor_length:\nenabled: &lt;bool&gt;\nlog: &lt;int&gt;\nnotifying: &lt;bool&gt;\ncpu:\nthresholds:\nhigh: &lt;int&gt;\nlow: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Quality%20of%20Service.html#queue-monitor-streaming","title":"Queue Monitor Streaming","text":"TableYAML Variable Type Required Default Value Restrictions Description queue_monitor_streaming Dictionary \u00a0\u00a0enable Boolean \u00a0\u00a0ip_access_group String Name of IP ACL \u00a0\u00a0ipv6_access_group String Name of IPv6 ACL \u00a0\u00a0max_connections Integer Min: 1Max: 100 \u00a0\u00a0vrf String <pre><code>queue_monitor_streaming:\nenable: &lt;bool&gt;\nip_access_group: &lt;str&gt;\nipv6_access_group: &lt;str&gt;\nmax_connections: &lt;int&gt;\nvrf: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html","title":"Routing","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#arp","title":"ARP","text":"TableYAML Variable Type Required Default Value Restrictions Description arp Dictionary \u00a0\u00a0aging Dictionary \u00a0\u00a0\u00a0\u00a0timeout_default Integer Min: 60Max: 65535 Timeout in seconds <pre><code>arp:\naging:\ntimeout_default: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#ip-routing","title":"IP Routing","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_routing Boolean <pre><code>ip_routing: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#ip-routing-ipv6-interfaces","title":"IP Routing IPv6 Interfaces","text":"TableYAML Variable Type Required Default Value Restrictions Description ip_routing_ipv6_interfaces Boolean <pre><code>ip_routing_ipv6_interfaces: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#ip-virtual-router-mac-address","title":"IP Virtual Router MAC Address","text":"<p>MAC address (hh:hh:hh:hh:hh:hh)</p> TableYAML Variable Type Required Default Value Restrictions Description ip_virtual_router_mac_address String <pre><code>ip_virtual_router_mac_address: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#ipv6-static-routes","title":"IPv6 Static Routes","text":"TableYAML Variable Type Required Default Value Restrictions Description ipv6_static_routes List, items: Dictionary \u00a0\u00a0- vrf String \u00a0\u00a0\u00a0\u00a0destination_address_prefix String IPv6 Network/Mask \u00a0\u00a0\u00a0\u00a0interface String \u00a0\u00a0\u00a0\u00a0gateway String IPv6 Address \u00a0\u00a0\u00a0\u00a0track_bfd Boolean Track next-hop using BFD \u00a0\u00a0\u00a0\u00a0distance Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0tag Integer Min: 0Max: 4294967295 \u00a0\u00a0\u00a0\u00a0name String Description \u00a0\u00a0\u00a0\u00a0metric Integer Min: 0Max: 4294967295 <pre><code>ipv6_static_routes:\n- vrf: &lt;str&gt;\ndestination_address_prefix: &lt;str&gt;\ninterface: &lt;str&gt;\ngateway: &lt;str&gt;\ntrack_bfd: &lt;bool&gt;\ndistance: &lt;int&gt;\ntag: &lt;int&gt;\nname: &lt;str&gt;\nmetric: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#ipv6-unicast-routing","title":"IPv6 Unicast Routing","text":"TableYAML Variable Type Required Default Value Restrictions Description ipv6_unicast_routing Boolean <pre><code>ipv6_unicast_routing: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#router-bfd","title":"Router BFD","text":"TableYAML Variable Type Required Default Value Restrictions Description router_bfd Dictionary \u00a0\u00a0interval Integer Rate in milliseconds \u00a0\u00a0min_rx Integer Rate in milliseconds \u00a0\u00a0multiplier Integer Min: 3Max: 50 \u00a0\u00a0multihop Dictionary \u00a0\u00a0\u00a0\u00a0interval Integer Rate in milliseconds \u00a0\u00a0\u00a0\u00a0min_rx Integer Rate in milliseconds \u00a0\u00a0\u00a0\u00a0multiplier Integer Min: 3Max: 50 \u00a0\u00a0sbfd Dictionary \u00a0\u00a0\u00a0\u00a0local_interface Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String Interface Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0protocols Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 Boolean \u00a0\u00a0\u00a0\u00a0initiator_interval Integer Rate in milliseconds \u00a0\u00a0\u00a0\u00a0initiator_multiplier Integer Min: 3Max: 50 \u00a0\u00a0\u00a0\u00a0reflector Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0min_rx Integer Rate in milliseconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_discriminator String IPv4 address or 32 bit integer <pre><code>router_bfd:\ninterval: &lt;int&gt;\nmin_rx: &lt;int&gt;\nmultiplier: &lt;int&gt;\nmultihop:\ninterval: &lt;int&gt;\nmin_rx: &lt;int&gt;\nmultiplier: &lt;int&gt;\nsbfd:\nlocal_interface:\nname: &lt;str&gt;\nprotocols:\nipv4: &lt;bool&gt;\nipv6: &lt;bool&gt;\ninitiator_interval: &lt;int&gt;\ninitiator_multiplier: &lt;int&gt;\nreflector:\nmin_rx: &lt;int&gt;\nlocal_discriminator: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#router-bgp","title":"Router BGP","text":"TableYAML Variable Type Required Default Value Restrictions Description router_bgp Dictionary \u00a0\u00a0as String BGP AS &lt;1-4294967295&gt; or AS number in asdot notation &lt;1-65535&gt;.&lt;0-65535&gt; \u00a0\u00a0router_id String In IP address format A.B.C.D \u00a0\u00a0distance Dictionary \u00a0\u00a0\u00a0\u00a0external_routes Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0internal_routes Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0local_routes Integer Min: 1Max: 255 \u00a0\u00a0graceful_restart Dictionary \u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0restart_time Integer Min: 1Max: 3600 Number of seconds \u00a0\u00a0\u00a0\u00a0stalepath_time Integer Min: 1Max: 3600 Number of seconds \u00a0\u00a0graceful_restart_helper Dictionary \u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0restart_time Integer Min: 1Max: 100000000 Number of secondsgraceful-restart-help long-lived and restart-time are mutually exclusive in CLI.restart-time will take precedence if both are configured. \u00a0\u00a0\u00a0\u00a0long_lived Boolean graceful-restart-help long-lived and restart-time are mutually exclusive in CLI.restart-time will take precedence if both are configured. \u00a0\u00a0maximum_paths Dictionary \u00a0\u00a0\u00a0\u00a0paths Integer Min: 1Max: 600 \u00a0\u00a0\u00a0\u00a0ecmp Integer Min: 1Max: 600 \u00a0\u00a0updates Dictionary \u00a0\u00a0\u00a0\u00a0wait_for_convergence Boolean \u00a0\u00a0\u00a0\u00a0wait_install Boolean \u00a0\u00a0bgp_cluster_id String IP Address A.B.C.D \u00a0\u00a0bgp_defaults List, items: String BGP command as string \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0bgp Dictionary \u00a0\u00a0\u00a0\u00a0default Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4_unicast Boolean Default activation of IPv4 unicast address-family on all IPv4 neighbors (EOS default = True). \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4_unicast_transport_ipv6 Boolean Default activation of IPv4 unicast address-family on all IPv6 neighbors (EOS default == False). \u00a0\u00a0\u00a0\u00a0bestpath Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0d_path Boolean \u00a0\u00a0listen_ranges List, items: Dictionary Improved \u201clisten_ranges\u201d data model to support multiple listen ranges and additional filter capabilities \u00a0\u00a0\u00a0\u00a0- prefix String IPv4 prefix \u201cA.B.C.D/E\u201d or IPv6 prefix \u201cA:B:C:D:E:F:G:H/I\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_id_include_router_id Boolean Include router ID as part of peer filter \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_group String Peer group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_filter String Peer-filter namenote: <code>peer_filter</code> or <code>remote_as</code> is required but mutually exclusive.If both are defined, <code>peer_filter</code> takes precedence \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_as String BGP AS &lt;1-4294967295&gt; or AS number in asdot notation &lt;1-65535&gt;.&lt;0-65535&gt; \u00a0\u00a0peer_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_as String BGP AS &lt;1-4294967295&gt; or AS number in asdot notation &lt;1-65535&gt;.&lt;0-65535&gt; \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_as String BGP AS &lt;1-4294967295&gt; or AS number in asdot notation &lt;1-65535&gt;.&lt;0-65535&gt; \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0as_path Dictionary BGP AS-PATH options \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_as_replace_out Boolean Replace AS number with local AS number \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prepend_own_disabled Boolean Disable prepending own AS number to AS path \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remove_private_as Dictionary Remove private AS numbers in outbound AS path \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0replace_as Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remove_private_as_ingress Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0replace_as Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_filter String Peer-filter namenote: <code>bgp_listen_range_prefix</code> and <code>peer_filter</code> will be deprecated in AVD v4.0These should not be mixed with the new <code>listen_ranges</code> key above to avoid conflicts. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0next_hop_unchanged Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0update_source String IP address or interface name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_reflector_client Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ebgp_multihop Integer Min: 1Max: 255 Time-to-live in range of hops \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0next_hop_self Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0password String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0passive Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_originate Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String Route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0send_community String \u2018all\u2019 or a combination of \u2018standard\u2019, \u2018extended\u2019, \u2018large\u2019 and \u2018link-bandwidth (w/options)\u2019 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes Integer Min: 0Max: 4294967294 Maximum number of routes (0 means unlimited) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes_warning_limit String Maximum number of routes after which a warning is issued (0 means never warn) orPercentage of maximum number of routes at which to warn (\u201c&lt;1-100&gt; percent\u201d) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes_warning_only Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_bandwidth Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default String nn.nn(K \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0allowas_in Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0times Integer Min: 1Max: 10 Number of local ASNs allowed in a BGP update \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0weight Integer Min: 0Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timers String BGP Keepalive and Hold Timer values in seconds as string \u201c&lt;0-3600&gt; &lt;0-3600&gt;\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rib_in_pre_policy_retain Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_listen_range_prefix String IP prefix rangenote: <code>bgp_listen_range_prefix</code> and <code>peer_filter</code> will be deprecated in AVD v4.0These should not be mixed with the new <code>listen_ranges</code> key above to avoid conflicts. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0session_tracker String \u00a0\u00a0neighbors List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- ip_address String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_group String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_as String BGP AS &lt;1-4294967295&gt; or AS number in asdot notation &lt;1-65535&gt;.&lt;0-65535&gt; \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_as String BGP AS &lt;1-4294967295&gt; or AS number in asdot notation &lt;1-65535&gt;.&lt;0-65535&gt; \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0as_path Dictionary BGP AS-PATH options \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_as_replace_out Boolean Replace AS number with local AS number \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prepend_own_disabled Boolean Disable prepending own AS number to AS path \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_reflector_client Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0passive Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0update_source String Source Interface \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0weight Integer Min: 0Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timers String BGP Keepalive and Hold Timer values in seconds as string \u201c&lt;0-3600&gt; &lt;0-3600&gt;\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_originate Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0send_community String \u2018all\u2019 or a combination of \u2018standard\u2019, \u2018extended\u2019, \u2018large\u2019 and \u2018link-bandwidth (w/options)\u2019 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes Integer Min: 0Max: 4294967294 Maximum number of routes (0 means unlimited) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes_warning_limit String Maximum number of routes after which a warning is issued (0 means never warn) orPercentage of maximum number of routes at which to warn (\u201c&lt;1-100&gt; percent\u201d) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes_warning_only Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0allowas_in Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0times Integer Min: 1Max: 10 Number of local ASNs allowed in a BGP update \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ebgp_multihop Integer Min: 1Max: 255 Time-to-live in range of hops \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0next_hop_self Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_bandwidth Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default String nn.nn(K \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rib_in_pre_policy_retain Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remove_private_as Dictionary Remove private AS numbers in outbound AS path \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0replace_as Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remove_private_as_ingress Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0replace_as Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0session_tracker String \u00a0\u00a0neighbor_interfaces List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Interface name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_as String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_group String Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_filter String Peer-filter name \u00a0\u00a0aggregate_addresses List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- prefix String Required, Unique IPv4 prefix \u201cA.B.C.D/E\u201d or IPv6 prefix \u201cA:B:C:D:E:F:G:H/I\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0advertise_only Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0as_set Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0summary_only Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0attribute_map String Route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0match_map String Route-map name \u00a0\u00a0redistribute_routes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- source_protocol String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String \u00a0\u00a0vlan_aware_bundles List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique VLAN aware bundle name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tenant String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rd String Route distinguisher \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rd_evpn_domain Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0domain String Valid Values:- remote- all \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rd String Route distinguisher \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_targets Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0both List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0export List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import_evpn_domains List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- domain String Valid Values:- remote- all \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_target String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0export_evpn_domains List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- domain String Valid Values:- remote- all \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_target String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import_export_evpn_domains List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- domain String Valid Values:- remote- all \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_target String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0redistribute_routes List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0no_redistribute_routes List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan String VLAN range as string. Example \u201c100-200,300\u201d \u00a0\u00a0vlans List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tenant String Key only used for documentation or validation purposes \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rd String Route distinguisher \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rd_evpn_domain Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0domain String Valid Values:- remote- all \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rd String Route distinguisher \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0eos_cli String Multiline EOS CLI rendered directly on the Router BGP, VLAN definition in the final EOS configuration \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_targets Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0both List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0export List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import_evpn_domains List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- domain String Valid Values:- remote- all \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_target String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0export_evpn_domains List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- domain String Valid Values:- remote- all \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_target String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import_export_evpn_domains List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- domain String Valid Values:- remote- all \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_target String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0redistribute_routes List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0no_redistribute_routes List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0vpws List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique VPWS instance name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rd String Route distinguisher \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_targets Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import_export String Route Target \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_control_word Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0label_flow Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mtu Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0pseudowires List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Pseudowire name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0id_local Integer Must match id_remote on other pe \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0id_remote Integer Must match id_local on other pe \u00a0\u00a0address_family_evpn Dictionary \u00a0\u00a0\u00a0\u00a0domain_identifier String \u00a0\u00a0\u00a0\u00a0neighbor_default Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encapsulation String Valid Values:- vxlan- mpls \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0next_hop_self_source_interface String Source interface name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0next_hop_self_received_evpn_routes Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inter_domain Boolean \u00a0\u00a0\u00a0\u00a0peer_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0domain_remote Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encapsulation String Valid Values:- vxlan- mpls \u00a0\u00a0\u00a0\u00a0evpn_hostflap_detection Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0window Integer Min: 0Max: 4294967295 Time (in seconds) to detect a MAC duplication issue \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0threshold Integer Min: 0Max: 4294967295 Minimum number of MAC moves that indicate a MAC Duplication issue \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0expiry_timeout Integer Min: 0Max: 4294967295 Time (in seconds) to purge a MAC duplication issue \u00a0\u00a0\u00a0\u00a0route Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import_match_failure_action String Valid Values:- discard \u00a0\u00a0address_family_rtc Dictionary \u00a0\u00a0\u00a0\u00a0peer_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_route_target Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0only Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encoding_origin_as_omit String \u00a0\u00a0address_family_ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0networks List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- prefix String Required, Unique IPv4 prefix \u201cA.B.C.D/E\u201d or IPv6 prefix \u201cA:B:C:D:E:F:G:H/I\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String Route-map name \u00a0\u00a0\u00a0\u00a0peer_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_originate Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String Route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0next_hop Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address_family_ipv6_originate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list_in String Inbound prefix-list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list_out String Outbound prefix-list name \u00a0\u00a0\u00a0\u00a0neighbors List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ip_address String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list_in String Inbound prefix-list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list_out String Prefix-list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_originate Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String \u00a0\u00a0address_family_ipv4_multicast Dictionary \u00a0\u00a0\u00a0\u00a0peer_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0neighbors List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ip_address String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0redistribute_routes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- source_protocol String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String \u00a0\u00a0address_family_ipv6 Dictionary \u00a0\u00a0\u00a0\u00a0networks List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- prefix String Required, Unique IPv4 prefix \u201cA.B.C.D/E\u201d or IPv6 prefix \u201cA:B:C:D:E:F:G:H/I\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String Route-map name \u00a0\u00a0\u00a0\u00a0peer_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list_in String Inbound prefix-list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list_out String Outbound prefix-list name \u00a0\u00a0\u00a0\u00a0neighbors List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ip_address String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list_in String Inbound prefix-list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list_out String Outbound prefix-list name \u00a0\u00a0\u00a0\u00a0redistribute_routes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- source_protocol String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String \u00a0\u00a0address_family_vpn_ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0domain_identifier String \u00a0\u00a0\u00a0\u00a0peer_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0route Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import_match_failure_action String Valid Values:- discard \u00a0\u00a0\u00a0\u00a0neighbors List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ip_address String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0neighbor_default_encapsulation_mpls_next_hop_self Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_interface String \u00a0\u00a0address_family_vpn_ipv6 Dictionary \u00a0\u00a0\u00a0\u00a0domain_identifier String \u00a0\u00a0\u00a0\u00a0peer_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0route Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import_match_failure_action String Valid Values:- discard \u00a0\u00a0\u00a0\u00a0neighbors List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ip_address String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0neighbor_default_encapsulation_mpls_next_hop_self Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_interface String \u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique VRF name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rd String Route distinguisher \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_multicast Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_multicast_address_family Dictionary Enable per-AF EVPN multicast settings \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0transit Boolean Enable EVPN multicast transit mode \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_targets Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0import List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- address_family String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_targets List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0export List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- address_family String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_targets List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0router_id String in IP address format A.B.C.D \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timers String BGP Keepalive and Hold Timer values in seconds as string \u201c&lt;0-3600&gt; &lt;0-3600&gt;\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0networks List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- prefix String Required, Unique IPv4 prefix \u201cA.B.C.D/E\u201d or IPv6 prefix \u201cA:B:C:D:E:F:G:H/I\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0listen_ranges List, items: Dictionary Improved \u201clisten_ranges\u201d data model to support multiple listen ranges and additional filter capabilities \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- prefix String IPv4 prefix \u201cA.B.C.D/E\u201d or IPv6 prefix \u201cA:B:C:D:E:F:G:H/I\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_id_include_router_id Boolean Include router ID as part of peer filter \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_group String Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_filter String Peer-filter namenote: <code>peer_filter`` or</code>remote_as` is required but mutually exclusive.If both are defined, peer_filter takes precedence \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_as String BGP AS &lt;1-4294967295&gt; or AS number in asdot notation &lt;1-65535&gt;.&lt;0-65535&gt; \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0neighbors List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ip_address String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_group String Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_as String BGP AS &lt;1-4294967295&gt; or AS number in asdot notation &lt;1-65535&gt;.&lt;0-65535&gt; \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0password String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0passive Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remove_private_as Dictionary Remove private AS numbers in outbound AS path \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0replace_as Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remove_private_as_ingress Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0replace_as Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0weight Integer Min: 0Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_as String BGP AS &lt;1-4294967295&gt; or AS number in asdot notation &lt;1-65535&gt;.&lt;0-65535&gt; \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0as_path Dictionary BGP AS-PATH options \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_as_replace_out Boolean Replace AS number with local AS number \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prepend_own_disabled Boolean Disable prepending own AS number to AS path \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_reflector_client Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ebgp_multihop Integer Min: 1Max: 255 Time-to-live in range of hops \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0next_hop_self Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0shutdown Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timers String BGP Keepalive and Hold Timer values in seconds as string \u201c&lt;0-3600&gt; &lt;0-3600&gt;\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rib_in_pre_policy_retain Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0send_community String \u2018all\u2019 or a combination of \u2018standard\u2019, \u2018extended\u2019, \u2018large\u2019 and \u2018link-bandwidth (w/options)\u2019 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes_warning_limit String Maximum number of routes after which a warning is issued (0 means never warn) orPercentage of maximum number of routes at which to warn (\u201c&lt;1-100&gt; percent\u201d) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes_warning_only Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0allowas_in Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0times Integer Min: 1Max: 10 Number of local ASNs allowed in a BGP update \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_originate Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0update_source String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list_in String Inbound prefix-list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list_out String Outbound prefix-list name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0neighbor_interfaces List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Interface name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_as String BGP AS &lt;1-4294967295&gt; or AS number in asdot notation &lt;1-65535&gt;.&lt;0-65535&gt; \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_group String Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_filter String Peer-filter name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0redistribute_routes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- source_protocol String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0aggregate_addresses List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- prefix String Required, Unique IPv4 prefix \u201cA.B.C.D/E\u201d or IPv6 prefix \u201cA:B:C:D:E:F:G:H/I\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0advertise_only Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0as_set Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0summary_only Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0attribute_map String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0match_map String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address_families List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- address_family String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0missing_policy Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction_in_action String Valid Values:- deny- deny-in-out- permit \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction_out_action String Valid Values:- deny- deny-in-out- permit \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0additional_paths List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0neighbors List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ip_address String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_in String Inbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map_out String Outbound route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peer_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Peer-group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0activate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0next_hop Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address_family_ipv6_originate Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0networks List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- prefix String Required, Unique IPv4 prefix \u201cA.B.C.D/E\u201d or IPv6 prefix \u201cA:B:C:D:E:F:G:H/I\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0eos_cli String Multiline EOS CLI rendered directly on the Router BGP, VRF definition in the final EOS configuration \u00a0\u00a0session_trackers List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Name of session tracker \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0recovery_delay Integer Min: 1Max: 3600 Recovery delay in seconds <pre><code>router_bgp:\nas: &lt;str&gt;\nrouter_id: &lt;str&gt;\ndistance:\nexternal_routes: &lt;int&gt;\ninternal_routes: &lt;int&gt;\nlocal_routes: &lt;int&gt;\ngraceful_restart:\nenabled: &lt;bool&gt;\nrestart_time: &lt;int&gt;\nstalepath_time: &lt;int&gt;\ngraceful_restart_helper:\nenabled: &lt;bool&gt;\nrestart_time: &lt;int&gt;\nlong_lived: &lt;bool&gt;\nmaximum_paths:\npaths: &lt;int&gt;\necmp: &lt;int&gt;\nupdates:\nwait_for_convergence: &lt;bool&gt;\nwait_install: &lt;bool&gt;\nbgp_cluster_id: &lt;str&gt;\nbgp_defaults:\n- &lt;str&gt;\nbgp:\ndefault:\nipv4_unicast: &lt;bool&gt;\nipv4_unicast_transport_ipv6: &lt;bool&gt;\nbestpath:\nd_path: &lt;bool&gt;\nlisten_ranges:\n- prefix: &lt;str&gt;\npeer_id_include_router_id: &lt;bool&gt;\npeer_group: &lt;str&gt;\npeer_filter: &lt;str&gt;\nremote_as: &lt;str&gt;\npeer_groups:\n- name: &lt;str&gt;\ntype: &lt;str&gt;\nremote_as: &lt;str&gt;\nlocal_as: &lt;str&gt;\ndescription: &lt;str&gt;\nshutdown: &lt;bool&gt;\nas_path:\nremote_as_replace_out: &lt;bool&gt;\nprepend_own_disabled: &lt;bool&gt;\nremove_private_as:\nenabled: &lt;bool&gt;\nall: &lt;bool&gt;\nreplace_as: &lt;bool&gt;\nremove_private_as_ingress:\nenabled: &lt;bool&gt;\nreplace_as: &lt;bool&gt;\npeer_filter: &lt;str&gt;\nnext_hop_unchanged: &lt;bool&gt;\nupdate_source: &lt;str&gt;\nroute_reflector_client: &lt;bool&gt;\nbfd: &lt;bool&gt;\nebgp_multihop: &lt;int&gt;\nnext_hop_self: &lt;bool&gt;\npassword: &lt;str&gt;\npassive: &lt;bool&gt;\ndefault_originate:\nenabled: &lt;bool&gt;\nalways: &lt;bool&gt;\nroute_map: &lt;str&gt;\nsend_community: &lt;str&gt;\nmaximum_routes: &lt;int&gt;\nmaximum_routes_warning_limit: &lt;str&gt;\nmaximum_routes_warning_only: &lt;bool&gt;\nlink_bandwidth:\nenabled: &lt;bool&gt;\ndefault: &lt;str&gt;\nallowas_in:\nenabled: &lt;bool&gt;\ntimes: &lt;int&gt;\nweight: &lt;int&gt;\ntimers: &lt;str&gt;\nrib_in_pre_policy_retain:\nenabled: &lt;bool&gt;\nall: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nbgp_listen_range_prefix: &lt;str&gt;\nsession_tracker: &lt;str&gt;\nneighbors:\n- ip_address: &lt;str&gt;\npeer_group: &lt;str&gt;\nremote_as: &lt;str&gt;\nlocal_as: &lt;str&gt;\nas_path:\nremote_as_replace_out: &lt;bool&gt;\nprepend_own_disabled: &lt;bool&gt;\ndescription: &lt;str&gt;\nroute_reflector_client: &lt;bool&gt;\npassive: &lt;bool&gt;\nshutdown: &lt;bool&gt;\nupdate_source: &lt;str&gt;\nbfd: &lt;bool&gt;\nweight: &lt;int&gt;\ntimers: &lt;str&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\ndefault_originate:\nenabled: &lt;bool&gt;\nalways: &lt;bool&gt;\nroute_map: &lt;str&gt;\nsend_community: &lt;str&gt;\nmaximum_routes: &lt;int&gt;\nmaximum_routes_warning_limit: &lt;str&gt;\nmaximum_routes_warning_only: &lt;bool&gt;\nallowas_in:\nenabled: &lt;bool&gt;\ntimes: &lt;int&gt;\nebgp_multihop: &lt;int&gt;\nnext_hop_self: &lt;bool&gt;\nlink_bandwidth:\nenabled: &lt;bool&gt;\ndefault: &lt;str&gt;\nrib_in_pre_policy_retain:\nenabled: &lt;bool&gt;\nall: &lt;bool&gt;\nremove_private_as:\nenabled: &lt;bool&gt;\nall: &lt;bool&gt;\nreplace_as: &lt;bool&gt;\nremove_private_as_ingress:\nenabled: &lt;bool&gt;\nreplace_as: &lt;bool&gt;\nsession_tracker: &lt;str&gt;\nneighbor_interfaces:\n- name: &lt;str&gt;\nremote_as: &lt;str&gt;\npeer_group: &lt;str&gt;\ndescription: &lt;str&gt;\npeer_filter: &lt;str&gt;\naggregate_addresses:\n- prefix: &lt;str&gt;\nadvertise_only: &lt;bool&gt;\nas_set: &lt;bool&gt;\nsummary_only: &lt;bool&gt;\nattribute_map: &lt;str&gt;\nmatch_map: &lt;str&gt;\nredistribute_routes:\n- source_protocol: &lt;str&gt;\nroute_map: &lt;str&gt;\nvlan_aware_bundles:\n- name: &lt;str&gt;\ntenant: &lt;str&gt;\ndescription: &lt;str&gt;\nrd: &lt;str&gt;\nrd_evpn_domain:\ndomain: &lt;str&gt;\nrd: &lt;str&gt;\nroute_targets:\nboth:\n- &lt;str&gt;\nimport:\n- &lt;str&gt;\nexport:\n- &lt;str&gt;\nimport_evpn_domains:\n- domain: &lt;str&gt;\nroute_target: &lt;str&gt;\nexport_evpn_domains:\n- domain: &lt;str&gt;\nroute_target: &lt;str&gt;\nimport_export_evpn_domains:\n- domain: &lt;str&gt;\nroute_target: &lt;str&gt;\nredistribute_routes:\n- &lt;str&gt;\nno_redistribute_routes:\n- &lt;str&gt;\nvlan: &lt;str&gt;\nvlans:\n- id: &lt;int&gt;\ntenant: &lt;str&gt;\nrd: &lt;str&gt;\nrd_evpn_domain:\ndomain: &lt;str&gt;\nrd: &lt;str&gt;\neos_cli: &lt;str&gt;\nroute_targets:\nboth:\n- &lt;str&gt;\nimport:\n- &lt;str&gt;\nexport:\n- &lt;str&gt;\nimport_evpn_domains:\n- domain: &lt;str&gt;\nroute_target: &lt;str&gt;\nexport_evpn_domains:\n- domain: &lt;str&gt;\nroute_target: &lt;str&gt;\nimport_export_evpn_domains:\n- domain: &lt;str&gt;\nroute_target: &lt;str&gt;\nredistribute_routes:\n- &lt;str&gt;\nno_redistribute_routes:\n- &lt;str&gt;\nvpws:\n- name: &lt;str&gt;\nrd: &lt;str&gt;\nroute_targets:\nimport_export: &lt;str&gt;\nmpls_control_word: &lt;bool&gt;\nlabel_flow: &lt;bool&gt;\nmtu: &lt;int&gt;\npseudowires:\n- name: &lt;str&gt;\nid_local: &lt;int&gt;\nid_remote: &lt;int&gt;\naddress_family_evpn:\ndomain_identifier: &lt;str&gt;\nneighbor_default:\nencapsulation: &lt;str&gt;\nnext_hop_self_source_interface: &lt;str&gt;\nnext_hop_self_received_evpn_routes:\nenable: &lt;bool&gt;\ninter_domain: &lt;bool&gt;\npeer_groups:\n- name: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\ndomain_remote: &lt;bool&gt;\nencapsulation: &lt;str&gt;\nevpn_hostflap_detection:\nenabled: &lt;bool&gt;\nwindow: &lt;int&gt;\nthreshold: &lt;int&gt;\nexpiry_timeout: &lt;int&gt;\nroute:\nimport_match_failure_action: &lt;str&gt;\naddress_family_rtc:\npeer_groups:\n- name: &lt;str&gt;\nactivate: &lt;bool&gt;\ndefault_route_target:\nonly: &lt;bool&gt;\nencoding_origin_as_omit: &lt;str&gt;\naddress_family_ipv4:\nnetworks:\n- prefix: &lt;str&gt;\nroute_map: &lt;str&gt;\npeer_groups:\n- name: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\ndefault_originate:\nalways: &lt;bool&gt;\nroute_map: &lt;str&gt;\nnext_hop:\naddress_family_ipv6_originate: &lt;bool&gt;\nprefix_list_in: &lt;str&gt;\nprefix_list_out: &lt;str&gt;\nneighbors:\n- ip_address: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nprefix_list_in: &lt;str&gt;\nprefix_list_out: &lt;str&gt;\ndefault_originate:\nalways: &lt;bool&gt;\nroute_map: &lt;str&gt;\naddress_family_ipv4_multicast:\npeer_groups:\n- name: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nneighbors:\n- ip_address: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nredistribute_routes:\n- source_protocol: &lt;str&gt;\nroute_map: &lt;str&gt;\naddress_family_ipv6:\nnetworks:\n- prefix: &lt;str&gt;\nroute_map: &lt;str&gt;\npeer_groups:\n- name: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nprefix_list_in: &lt;str&gt;\nprefix_list_out: &lt;str&gt;\nneighbors:\n- ip_address: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nprefix_list_in: &lt;str&gt;\nprefix_list_out: &lt;str&gt;\nredistribute_routes:\n- source_protocol: &lt;str&gt;\nroute_map: &lt;str&gt;\naddress_family_vpn_ipv4:\ndomain_identifier: &lt;str&gt;\npeer_groups:\n- name: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nroute:\nimport_match_failure_action: &lt;str&gt;\nneighbors:\n- ip_address: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nneighbor_default_encapsulation_mpls_next_hop_self:\nsource_interface: &lt;str&gt;\naddress_family_vpn_ipv6:\ndomain_identifier: &lt;str&gt;\npeer_groups:\n- name: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nroute:\nimport_match_failure_action: &lt;str&gt;\nneighbors:\n- ip_address: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nneighbor_default_encapsulation_mpls_next_hop_self:\nsource_interface: &lt;str&gt;\nvrfs:\n- name: &lt;str&gt;\nrd: &lt;str&gt;\nevpn_multicast: &lt;bool&gt;\nevpn_multicast_address_family:\nipv4:\ntransit: &lt;bool&gt;\nroute_targets:\nimport:\n- address_family: &lt;str&gt;\nroute_targets:\n- &lt;str&gt;\nexport:\n- address_family: &lt;str&gt;\nroute_targets:\n- &lt;str&gt;\nrouter_id: &lt;str&gt;\ntimers: &lt;str&gt;\nnetworks:\n- prefix: &lt;str&gt;\nroute_map: &lt;str&gt;\nlisten_ranges:\n- prefix: &lt;str&gt;\npeer_id_include_router_id: &lt;bool&gt;\npeer_group: &lt;str&gt;\npeer_filter: &lt;str&gt;\nremote_as: &lt;str&gt;\nneighbors:\n- ip_address: &lt;str&gt;\npeer_group: &lt;str&gt;\nremote_as: &lt;str&gt;\npassword: &lt;str&gt;\npassive: &lt;bool&gt;\nremove_private_as:\nenabled: &lt;bool&gt;\nall: &lt;bool&gt;\nreplace_as: &lt;bool&gt;\nremove_private_as_ingress:\nenabled: &lt;bool&gt;\nreplace_as: &lt;bool&gt;\nweight: &lt;int&gt;\nlocal_as: &lt;str&gt;\nas_path:\nremote_as_replace_out: &lt;bool&gt;\nprepend_own_disabled: &lt;bool&gt;\ndescription: &lt;str&gt;\nroute_reflector_client: &lt;bool&gt;\nebgp_multihop: &lt;int&gt;\nnext_hop_self: &lt;bool&gt;\nshutdown: &lt;bool&gt;\nbfd: &lt;bool&gt;\ntimers: &lt;str&gt;\nrib_in_pre_policy_retain:\nenabled: &lt;bool&gt;\nall: &lt;bool&gt;\nsend_community: &lt;str&gt;\nmaximum_routes: &lt;int&gt;\nmaximum_routes_warning_limit: &lt;str&gt;\nmaximum_routes_warning_only: &lt;bool&gt;\nallowas_in:\nenabled: &lt;bool&gt;\ntimes: &lt;int&gt;\ndefault_originate:\nenabled: &lt;bool&gt;\nalways: &lt;bool&gt;\nroute_map: &lt;str&gt;\nupdate_source: &lt;str&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\nprefix_list_in: &lt;str&gt;\nprefix_list_out: &lt;str&gt;\nneighbor_interfaces:\n- name: &lt;str&gt;\nremote_as: &lt;str&gt;\npeer_group: &lt;str&gt;\npeer_filter: &lt;str&gt;\ndescription: &lt;str&gt;\nredistribute_routes:\n- source_protocol: &lt;str&gt;\nroute_map: &lt;str&gt;\naggregate_addresses:\n- prefix: &lt;str&gt;\nadvertise_only: &lt;bool&gt;\nas_set: &lt;bool&gt;\nsummary_only: &lt;bool&gt;\nattribute_map: &lt;str&gt;\nmatch_map: &lt;str&gt;\naddress_families:\n- address_family: &lt;str&gt;\nbgp:\nmissing_policy:\ndirection_in_action: &lt;str&gt;\ndirection_out_action: &lt;str&gt;\nadditional_paths:\n- &lt;str&gt;\nneighbors:\n- ip_address: &lt;str&gt;\nactivate: &lt;bool&gt;\nroute_map_in: &lt;str&gt;\nroute_map_out: &lt;str&gt;\npeer_groups:\n- name: &lt;str&gt;\nactivate: &lt;bool&gt;\nnext_hop:\naddress_family_ipv6_originate: &lt;bool&gt;\nnetworks:\n- prefix: &lt;str&gt;\nroute_map: &lt;str&gt;\neos_cli: &lt;str&gt;\nsession_trackers:\n- name: &lt;str&gt;\nrecovery_delay: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#router-general-configuration","title":"Router General configuration","text":"TableYAML Variable Type Required Default Value Restrictions Description router_general Dictionary \u00a0\u00a0router_id Dictionary \u00a0\u00a0\u00a0\u00a0ipv4 String IPv4 Address \u00a0\u00a0\u00a0\u00a0ipv6 String IPv6 Address \u00a0\u00a0nexthop_fast_failover Boolean False \u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Destination-VRF \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0leak_routes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- source_vrf String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0subscribe_policy String Route-Map Policy \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0routes Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dynamic_prefix_lists List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Dynamic Prefix List Name <pre><code>router_general:\nrouter_id:\nipv4: &lt;str&gt;\nipv6: &lt;str&gt;\nnexthop_fast_failover: &lt;bool&gt;\nvrfs:\n- name: &lt;str&gt;\nleak_routes:\n- source_vrf: &lt;str&gt;\nsubscribe_policy: &lt;str&gt;\nroutes:\ndynamic_prefix_lists:\n- name: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#router-igmp-configuration","title":"Router IGMP Configuration","text":"TableYAML Variable Type Required Default Value Restrictions Description router_igmp Dictionary \u00a0\u00a0ssm_aware Boolean <pre><code>router_igmp:\nssm_aware: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#router-isis","title":"Router ISIS","text":"TableYAML Variable Type Required Default Value Restrictions Description router_isis Dictionary \u00a0\u00a0instance String ISIS Instance Name \u00a0\u00a0net String CLNS Address like \u201c49.0001.0001.0000.0001.00\u201d \u00a0\u00a0router_id String IPv4 Address \u00a0\u00a0is_type String Valid Values:- level-1- level-1-2- level-2 \u00a0\u00a0log_adjacency_changes Boolean \u00a0\u00a0mpls_ldp_sync_default Boolean \u00a0\u00a0timers Dictionary \u00a0\u00a0\u00a0\u00a0local_convergence Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0protected_prefixes Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay Integer 10000 Delay in milliseconds. \u00a0\u00a0advertise Dictionary \u00a0\u00a0\u00a0\u00a0passive_only Boolean \u00a0\u00a0address_family List, items: String \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; deprecated String Valid Values:- ipv4- ipv6- ipv4 unicast- ipv6 unicast Address FamilyThis key is deprecated. Support will be removed in AVD version 5.0.0. Use address_family_ipv4.enabled or address_family_ipv6.enabled instead. \u00a0\u00a0isis_af_defaults List, items: String \u00a0\u00a0\u00a0\u00a0- &lt;str&gt; deprecated String EOS CLI rendered under the address familiesExample \u201cmaximum-paths 64\u201dThis key is deprecated. Support will be removed in AVD version 5.0.0. Use address_family_ipv4/address_family_ipv6 instead. \u00a0\u00a0redistribute_routes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- source_protocol String Required Valid Values:- bgp- connected- isis- ospf- ospfv3- static \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String Route-map name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0include_leaked Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ospf_route_type String Valid Values:- external- internal- nssa-external ospf_route_type is required with source_protocols \u2018ospf\u2019 and \u2018ospfv3\u2019 \u00a0\u00a0address_family_ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0maximum_paths Integer Min: 1Max: 128 \u00a0\u00a0\u00a0\u00a0fast_reroute_ti_lfa Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String Valid Values:- link-protection- node-protection \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level String Valid Values:- level-1- level-2 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0srlg Dictionary Shared Risk Link Group \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0strict Boolean \u00a0\u00a0\u00a0\u00a0tunnel_source_labeled_unicast Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rcf String Route Control Function \u00a0\u00a0address_family_ipv6 Dictionary \u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0maximum_paths Integer Min: 1Max: 128 \u00a0\u00a0\u00a0\u00a0fast_reroute_ti_lfa Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String Valid Values:- link-protection- node-protection \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level String Valid Values:- level-1- level-2 Optional, default is to protect all levels \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0srlg Dictionary Shared Risk Link Group \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0strict Boolean \u00a0\u00a0segment_routing_mpls Dictionary \u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0router_id String \u00a0\u00a0\u00a0\u00a0prefix_segments List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- prefix String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0index Integer \u00a0\u00a0no_passive_interfaces List Unused key - to be removed from eos_designs. <pre><code>router_isis:\ninstance: &lt;str&gt;\nnet: &lt;str&gt;\nrouter_id: &lt;str&gt;\nis_type: &lt;str&gt;\nlog_adjacency_changes: &lt;bool&gt;\nmpls_ldp_sync_default: &lt;bool&gt;\ntimers:\nlocal_convergence:\nprotected_prefixes: &lt;bool&gt;\ndelay: &lt;int&gt;\nadvertise:\npassive_only: &lt;bool&gt;\naddress_family:\n- &lt;str&gt;\nisis_af_defaults:\n- &lt;str&gt;\nredistribute_routes:\n- source_protocol: &lt;str&gt;\nroute_map: &lt;str&gt;\ninclude_leaked: &lt;bool&gt;\nospf_route_type: &lt;str&gt;\naddress_family_ipv4:\nenabled: &lt;bool&gt;\nmaximum_paths: &lt;int&gt;\nfast_reroute_ti_lfa:\nmode: &lt;str&gt;\nlevel: &lt;str&gt;\nsrlg:\nenable: &lt;bool&gt;\nstrict: &lt;bool&gt;\ntunnel_source_labeled_unicast:\nenabled: &lt;bool&gt;\nrcf: &lt;str&gt;\naddress_family_ipv6:\nenabled: &lt;bool&gt;\nmaximum_paths: &lt;int&gt;\nfast_reroute_ti_lfa:\nmode: &lt;str&gt;\nlevel: &lt;str&gt;\nsrlg:\nenable: &lt;bool&gt;\nstrict: &lt;bool&gt;\nsegment_routing_mpls:\nenabled: &lt;bool&gt;\nrouter_id: &lt;str&gt;\nprefix_segments:\n- prefix: &lt;str&gt;\nindex: &lt;int&gt;\nno_passive_interfaces:\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#router-l2-vpn","title":"Router L2 VPN","text":"TableYAML Variable Type Required Default Value Restrictions Description router_l2_vpn Dictionary \u00a0\u00a0arp_learning_bridged Boolean \u00a0\u00a0arp_proxy Dictionary \u00a0\u00a0\u00a0\u00a0prefix_list String Prefix-list name. ARP Proxying is disabled for IPv4 addresses defined in the prefix-list. \u00a0\u00a0arp_selective_install Boolean \u00a0\u00a0nd_learning_bridged Boolean \u00a0\u00a0nd_proxy Dictionary \u00a0\u00a0\u00a0\u00a0prefix_list String Prefix-list name. ND Proxying is disabled for IPv6 addresses defined in the prefix-list. \u00a0\u00a0nd_rs_flooding_disabled Boolean \u00a0\u00a0virtual_router_nd_ra_flooding_disabled Boolean <pre><code>router_l2_vpn:\narp_learning_bridged: &lt;bool&gt;\narp_proxy:\nprefix_list: &lt;str&gt;\narp_selective_install: &lt;bool&gt;\nnd_learning_bridged: &lt;bool&gt;\nnd_proxy:\nprefix_list: &lt;str&gt;\nnd_rs_flooding_disabled: &lt;bool&gt;\nvirtual_router_nd_ra_flooding_disabled: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#router-msdp","title":"Router Msdp","text":"TableYAML Variable Type Required Default Value Restrictions Description router_msdp Dictionary \u00a0\u00a0originator_id_local_interface String Interface to use for originator ID \u00a0\u00a0rejected_limit Integer Min: 0Max: 40000 Maximum number of rejected SA messages allowed in cache \u00a0\u00a0forward_register_packets Boolean \u00a0\u00a0connection_retry_interval Integer Min: 1Max: 65535 \u00a0\u00a0group_limits List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- source_prefix String Required, Unique Source address prefix \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0limit Integer Required Min: 0Max: 40000 Limit for SAs matching the source address prefix \u00a0\u00a0peers List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- ipv4_address String Required, Unique Peer IP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_peer Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list String Prefix list to filter source of SA messages \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interface String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0disabled Boolean Disable the MSDP peer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sa_limit Integer Min: 0Max: 40000 Maximum number of SA messages allowed in cache \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mesh_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Mesh group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0keepalive Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0keepalive_timer Integer Required Min: 1Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hold_timer Integer Required Min: 1Max: 65535 Must be greater than keepalive timer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sa_filter Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0in_list String ACL to filter inbound SA messages \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0out_list String ACL to filter outbound SA messages \u00a0\u00a0vrfs List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique VRF name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0originator_id_local_interface String Interface to use for originator ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rejected_limit Integer Min: 0Max: 40000 Maximum number of rejected SA messages allowed in cache \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0forward_register_packets Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0connection_retry_interval Integer Min: 1Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0group_limits List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- source_prefix String Required, Unique Source address prefix \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0limit Integer Required Min: 0Max: 40000 Limit for SAs matching the source address prefix \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0peers List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ipv4_address String Required, Unique Peer IP Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_peer Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list String Prefix list to filter source of SA messages \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_interface String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0disabled Boolean Disable the MSDP peer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sa_limit Integer Min: 0Max: 40000 Maximum number of SA messages allowed in cache \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mesh_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Mesh group name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0keepalive Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0keepalive_timer Integer Required Min: 1Max: 65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hold_timer Integer Required Min: 1Max: 65535 Must be greater than keepalive timer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sa_filter Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0in_list String ACL to filter inbound SA messages \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0out_list String ACL to filter outbound SA messages <pre><code>router_msdp:\noriginator_id_local_interface: &lt;str&gt;\nrejected_limit: &lt;int&gt;\nforward_register_packets: &lt;bool&gt;\nconnection_retry_interval: &lt;int&gt;\ngroup_limits:\n- source_prefix: &lt;str&gt;\nlimit: &lt;int&gt;\npeers:\n- ipv4_address: &lt;str&gt;\ndefault_peer:\nenabled: &lt;bool&gt;\nprefix_list: &lt;str&gt;\nlocal_interface: &lt;str&gt;\ndescription: &lt;str&gt;\ndisabled: &lt;bool&gt;\nsa_limit: &lt;int&gt;\nmesh_groups:\n- name: &lt;str&gt;\nkeepalive:\nkeepalive_timer: &lt;int&gt;\nhold_timer: &lt;int&gt;\nsa_filter:\nin_list: &lt;str&gt;\nout_list: &lt;str&gt;\nvrfs:\n- name: &lt;str&gt;\noriginator_id_local_interface: &lt;str&gt;\nrejected_limit: &lt;int&gt;\nforward_register_packets: &lt;bool&gt;\nconnection_retry_interval: &lt;int&gt;\ngroup_limits:\n- source_prefix: &lt;str&gt;\nlimit: &lt;int&gt;\npeers:\n- ipv4_address: &lt;str&gt;\ndefault_peer:\nenabled: &lt;bool&gt;\nprefix_list: &lt;str&gt;\nlocal_interface: &lt;str&gt;\ndescription: &lt;str&gt;\ndisabled: &lt;bool&gt;\nsa_limit: &lt;int&gt;\nmesh_groups:\n- name: &lt;str&gt;\nkeepalive:\nkeepalive_timer: &lt;int&gt;\nhold_timer: &lt;int&gt;\nsa_filter:\nin_list: &lt;str&gt;\nout_list: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#router-ospf-configuration","title":"Router OSPF Configuration","text":"TableYAML Variable Type Required Default Value Restrictions Description router_ospf Dictionary \u00a0\u00a0process_ids List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique OSPF Process ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String VRF Name for OSPF Process \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0passive_interface_default Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0router_id String IPv4 Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0distance Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0external Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inter_area Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0intra_area Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0log_adjacency_changes_detail Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0network_prefixes List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ipv4_prefix String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0area String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd_enable Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd_adjacency_state_any Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0no_passive_interfaces List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Interface Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0distribute_list_in Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_lsa Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timers Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lsa Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rx_min_interval Integer Min: 0Max: 600000 Min interval in msecs between accepting the same LSA \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tx_delay Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0initial Integer Min: 0Max: 600000 Delay to generate first occurrence of LSA in msecs \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0min Integer Min: 1Max: 600000 Min delay between originating the same LSA in msecs \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max Integer Min: 1Max: 600000 1-600000 Maximum delay between originating the same LSA in msec \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spf_delay Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0initial Integer Min: 0Max: 600000 Initial SPF schedule delay in msecs \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0min Integer Min: 0Max: 65535000 Min Hold time between two SPFs in msecs \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max Integer Min: 0Max: 65535000 Max wait time between two SPFs in msecs \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_information_originate Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0summary_addresses List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- prefix String Required, Unique Summary Prefix Address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tag Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0attribute_map String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0not_advertise Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0redistribute Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0static Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String Route Map Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0include_leaked Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0connected Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String Route Map Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0include_leaked Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route_map String Route Map Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0include_leaked Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0auto_cost_reference_bandwidth Integer Bandwidth in mbps \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0areas List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0filter Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0networks List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IPv4 Prefix \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_list String Prefix-List Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String normal Valid Values:- normal- stub- nssa \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0no_summary Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nssa_only Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_information_originate Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0metric Integer Min: 1Max: 65535 Metric for default route \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0metric_type Integer Valid Values:- 1- 2 OSPF metric type for default route \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_paths Integer Min: 1Max: 128 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_metric Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0router_lsa Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0external_lsa Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0override_metric Integer Min: 1Max: 16777215 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0include_stub Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0on_startup String \u201cwait-for-bgp\u201d or Integer 5-86400Example: \u201cwait-for-bgp\u201d Or \u201c222\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0summary_lsa Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0override_metric Integer Min: 1Max: 16777215 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_ldp_sync_default Boolean <pre><code>router_ospf:\nprocess_ids:\n- id: &lt;int&gt;\nvrf: &lt;str&gt;\npassive_interface_default: &lt;bool&gt;\nrouter_id: &lt;str&gt;\ndistance:\nexternal: &lt;int&gt;\ninter_area: &lt;int&gt;\nintra_area: &lt;int&gt;\nlog_adjacency_changes_detail: &lt;bool&gt;\nnetwork_prefixes:\n- ipv4_prefix: &lt;str&gt;\narea: &lt;str&gt;\nbfd_enable: &lt;bool&gt;\nbfd_adjacency_state_any: &lt;bool&gt;\nno_passive_interfaces:\n- &lt;str&gt;\ndistribute_list_in:\nroute_map: &lt;str&gt;\nmax_lsa: &lt;int&gt;\ntimers:\nlsa:\nrx_min_interval: &lt;int&gt;\ntx_delay:\ninitial: &lt;int&gt;\nmin: &lt;int&gt;\nmax: &lt;int&gt;\nspf_delay:\ninitial: &lt;int&gt;\nmin: &lt;int&gt;\nmax: &lt;int&gt;\ndefault_information_originate:\nalways: &lt;bool&gt;\nsummary_addresses:\n- prefix: &lt;str&gt;\ntag: &lt;int&gt;\nattribute_map: &lt;str&gt;\nnot_advertise: &lt;bool&gt;\nredistribute:\nstatic:\nroute_map: &lt;str&gt;\ninclude_leaked: &lt;bool&gt;\nconnected:\nroute_map: &lt;str&gt;\ninclude_leaked: &lt;bool&gt;\nbgp:\nroute_map: &lt;str&gt;\ninclude_leaked: &lt;bool&gt;\nauto_cost_reference_bandwidth: &lt;int&gt;\nareas:\n- id: &lt;str&gt;\nfilter:\nnetworks:\n- &lt;str&gt;\nprefix_list: &lt;str&gt;\ntype: &lt;str&gt;\nno_summary: &lt;bool&gt;\nnssa_only: &lt;bool&gt;\ndefault_information_originate:\nmetric: &lt;int&gt;\nmetric_type: &lt;int&gt;\nmaximum_paths: &lt;int&gt;\nmax_metric:\nrouter_lsa:\nexternal_lsa:\noverride_metric: &lt;int&gt;\ninclude_stub: &lt;bool&gt;\non_startup: &lt;str&gt;\nsummary_lsa:\noverride_metric: &lt;int&gt;\nmpls_ldp_sync_default: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#router-traffic-engineering","title":"Router Traffic Engineering","text":"TableYAML Variable Type Required Default Value Restrictions Description router_traffic_engineering Dictionary \u00a0\u00a0router_id Dictionary \u00a0\u00a0\u00a0\u00a0ipv4 String \u00a0\u00a0\u00a0\u00a0ipv6 String \u00a0\u00a0segment_routing Dictionary \u00a0\u00a0\u00a0\u00a0colored_tunnel_rib Boolean \u00a0\u00a0\u00a0\u00a0policy_endpoints List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- address String IPv4 or IPv6 address \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0colors List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- value Integer Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0binding_sid Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sbfd_remote_discriminator String IPv4 address or 32 bit integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0path_group List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- preference Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0explicit_null String Valid Values:- ipv4- ipv6- ipv4 ipv6- none \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0segment_list List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- label_stack String Label Stack as string.Example: \u201c100 2000 30\u201d \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0weight Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0index Integer <pre><code>router_traffic_engineering:\nrouter_id:\nipv4: &lt;str&gt;\nipv6: &lt;str&gt;\nsegment_routing:\ncolored_tunnel_rib: &lt;bool&gt;\npolicy_endpoints:\n- address: &lt;str&gt;\ncolors:\n- value: &lt;int&gt;\nbinding_sid: &lt;int&gt;\ndescription: &lt;str&gt;\nname: &lt;str&gt;\nsbfd_remote_discriminator: &lt;str&gt;\npath_group:\n- preference: &lt;int&gt;\nexplicit_null: &lt;str&gt;\nsegment_list:\n- label_stack: &lt;str&gt;\nweight: &lt;int&gt;\nindex: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#service-routing-configuration-bgp","title":"Service Routing Configuration BGP","text":"TableYAML Variable Type Required Default Value Restrictions Description service_routing_configuration_bgp Dictionary \u00a0\u00a0no_equals_default Boolean <pre><code>service_routing_configuration_bgp:\nno_equals_default: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#service-routing-protocols-model","title":"Service Routing Protocols Model","text":"TableYAML Variable Type Required Default Value Restrictions Description service_routing_protocols_model String Valid Values:- multi-agent- ribd <pre><code>service_routing_protocols_model: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#static-routes","title":"Static Routes","text":"TableYAML Variable Type Required Default Value Restrictions Description static_routes List, items: Dictionary \u00a0\u00a0- vrf String VRF Name \u00a0\u00a0\u00a0\u00a0destination_address_prefix String IPv4_network/Mask \u00a0\u00a0\u00a0\u00a0interface String \u00a0\u00a0\u00a0\u00a0gateway String IPv4 Address \u00a0\u00a0\u00a0\u00a0track_bfd Boolean Track next-hop using BFD \u00a0\u00a0\u00a0\u00a0distance Integer Min: 1Max: 255 \u00a0\u00a0\u00a0\u00a0tag Integer Min: 0Max: 4294967295 \u00a0\u00a0\u00a0\u00a0name String Description \u00a0\u00a0\u00a0\u00a0metric Integer Min: 0Max: 4294967295 <pre><code>static_routes:\n- vrf: &lt;str&gt;\ndestination_address_prefix: &lt;str&gt;\ninterface: &lt;str&gt;\ngateway: &lt;str&gt;\ntrack_bfd: &lt;bool&gt;\ndistance: &lt;int&gt;\ntag: &lt;int&gt;\nname: &lt;str&gt;\nmetric: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Routing.html#vrfs","title":"VRFs","text":"<p>These keys are ignored if the name of the vrf is \u2018default\u2019</p> TableYAML Variable Type Required Default Value Restrictions Description vrfs List, items: Dictionary \u00a0\u00a0- name String Required, Unique VRF Name \u00a0\u00a0\u00a0\u00a0description String \u00a0\u00a0\u00a0\u00a0ip_routing Boolean \u00a0\u00a0\u00a0\u00a0ipv6_routing Boolean \u00a0\u00a0\u00a0\u00a0ip_routing_ipv6_interfaces Boolean \u00a0\u00a0\u00a0\u00a0tenant String Key only used for documentation or validation purposes <pre><code>vrfs:\n- name: &lt;str&gt;\ndescription: &lt;str&gt;\nip_routing: &lt;bool&gt;\nipv6_routing: &lt;bool&gt;\nip_routing_ipv6_interfaces: &lt;bool&gt;\ntenant: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Service%20Unsupported%20Transceiver.html","title":"Service Unsupported Transceiver","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Service%20Unsupported%20Transceiver.html#service-unsupported-transceiver_1","title":"Service Unsupported Transceiver","text":"TableYAML Variable Type Required Default Value Restrictions Description service_unsupported_transceiver Dictionary \u00a0\u00a0license_name String \u00a0\u00a0license_key String <pre><code>service_unsupported_transceiver:\nlicense_name: &lt;str&gt;\nlicense_key: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Spanning%20Tree.html","title":"Spanning Tree","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Spanning%20Tree.html#spanning-tree_1","title":"Spanning Tree","text":"TableYAML Variable Type Required Default Value Restrictions Description spanning_tree Dictionary \u00a0\u00a0root_super Boolean \u00a0\u00a0edge_port Dictionary \u00a0\u00a0\u00a0\u00a0bpdufilter_default Boolean \u00a0\u00a0\u00a0\u00a0bpduguard_default Boolean \u00a0\u00a0mode String Valid Values:- mstp- rstp- rapid-pvst- none \u00a0\u00a0bpduguard_rate_limit Dictionary \u00a0\u00a0\u00a0\u00a0default Boolean \u00a0\u00a0\u00a0\u00a0count Integer Maximum number of BPDUs per timer interval \u00a0\u00a0rstp_priority Integer \u00a0\u00a0mst Dictionary \u00a0\u00a0\u00a0\u00a0pvst_border Boolean \u00a0\u00a0\u00a0\u00a0configuration Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0revision Integer 0-65535 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0instances List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id Integer Required, Unique Instance ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlans String \u201d&lt; vlan_id &gt;, &lt; vlan_id &gt;-&lt; vlan_id &gt;\u201dExample: 15,16,17,18 \u00a0\u00a0mst_instances List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- id String Required, Unique Instance ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority Integer \u00a0\u00a0no_spanning_tree_vlan String \u201d&lt; vlan_id &gt;, &lt; vlan_id &gt;-&lt; vlan_id &gt;\u201dExample: 105,202,505-506 \u00a0\u00a0rapid_pvst_instances List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- id String Required, Unique \u201d&lt; vlan_id &gt;, &lt; vlan_id &gt;-&lt; vlan_id &gt;\u201dExample: 105,202,505-506 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority Integer <pre><code>spanning_tree:\nroot_super: &lt;bool&gt;\nedge_port:\nbpdufilter_default: &lt;bool&gt;\nbpduguard_default: &lt;bool&gt;\nmode: &lt;str&gt;\nbpduguard_rate_limit:\ndefault: &lt;bool&gt;\ncount: &lt;int&gt;\nrstp_priority: &lt;int&gt;\nmst:\npvst_border: &lt;bool&gt;\nconfiguration:\nname: &lt;str&gt;\nrevision: &lt;int&gt;\ninstances:\n- id: &lt;int&gt;\nvlans: &lt;str&gt;\nmst_instances:\n- id: &lt;str&gt;\npriority: &lt;int&gt;\nno_spanning_tree_vlan: &lt;str&gt;\nrapid_pvst_instances:\n- id: &lt;str&gt;\npriority: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/System%20Boot%20Settings.html","title":"System Boot Settings","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/System%20Boot%20Settings.html#system-boot-settings_1","title":"System Boot Settings","text":"<p>Set the Aboot password</p> TableYAML Variable Type Required Default Value Restrictions Description boot Dictionary \u00a0\u00a0secret Dictionary \u00a0\u00a0\u00a0\u00a0hash_algorithm String sha512 Valid Values:- md5- sha512 \u00a0\u00a0\u00a0\u00a0key String Hashed Password <pre><code>boot:\nsecret:\nhash_algorithm: &lt;str&gt;\nkey: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/System%20Control-Plane.html","title":"System Control-Plane","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/System%20Control-Plane.html#system","title":"System","text":"TableYAML Variable Type Required Default Value Restrictions Description system Dictionary \u00a0\u00a0control_plane Dictionary \u00a0\u00a0\u00a0\u00a0tcp_mss Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Integer Segment size \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 Integer Segment size \u00a0\u00a0\u00a0\u00a0ipv4_access_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- acl_name String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String \u00a0\u00a0\u00a0\u00a0ipv6_access_groups List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- acl_name String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vrf String <pre><code>system:\ncontrol_plane:\ntcp_mss:\nipv4: &lt;int&gt;\nipv6: &lt;int&gt;\nipv4_access_groups:\n- acl_name: &lt;str&gt;\nvrf: &lt;str&gt;\nipv6_access_groups:\n- acl_name: &lt;str&gt;\nvrf: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/System%20Control-Plane.html#vmtracer-sessions","title":"VMTracer Sessions","text":"TableYAML Variable Type Required Default Value Restrictions Description vmtracer_sessions List, items: Dictionary \u00a0\u00a0- name String Required, Unique Vmtracer Session Name \u00a0\u00a0\u00a0\u00a0url String \u00a0\u00a0\u00a0\u00a0username String \u00a0\u00a0\u00a0\u00a0password String Type 7 Password Hash \u00a0\u00a0\u00a0\u00a0autovlan_disable Boolean \u00a0\u00a0\u00a0\u00a0source_interface String <pre><code>vmtracer_sessions:\n- name: &lt;str&gt;\nurl: &lt;str&gt;\nusername: &lt;str&gt;\npassword: &lt;str&gt;\nautovlan_disable: &lt;bool&gt;\nsource_interface: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Terminal%20Settings.html","title":"Terminal Settings","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Terminal%20Settings.html#terminal-settings_1","title":"Terminal Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description terminal Dictionary \u00a0\u00a0length Integer Min: 0Max: 32767 \u00a0\u00a0width Integer Min: 10Max: 32767 <pre><code>terminal:\nlength: &lt;int&gt;\nwidth: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Traffic%20Policies.html","title":"Traffic Policies","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Traffic%20Policies.html#traffic-policies_1","title":"Traffic Policies","text":"TableYAML Variable Type Required Default Value Restrictions Description traffic_policies Dictionary \u00a0\u00a0options Dictionary \u00a0\u00a0\u00a0\u00a0counter_per_interface Boolean \u00a0\u00a0field_sets Dictionary \u00a0\u00a0\u00a0\u00a0ipv4 List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique IPv4 Prefix Field Set Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefixes List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IPv4 Prefix \u00a0\u00a0\u00a0\u00a0ipv6 List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique IPv6 Prefix Field Set Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefixes List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IPv6 Prefix \u00a0\u00a0\u00a0\u00a0ports List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique L4 Port Field Set Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_range String Example: \u201810,20,80,440-450\u2019 \u00a0\u00a0policies List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique Traffic Policy Name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0matches List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique Traffic Policy Item \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Valid Values:- ipv4- ipv6 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefixes List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IP address or prefix \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_lists List, items: String Field-set prefix lists \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0destination Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefixes List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String IP address or prefix \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_lists List, items: String Field-set prefix lists \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ttl String TTL range \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fragment Dictionary The \u2018fragment\u2019 command is not supported when \u2018source port\u2019or \u2018destination port\u2019 command is configured \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset String Fragment offset range \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0protocols List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- protocol String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0src_port String Port range \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dst_port String Port range \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0src_field String L4 port range field set \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dst_field String L4 port range field set \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0flags List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Valid Values:- established- initial \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0icmp_type List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0actions Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0traffic_class Integer Traffic class ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0count String Counter name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0drop Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0log Boolean Only supported when action is set to drop \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default_actions Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0traffic_class Integer Traffic class ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0count String Counter name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0drop Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0log Boolean Only supported when action is set to drop \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6 Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0traffic_class Integer Traffic class ID \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0count String Counter name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0drop Boolean \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0log Boolean Only supported when action is set to drop <pre><code>traffic_policies:\noptions:\ncounter_per_interface: &lt;bool&gt;\nfield_sets:\nipv4:\n- name: &lt;str&gt;\nprefixes:\n- &lt;str&gt;\nipv6:\n- name: &lt;str&gt;\nprefixes:\n- &lt;str&gt;\nports:\n- name: &lt;str&gt;\nport_range: &lt;str&gt;\npolicies:\n- name: &lt;str&gt;\nmatches:\n- name: &lt;str&gt;\ntype: &lt;str&gt;\nsource:\nprefixes:\n- &lt;str&gt;\nprefix_lists:\n- &lt;str&gt;\ndestination:\nprefixes:\n- &lt;str&gt;\nprefix_lists:\n- &lt;str&gt;\nttl: &lt;str&gt;\nfragment:\noffset: &lt;str&gt;\nprotocols:\n- protocol: &lt;str&gt;\nsrc_port: &lt;str&gt;\ndst_port: &lt;str&gt;\nsrc_field: &lt;str&gt;\ndst_field: &lt;str&gt;\nflags:\n- &lt;str&gt;\nicmp_type:\n- &lt;str&gt;\nactions:\ndscp: &lt;int&gt;\ntraffic_class: &lt;int&gt;\ncount: &lt;str&gt;\ndrop: &lt;bool&gt;\nlog: &lt;bool&gt;\ndefault_actions:\nipv4:\ndscp: &lt;int&gt;\ntraffic_class: &lt;int&gt;\ncount: &lt;str&gt;\ndrop: &lt;bool&gt;\nlog: &lt;bool&gt;\nipv6:\ndscp: &lt;int&gt;\ntraffic_class: &lt;int&gt;\ncount: &lt;str&gt;\ndrop: &lt;bool&gt;\nlog: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/VLAN%20Internal%20Order.html","title":"VLAN Internal Order","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/VLAN%20Internal%20Order.html#vlan-internal-order_1","title":"VLAN Internal Order","text":"TableYAML Variable Type Required Default Value Restrictions Description vlan_internal_order Dictionary \u00a0\u00a0allocation String Required Valid Values:- ascending- descending \u00a0\u00a0range Dictionary Required \u00a0\u00a0\u00a0\u00a0beginning Integer Required Min: 2Max: 4094 First VLAN ID. \u00a0\u00a0\u00a0\u00a0ending Integer Required Min: 2Max: 4094 Last VLAN ID. <pre><code>vlan_internal_order:\nallocation: &lt;str&gt;\nrange:\nbeginning: &lt;int&gt;\nending: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/VLANs.html","title":"VLANs","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/VLANs.html#vlans_1","title":"VLANs","text":"TableYAML Variable Type Required Default Value Restrictions Description vlans List, items: Dictionary \u00a0\u00a0- id Integer Required, Unique VLAN ID \u00a0\u00a0\u00a0\u00a0name String VLAN Name \u00a0\u00a0\u00a0\u00a0state String Valid Values:- active- suspend \u00a0\u00a0\u00a0\u00a0trunk_groups List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Trunk Group Name \u00a0\u00a0\u00a0\u00a0private_vlan Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String Valid Values:- community- isolated \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0primary_vlan Integer Primary VLAN ID \u00a0\u00a0\u00a0\u00a0tenant String Key only used for documentation or validation purposes <pre><code>vlans:\n- id: &lt;int&gt;\nname: &lt;str&gt;\nstate: &lt;str&gt;\ntrunk_groups:\n- &lt;str&gt;\nprivate_vlan:\ntype: &lt;str&gt;\nprimary_vlan: &lt;int&gt;\ntenant: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Virtual%20Source%20NAT.html","title":"Virtual Source NAT","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/data_model/Virtual%20Source%20NAT.html#virtual-source-nat-vrfs","title":"Virtual Source Nat VRFs","text":"TableYAML Variable Type Required Default Value Restrictions Description virtual_source_nat_vrfs List, items: Dictionary \u00a0\u00a0- name String Required, Unique VRF Name \u00a0\u00a0\u00a0\u00a0ip_address String IPv4 Address <pre><code>virtual_source_nat_vrfs:\n- name: &lt;str&gt;\nip_address: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/inputs/Role%20Inputs.html","title":"Role Inputs","text":"","boost":2},{"location":"roles/eos_cli_config_gen/docs/inputs/Role%20Inputs.html#extensibility-with-custom-templates","title":"Extensibility with Custom Templates","text":"<ul> <li>Custom templates can be added below the playbook directory.</li> <li>If a location above the directory is desired, a symbolic link can be used.</li> <li> <p>Example under the <code>playbooks</code> directory create symbolic link with the following command:</p> <pre><code>ln -s ../../shared_repo/custom_avd_templates/ ./custom_avd_templates\n</code></pre> </li> </ul> <ul> <li>The output will be rendered at the end of the configuration.</li> <li>The order of custom templates in the list can be important if they overlap.</li> <li>It is recommended to use a <code>!</code> delimiter at the top of each custom template.</li> </ul> <p>Add <code>custom_templates</code> to group/host variables:</p> TableYAML Variable Type Required Default Value Restrictions Description custom_templates List, items: String \u00a0\u00a0- &lt;str&gt; String Template relative path below playbook directory <pre><code>custom_templates:\n- &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/inputs/Role%20Inputs.html#generate-default-config","title":"Generate Default Config","text":"<p>The <code>generate_default_config</code> knob allows to omit default EOS configuration. This can be useful when leveraging <code>eos_cli_config_gen</code> to generate configlets with CloudVision.</p> <p>The following commands will be omitted when <code>generate_default_config</code> is set to <code>false</code>:</p> <ul> <li>RANCID Content Type</li> <li>Hostname</li> <li>Default configuration for <code>aaa</code></li> <li>Default configuration for <code>enable password</code></li> <li>Transceiver qsfp default mode</li> <li>End of configuration delimiter</li> </ul> TableYAML Variable Type Required Default Value Restrictions Description generate_default_config Boolean True <pre><code>generate_default_config: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_cli_config_gen/docs/inputs/Role%20Inputs.html#generate-device-documentation","title":"Generate Device Documentation","text":"TableYAML Variable Type Required Default Value Restrictions Description generate_device_documentation Boolean True <pre><code>generate_device_documentation: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_config_deploy_cvp/index.html","title":"eos_config_deploy_cvp","text":""},{"location":"roles/eos_config_deploy_cvp/index.html#overview","title":"Overview","text":"<p>eos_config_deploy_cvp is a role that deploys the configuration to Arista EOS devices via the CloudVision Management platform.</p> <p>The eos_config_deploy_cvp role:</p> <ul> <li>Designed to configure CloudVision with fabric configlets &amp; topology.</li> <li>Deploy intended configlets to devices and execute pending tasks.</li> </ul>"},{"location":"roles/eos_config_deploy_cvp/index.html#role-requirements","title":"Role requirements","text":"<p>This role requires to install <code>arista.cvp</code> collection to support CloudVision interactions.</p> <pre><code>ansible-galaxy collection install arista.cvp\n</code></pre> <p>NOTE: When using ansible-cvp modules, the user executing the Ansible playbook must have access to both CVP and the EOS CLI.</p>"},{"location":"roles/eos_config_deploy_cvp/index.html#role-inputs-and-outputs","title":"Role Inputs and Outputs","text":"<p>Figure 1 below provides a visualization of the role\u2019s inputs, outputs, and tasks in order executed by the role.</p> <p> </p> <ol> <li>Read inventory<ol> <li>Build containers topology</li> </ol> </li> <li>Role looks for configuration previously generated by <code>arista.avd.eos_cli_config_gen</code><ol> <li>List configuration and build configlets list, one per device</li> </ol> </li> <li>Role looks for additional configlets to attach to either devices or containers</li> <li>Build CloudVision configuration using <code>arista.cvp</code> collection:<ol> <li>Build configlets on CV</li> <li>Create containers topology</li> <li>Move devices to container</li> <li>Bind configlet to device</li> </ol> </li> <li>Deploy Fabric configuration by running all pending tasks (optional, if execute_tasks == true)</li> </ol>"},{"location":"roles/eos_config_deploy_cvp/index.html#inputs","title":"Inputs","text":"<p>Inventory configuration:</p> <p>An entry must be part of the inventory to describe the CloudVision server. <code>arista.cvp</code> modules use the httpapi approach. The example below provides a framework to use in your inventory.</p> <pre><code>all:\nchildren:\ncloudvision:\nhosts:\ncv_server01:\nansible_httpapi_host: 10.83.28.164\nansible_host: 10.83.28.164\nansible_user: ansible\nansible_password: ansible\nansible_connection: httpapi\nansible_httpapi_use_ssl: True\nansible_httpapi_validate_certs: False\nansible_network_os: eos\nansible_httpapi_port: 443\n# Configuration to get Virtual Env information\nansible_python_interpreter: $(which python3)\n</code></pre> <p>For a complete list of authentication options available with CloudVision Ansible collection, you can read the dedicated page on arista.cvp collection.</p>"},{"location":"roles/eos_config_deploy_cvp/index.html#role-variables","title":"Role variables","text":"<ul> <li><code>avd_inventory_to_container_file</code>: Inventory YAML file to read inventory from. Default is to read from memory.</li> <li><code>container_root</code>: Inventory group name where fabric devices are located. Default: <code>{{ fabric_name }}</code>.</li> <li><code>container_apply_mode</code>:  <code>strict</code> / <code>loose</code>. Set how configlets are attached/detached to containers. If set to strict all configlets not listed in your vars will be detached. Default: <code>loose</code>.</li> <li><code>configlets_prefix</code>: Prefix to use for configlet on CV side. Default: <code>AVD-{{ fabric_name }}-</code>.</li> <li><code>device_filter</code>: Filter to target a specific set of devices on CV side. Default: <code>all</code>. It can be either a string or a list of strings.</li> <li><code>device_apply_mode</code>: <code>strict</code> / <code>loose</code>. Set how configlets are attached/detached on device. If set to strict, all configlets and image bundles not listed in your vars are detached. Default: <code>loose</code>.</li> <li><code>device_search_key</code>: <code>fqdn</code> / <code>hostname</code> / <code>serialNumber</code>. Key name to use to look for device in CloudVision. Default: <code>hostname</code>.</li> <li><code>state</code>: <code>present</code> / <code>absent</code>. Support creation or cleanup topology on CV server. Default: <code>present</code>.</li> <li><code>execute_tasks</code>:  <code>true</code> / <code>false</code>. Support automatically executing pending tasks. Default: <code>false</code>.</li> <li><code>cvp_configlets</code>: Structure to add additional configlets to those automatically generated by AVD roles.</li> <li><code>cv_collection</code>: Version of CloudVision collection to use. Can be <code>v1</code> or <code>v3</code>. Default is <code>v1</code>.</li> </ul>"},{"location":"roles/eos_config_deploy_cvp/index.html#getting-started","title":"Getting Started","text":"<p>Below is an example of how to use role with a single string as <code>device_filter</code>:</p> <pre><code>- name: Deploy Configs\nhosts: CVP\ngather_facts: false\ntasks:\n- name: Run CVP provisioning\nansible.builtin.import_role:\nname: eos_config_deploy_cvp\nvars:\ncontainer_root: 'DC1_FABRIC'\nconfiglets_prefix: 'DC1-AVD'\ndevice_filter: 'DC1'\nstate: present\nexecute_tasks: false\n</code></pre> <p>The following code block is an example of how to use this role with a list of strings to create <code>device_filter</code> entries:</p> <pre><code>- name: Deploy Configs\nhosts: CVP\ngather_facts: false\ntasks:\n- name: Run CVP provisioning\nansible.builtin.import_role:\nname: eos_config_deploy_cvp\nvars:\ncontainer_root: 'DC1_FABRIC'\nconfiglets_prefix: 'DC1-AVD'\ndevice_filter:\n- 'DC1'\n- 'DC2'\nstate: present\nexecute_tasks: false\n</code></pre>"},{"location":"roles/eos_config_deploy_cvp/index.html#ignore-devices-not-provisioned-in-cloudvision","title":"Ignore devices not provisioned in CloudVision","text":"<p>When you want to provision a complete topology and devices aren\u2019t already in CloudVision, you can configure inventory to ignore these devices by using a host variable: <code>is_deployed</code>.</p> <ul> <li><code>is_deployed: true</code> or <code>is_deployed is not defined</code>: An entry in cv_device is generated and AVD will configure device on CloudVision. If device is undefined, an error is raised.</li> <li><code>is_deployed: false</code>: Device isn\u2019t configured in cv_device topology and only its configlet is uploaded on CloudVision.</li> </ul> <p>Here is an overview with the key configured in the YAML inventory:</p> <pre><code>  DC1_BL1:\nhosts:\nDC1-BL1A:\nansible_port: 8012\nDC1_BL2:\nhosts:\nDC1-BL2A:\nansible_port: 8012\n# Device configuration is generated by AVD\n# Device is not configured on Cloudvision (configlet is uploaded)\nis_deployed: false\n</code></pre>"},{"location":"roles/eos_config_deploy_cvp/index.html#deploy-using-device-serial-number-as-key-instead-of-device-hostname","title":"Deploy using device serial number as key instead of device hostname","text":"<p>During configuration deployment, devices can be identified using their serial number instead of the hostname. This avoids the requirement of special DHCP reservations to get the correct hostname assigned for Zero Touch Provisioning (ZTP).</p> <p>To use serial number as the key, each device must have a hostvar <code>serial_number</code> set. This can be set as hostvars in the inventory like:</p> <pre><code>  DC1_BL1:\nhosts:\nDC1-BL1A:\nserial_number: ABCDEF0123456789\n</code></pre> <p>If using <code>arista.avd.eos_designs</code>, it is also possible to set <code>serial_number</code> under the fabric topology definitions like:</p> <pre><code>spine:\nnodes:\n- name: DC1-SPINE1\nserial_number: ABCDEF0123456789\n</code></pre> <p>Since <code>eos_designs</code> will output the <code>serial_number</code> as part of the <code>structured_config</code>, this config is only available within the same play as where <code>eos_designs</code> was run. If you wish to split Ansible playbooks, you can either add an <code>include_vars</code> task first, to import the <code>structured_config</code> file per host, or just set the <code>serial_number</code> in the inventory like in the first example above.</p> <p>To instruct the <code>arista.avd.eos_config_deploy_cvp</code> role to use the serial number as the identifier of devices, the playbook should be updates with <code>cv_collection: v3</code> and <code>device_search_key: serialNumber</code> similar to this example:</p> <pre><code>- name: Deploy Configs\nhosts: CVP\ngather_facts: false\ntasks:\n- name: Deploy Configurations to Devices\nansible.builtin.import_role:\nname: arista.avd.eos_config_deploy_cvp\nvars:\ncontainer_root: 'DC1_FABRIC'\nconfiglets_prefix: 'DC1-AVD'\nstate: present\nexecute_tasks: false\ncv_collection: v3\ndevice_search_key: serialNumber\n</code></pre> <p>If the <code>serial_number</code> variable is not set correctly, an error will be raised:</p> <pre><code>TASK [arista.avd.eos_config_deploy_cvp : Build DEVICES and CONTAINER definition for mycvpserver] ********************************************************************************************************************************************************************************************************\nAn exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleError: When using 'device_search_key: serialNumber', on device SPINE1 'serial_number' was expected but not set!\nfatal: [mycvpserver -&gt; localhost]: FAILED! =&gt; {\"changed\": false, \"msg\": \"AnsibleError: When using 'device_search_key: serialNumber', on device SPINE1 'serial_number' was expected but not set!\"}\n</code></pre>"},{"location":"roles/eos_config_deploy_cvp/index.html#add-additional-configlets","title":"Add additional configlets","text":"<p>This structure must be part of <code>group_vars</code> targeting <code>container_root</code>. Below is an example applied to <code>eos_l3_evpn</code>:</p> <pre><code># group_vars/DC1_FABRIC.yml\n# List of additional CVP configlets to bind to devices and containers\n# Configlets MUST be configured on CVP before running AVD playbooks.\ncv_configlets:\ncontainers:\n&lt;name of container&gt;:\n- &lt;First configlet to attach&gt;\n- &lt;Second configlet to attach&gt;\n- &lt;...&gt;\ndevices:\n&lt;inventory_hostname&gt;:\n- &lt;First configlet to attach&gt;\n- &lt;Second configlet to attach&gt;\n- &lt;...&gt;\n&lt;inventory_hostname&gt;:\n- &lt;First configlet to attach&gt;\n- &lt;Second configlet to attach&gt;\n- &lt;...&gt;\n</code></pre> <p>Full example:</p> <pre><code># group_vars/DC1_FABRIC.yml\n# List of additional CVP configlets to bind to devices and containers\n# Configlets MUST be configured on CVP before running AVD playbooks.\ncv_configlets:\ncontainers:\nDC1_L3LEAFS:\n- GLOBAL-ALIASES\ndevices:\nDC1-L2LEAF2A:\n- GLOBAL-ALIASES\nDC1-L2LEAF2B:\n- GLOBAL-ALIASES\n</code></pre> <p>Notes:</p> <ul> <li>These configlets must be created previously on CloudVision server and won\u2019t be managed by AVD roles.</li> <li>Current version doesn\u2019t support configlets unbound from container for safety reason. In such case, configlets should be removed from variables and manually unbind from containers on CloudVision.</li> </ul>"},{"location":"roles/eos_config_deploy_cvp/index.html#run-module-with-different-tags","title":"Run module with different tags","text":"<p>This module also supports tags to run a subset of ansible tasks:</p> <ul> <li><code>build</code>: Generate Arista Validated Design configuration for EOS devices (structure_configs / configs / documentation) and CloudVision inputs.</li> <li><code>provision</code>: Run <code>build</code> tags + configure CloudVision with information generated in previous tasks</li> </ul> <pre><code>ansible-playbook playbook.to.deploy.with.cvp.yml --tags \"provision\"\n</code></pre> <p>Other option to run a subset of ansible tasks is to use <code>--skip-tags &lt;tag&gt;</code>:</p> <ul> <li>To run the module to update existing configlets only, we can use the following command:</li> </ul> <pre><code>ansible-playbook playbook.to.deploy.with.cvp.yml --skip-tags \"containers\"\n</code></pre> <ul> <li>Skipping multiple tags could make the playbook even more lightweight. For example, the command below avoids CVP task execution.</li> </ul> <pre><code>ansible-playbook playbook.to.deploy.with.cvp.yml --skip-tags \"containers,apply\"\n</code></pre>"},{"location":"roles/eos_config_deploy_cvp/index.html#outputs","title":"Outputs","text":"<ul> <li>None.</li> </ul>"},{"location":"roles/eos_config_deploy_cvp/index.html#tasks","title":"Tasks","text":"<ol> <li>Copy generated configuration to CloudVision static configlets.</li> <li>Create container topology and attach devices to the correct container.</li> <li>Bind configlet for each device.</li> <li>Apply generated tasks to deploy the configuration to devices.</li> </ol>"},{"location":"roles/eos_config_deploy_cvp/index.html#requirements","title":"Requirements","text":"<p>Requirements are located here: avd-requirements</p>"},{"location":"roles/eos_config_deploy_cvp/index.html#license","title":"License","text":"<p>Project is published under Apache 2.0 License</p>"},{"location":"roles/eos_config_deploy_eapi/index.html","title":"eos_config_deploy_eapi","text":""},{"location":"roles/eos_config_deploy_eapi/index.html#overview","title":"Overview","text":"<p>eos_config_deploy_eapi is a role that deploys the configuration to Arista EOS devices.</p> <p>The eos_config_deploy_eapi role:</p> <ul> <li>Designed to replace device running configuration with intended configuration.</li> <li>Backup configuration after a successful change.</li> </ul>"},{"location":"roles/eos_config_deploy_eapi/index.html#role-inputs-and-outputs","title":"Role Inputs and Outputs","text":"<p>Figure 1 below provides a visualization of the role\u2019s inputs, outputs, and tasks in order executed by the role.</p> <p> </p> <p>Inputs:</p> <ul> <li>Device configuration file in EOS CLI syntax.</li> </ul> <p>Outputs:</p> <ul> <li>Device running configuration before configuration is replaced (snapshot).</li> <li>Device running configuration after configuration is replaced (backup).</li> </ul> <p>Tasks:</p> <ol> <li>Take a backup of the running configuration before configuration is replaced (pre) - (optional, default false).<ol> <li>Destination: <code>{{ pre_running_config_backup_dir }}/{{ pre_running_config_backup_filename }}</code></li> </ol> </li> <li>Replace configuration on device with intended EOS configuration. If changed, saves to startup-config, and notifies handler to backup configuration.</li> <li>Backup Configuration after the configuration is replaced (post) with handler.<ol> <li>Destination: <code>{{ post_running_config_backup_dir }}/{{ post_running_config_backup_filename }}</code>.</li> </ol> </li> </ol>"},{"location":"roles/eos_config_deploy_eapi/index.html#default-variables","title":"Default Variables","text":"<pre><code># Perform config backup before config replace\neos_config_deploy_eapi_pre_running_config_backup: false\n# Root directory where to build output structure\nroot_dir: '{{ inventory_dir }}'\n# Backup directories path and filenames\npost_running_config_backup_filename: \"{{ inventory_hostname }}_post_running-config.conf\"\npost_running_config_backup_dir_name: 'config_backup'\npost_running_config_backup_dir: '{{ root_dir }}/{{ post_running_config_backup_dir_name }}'\npre_running_config_backup_filename: \"{{ inventory_hostname }}_pre_running-config.conf\"\npre_running_config_backup_dir_name: 'config_backup'\npre_running_config_backup_dir: '{{ root_dir }}/{{ pre_running_config_backup_dir_name }}'\n</code></pre>"},{"location":"roles/eos_config_deploy_eapi/index.html#requirements","title":"Requirements","text":"<p>Requirements are located here: avd-requirements</p>"},{"location":"roles/eos_config_deploy_eapi/index.html#license","title":"License","text":"<p>Project is published under Apache 2.0 License</p>"},{"location":"roles/eos_designs/index.html","title":"eos_designs","text":""},{"location":"roles/eos_designs/index.html#overview","title":"Overview","text":"<p>eos_designs is a role that provides an abstracted data model to deploy various network designs and use cases. In addition, the templating framework provides the capability to extend or modify the defaults to accommodate specific environment needs.</p> <p>The eos_designs role:</p> <ul> <li>Enables network engineers to deploy Arista Leaf &amp; Spine fabrics with underlay and overlay network services effectively and with consistency.</li> <li>Designed to be extended easily, leveraging a \u201cstackable template architecture.\u201d<ul> <li>Enabled by the yaml_template_to_facts action plugin.</li> </ul> </li> <li>Designed to be used with the eos_cli_config_gen role to generate a complete switch configuration and applied using a config replace strategy with either<ul> <li>eos_config_deploy_eapi role.</li> <li>eos_config_deploy_cvp  role.</li> </ul> </li> <li>Designed to generate the intended configuration offline, without relying on switch current state information.</li> <li>Facilitates the evaluation of the configuration post-deployment with eos_validate_state role.</li> <li>Facilitates the evaluation of the configuration prior to deployment with tools like Batfish</li> </ul>"},{"location":"roles/eos_designs/index.html#role-inputs-and-outputs","title":"Role Inputs and Outputs","text":"<p>Figure 1 below provides a visualization of the role\u2019s inputs, outputs, and tasks in order executed by the role.</p> <p> </p> <p>Inputs:</p> <ul> <li>Desired variables are defined in: role defaults, group_vars, and host_vars variables.</li> <li>If desired, the role can be extended to leverage data from dynamic sources such as an IPAM or CMDB.</li> </ul> <p>To understand the interaction between <code>eos_designs</code> input variables and <code>eos_cli_config_gen</code> input variables refer to the Variables Precedence section</p> <p>Outputs:</p> <ul> <li>A structured EOS configuration file in YAML format. This provides the following benefits:<ul> <li>Leverage the structured data to create eos CLI configuration.</li> <li>Leverage the structured data to create end-user documentation.</li> <li>Leverage the structured data for pre and post-fabric validation.</li> </ul> </li> <li>Fabric Documentation in Markdown format.</li> <li>Leaf and Spine Topology summary in CSV format.</li> </ul> <p>Tasks:</p> <ol> <li>Set AVD facts.</li> <li>Generate YAML file with host variables (Optional for debugging/development with tag -&gt; debug).</li> <li>Set device configuration facts.</li> <li>Write structured device configuration to YAML file.</li> <li>Include device structured configuration that was previously generated.</li> <li>Generate fabric documentation in Markdown format.</li> <li>Generate fabric point-to-point links summary in CSV format.</li> <li>Generate fabric physical topology summary in CSV format.</li> </ol>"},{"location":"roles/eos_designs/index.html#reference-designs","title":"Reference Designs","text":"<p>The following reference design types are included in the roles default variables:</p> <ul> <li>L3LS EVPN: Layer 3 Leaf Spine with VXLAN EVPN</li> <li>L2LS: Layer 2 Leaf Spine</li> <li>MPLS (BETA): MPLS Core with MPLS EVPN, VPN-IPv4, VPN-IPv6</li> </ul>"},{"location":"roles/eos_designs/index.html#layer-3-leaf-spine-with-vxlan-evpn","title":"Layer 3 Leaf Spine with VXLAN EVPN","text":"<p>Feasible Layer 3 Leaf &amp; Spine topologies leveraging VXLAN data-plane with an EVPN control-plane:</p> Underlay Overlay Topology eBGP eBGP Multi-Stage + L2 Leafs ISIS eBGP Multi-Stage + L2 Leafs ISIS iBGP Multi-Stage + L2 Leafs OSPF eBGP Multi-Stage + L2 Leafs OSPF iBGP Multi-Stage + L2 Leafs RFC5549(eBGP) eBGP Multi-Stage + L2 Leafs <p>Across all designs, the following functionality is provided:</p> <ul> <li>Flexible placement of EVPN Route Server (RS) or Route Reflector (RR), including dedicated overlay controller</li> <li>EVPN service definition: Layer 2 and Layer 3 (Network Services)</li> <li>L3 Edge ports definition</li> <li>L2 Edge ports definition (connected endpoints)</li> <li>Multi-Domain EVPN Gateway functionality</li> </ul> <p>5 Stage topology example:</p> <p>Disaggregated topology example:</p>"},{"location":"roles/eos_designs/index.html#layer-2-leaf-spine","title":"Layer 2 Leaf Spine","text":"Spine Uplinks Leaf Uplinks Topology L2 L2 Arbitrary or leaf-spine L3 + Static routes L2 Arbitrary or leaf-spine L3 + eBGP L2 Arbitrary or leaf-spine L3 + OSPF L2 Arbitrary or leaf-spine L3 + ISIS L2 Arbitrary or leaf-spine"},{"location":"roles/eos_designs/index.html#beta-mpls-core-with-mpls-evpn-vpn-ipv4-vpn-ipv6","title":"(BETA) MPLS Core with MPLS EVPN, VPN-IPv4, VPN-IPv6","text":"Underlay Overlay Topology ISIS-SR iBGP Arbitrary Mesh or leaf-spine ISIS-SR + LDP iBGP Arbitrary Mesh or leaf-spine ISIS + LDP iBGP Arbitrary Mesh or leaf-spine OSPF + LDP iBGP Arbitrary Mesh or leaf-spine"},{"location":"roles/eos_designs/index.html#requirements","title":"Requirements","text":"<p>Requirements are located here: avd-requirements</p>"},{"location":"roles/eos_designs/index.html#role-variables","title":"Role Variables","text":"<p>The role variables are documented inline within YAML formatted output with: <code>&lt; &gt;</code>. Some variables are required, while others are optional. Default values are stored in the role defaults main.yml file.</p> <p>Role variables are grouped by configuration elements and are typically stored in different group_vars files.</p>"},{"location":"roles/eos_designs/index.html#veos-lab-know-caveats-and-recommendations","title":"vEOS-LAB Know Caveats and Recommendations","text":"<ul> <li>vEOS-LAB is a great tool to learn and test ansible-avd automation framework. This is the primary tool leveraged by Arista Ansible Team for development and testing efforts.</li> <li>vEOS-lab enables you to create and run replicas of physical networks within a risk-free virtual environment.</li> <li>Virtual networks created with vEOS-lab can be used for network modeling, planning for new services, or validating new features and functionality for the installed network.</li> <li>vEOS-lab isn\u2019t a network simulator but the exact EOS implementation that runs on the hardware platforms.</li> <li>Supported features are documented here: Arista EOS overview.</li> </ul> <p>However, because vEOS-LAB implements a virtual data plane, there are known caveats and adjustments required to default arista.avd settings:</p> <p>Variables adjustments required for vEOS-LAB:</p> <pre><code># Disable update wait-for-convergence and update wait-for-install, which is not supported in vEOS-LAB.\nspine_bgp_defaults:\n#  - update wait-for-convergence\n#  - update wait-install\n- no bgp default ipv4-unicast\n- distance bgp 20 200 200\n- graceful-restart restart-time 300\n- graceful-restart\nleaf_bgp_defaults:\n#  - update wait-install\n- no bgp default ipv4-unicast\n- distance bgp 20 200 200\n- graceful-restart restart-time 300\n- graceful-restart\n# Update p2p mtu 9000 -&gt; 1500, MTU 9000 not supported in vEOS-LAB.\np2p_uplinks_mtu: 1500\n# Adjust default bfd values, to avoid high CPU.\nbfd_multihop:\ninterval: 1200\nmin_rx: 1200\nmultiplier: 3\n</code></pre>"},{"location":"roles/eos_designs/index.html#license","title":"License","text":"<p>Project is published under Apache 2.0 License</p>"},{"location":"roles/eos_designs/doc/connected-endpoints-mpls-BETA-v4.0.html","title":"BETA Feature","text":"<p>The MPLS design feature is in BETA until the release of AVD 4.0.0. Changes to data models and default behavior for the MPLS design should be expected.</p>"},{"location":"roles/eos_designs/doc/connected-endpoints-mpls-BETA-v4.0.html#connected-endpoints-for-mpls-design","title":"Connected Endpoints for MPLS design","text":"<ul> <li>The MPLS design supports all connected endpoint variables already supported by l3ls-evpn barring the exceptions outlined in this document.</li> <li>The connected endpoints variables, define endpoints that connect to the fabric on pe interface(s).</li> <li>The connected endpoints are leveraged to define any device that connects to a pe switch ports, i.e.: routers, cpes.</li> <li>Connected endpoints key/value pairs are designed to be extended for your own needs and leveraged to configure the endpoint itself.</li> </ul>"},{"location":"roles/eos_designs/doc/connected-endpoints-mpls-BETA-v4.0.html#connected-endpoints-keys","title":"Connected Endpoints Keys","text":"<pre><code># Example\n# The below key/pair values are the role defaults for the mpls design type.\nconnected_endpoints_keys:\n- key: routers\ntype: router\n- key: cpes\ntype: cpe\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints-mpls-BETA-v4.0.html#unsupported-variables","title":"Unsupported variables","text":"<p>Some of the default connected endpoint keys for the <code>l3ls-evpn</code> design are not supported by default with the <code>mpls</code> design:</p> <pre><code>servers:\n&lt;server&gt;:\nfirewalls:\n&lt;firewall&gt;:\nload_balancers:\n&lt;load balancer&gt;:\nstorage_arrays:\n&lt;storage array&gt;:\n</code></pre> <p>MLAG is not supported with MPLS-EVPN topologies, therefore it is necessary to use the EVPN A/A data model if a dual-homed port-channel configuration is desired. As such, the following data model will not render a functional configuration:</p> <pre><code>cpes:\ncpe01:\nrack: RackB\nadapters:\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-SVC3A, DC1-SVC3B ]\nprofile: VM_Servers\nport_channel:\ndescription: PortChanne1\nmode: active\n</code></pre> <p>The short_esi variable is mandatory in order to have a functional multihomed port-channel:</p> <pre><code>cpes:\ncpe01:\nrack: RackB\nadapters:\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-SVC3A, DC1-SVC4A ]\nprofile: VM_Servers\nport_channel:\ndescription: PortChanne1\nmode: active\nshort_esi: 0303:0202:0101\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints-mpls-BETA.html","title":"BETA Feature","text":"<p>The MPLS design feature is in BETA until the release of AVD 4.0.0. Changes to data models and default behavior for the MPLS design should be expected.</p>"},{"location":"roles/eos_designs/doc/connected-endpoints-mpls-BETA.html#connected-endpoints-for-mpls-design","title":"Connected Endpoints for MPLS design","text":"<ul> <li>The MPLS design supports all connected endpoint variables already supported by l3ls-evpn barring the exceptions outlined in this document.</li> <li>The connected endpoints variables, define endpoints that connect to the fabric on pe interface(s).</li> <li>The connected endpoints are leveraged to define any device that connects to a pe switch ports, i.e.: routers, cpes.</li> <li>Connected endpoints key/value pairs are designed to be extended for your own needs and leveraged to configure the endpoint itself.</li> </ul>"},{"location":"roles/eos_designs/doc/connected-endpoints-mpls-BETA.html#connected-endpoints-keys","title":"Connected Endpoints Keys","text":"<pre><code># Example\n# The below key/pair values are the role defaults for the mpls design type.\nconnected_endpoints_keys:\nrouters:\ntype: router\ncpes:\ntype: cpe\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints-mpls-BETA.html#unsupported-variables","title":"Unsupported variables","text":"<p>Some of the default connected endpoint keys for the <code>l3ls-evpn</code> design are not supported by default with the <code>mpls</code> design:</p> <pre><code>servers:\n&lt;server&gt;:\nfirewalls:\n&lt;firewall&gt;:\nload_balancers:\n&lt;load balancer&gt;:\nstorage_arrays:\n&lt;storage array&gt;:\n</code></pre> <p>MLAG is not supported with MPLS-EVPN topologies, therefore it is necessary to use the EVPN A/A data model if a dual-homed port-channel configuration is desired. As such, the following data model will not render a functional configuration:</p> <pre><code>cpes:\ncpe01:\nrack: RackB\nadapters:\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-SVC3A, DC1-SVC3B ]\nprofile: VM_Servers\nport_channel:\ndescription: PortChanne1\nmode: active\n</code></pre> <p>The short_esi variable is mandatory in order to have a functional multihomed port-channel:</p> <pre><code>cpes:\ncpe01:\nrack: RackB\nadapters:\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-SVC3A, DC1-SVC4A ]\nprofile: VM_Servers\nport_channel:\ndescription: PortChanne1\nmode: active\nshort_esi: 0303:0202:0101\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints-v4.0.html","title":"Connected Endpoints","text":"<ul> <li>The connected endpoints variables, define endpoints that connect to the fabric on leaf interface(s).</li> <li>The connected endpoints are leveraged to define any device that connects to a leaf switch ports, i.e.: servers, firewalls, routers, load balancers, and storage arrays.</li> <li>Connected endpoints key/value pairs are designed to be extended for your own needs and leveraged to configure the endpoint itself.</li> </ul>"},{"location":"roles/eos_designs/doc/connected-endpoints-v4.0.html#variables-and-options","title":"Variables and Options","text":""},{"location":"roles/eos_designs/doc/connected-endpoints-v4.0.html#connected-endpoints-keys","title":"Connected Endpoints Keys","text":"<pre><code># Define connected endpoints keys, to define grouping of endpoints connecting to the fabric.\n# This provides the ability to define various keys of your choice to better organize/group your data.\n# This should be defined in top level group_var for the fabric.\nconnected_endpoints_keys:\n- key: &lt; key_1 &gt;\ntype: &lt; type used for documentation &gt;\n- key: &lt; key_2 &gt;\ntype: &lt; type used for documentation &gt;\n</code></pre> <pre><code># Example\n# The below key/pair values are the role defaults.\nconnected_endpoints_keys:\n- key: servers\ntype: server\n- key: firewalls\ntype: firewall\n- key: routers\ntype: router\n- key: load_balancers\ntype: load_balancer\n- key: storage_arrays\ntype: storage_array\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints-v4.0.html#port-profiles","title":"Port Profiles","text":"<pre><code># Optional profiles to apply on endpoints facing interfaces\n# Each profile can support all or some of the following keys according to your own needs.\n# Keys are the same used under endpoints adapters. Keys defined under endpoints adapters take precedence.\n# Port_profiles can refer to another port_profile to inherit settings in up to two levels (adapter-&gt;profile-&gt;parent_profile).\nport_profiles:\n- profile: &lt; port_profile_1 &gt;\nparent_profile: &lt; port_profile_name &gt;\nspeed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\nenabled: &lt; true | false &gt;\nmode: &lt; access | dot1q-tunnel | trunk &gt;\nmtu: &lt; mtu &gt;\nl2_mtu: &lt; l2_mtu - if defined this profile should only be used for platforms supporting the \"l2 mtu\" CLI &gt;\n# If setting both native_vlan and native_vlan_tag, native_vlan_tag takes precedence\nnative_vlan: &lt; native_vlan_number &gt;\nnative_vlan_tag: &lt; boolean | default -&gt; false &gt;\nvlans: &lt; vlans as string &gt;\nspanning_tree_portfast: &lt; edge | network &gt;\nspanning_tree_bpdufilter: &lt; \"enabled\" | true | \"disabled\" &gt;\nspanning_tree_bpduguard: &lt; \"enabled\" | true | \"disabled\" &gt;\nflowcontrol:\nreceived: &lt; \"received\" | \"send\" | \"on\" &gt;\nqos_profile: &lt; qos_profile_name &gt;\nptp:\nenable: &lt; true | false &gt;\nstorm_control:\nall:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependant - default is percent)\nbroadcast:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependant - default is percent)\nmulticast:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependant - default is percent)\nunknown_unicast:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependant - default is percent)\nport_channel:\ndescription: &lt; port_channel_description &gt;\nmode: &lt; \"active\" | \"passive\" | \"on\" &gt;\nlacp_fallback:\nmode: &lt; static &gt; | Currently only static mode is supported\ntimeout: &lt; timeout in seconds &gt; | Optional - default is 90 seconds\n# Dictionary key of connected endpoint as defined in connected_endpoints_keys\n# This should be applied to group_vars or host_vars where endpoints are connecting.\n&lt; connected_endpoints_keys.key &gt;:\n# Endpoint name, this will be used in the switchport description\n- name: &lt; endpoint_1 &gt;\n# rack is used for documentation purposes only\nrack: &lt; rack_id &gt;\n# A list of adapter(s), group by adapters leveraging the same port-profile.\nadapters:\n# Example of stand-alone adapter\n# Adapter speed - if not specified will be auto.\n- speed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\n# Local endpoint port(s) | Required\nendpoint_ports: [ &lt; interface_name &gt; ]\n# List of port(s) connected to switches | Required\nswitch_ports: [ &lt; switchport_interface &gt; ]\n# List of switch(es) | Required\nswitches: [ &lt; device &gt; ]\n# Port-profile name, to inherit configuration.\nprofile: &lt; port_profile_name &gt;\n# Administrative state | Optional - default is true\n# setting to false will set port to 'shutdown' in intended configuration\nenabled: &lt; true | false &gt;\n# Interface mode | Optional\nmode: &lt; access | dot1q-tunnel | trunk &gt;\n# Native VLAN for a trunk port | Optional\n# If setting both native_vlan and native_vlan_tag, native_vlan_tag takes precedence\nnative_vlan: &lt; native_vlan_number &gt;\nnative_vlan_tag: &lt; boolean | default -&gt; false &gt;\n# Interface vlans | Required\nvlans: &lt; vlans as string &gt;\n# Spanning Tree\nspanning_tree_portfast: &lt; edge | network &gt;\nspanning_tree_bpdufilter: &lt; \"enabled\" | true | \"disabled\" &gt;\nspanning_tree_bpduguard: &lt; \"enabled\" | true | \"disabled\" &gt;\n# Flow control | Optional\nflowcontrol:\nreceived: &lt; \"received\" | \"send\" | \"on\" &gt;\n# QOS Profile | Optional\nqos_profile: &lt; qos_profile_name &gt;\n# PTP Enable | Optional\nptp:\nenable: &lt; true | false &gt;\n# Configure the downstream interfaces of a respective Link Tracking Group | Optional\n# If port_channel is defined in an adapter then port-channel interface is configured to be the downstream\n# else all the ethernet-interfaces will be configured as downstream -&gt; to configure single-active EVPN multihomed networks\nlink_tracking:\nenabled: &lt; true | false &gt;\n# The default group name is taken from fabric variable of the switch, link_tracking.groups[0].name with default value being \"LT_GROUP1\".\n# Optional if default link_tracking settings are configured on the node.\nname: &lt; tracking_group_name &gt;\n# EOS CLI rendered directly on the ethernet interface in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under ethernet_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n# Storm control settings applied on port toward the endpoint | Optional\nstorm_control:\nall:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependant - default is percent)\nbroadcast:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependant - default is percent)\nmulticast:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependant - default is percent)\nunknown_unicast:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependant - default is percent)\n# Monitor Session configuration: use defined switchports as source or destination for monitoring sessions | Optional\nmonitor_sessions:\n- name: &lt; session_name &gt;\nrole: &lt; source | destination &gt;\nsource_settings:\ndirection: &lt; rx | tx | both &gt;\naccess_group:\ntype: &lt; ip | ipv6 | mac &gt;\nname: &lt; acl_name &gt;\npriority: &lt; priority &gt;\n# Session settings are defined per session name. Different session_settings with for same session name will be combined/merged\nsession_settings:\nencapsulation_gre_metadata_tx: &lt; true | false &gt;\nheader_remove_size: &lt; bytes &gt;\naccess_group:\ntype: &lt; ip | ipv6 | mac &gt;\nname: &lt; acl_name &gt;\nrate_limit_per_ingress_chip: &lt; \"&lt;int&gt; bps\" | \"&lt;int&gt; kbps\" | \"&lt;int&gt; mbps\" &gt;\nrate_limit_per_egress_chip: &lt; \"&lt;int&gt; bps\" | \"&lt;int&gt; kbps\" | \"&lt;int&gt; mbps\" &gt;\nsample: &lt; int &gt;\ntruncate:\nenabled: &lt; true | false &gt;\nsize: &lt; bytes &gt;\n# Example of port-channel adapter\n- endpoint_ports: [ &lt; interface_name_1 &gt; , &lt; interface_name_2 &gt; ]\nswitch_ports: [ &lt; switchport_interface_1 &gt;, &lt; switchport_interface_2 &gt; ]\nswitches: [ &lt; device_1 &gt;, &lt; device_2 &gt; ]\nprofile: &lt; port_profile_name &gt;\n# Port- Channel\nport_channel:\n# Port-Channel Description.\ndescription: &lt; port_channel_description &gt;\n# Port-Channel ID | Optional\n# If no channel_id is specified, an id is generated from the first switch port in the port channel\nchannel_id : &lt; port_channel_id &gt;\n# Port-Channel administrative state | Optional - default is true\n# setting to false will set port to 'shutdown' in intended configuration\nenabled: &lt; true | false &gt;\n# Port-Channel Mode.\nmode: &lt; \"active\" | \"passive\" | \"on\" &gt;\n# LACP Fallback configuration | Optional\nlacp_fallback:\nmode: &lt; static &gt; Currently only static mode is supported\ntimeout: &lt; timeout in seconds &gt; | Optional - default is 90 seconds\n# Port-Channel L2 Subinterfaces\n# Subinterfaces are only supported on routed port-channels, which means they cannot be configured on MLAG port-channels.\nsubinterfaces:\n- number: &lt; subinterface number &gt;\nshort_esi: &lt; 0000:0000:0000 &gt; Required for multihomed port-channels with subinterfaces\nvlan_id: &lt; VLAN ID to bridge &gt; | Optional - default is subinterface number\n# Flexible encapsulation parameters\nencapsulation_vlan:\nclient_dot1q: &lt; client vlan id encapsulation &gt; | Optional - default is subinterface number\n# EOS CLI rendered directly on the port-channel interface in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under port_channel_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n- name: &lt; endpoint_2 &gt;\nrack: RackC\nadapters:\n- speed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\nendpoint_ports: [ &lt; interface_name &gt; ]\nswitch_ports: [ &lt; switchport_interface &gt; ]\nswitches: [ &lt; device &gt; ]\nprofile: &lt; port_profile_name &gt;\n- endpoint_ports: [ &lt; interface_name_1 &gt; , &lt; interface_name_2 &gt; ]\nswitch_ports: [ &lt; switchport_interface_1 &gt;, &lt; switchport_interface_2 &gt; ]\nswitches: [ &lt; device_1 &gt;, &lt; device_2 &gt; ]\nprofile: &lt; port_profile_name &gt;\nport_channel:\ndescription: &lt; port_channel_description &gt;\nmode: '&lt; active | passive | on &gt;'\nshort_esi: &lt; 0000:0000:0000 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints-v4.0.html#examples","title":"Examples","text":"<pre><code># Example\nconnected_endpoints_keys:\n- key: servers\ntype: server\n- key: firewalls\ntype: firewall\n- key: routers\ntype: router\nport_profiles:\n- profile: VM_Servers\nmode: trunk\nvlans: \"110-111,120-121,130-131\"\nspanning_tree_portfast: edge\n- profile: MGMT\nmode: access\nvlans: \"110\"\n- profile: DB_Clusters\nmode: trunk\nvlans: \"140-141\"\n# servers\nservers:\n- name: server01\nrack: RackB\nadapters:\n# Single homed interface from E0 toward DC1-LEAF1A_Eth5\n- endpoint_ports: [ E0 ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ DC1-LEAF1A ]\nprofile: MGMT\n# MLAG dual-homed connection from E1 to DC1-LEAF2A_Eth10\n#                            from E2 to DC1-LEAF2B_Eth10\n- endpoint_ports: [ E1, E2 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-LEAF2A, DC1-LEAF2B ]\nprofile: DB_Clusters\nport_channel:\ndescription: PortChanne1\nmode: active\n- name: server03\nrack: RackC\nadapters:\n# MLAG dual-homed connection from E0 to DC1-SVC3A_Eth10\n#                            from E1 to DC1-SVC3B_Eth10\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-SVC3A, DC1-SVC3B ]\nprofile: VM_Servers\nport_channel:\ndescription: PortChanne1\nmode: active\n# Firewall\nfirewalls:\n- name: FIREWALL01\nrack: RackB\nadapters:\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet20, Ethernet20 ]\nswitches: [ DC1-LEAF2A, DC1-LEAF2B ]\nprofile: TENANT_A_B\nport_channel:\ndescription: PortChanne1\nmode: active\n# Routers\nrouters:\n- name: ROUTER01\nrack: RackB\nadapters:\n- endpoint_ports: [ Eth0, Eth1 ]\nswitch_ports: [ Ethernet21, Ethernet21 ]\nswitches: [ DC1-LEAF2A, DC1-LEAF2B ]\nprofile: TENANT_A\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints-v4.0.html#single-attached-endpoint-scenario","title":"Single attached endpoint scenario","text":"<p>Single attached interface from <code>E0</code> toward <code>DC1-LEAF1A</code> interface <code>Eth5</code></p> <pre><code>servers:\n- name: server01\nrack: RackB\nadapters:\n- endpoint_ports: [ E0 ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ DC1-LEAF1A ]\nprofile: MGMT\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints-v4.0.html#mlag-dual-attached-endpoint-scenario","title":"MLAG dual-attached endpoint scenario","text":"<p>MLAG dual-homed connection:</p> <ul> <li>From <code>E0</code> to <code>DC1-SVC3A</code> interface <code>Eth10</code></li> <li>From <code>E1</code> to <code>DC1-SVC3B</code> interface <code>Eth10</code></li> </ul> <pre><code>servers:\n- name: server01\nrack: RackB\nadapters:\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-SVC3A, DC1-SVC3B ]\nprofile: VM_Servers\nport_channel:\ndescription: PortChanne1\nmode: active\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints-v4.0.html#evpn-aa-esi-dual-attached-endpoint-scenario","title":"EVPN A/A ESI dual-attached endpoint scenario","text":"<p>To help provide consistency when configuring EVPN A/A ESI values, arista.avd provides an abstraction in the form of a <code>short_esi</code> key. <code>short_esi</code> is an abbreviated 3 octets value to encode Ethernet Segment ID and LACP ID. Transformation from abstraction to network values is managed by a filter_plugin and provides following result:</p> <ul> <li>EVPN ESI: 000:000:0303:0202:0101</li> <li>LACP ID: 0303.0202.0101</li> <li>Route Target: 03:03:02:02:01:01</li> </ul> <p>Active/Active multihoming connections:</p> <ul> <li>From <code>E0</code> to <code>DC1-SVC3A</code> interface <code>Eth10</code></li> <li>From <code>E1</code> to <code>DC1-SVC4A</code> interface <code>Eth10</code></li> </ul> <pre><code>servers:\n- name: server01\nrack: RackB\nadapters:\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-SVC3A, DC1-SVC4A ]\nprofile: VM_Servers\nport_channel:\ndescription: PortChanne1\nmode: active\nshort_esi: 0303:0202:0101\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints.html","title":"Connected Endpoints","text":"<p>AVD supports two different data models for defining connectivity to endpoints:</p> <ul> <li>\u201cConnected Endpoints\u201d is an endpoint-centric model intended for servers or other use cases where most ports have unique configurations.</li> <li>\u201cNetwork Ports\u201d is a compact and port-centric model intended for configuration of generic port configurations on large ranges of ports.</li> </ul> <p>Both data models share the same underlying implementation and can coexist without conflicts, as long as the same switchports are not defined in both models.</p> <p>Both data models support variable inheritance from profiles defined under <code>port_profiles</code>. The profiles can be shared between the models. Any setting defined under the <code>port_profiles</code> will be inherited from <code>parent_profile</code> to <code>profile</code> to <code>adapter</code>.</p>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#connected-endpoints_1","title":"Connected Endpoints","text":"<ul> <li>The connected endpoints variables define connectivity from the perspective of the endpoints that connect to the fabric.</li> <li>Each endpoint can have one or more <code>adapters</code> defined, under which the connected <code>switches</code>, <code>switch_ports</code> and <code>endpoint_ports</code>   must be set.</li> <li>If port_channel mode is enabled under one \u201cadapter\u201d, all switch_ports connected to that \u201cadapter\u201d will become part of this port-channel.</li> <li>The keys used to define <code>connected_endpoints</code> are configurable using <code>connected_endpoints_keys</code>.   The default keys are: <code>servers</code>, <code>firewalls</code>, <code>routers</code>, <code>load_balancers</code> and <code>storage_arrays</code>.</li> </ul>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#network-ports","title":"Network Ports","text":"<ul> <li><code>network_ports</code> is intended to be used with <code>port_profiles</code> and <code>parent_profiles</code> to keep the configuration generic and compact, but all   features and keys supported under <code>connected_endpoints.adapters</code> is also supported directly under <code>network_ports</code>.</li> <li>Since all ranges defined under <code>network_ports</code> will be expanded to individual port configurations, by default each port will be configured   in a port-channel with one member when leveraging automatic channel-id generation. To configure multiple ports as member of the same port-channel,   set the channel-id key (cf examples below).</li> </ul>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#variables-and-options","title":"Variables and Options","text":""},{"location":"roles/eos_designs/doc/connected-endpoints.html#connected-endpoints_2","title":"Connected Endpoints","text":"<pre><code># Dictionary of connected endpoint | Optional\n# This should be applied to group_vars or host_vars where endpoints are connecting.\n# &lt;connected_endpoints_keys.key&gt; is one of the keys under \"connected_endpoints_keys\"\n# Default keys are \"servers\", \"firewalls\", \"routers\", \"load_balancers\" and \"storage_arrays\".\n&lt; connected_endpoints_keys.key &gt;:\n# Endpoint name, this will be used in the switchport description\n&lt; endpoint_1 &gt;:\n# rack is used for documentation purposes only\nrack: &lt; rack_id &gt;\n# A list of adapter(s), group by adapters leveraging the same port-profile.\nadapters:\n# Example of stand-alone adapter\n# Adapter speed - if not specified will be auto.\n- speed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\n# The lists \"endpoint_ports\", \"switch_ports\" and \"switches\" must have the same length.\n# Each list item is one switchport.\n# Endpoint port(s). Used for description. | Required unless description is set\nendpoint_ports: [ &lt; interface_name &gt; ]\n# List of switch interfac(es) | Required\nswitch_ports: [ &lt; switchport_interface &gt; ]\n# List of switch(es) | Required\nswitches: [ &lt; device &gt; ]\n# Interface descriptions Description | Optional\ndescription: &lt;description&gt;\n# Port-profile name, to inherit configuration.\nprofile: &lt; port_profile_name &gt;\n# Administrative state | Optional - default is true\n# setting to false will set port to 'shutdown' in intended configuration\nenabled: &lt; true | false &gt;\n# Interface mode | Optional\nmode: &lt; access | dot1q-tunnel | trunk &gt;\n# MTU | Optional\nmtu: &lt; mtu &gt;\n# L2 MTU - This should only be defined for platforms supporting the \"l2 mtu\" CLI\nl2_mtu: &lt; l2_mtu &gt;\n# Native VLAN for a trunk port | Optional\n# If setting both native_vlan and native_vlan_tag, native_vlan_tag takes precedence\nnative_vlan: &lt; native_vlan_number &gt;\nnative_vlan_tag: &lt; boolean | default -&gt; false &gt;\n# Trunk Groups | Required with \"enable_trunk_groups: true\"\n# Trunk Groups are used for limiting vlans on trunk ports to vlans with the same Trunk Group\ntrunk_groups: [ &lt; trunk_group_1 &gt;, &lt; trunk_group_2 &gt; ]\n# Interface vlans | Optional\n# If not set, the EOS default is that all vlans are allowed for trunk ports and vlan 1 will be used for access ports\nvlans: &lt; vlans as string &gt;\n# Spanning Tree\nspanning_tree_portfast: &lt; edge | network &gt;\nspanning_tree_bpdufilter: &lt; \"enabled\" | true | \"disabled\" &gt;\nspanning_tree_bpduguard: &lt; \"enabled\" | true | \"disabled\" &gt;\n# Flow control | Optional\nflowcontrol:\nreceived: &lt; \"received\" | \"send\" | \"on\" &gt;\n# QOS Profile | Optional\nqos_profile: &lt; qos_profile_name &gt;\n# PTP Enable | Optional\nptp:\nenable: &lt; true | false | default -&gt; false | Required &gt;\n# These are the default settings:\n# - The global PTP profile parameters will be applied to all connected endpoints where ptp is manually enabled.\n# - `ptp role master` is set to ensure control over the PTP topology.\nendpoint_role: &lt; follower | bmca | default -&gt; follower &gt;\nprofile: &lt; aes67 | smpte2059-2 | aes67-r16-2016 | default -&gt; aes67-r16-2016 &gt;\n# Configure the downstream interfaces of a respective Link Tracking Group | Optional\n# If port_channel is defined in an adapter then port-channel interface is configured to be the downstream\n# else all the ethernet-interfaces will be configured as downstream -&gt; to configure single-active EVPN multihomed networks\nlink_tracking:\nenabled: &lt; true | false &gt;\n# The default group name is taken from fabric variable of the switch, link_tracking.groups[0].name with default value being \"LT_GROUP1\".\n# Optional if default link_tracking settings are configured on the node.\nname: &lt; tracking_group_name &gt;\n# 802.1x | Optional\ndot1x:\nport_control: &lt; \"auto\" | \"force-authorized\" | \"force-unauthorized\" &gt;\nport_control_force_authorized_phone: &lt; true | false &gt;\nreauthentication: &lt; true | false &gt;\npae:\nmode: &lt; \"authenticator\" &gt;\nauthentication_failure:\naction: &lt; \"allow\" | \"drop\" &gt;\nallow_vlan: &lt; 1-4094 &gt;\nhost_mode:\nmode: &lt; \"multi-host\" | \"single-host\" &gt;\nmulti_host_authenticated: &lt; true | false &gt;\nmac_based_authentication:\nenabled: &lt; true | false &gt;\nalways: &lt; true | false &gt;\nhost_mode_common: &lt; true | false &gt;\ntimeout:\nidle_host: &lt; 10-65535 &gt;\nquiet_period: &lt; 1-65535 &gt;\nreauth_period: &lt; 60-4294967295 | server &gt;\nreauth_timeout_ignore: &lt; true | false &gt;\ntx_period: &lt; 1-65535 &gt;\nreauthorization_request_limit: &lt; 1-10 &gt;\n# EOS CLI rendered directly on the ethernet interface in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under ethernet_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n# Storm control settings applied on port toward the endpoint | Optional\nstorm_control:\nall:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependent - default is percent)\nbroadcast:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependent - default is percent)\nmulticast:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependent - default is percent)\nunknown_unicast:\nlevel: &lt; Configure maximum storm-control level &gt;\nunit: &lt; percent | pps &gt; | Optional var and is hardware dependent - default is percent)\n# Monitor Session configuration: use defined switchports as source or destination for monitoring sessions | Optional\nmonitor_sessions:\n- name: &lt; session_name &gt;\nrole: &lt; source | destination &gt;\nsource_settings:\ndirection: &lt; rx | tx | both &gt;\naccess_group:\ntype: &lt; ip | ipv6 | mac &gt;\nname: &lt; acl_name &gt;\npriority: &lt; priority &gt;\n# Session settings are defined per session name. Different session_settings with for same session name will be combined/merged\nsession_settings:\nencapsulation_gre_metadata_tx: &lt; true | false &gt;\nheader_remove_size: &lt; bytes &gt;\naccess_group:\ntype: &lt; ip | ipv6 | mac &gt;\nname: &lt; acl_name &gt;\nrate_limit_per_ingress_chip: &lt; \"&lt;int&gt; bps\" | \"&lt;int&gt; kbps\" | \"&lt;int&gt; mbps\" &gt;\nrate_limit_per_egress_chip: &lt; \"&lt;int&gt; bps\" | \"&lt;int&gt; kbps\" | \"&lt;int&gt; mbps\" &gt;\nsample: &lt; int &gt;\ntruncate:\nenabled: &lt; true | false &gt;\nsize: &lt; bytes &gt;\n# Settings for all- or single-active EVPN multihoming\nethernet_segment:\n# Define a manual short-esi (be careful using this on profiles) or auto-generate an ESI | Required\n# Please see the notes under \"EVPN A/A ESI dual- and single-attached endpoint scenarios\" before setting short_esi: auto\nshort_esi: &lt; xxxx:xxxx:xxxx | auto &gt;\n# Configure this Ethernet Segment for all-active or single-active forwarding | Optional\n# If omitted, Port-Channels use the EOS default of all-active\n# If omitted, Ethernet interfaces are configured as single-active\nredundancy: &lt; all-active | single-active &gt;\n# Configure DF algorithm and preferences | Optional\n#  - auto: Use preference-based algorithm and assign preference based on position of device in the 'switches' list\n#          e.g. assuming a list of three switches, this would assign a preference of 200 to the first switch, 100 to the 2nd and 0 to the third\n#  - preference: Set preference for each switch manually using designated_forwarder_preferences key\n#  - modulus: Use the default modulus-based algorithm\n# If omitted, Port-Channels use the EOS default of modulus\n# If omitted, Ethernet interfaces default to the 'auto' mechanism detailed above\ndesignated_forwarder_algorithm: &lt; \"auto\" | \"modulus\" | \"preference\" &gt;\n# manual preference as described above | Required only for preference algorithm\ndesignated_forwarder_preferences: [ &lt; df_preference_for_each_switch &gt; ]\n# Disable preemption for single-active forwarding when auto/manual DF preference is configured | Optional\ndont_preempt: &lt; true | false &gt;\n# Example of port-channel adapter\n- endpoint_ports: [ &lt; interface_name_1 &gt; , &lt; interface_name_2 &gt; ]\nswitch_ports: [ &lt; switchport_interface_1 &gt;, &lt; switchport_interface_2 &gt; ]\nswitches: [ &lt; device_1 &gt;, &lt; device_2 &gt; ]\nprofile: &lt; port_profile_name &gt;\n# Port- Channel\nport_channel:\n# Port-Channel Mode | Required\nmode: &lt; \"active\" | \"passive\" | \"on\" &gt;\n# Port-Channel ID | Optional\n# If no channel_id is specified, an id is generated from the first switch port in the port channel\nchannel_id : &lt; port_channel_id &gt;\n# Port-Channel Description - added after endpoint name in the description | Optional\ndescription: &lt; port_channel_description &gt;\n# Port-Channel administrative state | Optional - default is true\n# setting to false will set port to 'shutdown' in intended configuration\nenabled: &lt; true | false &gt;\n# LACP Fallback configuration | Optional\nlacp_fallback:\nmode: &lt; static &gt; Currently only static mode is supported\ntimeout: &lt; timeout in seconds &gt; | Optional - default is 90 seconds\n# Port-Channel L2 Subinterfaces\n# Subinterfaces are only supported on routed port-channels, which means they cannot be configured on MLAG port-channels.\n# Setting short_esi: auto generates the short_esi automatically using a hash of configuration elements.\n# Please see the notes under \"EVPN A/A ESI dual-attached endpoint scenario\" before setting short_esi: auto.\nsubinterfaces:\n- number: &lt; subinterface number &gt;\nshort_esi: &lt; xxxx:xxxx:xxxx | auto &gt; Required for multihomed port-channels with subinterfaces\nvlan_id: &lt; VLAN ID to bridge &gt; | Optional - default is subinterface number\n# Flexible encapsulation parameters\nencapsulation_vlan:\nclient_dot1q: &lt; client vlan id encapsulation &gt; | Optional - default is subinterface number\n# Allocates an automatic short_esi to all ports using this profile\n# Please see the notes under \"EVPN A/A ESI dual-attached endpoint examples\" in this document before setting short_esi: auto.\nshort_esi: auto\n# EOS CLI rendered directly on the port-channel interface in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under port_channel_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n# Setting short_esi: auto generates the short_esi automatically using a hash of configuration elements.\n# Please see the notes under \"EVPN A/A ESI dual-attached endpoint scenario\" before setting short_esi: auto.\n&lt; endpoint_2 &gt;:\nrack: RackC\nadapters:\n- speed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\nendpoint_ports: [ &lt; interface_name &gt; ]\nswitch_ports: [ &lt; switchport_interface &gt; ]\nswitches: [ &lt; device &gt; ]\nprofile: &lt; port_profile_name &gt;\n- endpoint_ports: [ &lt; interface_name_1 &gt; , &lt; interface_name_2 &gt; ]\nswitch_ports: [ &lt; switchport_interface_1 &gt;, &lt; switchport_interface_2 &gt; ]\nswitches: [ &lt; device_1 &gt;, &lt; device_2 &gt; ]\nprofile: &lt; port_profile_name &gt;\nport_channel:\ndescription: &lt; port_channel_description &gt;\nmode: '&lt; active | passive | on &gt;'\n# Note that short_esi defined here is overridden by short_esi defined under the ethernet_segment section.\n# This key will be deprecated in the next major version of AVD.\nshort_esi: &lt; xxxx:xxxx:xxxx | auto &gt;\nethernet_segment:\nshort_esi: &lt; xxxx:xxxx:xxxx | auto &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#network-ports_1","title":"Network Ports","text":"<p>The <code>network_ports</code> data model is intended to be used with <code>port_profiles</code> and <code>parent_profiles</code> to keep the configuration generic and compact, but all features and keys supported under <code>connected_endpoints.adapters</code> is also supported directly under <code>network_ports</code>.</p> <p>Since all ranges defined under <code>network_ports</code> will be expanded to individual port configurations, by default each port will be configured in a port-channel with one member when leveraging automatic channel-id generation. To configure multiple ports as member of the same port-channel, set the channel-id key (cf examples below). To leverage automatic channel-id computation and configure port-channel with multiple members, <code>connected_endpoints</code> should be used.</p> <p>The expansiont to individual port configurations also lead to inconsistent configurations when used with <code>short_esi: auto</code> or <code>designated_forwarder_algorithm: auto</code>, since those rely on information from multiple switches and interfaces.</p> <pre><code># Network Ports | Optional\n# All switch_ports ranges are expanded into individual port configurations.\n# Switches are matched with regular expressions, which must match the full hostname.\nnetwork_ports:\n- switches:\n- &lt; regex matching the full hostname of one or more switches &gt;\n# Switch_ports is a list of ranges using AVD range_expand syntax (see link below).\n# Ex Ethernet1-48 or Ethernet2-3/1-48\nswitch_ports:\n- &lt; interface | interface_range &gt;\ndescription: &lt; description to be used on all ports &gt;\n# Port-profile name, to inherit configuration.\nprofile: &lt; port_profile_name &gt;\n&lt; any keys supported under connected_endpoints adapters &gt;\n</code></pre> <p>For more details and examples of the <code>range_expand</code> syntax, see the arista.avd.range_expand documentation</p>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#port-profiles","title":"Port Profiles","text":"<pre><code># Optional profiles to share common settings for connected_endpoints and/or network_ports\n# Keys are the same used under endpoints adapters. Keys defined under endpoints adapters take precedence.\nport_profiles:\n&lt; port_profile_name &gt;:\n# Parent Profile | Optional\n# Port_profiles can refer to another port_profile to inherit settings in up to two levels (adapter-&gt;profile-&gt;parent_profile).\nparent_profile: &lt; port_profile_name &gt;\n&lt; any keys supported under connected_endpoints adapters &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#connected-endpoints-keys","title":"Connected Endpoints Keys","text":"<pre><code># Define connected endpoints keys, to define grouping of endpoints connecting to the fabric.\n# This provides the ability to define various keys of your choice to better organize/group your data.\n# This should be defined in top level group_var for the fabric.\n# The default values will be overridden if defining this key, so it is recommended to copy the defaults and modify them.\nconnected_endpoints_keys:\n&lt; key_1 &gt;:\ntype: &lt; type used for documentation &gt;\n&lt; key_2 &gt;:\ntype: &lt; type used for documentation &gt;\n</code></pre> <pre><code># Example\n# The below key/pair values are the role defaults.\nconnected_endpoints_keys:\nservers:\ntype: server\nfirewalls:\ntype: firewall\nrouters:\ntype: router\nload_balancers:\ntype: load_balancer\nstorage_arrays:\ntype: storage_array\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#examples","title":"Examples","text":""},{"location":"roles/eos_designs/doc/connected-endpoints.html#example-with-profiles","title":"Example with profiles","text":"<pre><code># Example\nconnected_endpoints_keys:\nservers:\ntype: server\nfirewalls:\ntype: firewall\nrouters:\ntype: router\nport_profiles:\nVM_Servers:\nmode: trunk\nvlans: \"110-111,120-121,130-131\"\nspanning_tree_portfast: edge\nMGMT:\nmode: access\nvlans: \"110\"\nDB_Clusters:\nmode: trunk\nvlans: \"140-141\"\n# servers\nservers:\nserver01:\nrack: RackB\nadapters:\n# Single homed interface from E0 toward DC1-LEAF1A_Eth5\n- endpoint_ports: [ E0 ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ DC1-LEAF1A ]\nprofile: MGMT\n# MLAG dual-homed connection from E1 to DC1-LEAF2A_Eth10\n#                            from E2 to DC1-LEAF2B_Eth10\n- endpoint_ports: [ E1, E2 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-LEAF2A, DC1-LEAF2B ]\nprofile: DB_Clusters\nport_channel:\ndescription: PortChanne1\nmode: active\nserver03:\nrack: RackC\nadapters:\n# MLAG dual-homed connection from E0 to DC1-SVC3A_Eth10\n#                            from E1 to DC1-SVC3B_Eth10\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-SVC3A, DC1-SVC3B ]\nprofile: VM_Servers\nport_channel:\ndescription: PortChanne1\nmode: active\n# Firewall\nfirewalls:\nFIREWALL01:\nrack: RackB\nadapters:\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet20, Ethernet20 ]\nswitches: [ DC1-LEAF2A, DC1-LEAF2B ]\nprofile: TENANT_A_B\nport_channel:\ndescription: PortChanne1\nmode: active\n# Routers\nrouters:\nROUTER01:\nrack: RackB\nadapters:\n- endpoint_ports: [ Eth0, Eth1 ]\nswitch_ports: [ Ethernet21, Ethernet21 ]\nswitches: [ DC1-LEAF2A, DC1-LEAF2B ]\nprofile: TENANT_A\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#single-attached-endpoint-example","title":"Single attached endpoint example","text":"<p>Single attached interface from <code>E0</code> toward <code>DC1-LEAF1A</code> interface <code>Eth5</code></p> <pre><code>servers:\nserver01:\nrack: RackB\nadapters:\n- endpoint_ports: [ E0 ]\nswitch_ports: [ Ethernet5 ]\nswitches: [ DC1-LEAF1A ]\nprofile: MGMT\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#mlag-dual-attached-endpoint-example","title":"MLAG dual-attached endpoint example","text":"<p>MLAG dual-homed connection:</p> <ul> <li>From <code>E0</code> to <code>DC1-SVC3A</code> interface <code>Eth10</code></li> <li>From <code>E1</code> to <code>DC1-SVC3B</code> interface <code>Eth10</code></li> </ul> <pre><code>servers:\nserver01:\nrack: RackB\nadapters:\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-SVC3A, DC1-SVC3B ]\nprofile: VM_Servers\nport_channel:\ndescription: PortChanne1\nmode: active\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#evpn-aa-esi-dual-attached-endpoint-examples","title":"EVPN A/A ESI dual-attached endpoint examples","text":"<p>To help provide consistency when configuring EVPN A/A ESI values, arista.avd provides an abstraction in the form of a <code>short_esi</code> key. <code>short_esi</code> is an abbreviated 3 octets value to encode Ethernet Segment ID and LACP ID. Transformation from abstraction to network values is managed by a filter_plugin and provides following result:</p> <ul> <li>EVPN ESI: 000:000:0303:0202:0101</li> <li>LACP ID: 0303.0202.0101</li> <li>Route Target: 03:03:02:02:01:01</li> </ul> <p>In addition, setting the <code>short_esi</code> key to <code>auto</code> generates the short_esi automatically using a hash of the following data elements:</p> <ul> <li>Port-Channel Interfaces: first two uplink switch hostnames, the ports on those switches, the corresponding endpoint ports and the channel-group ID.</li> <li>Port-Channel Subinterface: first two uplink switch hostname, the ports on those switches, the corresponding endpoint ports, the channel-group ID and the subinterface number.</li> <li>Ethernet Interfaces: first two uplink switch hostnames, the ports on those switches, the corresponding endpoint ports and the interface number.</li> </ul> <p>It should be noted that arista.avd does not currently check for hash collisions when using <code>short_esi: auto</code> and while the risk of this happening is non-zero, it is small.</p> <p>Active/Active multihoming connections:</p> <ul> <li>From <code>E0</code> to <code>DC1-SVC3A</code> interface <code>Eth10</code></li> <li>From <code>E1</code> to <code>DC1-SVC4A</code> interface <code>Eth10</code></li> </ul> <pre><code>servers:\nserver01:\nrack: RackB\nadapters:\n- endpoint_ports: [ E0, E1 ]\nswitch_ports: [ Ethernet10, Ethernet10 ]\nswitches: [ DC1-SVC3A, DC1-SVC4A ]\nprofile: VM_Servers\nport_channel:\ndescription: PortChanne1\nmode: active\nshort_esi: 0303:0202:0101\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#example-using-network-ports-and-profiles","title":"Example using network ports and profiles","text":"<pre><code># Port Profiles\n# Common settings inherited to network_ports\nport_profiles:\n- profile: common\nmode: access\nvlans: \"999\"\nspanning_tree_portfast: edge\nspanning_tree_bpdufilter: enabled\n- profile: ap_with_port_channel\nparent_profile: common\nvlans: \"101\"\nport_channel:\nmode: active\n- profile: pc\nparent_profile: common\nvlans: \"100\"\n# Network Ports\n# All switch_ports ranges are expanded into individual port configurations\n# Switches are matched with regex matching the full hostname.\nnetwork_ports:\n- switches:\n- network-ports-tests-1\nswitch_ports:\n- Ethernet1-2\nprofile: pc\ndescription: PCs\n- switches:\n- network-ports-tests-2$\nswitch_ports:\n- Ethernet1-2\nprofile: ap_with_port_channel\ndescription: AP1 with port_channel\n- switches:\n- network-ports-[est]{5}-.*\nswitch_ports:\n- Ethernet3-4\n- Ethernet2/1-48\nprofile: pc\ndescription: PCs\n</code></pre>"},{"location":"roles/eos_designs/doc/connected-endpoints.html#example-using-network-ports-to-configure-multiple-ports-in-the-same-port-channel","title":"Example using network ports to configure multiple ports in the same port-channel","text":"<pre><code># Network Ports\n# By setting the channel_id key under port-channel, interfaces Ethernet3-4 will\n# be configured under the same port-channel.\nnetwork_ports:\n- switches:\n- network-ports-tests-1\nswitch_ports:\n- Ethernet3-4\ndescription: Multiple interfaces in the same port-channel\nport_channel:\nmode: active\nchannel_id: 42\n</code></pre> <p>This will generate the following config:</p> <pre><code>interface Port-Channel42\n   description Multiple interfaces in the same port-channel\n   no shutdown\n   switchport\n!\n!\ninterface Ethernet3\n   description Multiple interfaces in the same port-channel\n   no shutdown\n   channel-group 42 mode active\n!\ninterface Ethernet4\n   description Multiple interfaces in the same port-channel\n   no shutdown\n   channel-group 42 mode active\n!\n</code></pre>"},{"location":"roles/eos_designs/doc/core-interfaces-BETA.html","title":"BETA Feature","text":"<p>The Core Interfaces feature is in BETA until the release of AVD 4.0.0. Changes to data models and default behavior for the Core Interfaces should be expected.</p>"},{"location":"roles/eos_designs/doc/core-interfaces-BETA.html#core-interfaces","title":"Core Interfaces","text":"<p>The <code>core_interfaces</code> data model can be used to configure L3 P2P links anywhere in the fabric. It can be between two switches that are already part of the fabric inventory, or it can be towards another device, where only one end of the link is on a switch in the fabric.</p> <p>The data model supports using IP pools, Subnet per link or specifying the IP addresses manually. For BGP peerings the AS number must be specified. If the AS number is different than the AS number configured for the node, the local-as will be replaced on this BGP peering (<code>neighbor &lt;ip&gt; local-as &lt;as&gt; no-prepend replace-as</code>).</p> <p>Make sure to configure the variables in a group_vars file covering all devices mentioned in the data model.</p> <pre><code>core_interfaces:\np2p_links_ip_pools:\n- name: &lt; p2p_pool_name_1 &gt;\nipv4_pool: &lt; IPv4_address/Mask &gt;\nprefix_size: &lt; subnet mask size | default -&gt; 31 &gt;\np2p_links_profiles:\n- name: &lt; p2p_profile_name &gt;\n&lt; any variable supported under p2p_links can be inherited from a profile &gt;\np2p_links:\n# Unique id per subnet_summary. Used to calculate ip addresses | Required with ip_pool\n- id: &lt; integer - starting from 1 &gt;\n# Speed | Optional\nspeed: &lt; speed | auto speed | forced speed &gt;\n# IP Pool defined under p2p_links_ip_pools. A /31 will be taken from the pool per P2P link | Optional\nip_pool: &lt; p2p_pool_name &gt;\n# Subnet used on this P2P link | Optional\nsubnet: &lt; IPv4_address/Mask &gt;\n# Specific IP addresses used on this P2P link | Optional\nip: [ &lt; node_a IPv4_address/Mask &gt;, &lt; node_b IPv4_address/Mask &gt; ]\n# Allows turning on ipv6 for the link or profile (also autodetected based on underlay_rfc5549 and include_in_underlay_protocol) | Optional\nipv6_enable: &lt; true | false | default -&gt; false &gt;\n# Nodes where this link should be configured | Required\nnodes: [ &lt; node_a &gt;, &lt; node_b &gt; ]\n# Interfaces where this link should be configured | Required unless using port-channels\ninterfaces: [ &lt; node_a_interface &gt;, &lt; node_b_interface &gt; ]\n# AS Numbers for BGP | Required with bgp peering\nas: [ &lt; node_a_as &gt;, &lt; node_b_as &gt; ]\n# Interface Description | Optional\ndescriptions: [ &lt; node_a_description &gt;, &lt; node_b_description &gt; ]\n# Add this interface to underlay routing protocol | Optional\ninclude_in_underlay_protocol: &lt; true | false | default -&gt; true &gt;\n# IS-IS parameters\nisis_hello_padding: &lt; true | false &gt;\nisis_metric: &lt; integer &gt;\nisis_circuit_type: &lt; level-1-2 | level-1 | level-2 &gt;\nisis_authentication_mode: &lt; text | md5 &gt;\nisis_authentication_key: &lt; type-7 encrypted password &gt;\n# MPLS Parameters\nmpls_ip: &lt; true | false | default -&gt; true if switch.mpls_lsr is true &gt;\nmpls_ldp: &lt; true | false | default -&gt; true for ldp underlay variants, otherwise false &gt;\n# MTU for this P2P link | Optional\nmtu: &lt; number | default -&gt; same as p2p_uplinks_mtu &gt;\n# Enable BFD (only considered for BGP) | Optional\nbfd: &lt; true | false | default -&gt; false &gt;\n# Enable PTP | Optional\nptp_enable: &lt; true | false | default -&gt; false &gt;\n# QOS Service Profile | Optional\nqos_profile: &lt; qos_profile_name &gt;\n# MAC Security Profile | Optional\nmacsec_profile: &lt; macsec_profile_name &gt;\n# Profile defined under p2p_profiles | Optional\nprofile: &lt; p2p_profile_name &gt;\n# EOS CLI rendered directly on the point-to-point interface in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Port-channel parameters\nport_channel:\nmode: active\nnodes_child_interfaces:\n&lt; node1 &gt;: [ '&lt; node1 interface1 &gt;', '&lt; node1 interface2 &gt;' ]\n&lt; node2 &gt;: [ '&lt; node2 interface1 &gt;', '&lt; node2 interface2 &gt;' ]\n</code></pre>"},{"location":"roles/eos_designs/doc/core-interfaces-BETA.html#fabric-level-variables","title":"Fabric Level Variables","text":"<p>These fabric level parameters can be used with core_interfaces running ISIS, and may be overridden on link profile or link level:</p> <p>```yaml isis_default_circuit_type: &lt; level-1-2, | level-1 | level-2 | default -&gt; level-2 &gt; isis_default_metric: &lt; metric | default -&gt; 50 &gt; ````</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html","title":"Custom Structured Configuration","text":"<p>With Custom Structured Configuration the user can override built-in <code>eos_designs</code> functionality or add extra knobs to be picked up by <code>eos_cli_config_gen</code> role. There are multiple ways of supplying Custom Structured Configuration and they can all be combined.</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html#structured_config-in-eos_designs-data-models","title":"<code>structured_config</code> in <code>eos_designs</code> data models","text":"<p>This feature enables the user to supply <code>structured_config</code> on various levels in the <code>eos_designs</code> data model.</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html#connected-endpoints","title":"Connected Endpoints","text":"<p>All relevant <code>structured_config</code> sections will be merged.</p> <pre><code>&lt; connected_endpoints_keys.key &gt;:\n- name: &lt; endpoint_1 &gt;\nadapters:\n- &lt;...&gt;\n# Custom structured config added under ethernet_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nport_channel:\n# Custom structured config added under port_channel_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n</code></pre> <p>See Connected Endpoints</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html#fabric-topology","title":"Fabric Topology","text":"<p>Only the most specific <code>structured_config</code> key will be used</p> <pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Custom structured config for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nnodes:\n- name: &lt; node &gt;\n# Custom structured config for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nnode_groups:\n- group: &lt; node_group &gt;\n# Custom structured config for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nnodes:\n- name: &lt; node &gt;\n# Custom structured config for eos_cli_config_gen\n# Overrides the setting on node_group level.\nstructured_config: &lt; dictionary &gt;\n</code></pre> <p>See Fabric Topology</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html#network-services-aka-tenants","title":"Network Services (a.k.a. \u201ctenants\u201d)","text":"<p>All relevant <code>structured_config</code> sections will be merged. Note that setting <code>structured_config</code> under <code>svi.nodes</code> will override the setting on <code>svi</code>.</p> <pre><code>tenants:\nvrfs:\n&lt; vrf &gt;:\n# Custom structured config for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nbgp:\n# Custom structured config added under router_bgp.vrfs.&lt;vrf&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nsvis:\n&lt; vlan &gt;:\n# Custom structured config added under vlan_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nnodes:\n&lt; node &gt;:\n# Custom structured config added under vlan_interfaces.&lt;interface&gt; for eos_cli_config_gen\n# Overrides the setting on SVI level.\nstructured_config: &lt; dictionary &gt;\n</code></pre> <p>See Network Services</p> <p>All <code>structured_config</code> knobs honor the <code>list_merge</code> strategy set in <code>custom_structured_configuration_list_merge</code> described in the next section.</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html#custom_structured_configuration","title":"<code>custom_structured_configuration</code>","text":"<p>Custom EOS Structured Configuration keys can be set on any group or host_var level using the name of the corresponding <code>eos_cli_config_gen</code> key prefixed with content of <code>custom_structured_configuration_prefix</code>. The content of Custom Structured Configuration variables will be combined with the structured config generated by the eos_designs role. By default Lists are replaced and Dictionaries are updated. The combine is done recursively, so it is possible to update a sub-key of a variable set by <code>eos_designs</code> role already. The List-merge strategy can be changed using <code>custom_structured_configuration_list_merge</code> variable using any value accepted by <code>list_merge</code> on the Ansible Combine filter.</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html#variables-and-options","title":"Variables and Options","text":"<pre><code>custom_structured_configuration_prefix: &lt; variable_prefix, default -&gt; \"custom_structured_configuration_\" &gt;\n#or\ncustom_structured_configuration_prefix: [ &lt; variable_prefix_1 &gt; , &lt; variable_prefix_2 &gt; , &lt; variable_prefix_3 &gt; ]\ncustom_structured_configuration_list_merge: &lt; replace (default) | append | keep | prepend | append_rp | prepend_rp &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html#examples","title":"Examples","text":""},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html#example-using-default-prefix","title":"Example using default prefix","text":"<pre><code>custom_structured_configuration_ip_name_servers:\n- ip_address: 10.2.3.4\nvrf: MGMT\ncustom_structured_configuration_ethernet_interfaces:\nEthernet4000:\ndescription: My test\nip_address: 10.1.2.3/12\nshutdown: false\ntype: routed\nmtu: 1500\npeer: MY-own-peer\npeer_interface: Ethernet123\npeer_type: my_precious\n</code></pre> <p>In this example the contents of the <code>ip_name_servers</code> variable in the Structured Configuration will be replaced by the list <code>[ 10.2.3.4 ]</code> and <code>Ethernet4000</code> will be added to the <code>ethernet_interfaces</code> dictionary in the Structured Configuration.</p> <p><code>custom_structured_configuration_prefix</code> allows the user to customize the prefix for Custom Structured Configuration variables. Default value is <code>custom_structured_configuration_</code>. Remember to include any delimiter like the last <code>_</code> in this case. It is possible to specify a list of prefixes, which will all be merged one by one. The order of merge will start from beginning of the list, which means that keys defined in the later prefixes will be able to override keys defined in previous ones.</p> <pre><code>custom_structured_configuration_prefix: &lt; variable_prefix, default -&gt; \"custom_structured_configuration_\" &gt;\n#or\ncustom_structured_configuration_prefix: [ &lt; variable_prefix_1 &gt; , &lt; variable_prefix_2 &gt; , &lt; variable_prefix_3 &gt; ]\n</code></pre>"},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html#example-using-multiple-prefixes","title":"Example using multiple prefixes","text":"<pre><code>custom_structured_configuration_prefix: [ my_dci_ , my_special_dci_ ]\nmy_dci_ethernet_interfaces:\nEthernet4000:\ndescription: My test\nip_address: 10.1.2.3/12\nshutdown: false\ntype: routed\nmtu: 1500\npeer: MY-own-peer\npeer_interface: Ethernet123\npeer_type: my_precious\nmy_special_dci_ethernet_interfaces:\nEthernet4000:\nip_address: 10.3.2.1/21\n</code></pre> <p>In this example  <code>Ethernet4000</code> will be added to the <code>ethernet_interfaces</code> dictionary in the Structured Configuration and the ip_address will be <code>10.3.2.1/21</code> since ip_adddress was overridden on the later <code>custom_structured_configuration_prefix</code></p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration-v4.0.html#example-with-append-list_merge-strategy","title":"Example with <code>append</code> list_merge strategy","text":"<pre><code>name_servers:\n- 10.10.10.10\n- 10.10.10.11\ncustom_structured_configuration_list_merge: append\ncustom_structured_configuration_list_prefix: [ override_ ]\noverride_ip_name_servers:\n- ip_address: 10.10.10.12\nvrf: MGMT\n</code></pre> <p>In this example the <code>name_servers</code> variable will be read by <code>eos_designs</code> templates and the <code>ip_name_servers</code> structured configuration will be generated accordingly:</p> <pre><code>ip_name_servers:\n- ip_address: 10.10.10.10\nvrf: MGMT\n- ip_address: 10.10.10.11\nvrf: MGMT\n</code></pre> <p>The <code>override_ip_name_servers</code> list will be <code>appended</code> to <code>ip_name_servers</code> list resulting in:</p> <pre><code>ip_name_servers:\n- ip_address: 10.10.10.10\nvrf: MGMT\n- ip_address: 10.10.10.11\nvrf: MGMT\n- ip_address: 10.10.10.12\nvrf: MGMT\n</code></pre>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html","title":"Custom Structured Configuration","text":"<p>With Custom Structured Configuration the user can override built-in <code>eos_designs</code> functionality or add extra knobs to be picked up by <code>eos_cli_config_gen</code> role. There are multiple ways of supplying Custom Structured Configuration and they can all be combined.</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#variables-precedence","title":"Variables Precedence","text":"<p>TL;DR: eos_cli_config_gen variables in the input files will be overwritten by the eos_designs generated facts when the role produces a value for the same key, use custom_structured_configuration to make sure the values make it in the intended configurations._</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#overview","title":"Overview","text":"<p>AVD <code>eos_designs</code> role flow is expected to work as follow:</p> <ol> <li>from the input variables (inventory, group_vars, host_vars, \u2026) the <code>eos_designs</code> role generates the \u201cstructured_config\u201d</li> <li>The \u201cstructured_config\u201d is used as input to the <code>eos_cli_config_gen</code> role to generate the intended EOS configuration.</li> </ol> <p>A caveat is that in the inventory, group_vars, host_vars,\u2026 you can define some variables that are used by <code>eos_designs</code> and others that are used by <code>eos_cli_config_gen</code> roles. And while it is perfectly acceptable, the behavior can sometimes be confusing. If the key name for an <code>eos_cli_config_gen</code> variable in the variable files is the same as one of the key name of a variable generated by <code>eos_designs</code> steps, only the value from <code>eos_designs</code> step will be configured. However if there is no clash, then the value of the variable will be the one defined in the variable files.</p> <p>The consequence is that upgrading AVD to a newer version for instance, or configuring additional <code>eos_designs</code> functionality in an existing AVD project, could lead to additional variable keys being generated by <code>eos_designs</code> in the structured_config, overwriting previously working <code>eos_cli_config_gen</code> keys.</p> <p>The recommendation is to use <code>custom_structured_configuration</code> as described below. This configuration will be merged on top of the <code>eos_designs</code> generated variables. There are multiple ways of supplying Custom Structured Configuration and they can all be combined.</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#examples","title":"Examples","text":"<p>A good example to demonstrate the various behaviors is to use the <code>ip name-server</code> configuration as it is quite straightforward. It is configured by <code>name_servers</code> for <code>eos_designs</code> and by <code>ip_name_servers</code> for <code>eos_cli_config_gen</code>.</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#eos_designs-variables-only","title":"eos_designs variables only","text":"<pre><code>---\n# Only eos_designs name_servers variables\nname_servers:\n- 192.168.42.10\n- 192.168.42.40\n</code></pre> <p>will generate as intended config:</p> <pre><code>ip name-server vrf MGMT 192.168.42.10\nip name-server vrf MGMT 192.168.42.40\n</code></pre>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#eos_cli_config_gen-variables-only","title":"eos_cli_config_gen variables ONLY","text":"<pre><code>---\n# Only ip_name_servers from eos_ci_config_gen.\n# The variables will make it to the intended config\nip_name_servers:\n- ip_address: 8.8.8.8\nvrf: EOS_CLI\n- ip_address: 4.4.4.4\nvrf: EOS_CLI\n</code></pre> <p>will generate as intended config:</p> <pre><code>ip name-server vrf EOS_CLI 4.4.4.4\nip name-server vrf EOS_CLI 8.8.8.8\n</code></pre>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#eos_cli_config_gen-variables-overwritten-by-eos_designs-variables","title":"eos_cli_config_gen variables overwritten by eos_designs variables","text":"<pre><code># Both name_servers from eos_designs and ip_name_servers from\n# eos_ci_config_gen. The second ones WON'T be displayed\n# as they are overwritten by the generated structured_configuration\nname_servers:\n- 192.168.42.10\n- 192.168.42.40\nip_name_servers:\n- ip_address: 8.8.8.8\nvrf: EOS_CLI\n- ip_address: 4.4.4.4\nvrf: EOS_CLI\n</code></pre> <p>will generate as intended config:</p> <pre><code>ip name-server vrf MGMT 192.168.42.10\nip name-server vrf MGMT 192.168.42.40\n</code></pre>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#eos_designs-variables-overwritten-by-custom_structured_configuration","title":"eos_designs variables overwritten by custom_structured_configuration","text":"<pre><code>---\n# Both name_servers from eos_designs and leveraging the\n# custom_structured_configuration ONLY custom_struct will make it\n# except if using merge\nname_servers:\n- 192.168.42.10\n- 192.168.42.40\ncustom_structured_configuration_ip_name_servers:\n- ip_address: 1.1.1.1\nvrf: CUSTOM_STRUCT\n- ip_address: 2.2.2.2\nvrf: CUSTOM_STRUCT\n</code></pre> <p>will generate as intended config:</p> <pre><code>ip name-server vrf CUSTOM_STRUCT 1.1.1.1\nip name-server vrf CUSTOM_STRUCT 2.2.2.2\n</code></pre> <p>NOTE: as described in the custom_structured_configuration section, it is possible to leverage a merge on lists in this case. This example describes the default behavior</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#eos_cli_config_gen-variables-overwritten-by-eos_designs-custom_structured_configuration","title":"eos_cli_config_gen variables overwritten by eos_designs custom_structured_configuration","text":"<pre><code>---\n# Both ip_name_servers from eos_cli_config_gen and leveraging the\n# custom_structured_configuration only custom_struct  will make it\nip_name_servers:\n- ip_address: 8.8.8.8\nvrf: EOS_CLI\n- ip_address: 4.4.4.4\nvrf: EOS_CLI\ncustom_structured_configuration_ip_name_servers:\n- ip_address: 1.1.1.1\nvrf: CUSTOM_STRUCT\n- ip_address: 2.2.2.2\nvrf: CUSTOM_STRUCT\n</code></pre> <p>will generate as intended config:</p> <pre><code>ip name-server vrf CUSTOM_STRUCT 1.1.1.1\nip name-server vrf CUSTOM_STRUCT 2.2.2.2\n</code></pre>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#structured_config-in-eos_designs-data-models","title":"<code>structured_config</code> in <code>eos_designs</code> data models","text":"<p>This feature enables the user to supply <code>structured_config</code> on various levels in the <code>eos_designs</code> data model.</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#connected-endpoints","title":"Connected Endpoints","text":"<p>All relevant <code>structured_config</code> sections will be merged.</p> <pre><code>&lt; connected_endpoints_keys.key &gt;:\n&lt; endpoint_1 &gt;:\nadapters:\n- &lt;...&gt;\n# Custom structured config added under ethernet_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nport_channel:\n# Custom structured config added under port_channel_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n</code></pre> <p>See Connected Endpoints</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#fabric-topology","title":"Fabric Topology","text":"<p>Only the most specific <code>structured_config</code> key will be used</p> <pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Custom structured config for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nnodes:\n&lt; node &gt;:\n# Custom structured config for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nnode_groups:\n&lt; node_group &gt;:\n# Custom structured config for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nnodes:\n&lt; node &gt;:\n# Custom structured config for eos_cli_config_gen\n# Overrides the setting on node_group level.\nstructured_config: &lt; dictionary &gt;\n</code></pre> <p>See Fabric Topology</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#network-services-aka-tenants","title":"Network Services (a.k.a. \u201ctenants\u201d)","text":"<p>All relevant <code>structured_config</code> sections will be merged. Note that setting <code>structured_config</code> under <code>svi.nodes</code> will override the setting on <code>svi</code>.</p> <pre><code>tenants:\nvrfs:\n&lt; vrf &gt;:\n# Custom structured config for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nbgp:\n# Custom structured config added under router_bgp.vrfs.&lt;vrf&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nsvis:\n&lt; vlan &gt;:\n# Custom structured config added under vlan_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nnodes:\n&lt; node &gt;:\n# Custom structured config added under vlan_interfaces.&lt;interface&gt; for eos_cli_config_gen\n# Overrides the setting on SVI level.\nstructured_config: &lt; dictionary &gt;\n</code></pre> <p>See Network Services</p> <p>All <code>structured_config</code> knobs honor the <code>list_merge</code> strategy set in <code>custom_structured_configuration_list_merge</code> described in the next section.</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#custom_structured_configuration","title":"<code>custom_structured_configuration</code>","text":"<p>Custom EOS Structured Configuration keys can be set on any group or host_var level using the name of the corresponding <code>eos_cli_config_gen</code> key prefixed with content of <code>custom_structured_configuration_prefix</code>. The content of Custom Structured Configuration variables will be combined with the structured config generated by the eos_designs role. By default Lists are replaced and Dictionaries are updated. The combine is done recursively, so it is possible to update a sub-key of a variable set by <code>eos_designs</code> role already. The List-merge strategy can be changed using <code>custom_structured_configuration_list_merge</code>. Since most data models move towards lists and input data is auto-converted from dicts to lists, it is more likely that <code>custom_structured_configuration_list_merge: replace</code> will overwrite list data unintentionally. So going forward <code>replace</code> should be avoided.</p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#variables-and-options","title":"Variables and Options","text":"<pre><code>custom_structured_configuration_prefix: &lt; variable_prefix, default -&gt; \"custom_structured_configuration_\" &gt;\n#or\ncustom_structured_configuration_prefix: [ &lt; variable_prefix_1 &gt; , &lt; variable_prefix_2 &gt; , &lt; variable_prefix_3 &gt; ]\ncustom_structured_configuration_list_merge: &lt; append | keep | prepend | append_rp | prepend_rp | replace (avoid) | default -&gt; append &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#examples_1","title":"Examples","text":""},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#example-using-default-prefix","title":"Example using default prefix","text":"<pre><code>custom_structured_configuration_ip_name_servers:\n- ip_address: 10.2.3.4\nvrf: MGMT\ncustom_structured_configuration_ethernet_interfaces:\nEthernet4000:\ndescription: My test\nip_address: 10.1.2.3/12\nshutdown: false\ntype: routed\nmtu: 1500\npeer: MY-own-peer\npeer_interface: Ethernet123\npeer_type: my_precious\n</code></pre> <p>In this example the contents of the <code>ip_name_servers</code> variable in the Structured Configuration will be replaced by the list <code>[ 10.2.3.4 ]</code> and <code>Ethernet4000</code> will be added to the <code>ethernet_interfaces</code> dictionary in the Structured Configuration.</p> <p><code>custom_structured_configuration_prefix</code> allows the user to customize the prefix for Custom Structured Configuration variables. Default value is <code>custom_structured_configuration_</code>. Remember to include any delimiter like the last <code>_</code> in this case. It is possible to specify a list of prefixes, which will all be merged one by one. The order of merge will start from beginning of the list, which means that keys defined in the later prefixes will be able to override keys defined in previous ones.</p> <pre><code>custom_structured_configuration_prefix: &lt; variable_prefix, default -&gt; \"custom_structured_configuration_\" &gt;\n#or\ncustom_structured_configuration_prefix: [ &lt; variable_prefix_1 &gt; , &lt; variable_prefix_2 &gt; , &lt; variable_prefix_3 &gt; ]\n</code></pre>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#example-using-multiple-prefixes","title":"Example using multiple prefixes","text":"<pre><code>custom_structured_configuration_prefix: [ my_dci_ , my_special_dci_ ]\nmy_dci_ethernet_interfaces:\nEthernet4000:\ndescription: My test\nip_address: 10.1.2.3/12\nshutdown: false\ntype: routed\nmtu: 1500\npeer: MY-own-peer\npeer_interface: Ethernet123\npeer_type: my_precious\nmy_special_dci_ethernet_interfaces:\nEthernet4000:\nip_address: 10.3.2.1/21\n</code></pre> <p>In this example  <code>Ethernet4000</code> will be added to the <code>ethernet_interfaces</code> dictionary in the Structured Configuration and the ip_address will be <code>10.3.2.1/21</code> since ip_adddress was overridden on the later <code>custom_structured_configuration_prefix</code></p>"},{"location":"roles/eos_designs/doc/custom-structured-configuration.html#example-with-append-list_merge-strategy","title":"Example with <code>append</code> list_merge strategy","text":"<pre><code>name_servers:\n- 10.10.10.10\n- 10.10.10.11\ncustom_structured_configuration_list_merge: append\ncustom_structured_configuration_list_prefix: [ override_ ]\noverride_ip_name_servers:\n- ip_address: 10.10.10.12\nvrf: MGMT\n</code></pre> <p>In this example the <code>name_servers</code> variable will be read by <code>eos_designs</code> templates and the <code>ip_name_servers</code> structured configuration will be generated accordingly:</p> <pre><code>ip_name_servers:\n- ip_address: 10.10.10.10\nvrf: MGMT\n- ip_address: 10.10.10.11\nvrf: MGMT\n</code></pre> <p>The <code>override_ip_name_servers</code> list will be <code>appended</code> to <code>ip_name_servers</code> list resulting in:</p> <pre><code>ip_name_servers:\n- ip_address: 10.10.10.10\nvrf: MGMT\n- ip_address: 10.10.10.11\nvrf: MGMT\n- ip_address: 10.10.10.12\nvrf: MGMT\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html","title":"BETA Feature","text":"<p>The MPLS design feature is in BETA until the release of AVD 4.0.0. Changes to data models and default behavior for the MPLS design should be expected.</p>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#fabric-topology-variables-for-mpls-design","title":"Fabric Topology Variables for MPLS Design","text":"<p>The fabric topology variables define the connectivity between the various node types, as well as override the default switch properties.</p> <ul> <li>The MPLS design supports any fabric topology variables already supported by l3ls-evpn, barring the exceptions outlined in this document.</li> <li>Additionally the MPLS design supports several new fabric topology variables that are outlined in this document.</li> <li>Connectivity is defined in a free-standing core_interfaces construct.</li> <li>A static unique identifier (id) is assigned to each device.<ul> <li>This is leveraged to derive the IP address assignment from each summary defined in the Fabric Underlay and Overlay Topology Variables.</li> </ul> </li> <li>Within the pe, p and rr dictionary variables, defaults can be defined.<ul> <li>This reduces user input requirements, limiting errors.</li> <li>The default variables can be overridden when defined under the node groups or individual nodes.</li> </ul> </li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#supported-designs","title":"Supported designs","text":"<p><code>eos_designs</code> with the <code>mpls</code> design type supports any arbitrary physical mesh topology by combining and interconnecting different node types with the core_interfaces dictionary. You can also extend <code>eos_designs</code> to support your own topology by using <code>node_type_keys</code> to create your own node type</p>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#arbitrary-mesh-or-l3ls-topology","title":"Arbitrary Mesh or L3LS Topology","text":"<ul> <li>The eos_designs role with the <code>mpls</code> design type supports any type of topology consisting of any combination of pe-routers, p-routers and rr-routers.</li> <li>Any node group of 2 or more rr-routers will form a Route Reflector cluster. The core_interfaces construct is used to define underlay interfaces and associated interface profiles.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#variables-and-options","title":"Variables and Options","text":"<p>By setting the <code>design.type</code> to <code>mpls</code>, the default node-types and templates described in these documents will be used.</p> <pre><code># AVD Design | Optional\ndesign:\ntype: &lt; \"l3ls-evpn\" | \"mpls\" | l2ls | default -&gt; \"l3ls-evpn\" &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#node-type-variables","title":"Node Type Variables","text":"<p>The following table provide information on the default node types that have been pre-defined in <code>eos_designs/defaults/main/defaults-node-type-keys.yml</code>. To customize or create new node types, please refer to node types definition</p> Node Type Key Underlay Router Uplink Type Default Overlay Role L2 Network Services L3 Network Services VTEP Connected Endpoints p \u2705 p2p none \u2718 \u2718 \u2718 \u2718 rr \u2705 p2p server \u2718 \u2718 \u2718 \u2718 pe \u2705 p2p client \u2705 \u2705 \u2705 \u2705 <p>The variables should be applied to all devices in the fabric.</p> <ul> <li>The <code>type:</code> variable needs to be defined for each device in the fabric.</li> <li>This is leveraged to load the appropriate templates to generate the configuration.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#variables-and-options_1","title":"Variables and Options","text":"<p>As explained above, you can defined your own types of devices. CLI only provides default node types.</p> <pre><code># define the layer type\ntype: &lt; p | pe | rr &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#example","title":"Example","text":"<pre><code># Defined in PE.yml file\n# Can also be set directly in your inventory file under pe-routers group vars\ntype: pe\n# Defined in P.yml\n# Can also be set directly in your inventory file under p-routers group vars\ntype: p\n# Defined in RR.yml\n# Can also be set directly in your inventory file under rr-routers group vars\ntype: rr\n</code></pre> <p>All node types have the same structure based on <code>defaults</code>, <code>node_group</code>, <code>node</code> and all variables can be defined in any section and support inheritance exactly like in the l3ls-evpn design.</p>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#point-to-point-link-management","title":"Point-to-point link management","text":"<p>Unlike with the l3ls-evpn design type, underlay p2p links are built using the <code>core_interfaces</code> data model described here.</p>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#isis-underlay-protocol-management-and-node-sid-management","title":"ISIS underlay protocol management and node-SID management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Any isis variables already supported by l3ls-evpn will work here, plus additionally:\n# Base value for ISIS-SR Node-SID\nnode_sid_base: 100\n# Node is-type as configured under the router isis instance.\nis_type: level-2\n# IPv6 subnet for Loopback0 allocation\nloopback_ipv6_pool: &lt; IPv6_address/Mask &gt;\n# Offset all assigned loopback IP addresses.\nloopback_ipv6_offset: 2\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#bgp-overlay-control-plane","title":"BGP &amp; Overlay Control plane","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Acting role in overlay control plane.\n# Override role definition from node_type_keys\n# Can be set per node\nmpls_overlay_role: &lt; client | server | none | default -&gt; refer to node type variable table &gt;\n# List of inventory hostname acting as MPLS route-reflectors.\nmpls_route_reflectors: [ '&lt; inventory_hostname_of_mpls_route_reflectors &gt;' ]\n# Overlay Address Families to activate. Any subset of evpn, vpn-ipv4, vpn-ipv6.\noverlay_address_families: [ '&lt; address_family_1 &gt;', '&lt; address_family_2 &gt;', '&lt; address_family_3 &gt;' ] -&gt; default [ 'evpn' ]\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-mpls-BETA.html#unsupported-variables","title":"Unsupported variables","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\nvtep_loopback_ipv4_pool: &lt; IPv4_address/Mask  &gt;\nvtep_loopback: &lt; Loopback_interface_1 &gt;\nevpn_role: &lt; client | server | none | default -&gt; refer to node type variable table &gt;\nevpn_route_servers: [ '&lt; inventory_hostname_of_evpn_server &gt;' ]\nevpn_services_l2_only: &lt; false | true &gt;\nmlag: &lt; true | false -&gt; default true &gt;\nmlag_dual_primary_detection: &lt; true | false -&gt; default false &gt;\nmlag_interfaces: [ &lt; ethernet_interface_3 &gt;, &lt; ethernet_interface_4 &gt; ]\nmlag_interfaces_speed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\nmlag_peer_l3_vlan: &lt; 0-4094 | false | default -&gt; 4093 &gt;\nmlag_peer_l3_ipv4_pool: &lt; IPv4_network/Mask &gt;\nmlag_peer_vlan: &lt; 0-4094 | default -&gt; 4094 &gt;\nmlag_peer_link_allowed_vlans: &lt; vlans as string | default -&gt; \"2-4094\" &gt;\nmlag_peer_ipv4_pool: &lt; IPv4_network/Mask &gt;\nuplink_ipv4_pool: &lt; IPv4_address/Mask  &gt;\nuplink_interfaces: [ &lt; ethernet_interface_1 &gt;, &lt; ethernet_interface_2 &gt; ]\nuplink_switches: [ &lt; uplink_switch_inventory_hostname 01 &gt;, &lt; uplink_switch_inventory_hostname 02 &gt; ]\nmax_uplink_switches: &lt; integer &gt;\nmax_parallel_uplinks: &lt; integer &gt;\nuplink_ptp:\nenable: &lt; boolean &gt;\nuplink_macsec:\nprofile: \"&lt; MacSec profile name &gt;\"\nuplink_interface_speed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\nuplink_switch_interfaces: [ &lt; ethernet_interface_1 &gt;, &lt; ethernet_interface_2 &gt; ]\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html","title":"Fabric Topology Variables","text":"<p>The fabric topology variables define the connectivity between the various node types, as well as override the default switch properties.</p> <p>As per the diagram above, the topology hierarchy is the following:</p> <p>fabric_name &gt; dc_name &gt; pod_name</p> <ul> <li>Fabric Name, required to match Ansible Group name covering all devices in the Fabric | Required and must be an inventory group name.</li> </ul> <pre><code>fabric_name: &lt; Fabric_Name &gt;\n</code></pre> <ul> <li>DC Name, required to match Ansible Group name covering all devices in the DC | Required for 5-stage CLOS (Super-spines)</li> </ul> <pre><code>dc_name: &lt; DC_Name &gt;\n</code></pre> <ul> <li>POD Name, only used in Fabric Documentation | Optional, fallback to dc_name and then to fabric_name. Recommended to be common between Spines, Leafs within a POD (One l3ls topology)</li> </ul> <pre><code>pod_name: &lt; POD_Name &gt;\n</code></pre> <ul> <li>Connectivity is defined from the child\u2019s device perspective.<ul> <li>Source uplink interfaces and parent interfaces are defined on the child.</li> </ul> </li> <li>A static unique identifier (id) is assigned to each device.<ul> <li>This is leveraged to derive the IP address assignment from each summary defined in the Fabric Underlay and Overlay Topology Variables.</li> </ul> </li> <li>Within the l3_leaf and l2_leaf dictionary variables, defaults can be defined.<ul> <li>This reduces user input requirements, limiting errors.</li> <li>The default variables can be overridden when defined under the node groups.</li> </ul> </li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#supported-designs","title":"Supported designs","text":"<p><code>eos_designs</code> supports multiple flavors of L3LS-EVPN topology such as 3-stage CLOS and 5-stage CLOS. Sections below highlight these 2 topologies, but you can extend <code>eos_designs</code> to support your own topology by using <code>node_type_keys</code> to create your own node type</p>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#3-stage-clos-topology-support-leaf-spine","title":"3-stage CLOS Topology Support (Leaf &amp; Spine)","text":"<ul> <li>The eos_designs role support various deployments with layer 3 leaf and spine (3-stage CLOS) and optionally, with dedicated overlay controllers.</li> <li>3 stage CLOS fabric can be represented as spines, L3 leafs and L2 leafs, and also referred to as a \u201cPOD\u201d.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#5-stage-clos-topology-support-super-spine","title":"5-stage CLOS Topology Support (Super Spine)","text":"<ul> <li>The eos_designs role support lager deployments with super-spines (5-stage CLOS) and optionally, with dedicated overlay controllers.</li> <li>5 stage CLOS fabric can be represented as multiple leaf-spine structures (called PODs - Point of Delivery) interconnected by super-spines.</li> <li>The logic to deploy every leaf-spine POD fabric remains unchanged.</li> <li>Super-spines can be deployed as a single plane (typically chassis switches) or multiple planes.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#node-type-variables","title":"Node Type Variables","text":"<p>The following table provide information on the default node types that have been pre-defined in <code>eos_designs/defaults/main/defaults-node-type-keys.yml</code>. To customize or create new node types, please refer to node types definition</p> Node Type Key Underlay Router Uplink Type Default EVPN Role L2 Network Services L3 Network Services VTEP MLAG Support Connected Endpoints super_spine \u2705 p2p none \u2718 \u2718 \u2718 \u2718 \u2718 spine \u2705 p2p server \u2718 \u2718 \u2718 \u2718 \u2718 l3leaf \u2705 p2p client \u2705 \u2705 \u2705 \u2705 \u2705 l2leaf \u2718 port-channel none \u2705 \u2718 \u2718 \u2705 \u2705 overlay_controller \u2705 p2p server \u2718 \u2718 \u2718 \u2718 \u2718 <p>The variables should be applied to all devices in the fabric.</p> <ul> <li>The <code>type:</code> variable needs to be defined for each device in the fabric.</li> <li>This is leveraged to load the appropriate template to generate the configuration.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#variables-and-options","title":"Variables and Options","text":"<p>As explained above, you can defined your own types of devices. CLI only provides default node types.</p> <pre><code># define the layer type\ntype: &lt; spine | l3leaf | l2leaf | super-spine | overlay-controller &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#example","title":"Example","text":"<pre><code># Defined in SPINE.yml file\n# Can also be set directly in your inventory file under spine group\ntype: spine\n# Defined in L3LEAFS.yml\n# Can also be set directly in your inventory file under l3leaf group\ntype: l3leaf\n# Defined in L2LEAFS.yml\n# Can also be set directly in your inventory file under l2leaf group\ntype: l2leaf\n# Defined in SUPER-SPINES.yml\n# Can also be set directly in your inventory file under super-spine group\ntype: super-spine\n# Defined in ROUTE-SERVERS.yml\n# Can also be set directly in your inventory file under route-server group\ntype: overlay-controller\n</code></pre> <p>All node types have the same structure based on <code>defaults</code>, <code>node_group</code>, <code>node</code> and all variables can be defined in any section and support inheritance like this:</p> <p>Under <code>node_type_key:</code></p> <pre><code>defaults &lt;- node_group &lt;- node_group.node &lt;- node\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#node-type-structure","title":"Node type structure","text":"<pre><code>---\n&lt;node_type_key&gt;:\ndefaults:\n# Define vars for all nodes of this type\nnode_groups:\n- group: &lt;node group name&gt;\n# Vars related to all nodes part of this group\nnodes:\n- name: &lt;node inventory hostname&gt;\n# Vars defined per node\nnodes:\n- name: &lt;node inventory hostname&gt;\n# Vars defined per node\n# Unique identifier per node_type | Required.\nid: &lt; integer &gt;\n# Node management IP address | Optional.\nmgmt_ip: &lt; IPv4_address/Mask &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#node-variables-details","title":"Node Variables details","text":""},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#generic-configuration-management","title":"Generic configuration management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Arista platform family | Required.\nplatform: &lt; Arista Platform Family &gt;\n# Management interface configuration\nmgmt_interface: &lt; mgmt_interface | default -&gt; platform_management_interface -&gt; mgmt_interface -&gt; Management1 &gt;\n# Rack that the switch is located in (only used in snmp_settings location) | Optional\nrack: &lt; rack_name &gt;\n# This configures the Link Tracking Group on a switch as well as adds the p2p-uplinks of the switch as the upstream interfaces.\n# Useful in EVPN multhoming designs.\nlink_tracking:\nenabled: &lt; true | false | default -&gt; false &gt;\n# Link Tracking Groups | Optional\n# By default a single group named \"LT_GROUP1\" is defined with default values. Any groups defined under \"groups\" will replace the default.\ngroups:\n- name: &lt; tracking_group_name &gt;\nrecovery_delay: &lt; 0-3600 | default -&gt; platform_settings_mlag_reload_delay -&gt; 300 &gt;\n# Optional\nlinks_minimum: &lt; 1-100000 &gt;\n# This will generate the \"lacp port-id range\", \"begin\" and \"end\" values based on node \"id\" and the number of nodes in the \"node_group\".\n# Unique LACP port-id ranges are recommended for EVPN Multihoming designs.\nlacp_port_id_range:\nenabled: &lt; true | false | default -&gt; false &gt;\n# Recommended size &gt; = number of ports in the switch.\nsize: &lt; 1-65535 | default -&gt; 128 &gt;\n# Offset is used to avoid overlapping port-id ranges of different switches | Optional\n# Useful when a \"connected-endpoint\" is connected to switches in different \"node_groups\".\noffset: &lt; offset_for_lacp_port_id_range | default -&gt; 0 &gt;\n# EOS CLI rendered directly on the root level of the final EOS configuration | Optional\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config for eos_cli_config_gen | Optional\nstructured_config: &lt; dictionary &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#uplink-management","title":"Uplink management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# IPv4 subnet to use to connect to uplink switches.\nuplink_ipv4_pool: &lt; IPv4_address/Mask  &gt;\n# Local uplink interfaces (list). | Required.\nuplink_interfaces: [ &lt; ethernet_interface_1 &gt;, &lt; ethernet_interface_2 &gt; ]\n# Uplink switches (list). | Required.\nuplink_switches: [ &lt; uplink_switch_inventory_hostname 01 &gt;, &lt; uplink_switch_inventory_hostname 02 &gt; ]\n# Number of interfaces towards uplink switches | Optional\nmax_uplink_switches: &lt; integer &gt;\n# Number of parallel links towards uplink switches | Optional\nmax_parallel_uplinks: &lt; integer &gt;\n# Enable PTP on uplink links | Optional\nuplink_ptp:\nenable: &lt; boolean &gt;\n# Enable MacSec on all uplinks | Optional\nuplink_macsec:\nprofile: \"&lt; MacSec profile name &gt;\"\n# Point-to-Point interface speed - will apply to uplinks on both ends | Optional.\nuplink_interface_speed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\n# When nodes are part of node group\nnode_groups:\n- group: &lt; node-group-name &gt;\nnodes:\n# Uplink switches interfaces (list), interface located on uplink switch. | Required.\nuplink_switch_interfaces: [ &lt; ethernet_interface_1 &gt;, &lt; ethernet_interface_2 &gt; ]\n# When nodes are not in node_group\nnodes:\n- name: &lt;node inventory hostname&gt;\n# Uplink switches interfaces (list), interface located on uplink switch. | Required.\nuplink_switch_interfaces: [ &lt; ethernet_interface_1 &gt;, &lt; ethernet_interface_2 &gt; ]\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#isis-underlay-protocol-management","title":"ISIS underlay protocol management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# isis system-id prefix (4.4 hexadecimal)\nisis_system_id_prefix: &lt; hhhh.hhhh &gt;\n# Number of path to configure in ECMP for ISIS\nisis_maximum_paths: &lt; integer &gt;\n# IS type\nis_type: &lt; level-1-2 | level-1 | level-2 | Default -&gt; level-2 &gt;\n# Node-SID base for isis-sr underlay variants. Combined with node id to generate ISIS-SR node-SID.\nnode_sid_base: &lt; integer | Default -&gt; 0 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#loopback-and-vtep-management","title":"Loopback and VTEP management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# IPv4 subnet for Loopback0 allocation\nloopback_ipv4_pool: &lt; IPv4_address/Mask  &gt;\n# IPv4 subnet for VTEP/Loopback1 allocation.\nvtep_loopback_ipv4_pool: &lt; IPv4_address/Mask  &gt;\n# Offset all assigned loopback IP addresses.\n# Required when the &lt; loopback_ipv4_pool &gt; is same for 2 different node_types (like spine and l3leaf) to avoid over-lapping IPs.\n# For example, set the minimum offset l3leaf.defaults.loopback_ipv4_offset: &lt; total # spine switches &gt; or vice versa.\nloopback_ipv4_offset: 2\n# Set VXLAN source interface. Loopback1 is default\nvtep_loopback: &lt; Loopback_interface_1 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#bgp-evpn-control-plane","title":"BGP &amp; EVPN Control plane","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# node BGP AS | Required.\nbgp_as: &lt; bgp_as &gt;\n# List of EOS command to apply to BGP daemon | Optional\nbgp_defaults: [ &lt; List of EOS commands&gt; ]\n# Acting role in EVPN control plane.\n# Override role definition from node_type_keys\n# Can be set per node\nevpn_role: &lt; client | server | none | Default -&gt; refer to node type variable table &gt;\n# List of inventory hostname acting as EVPN route-servers.\nevpn_route_servers: [ '&lt; inventory_hostname_of_evpn_server &gt;' ]\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#evpn-services-management","title":"EVPN services management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Possibility to prevent configuration of Tenant VRFs and SVIs\n# Override node definition \"network_services_l3\" from node_type_keys\n# This allows support for centralized routing.\nevpn_services_l2_only: &lt; false | true &gt;\n# Filter L3 and L2 network services based on tenant and tags (and operation filter) | Optional\n# If filter is not defined will default to all\nfilter:\ntenants: [ &lt; tenant_1 &gt;, &lt; tenant_2 &gt; | default all ]\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; | default -&gt; all ]\n# Force VRFs in a tenant to be configured even if VLANs are not included in tags | Optional\n# Useful for \"border\" leaf.\nalways_include_vrfs_in_tenants: [ &lt; tenant_1 &gt;, &lt; tenant_2 &gt;, \"all\" ]\n# Activate or deactivate IGMP snooping | Optional, default is true\nigmp_snooping_enabled: &lt; true | false &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#mlag-configuration-management","title":"MLAG configuration management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Enable / Disable auto MLAG, when two nodes are defined in node group.\nmlag: &lt; true | false -&gt; default true &gt;\n# Enable / Disable MLAG dual primary detection\nmlag_dual_primary_detection: &lt; true | false -&gt; default false &gt;\n# MLAG interfaces (list) | Required when MLAG leafs present in topology.\nmlag_interfaces: [ &lt; ethernet_interface_3 &gt;, &lt; ethernet_interface_4 &gt; ]\n# MLAG interfaces speed | Optional and depends on mlag_interfaces to be defined\nmlag_interfaces_speed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\n# Underlay L3 peering SVI interface id\n# If set to false or the same vlan as mlag_peer_vlan the mlag_peer_vlan will be used for L3 peering.\nmlag_peer_l3_vlan: &lt; 0-4094 | false | default -&gt; 4093 &gt;\n# IP address pool used for MLAG underlay L3 peering | *Required when MLAG leafs present in topology.\n# IP is derived from the node id.\nmlag_peer_l3_ipv4_pool: &lt; IPv4_network/Mask &gt;\n# MLAG Peer Link (control link) SVI interface id\nmlag_peer_vlan: &lt; 0-4094 | default -&gt; 4094 &gt;\n# MLAG Peer Link allowed VLANs\nmlag_peer_link_allowed_vlans: &lt; vlans as string | default -&gt; \"2-4094\" &gt;\n# IP address pool used for MLAG Peer Link (control link) | *Required when MLAG leafs present in topology.\n# IP is derived from the node id.\nmlag_peer_ipv4_pool: &lt; IPv4_network/Mask &gt;\n# Spanning tree mode | Required.\nspanning_tree_mode: &lt; mstp | rstp | rapid-pvst | none &gt;\n# Spanning tree priority.\nspanning_tree_priority: &lt; spanning-tree priority -&gt; default 32768 &gt;\n# Spanning tree priority.\nspanning_tree_root_super: &lt; true | false  &gt;\n# Virtual router mac address for anycast gateway | Required.\nvirtual_router_mac_address: &lt; mac address &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology-v4.0.html#inband-management-vlan","title":"Inband management VLAN","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Optional IP subnet assigned to Inband Management SVI on l2leafs in default VRF.\n# Parent l3leafs will have SVI with \"ip virtual-router\" and host-route injection based on ARP. This allows all l3leafs to reuse the same subnet\n# SVI IP address will be assigned as follows:\n# virtual-router: &lt;subnet&gt; + 1\n# l3leaf A      : &lt;subnet&gt; + 2 (same IP on all l3leaf A)\n# l3leaf B      : &lt;subnet&gt; + 3 (same IP on all l3leaf B)\n# l2leafs       : &lt;subnet&gt; + 3 + &lt;l2leaf id&gt;\n# GW on l2leafs : &lt;subnet&gt; + 1\n# Assign range larger than total l2leafs + 5\ninband_management_subnet: &lt; IPv4subnet/mask &gt;\n# VLAN number assigned to Inband Management SVI on l2leafs in default VRF.\ninband_management_vlan: &lt; vlan-id | Default -&gt; 4092 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html","title":"Fabric Topology Variables","text":"<p>The fabric topology variables define the connectivity between the various node types, as well as override the default switch properties.</p> <p>As per the diagram above, the topology hierarchy is the following:</p> <p>fabric_name &gt; dc_name &gt; pod_name</p> <ul> <li>Fabric Name, required to match Ansible Group name covering all devices in the Fabric | Required and must be an inventory group name.</li> </ul> <pre><code>fabric_name: &lt; Fabric_Name &gt;\n</code></pre> <ul> <li>DC Name, required to match Ansible Group name covering all devices in the DC | Required for 5-stage Clos (Super-spines)</li> </ul> <pre><code>dc_name: &lt; DC_Name &gt;\n</code></pre> <ul> <li>POD Name (optional), fallback to dc_name and then to fabric_name. Recommended to be common between Spines, Leafs within a POD (One l3ls topology)</li> </ul> <pre><code>pod_name: &lt; POD_Name &gt;\n</code></pre> <ul> <li>Connectivity is defined from the child\u2019s device perspective.<ul> <li>Source uplink interfaces and parent interfaces are defined on the child.</li> </ul> </li> <li>A static unique identifier (id) is assigned to each device.<ul> <li>This is leveraged to derive the IP address assignment from each summary defined in the Fabric Underlay and Overlay Topology Variables.</li> </ul> </li> <li>Within the l3_leaf and l2_leaf dictionary variables, defaults can be defined.<ul> <li>This reduces user input requirements, limiting errors.</li> <li>The default variables can be overridden when defined under the node groups.</li> </ul> </li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology.html#supported-designs","title":"Supported designs","text":"<p><code>eos_designs</code> supports multiple options such as L3LS-EVPN with 3-stage or 5-stage, and L2LS. The sections below highlight these 2 topologies, but you can extend <code>eos_designs</code> to support your own topology by using <code>node_type_keys</code> to create your own node type.</p>"},{"location":"roles/eos_designs/doc/fabric-topology.html#design-type","title":"Design type","text":"<p>By setting the <code>design.type</code> variable, the default node-types and templates described in these documents will be used.</p> <p>Note</p> <p>Please note, MPLS is currently in beta. For full node type information, see MPLS Design section.</p> <pre><code># AVD Design | Optional\ndesign:\ntype: &lt; \"l3ls-evpn\" | \"l2ls\" | \"mpls\" | default -&gt; \"l3ls-evpn\" &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#3-stage-clos-topology-support-leaf-spine","title":"3-stage Clos Topology Support (Leaf &amp; Spine)","text":"<ul> <li>The eos_designs role support various deployments with layer 3 leaf and spine (3-stage Clos) and optionally, with dedicated overlay controllers.</li> <li>3 stage Clos fabric can be represented as spines, L3 leafs and L2 leafs, and also referred to as a \u201cPOD\u201d.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology.html#5-stage-clos-topology-support-super-spine","title":"5-stage Clos Topology Support (Super Spine)","text":"<ul> <li>The eos_designs role support lager deployments with super-spines (5-stage Clos) and optionally, with dedicated overlay controllers.</li> <li>5 stage Clos fabric can be represented as multiple leaf-spine structures (called PODs - Point of Delivery) interconnected by super-spines.</li> <li>The logic to deploy every leaf-spine POD fabric remains unchanged.</li> <li>Super-spines can be deployed as a single plane (typically chassis switches) or multiple planes.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology.html#layer-2-leaf-spine","title":"Layer 2 Leaf Spine","text":"<ul> <li>The eos_designs role support various deployments with layer 2 leaf and spine. For example, routing may terminate at the spine level or an external L3 device.</li> <li>The Clos fabric can be represented as L3 spines, spines, and leafs.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology.html#node-type-variables","title":"Node Type Variables","text":"<p>The following table provide information on the default node types that have been pre-defined in <code>eos_designs/defaults/main/defaults-node-type-keys.yml</code>. To customize or create new node types, please refer to node types definition</p>"},{"location":"roles/eos_designs/doc/fabric-topology.html#l3ls","title":"L3LS","text":"Node Type Key Underlay Router Uplink Type Default EVPN Role L2 Network Services L3 Network Services VTEP MLAG Support Connected Endpoints super_spine \u2705 p2p none \u2718 \u2718 \u2718 \u2718 \u2718 spine \u2705 p2p server \u2718 \u2718 \u2718 \u2718 \u2718 l3leaf \u2705 p2p client \u2705 \u2705 \u2705 \u2705 \u2705 l2leaf \u2718 port-channel none \u2705 \u2718 \u2718 \u2705 \u2705 overlay_controller \u2705 p2p server \u2718 \u2718 \u2718 \u2718 \u2718"},{"location":"roles/eos_designs/doc/fabric-topology.html#l2ls","title":"L2LS","text":"Node Type Key Underlay Router Uplink Type Default EVPN Role L2 Network Services L3 Network Services VTEP MLAG Support Connected Endpoints l3spine \u2705 p2p none \u2705 \u2705 \u2718 \u2705 \u2705 spine \u2718 port-channel none \u2705 \u2718 \u2718 \u2705 \u2705 leaf \u2718 port-channel none \u2705 \u2718 \u2718 \u2705 \u2705 <p>The variables should be applied to all devices in the fabric.</p> <ul> <li>The <code>type:</code> variable needs to be defined for each device in the fabric.</li> <li>This is leveraged to load the appropriate template to generate the configuration.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-topology.html#variables-and-options","title":"Variables and Options","text":"<p>As explained above, you can defined your own types of devices. CLI only provides default node types.</p> <pre><code># define the layer type\ntype: &lt; spine | l3leaf | l2leaf | super-spine | overlay-controller &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#example","title":"Example","text":"<pre><code># Defined in SPINE.yml file\n# Can also be set directly in your inventory file under spine group\ntype: spine\n# Defined in L3LEAFS.yml\n# Can also be set directly in your inventory file under l3leaf group\ntype: l3leaf\n# Defined in L2LEAFS.yml\n# Can also be set directly in your inventory file under l2leaf group\ntype: l2leaf\n# Defined in SUPER-SPINES.yml\n# Can also be set directly in your inventory file under super-spine group\ntype: super-spine\n# Defined in ROUTE-SERVERS.yml\n# Can also be set directly in your inventory file under route-server group\ntype: overlay-controller\n</code></pre> <p>All node types have the same structure based on <code>defaults</code>, <code>node_group</code>, <code>node</code> and all variables can be defined in any section and support inheritance like this:</p> <p>Under <code>node_type_key:</code></p> <pre><code>defaults &lt;- node_group &lt;- node_group.node &lt;- node\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#node-type-structure","title":"Node type structure","text":"<pre><code>---\n&lt;node_type_key&gt;:\ndefaults:\n# Define vars for all nodes of this type\nnode_groups:\n&lt;node group name&gt;:\n# Vars related to all nodes part of this group\nnodes:\n&lt;node inventory hostname&gt;:\n# Vars defined per node\nnodes:\n&lt;node inventory hostname&gt;:\n# Vars defined per node\n# Unique identifier per node_type | Required.\nid: &lt; integer &gt;\n# Node management IP address | Optional.\nmgmt_ip: &lt; IPv4_address/Mask &gt;\n# Node management IPv6 address |\u00a0Optional.\nipv6_mgmt_ip: &lt; IPv6_address/Mask &gt;\n# System Mac Address | Optional\n# Set to the same MAC address as available in \"show version\" on the device.\n# NOTE: the \"mac_address\" variable used in dhcp_provisioner role is\n# different from this variable\n# \"system_mac_address\" can also be set directly as a hostvar.\n# If both are set, the setting under \"Fabric Topology\" takes precedence.\nsystem_mac_address: &lt; \"xx:xx:xx:xx:xx:xx\" &gt;\n# Serial Number | Optional\n# Set to the Serial Number of the device\n# For  now only used for documentation purpose in the fabric\n# documentation.\n# \"serial_number\" can also be set directly as a hostvar.\n# If both are set, the setting under \"Fabric Topology\" takes precedence.\nserial_number: &lt; string &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#node-variables-details","title":"Node Variables details","text":""},{"location":"roles/eos_designs/doc/fabric-topology.html#generic-configuration-management","title":"Generic configuration management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Arista platform family | Required.\nplatform: &lt; Arista Platform Family &gt;\n# Management interface configuration\nmgmt_interface: &lt; mgmt_interface | default -&gt; platform_management_interface -&gt; mgmt_interface -&gt; Management1 &gt;\n# Rack that the switch is located in (only used in snmp_settings location) | Optional\nrack: &lt; rack_name &gt;\n# This configures the Link Tracking Group on a switch as well as adds the p2p-uplinks of the switch as the upstream interfaces.\n# Useful in EVPN multhoming designs.\nlink_tracking:\nenabled: &lt; true | false | default -&gt; false &gt;\n# Link Tracking Groups | Optional\n# By default a single group named \"LT_GROUP1\" is defined with default values. Any groups defined under \"groups\" will replace the default.\ngroups:\n- name: &lt; tracking_group_name &gt;\nrecovery_delay: &lt; 0-3600 | default -&gt; platform_settings_mlag_reload_delay -&gt; 300 &gt;\n# Optional\nlinks_minimum: &lt; 1-100000 &gt;\n# This will generate the \"lacp port-id range\", \"begin\" and \"end\" values based on node \"id\" and the number of nodes in the \"node_group\".\n# Unique LACP port-id ranges are recommended for EVPN Multihoming designs.\nlacp_port_id_range:\nenabled: &lt; true | false | default -&gt; false &gt;\n# Recommended size &gt; = number of ports in the switch.\nsize: &lt; 1-65535 | default -&gt; 128 &gt;\n# Offset is used to avoid overlapping port-id ranges of different switches | Optional\n# Useful when a \"connected-endpoint\" is connected to switches in different \"node_groups\".\noffset: &lt; offset_for_lacp_port_id_range | default -&gt; 0 &gt;\n# Force configuration of \"ip routing\" even on L2 devices | Optional\n# Use this to retain behavior of AVD versions below 4.0.0.\nalways_configure_ip_routing: &lt; true | false | default -&gt; false &gt;\n# EOS CLI rendered directly on the root level of the final EOS configuration | Optional\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config for eos_cli_config_gen | Optional\nstructured_config: &lt; dictionary &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#uplink-management","title":"Uplink management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# IPv4 subnet to use to connect to uplink switches.\nuplink_ipv4_pool: &lt; IPv4_address/Mask  &gt;\n# Local uplink interfaces (list). | Optional\n# If uplink_interfaces is not defined, platform-specific defaults (defined under default_interfaces) will be used instead.\n# Please note that default_interfaces are not defined by default - you should define these yourself.\nuplink_interfaces: [ &lt; ethernet_interface_1 &gt;, &lt; ethernet_interface_2 &gt; ]\n# Uplink switches (list). | Required.\n# If parallel uplinks are in use, update max_parallel_uplinks below and specify each uplink switch multiple times\n# e.g. uplink_switches: [ 'DC1-SPINE1', 'DC1-SPINE1', 'DC1-SPINE2', 'DC1-SPINE2' ]\nuplink_switches: [ &lt; uplink_switch_inventory_hostname 01 &gt;, &lt; uplink_switch_inventory_hostname 02 &gt; ]\n# Uplink native vlan | Optional\n# Only applicable to switches with layer-2 port-channel uplinks\n# A suspended (disabled) vlan will be created in both ends of the link unless the vlan\n# is defined under network services.\n# By default the uplink will not have a native_vlan configured, so EOS defaults to vlan 1.\nuplink_native_vlan: &lt; vlan_id &gt;\n# Maximum number of uplink switches. | Optional\n# Changing this value may change IP Addressing on uplinks.\n# Can be used to reserve IP space for future expansions.\nmax_uplink_switches: &lt; integer &gt;\n# Number of parallel links towards uplink switches | Optional\n# Changing this value may change interface naming on uplinks (and corresponding downlinks)\n# Can be used to reserve interfaces for future parallel uplinks\nmax_parallel_uplinks: &lt; integer &gt;\n# Enable PTP on uplink links | Optional\nuplink_ptp:\nenable: &lt; boolean &gt;\n# Enable MacSec on all uplinks | Optional\nuplink_macsec:\nprofile: \"&lt; MacSec profile name &gt;\"\n# Point-to-Point interface speed - will apply to uplinks on both ends | Optional.\nuplink_interface_speed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\n# Custom structured config applied to \"uplink_interfaces\", and \"uplink_switch_interfaces\"\n# When uplink_type == \"p2p\", custom structured config added under ethernet_interfaces.&lt;interface&gt; for eos_cli_config_gen\n# Overrides the settings on the ethernet interface level.\n# When uplink_type == \"port-channel\", custom structured config added under port_channel_interfaces.&lt;interface&gt; for eos_cli_config_gen\n# Overrides the settings on the port-channel interface level.\n# \"uplink_structured_config\" is applied after \"structured_config\", so it can override \"structured_config\" defined on node-level.\nuplink_structured_config: &lt; dictionary &gt;\n# When nodes are part of node group\nnode_groups:\n&lt; node-group-name &gt;:\nnodes:\n# Uplink switches interfaces (list), interface located on uplink switch. | Optional\n# If uplink_switch_interfaces is not defined, platform-specific defaults (defined under default_interfaces) will be used instead.\n# Please note that default_interfaces are not defined by default - you should define these yourself.\nuplink_switch_interfaces: [ &lt; ethernet_interface_1 &gt;, &lt; ethernet_interface_2 &gt; ]\n# short_esi only valid for l2leaf devices using port-channel uplink\n# Setting short_esi: auto generates the short_esi automatically using a hash of configuration elements.\nshort_esi: &lt; 0000:0000:0000 | auto &gt;\n# When nodes are not in node_group\nnodes:\n&lt;node inventory hostname&gt;:\n# Uplink switches interfaces (list), interface located on uplink switch. | Required.\nuplink_switch_interfaces: [ &lt; ethernet_interface_1 &gt;, &lt; ethernet_interface_2 &gt; ]\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#default-interfaces","title":"Default Interfaces","text":"<ul> <li>Set default uplink, downlink and mlag interfaces which will be used if these interfaces are not defined on a device (either directly or through inheritance).</li> <li>These are defined based on the combination of node_type (e.g. l3leaf or spine) and a regex for matching the platform.</li> <li>A list of interfaces or interface ranges can be specified.</li> <li>Each list item supports range syntax that can be expanded into a list of interfaces. Interface range examples:<ul> <li>Ethernet49-52/1: Expands to [ Ethernet49/1, Ethernet50/1, Ethernet51/1, Ethernet52/1 ]</li> <li>Ethernet1/31-34/1: Expands to [ Ethernet1/31/1, Ethernet1/32/1, Ethernet1/33/1, Ethernet1/34/1 ]</li> <li>Ethernet49-50,53-54: Expands to [ Ethernet49, Ethernet50, Ethernet53, Ethernet54 ]</li> <li>Ethernet1-2/1-4: Expands to [ Ethernet1/1, Ethernet1/2, Ethernet1/3, Ethernet1/4, Ethernet2/1, Ethernet2/2, Ethernet2/3, Ethernet2/4 ]</li> </ul> </li> <li><code>uplink_interfaces</code> and <code>mlag_interfaces</code> under <code>default_interfaces</code> are directly inherited by <code>uplink_interfaces</code> and <code>mlag_interfaces</code>.</li> <li><code>downlink_interfaces</code> are referenced by the child switch (e.g. the leaf in a leaf/spine network). Essentially the child switch indexes into an upstream switch\u2019s <code>default_downlink_interfaces</code> using the child switch ID.  This is then used to build <code>uplink_switch_interfaces</code> for that child.<ul> <li>In the case of <code>max_parallel_uplinks</code> &gt; 1 the <code>default_downlink_interfaces</code> are mapped with consecutive downlinks per child ID.</li> <li>Example for <code>max_parallel_uplinks: 2</code>, downlink interfaces will be mapped as <code>[ &lt;downlink1 to leaf-id1&gt;, &lt;downlink2 to leaf-id1&gt;, &lt;downlink1 to leaf-id2&gt;, &lt;downlink2 to leaf-id2&gt; ...]</code></li> </ul> </li> <li>Please note that no default interfaces are defined in AVD itself. You will need to create your own based on the example below.</li> </ul> <pre><code>default_interfaces:\n# List of node type keys | Required\n- types: [ &lt; node_type_key &gt;, &lt; node_type_key &gt; ]\n# List of platform families  | Required\n# This is defined as a Python regular expression that matches the full platform type\nplatforms: [ &lt; Arista platform family regex &gt;, &lt; Arista platform family regex &gt; ]\n# List of interfaces or interfaces ranges for each type of default interface | Required\nuplink_interfaces: [ &lt; interface_range | interface &gt;, &lt; interface_range | interface &gt; ]\nmlag_interfaces: [ &lt; interface_range | interface &gt;, &lt; interface_range | interface &gt; ]\ndownlink_interfaces: [ &lt; interface_range | interface &gt;, &lt; interface_range | interface &gt; ]\n# Example\n- types: [ spine, l3leaf ]\nplatforms: [ \"7050[SC]X3\", vEOS.*, default ]\nuplink_interfaces: [ Ethernet49-54/1 ]\nmlag_interfaces: [ Ethernet55-56/1 ]\ndownlink_interfaces: [ Ethernet1-32/1 ]\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#isis-underlay-protocol-management","title":"ISIS underlay protocol management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# isis system-id prefix (4.4 hexadecimal)\nisis_system_id_prefix: &lt; hhhh.hhhh &gt;\n# Number of path to configure in ECMP for ISIS\nisis_maximum_paths: &lt; integer &gt;\n# IS type\nis_type: &lt; level-1-2 | level-1 | level-2 | Default -&gt; level-2 &gt;\n# Node-SID base for isis-sr underlay variants. Combined with node id to generate ISIS-SR node-SID.\nnode_sid_base: &lt; integer | Default -&gt; 0 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#loopback-and-vtep-management","title":"Loopback and VTEP management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# IPv4 subnet for Loopback0 allocation\nloopback_ipv4_pool: &lt; IPv4_address/Mask  &gt;\n# IPv4 subnet for VTEP/Loopback1 allocation.\nvtep_loopback_ipv4_pool: &lt; IPv4_address/Mask  &gt;\n# Offset all assigned loopback IP addresses.\n# Required when the &lt; loopback_ipv4_pool &gt; is same for 2 different node_types (like spine and l3leaf) to avoid over-lapping IPs.\n# For example, set the minimum offset l3leaf.defaults.loopback_ipv4_offset: &lt; total # spine switches &gt; or vice versa.\nloopback_ipv4_offset: 2\n# Set VXLAN source interface. Loopback1 is default\nvtep_loopback: &lt; Loopback_interface_1 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#bgp-evpn-control-plane","title":"BGP &amp; EVPN Control plane","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Node BGP AS | Required.\n# For eBGP topologies, bgp_as can be defined as a range of ASNs.  This range will be expanded and ASNs allocated\n# according to the following rules:\n#  - Standalone nodes and Non-MLAG (i.e. EVPN A/A multi-homing) node groups will be allocated unique ASNs from the range based on\n#    the node's ID.\n#  - Switches in MLAG pairs will be allocated a single ASN for both, based on the node ID of the first node in the node group.\n# Examples:\n# bgp_as: 65101-65110                 Contiguous range of ASNs.\n# bgp_as: 65001,65010,65020,65030     Non-contiguous range of ASNs.\n# bgp_as: 65000.101-125               Contiguous range of 4-byte ASNs, increment in the last 2 bytes.\n# bgp_as: 64512                       Single AS, no range.\n# Commas and hyphens can be combined in more or less any combination.\nbgp_as: &lt; bgp_as &gt;\n# List of EOS command to apply to BGP daemon | Optional\nbgp_defaults: [ &lt; List of EOS commands&gt; ]\n# Acting role in EVPN control plane.\n# Override role definition from node_type_keys\n# Can be set per node\nevpn_role: &lt; client | server | none | Default -&gt; refer to node type variable table &gt;\n# List of inventory hostname acting as EVPN route-servers.\nevpn_route_servers: [ '&lt; inventory_hostname_of_evpn_server &gt;' ]\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#evpn-services-management","title":"EVPN services management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Possibility to prevent configuration of Tenant VRFs and SVIs\n# Override node definition \"network_services_l3\" from node_type_keys\n# This allows support for centralized routing.\nevpn_services_l2_only: &lt; false | true &gt;\n# Filter L3 and L2 network services based on tenant and tags (and operation filter) | Optional\n# If filter is not defined will default to all\nfilter:\ntenants: [ &lt; tenant_1 &gt;, &lt; tenant_2 &gt; | default all ]\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; | default -&gt; all ]\n# Force VRFs in a tenant to be configured even if VLANs are not included in tags | Optional\n# Useful for \"border\" leaf.\nalways_include_vrfs_in_tenants: [ &lt; tenant_1 &gt;, &lt; tenant_2 &gt;, \"all\" ]\n# Only configure VLANs, SVIs, VRFs in use by connected endpoints or downstream L2 switches.\n# Note! This feature only considers configuration managed by eos_designs.\n# This excludes structured_config, custom_structured_configuration_, raw_eos_cli, eos_cli, custom templates, configlets etc.\nonly_vlans_in_use: &lt; true | false | default -&gt; false &gt;\n# Activate or deactivate IGMP snooping | Optional, default is true\nigmp_snooping_enabled: &lt; true | false &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#bgp-evpn-multi-domain-gateway","title":"BGP &amp; EVPN Multi-Domain Gateway","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Node is acting as EVPN Multi-Domain Gateway | Optional.\n# New BGP peer-group is generated between EVPN GWs in different domains or between GWs and Route Servers. Name can be changed under \"bgp_peer_groups.evpn_overlay_core\" variable\n# L3 rechability for different EVPN GWs must be already in place, it is recommended to use DCI &amp; L3 Edge if Route Servers and GWs are not defined under the same Ansible inventory.\nevpn_gateway:\n# Define remote peers of the EVPN VXLAN Gateway. If the hostname can be found in the inventory, ip_address and BGP ASN will be automatically populated. Manual override takes precedence. If the peer's hostname can not be found in the inventory, ip_address and bgp_as must be defined.\nremote_peers:\n- hostname: &lt; Inventory hostname of remote EVPN GW server &gt;\nip_address: &lt; Peering IP of remote Route Server &gt;\nbgp_as: &lt; BGP ASN of remote Route Server &gt;\n- hostname: &lt; Hostname of remote EVPN GW server &gt;\nip_address: &lt; Peering IP of remote Route Server &gt;\nbgp_as: &lt; BGP ASN of remote Route Server &gt;\n# Specific BGP EVPN Gateway functionality for route types 2 (MAC-IP), 3 (IMET) and 5 (IP-PREFIX) can be enabled separately as needed.\nevpn_l2:\nenabled: &lt; true | false | Default -&gt; False &gt;\nevpn_l3:\nenabled: &lt; true | false | Default -&gt; False &gt;\ninter_domain: &lt; true | false | Default -&gt; True &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#bgp-ip-vpn-gateway","title":"BGP &amp; IP-VPN Gateway","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Node is acting as IP-VPN Gateway for EVPN to MPLS-IP-VPN Interworking | Optional.\n# The BGP peer group used for this is \"bgp_peer_groups.ipvpn_gateway_peers\".\n# L3 Reachability is required for this to work, the preferred method to establish underlay connectivity is to use core_interfaces.\nipvpn_gateway:\nenabled: &lt; true | false | default -&gt; False &gt;\n# Domain IDs are required to perform D-Path lookups for loop prevention. If omitted, the defaults are used.\nevpn_domain_id: &lt; \"nn:nn\" | default -&gt; \"65535:1\" &gt;\nipvpn_domain_id: &lt; \"nn:nn\" | default -&gt; \"65535:2\" &gt;\n# D-path can be turned off for the inter-vpn export if desired.\nenable_d_path: &lt; true | false | default -&gt; true &gt;\n# Maximum number of routes to allow from the MPLS domain.\nmaximum_routes: &lt; integer | default -&gt; 0 &gt;\n# Optional local-as to use when peering to the MPLS domain.\nlocal_as: &lt; bgp_asn &gt;\n# Address families in which to perform interworking.\naddress_families: &lt; List of address families | default -&gt; [ vpn-ipv4 ] &gt;\n# Define remote peers of the EVPN to IP-VPN Gateway. The hostname, ip_address and bgp_asn variables must be defined for each remote peer.\nremote_peers:\n- hostname: &lt; Hostname of remote mpls-vpn peer &gt;\nip_address: &lt; Peering IP of remote mpls-vpn peer &gt;\nbgp_as: &lt; bgp_asn of remote mpls-vpn peer &gt;\n- hostname: &lt; Hostname of remote mpls-vpn peer &gt;\nip_address: &lt; Peering IP of remote mpls-vpn peer &gt;\nbgp_as: &lt; bgp_asn of remote mpls-vpn peer &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#mlag-configuration-management","title":"MLAG configuration management","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Enable / Disable auto MLAG, when two nodes are defined in node group.\nmlag: &lt; true | false -&gt; default true &gt;\n# Enable / Disable MLAG dual primary detection\nmlag_dual_primary_detection: &lt; true | false -&gt; default false &gt;\n# Set origin of routes received from MLAG iBGP peer to incomplete. The purpose is to optimize routing for leaf\n# loopbacks from spine perspective and avoid suboptimal routing via peerlink for control plane traffic.\nmlag_ibgp_origin_incomplete: &lt; true | false | default -&gt; true &gt;\n# MLAG interfaces (list) | Optional, even when MLAG leafs present in topology.\n# If mlag_interfaces is not defined, platform-specific defaults (defined under default_interfaces) will be used instead.\n# Please note that default_interfaces are not defined by default - you should define these yourself.\nmlag_interfaces: [ &lt; ethernet_interface_3 &gt;, &lt; ethernet_interface_4 &gt; ]\n# MLAG interfaces speed | Optional and depends on mlag_interfaces to be defined\nmlag_interfaces_speed: &lt; interface_speed | forced interface_speed | auto interface_speed &gt;\n# MLAG peer link port-channel id | Optional; if not set, the mlag port-channel id is\n# generated based on the digits of the first interface present in 'mlag_interfaces'.\n# Valid port-channel id numbers are &lt; 1-2000 &gt; for EOS &lt; 4.25.0F and &lt; 1 - 999999 &gt; for EOS &gt;= 4.25.0F.\nmlag_port_channel_id: &lt; integer &gt;\n# Underlay L3 peering SVI interface id\n# If set to false or the same vlan as mlag_peer_vlan the mlag_peer_vlan will be used for L3 peering.\nmlag_peer_l3_vlan: &lt; 0-4094 | false | default -&gt; 4093 &gt;\n# IP address pool used for MLAG underlay L3 peering | *Required when MLAG leafs present in topology.\n# IP is derived from the node id. Assign a prefix that can accomodate n * /31 subnets, where n is the highest id assigned to an MLAG switch.\nmlag_peer_l3_ipv4_pool: &lt; IPv4_network/Mask &gt;\n# MLAG Peer Link (control link) SVI interface id.\nmlag_peer_vlan: &lt; 0-4094 | default -&gt; 4094 &gt;\n# MLAG Peer Link allowed VLANs\nmlag_peer_link_allowed_vlans: &lt; vlans as string | default -&gt; \"2-4094\" &gt;\n# IP address pool used for MLAG Peer Link (control link) | *Required when MLAG leafs present in topology.\n# IP is derived from the node id. Assign a prefix that can accomodate n * /31 subnets, where n is the highest id assigned to an MLAG switch.\nmlag_peer_ipv4_pool: &lt; IPv4_network/Mask &gt;\n# Custom structured config applied to MLAG peer link port-channel id.\n# Added under port_channel_interfaces.&lt;interface&gt; for eos_cli_config_gen.\n# Overrides the settings on the port-channel interface level.\n# \"mlag_port_channel_structured_config\" is applied after \"structured_config\", so it can override \"structured_config\" defined on node-level.\nmlag_port_channel_structured_config: &lt; dictionary &gt;\n# Custom structured config applied to MLAG Peer Link (control link) SVI interface id.\n# Added under vlan_interfaces.&lt;interface&gt; for eos_cli_config_gen.\n# Overrides the settings on the vlan interface level.\n# \"mlag_peer_vlan_structured_config\" is applied after \"structured_config\", so it can override \"structured_config\" defined on node-level.\nmlag_peer_vlan_structured_config: &lt; dictionary &gt;\n# Custom structured config applied to MLAG underlay L3 peering SVI interface id.\n# Added under vlan_interfaces.&lt;interface&gt; for eos_cli_config_gen.\n# Overrides the settings on the vlan interface level.\n# \"mlag_peer_l3_vlan_structured_config\" is applied after \"structured_config\", so it can override \"structured_config\" defined on node-level.\nmlag_peer_l3_vlan_structured_config: &lt; dictionary &gt;\n# Spanning tree mode | Required.\nspanning_tree_mode: &lt; mstp | rstp | rapid-pvst | none &gt;\n# Spanning tree priority.\nspanning_tree_priority: &lt; spanning-tree priority -&gt; default 32768 &gt;\n# Spanning tree priority.\nspanning_tree_root_super: &lt; true | false  &gt;\n# Virtual router mac address for anycast gateway | Required when using VARP or Anycast IP on SVIs.\nvirtual_router_mac_address: &lt; mac address &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-topology.html#inband-management-vlan","title":"Inband management VLAN","text":"<pre><code>&lt; node_type_key &gt;:\ndefaults:\n# Optional IP subnet assigned to Inband Management SVI on l2leafs in default VRF.\n# Parent l3leafs will have SVI with \"ip virtual-router\" and host-route injection based on ARP. This allows all l3leafs to reuse the same subnet\n# SVI IP address will be assigned as follows:\n# virtual-router: &lt;subnet&gt; + 1\n# l3leaf A      : &lt;subnet&gt; + 2 (same IP on all l3leaf A)\n# l3leaf B      : &lt;subnet&gt; + 3 (same IP on all l3leaf B)\n# l2leafs       : &lt;subnet&gt; + 3 + &lt;l2leaf id&gt;\n# GW on l2leafs : &lt;subnet&gt; + 1\n# Assign range larger than total l2leafs + 5\ninband_management_subnet: &lt; IPv4subnet/mask &gt;\n# VLAN number assigned to Inband Management SVI on l2leafs in default VRF.\ninband_management_vlan: &lt; vlan-id | Default -&gt; 4092 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-variables-mpls-BETA-v4.0.html","title":"BETA Feature","text":"<p>The MPLS design feature is in BETA until the release of AVD 4.0.0. Changes to data models and default behavior for the MPLS design should be expected.</p>"},{"location":"roles/eos_designs/doc/fabric-variables-mpls-BETA-v4.0.html#fabric-variables-for-mpls-design","title":"Fabric Variables for MPLS Design","text":"<ul> <li>The MPLS design supports any fabric variables already supported by l3ls-evpn, barring the exceptions outlined in this document.</li> <li>Additionally the MPLS design supports several new fabric variables that are outlined in this document.</li> <li>The fabric underlay and overlay topology variables, define the elements related to build the L3 Leaf and Spine fabric.</li> <li>The following underlay routing protocols are supported:<ul> <li>ISIS-SR (default)</li> <li>ISIS + LDP</li> <li>ISIS-SR + LDP</li> <li>OSPF + LDP</li> </ul> </li> <li>The following overlay routing protocols are supported:<ul> <li>IBGP (default)</li> </ul> </li> <li>Only summary network addresses need to be defined. IP addresses are then assigned to each node, based on its unique device id.<ul> <li>To view IP address allocation and consumption, a summary is provided in the auto-generated fabric documentation in Markdown and CSV format.</li> </ul> </li> <li>The variables described in this document should be applied to all devices in the fabric.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-variables-mpls-BETA-v4.0.html#new-variables-and-options","title":"New Variables and Options","text":"<pre><code># Fabric Name | Required\n# Required to match an Ansible Group name covering all devices in the Fabric\nfabric_name: &lt; Fabric_Name &gt;\n# Underlay routing protocol | Required.\nunderlay_routing_protocol: &lt; isis-sr | isis-ldp | isis-sr-ldp | ospf-ldp | default -&gt; isis-sr &gt;\noverlay_routing_protocol: &lt; ibgp | default -&gt; ibgp &gt;\n# Fabric EVPN encapsulation, should be set to mpls for evpn-mpls scenario\nfabric_evpn_encapsulation: &lt; vxlan | mpls | default -&gt; vxlan &gt;\n# Underlay ISIS parameters\nisis_default_is_type: &lt; level-1 | level-2 | level-1-2 | default -&gt; level-1-2 &gt;\nisis_default_circuit_type: &lt; level-1 | level-2 | level-1-2 | default -&gt; level-1-2 &gt;\nisis_default_metric: &lt; int &gt;\nisis_advertise_passive_only: &lt; true | false | default -&gt; false &gt;\n# Underlay ISIS TI-LFA parameters\nisis_ti_lfa:\nenabled: &lt; true | false | default -&gt; false &gt;\nprotection: &lt; link | node | default -&gt; link &gt;\n# Microloop protection delay in ms\nlocal_convergence_delay: &lt; int | default -&gt; 10000 &gt;\n# Underlay IPv6 turns on ipv6 for the underlay, which requires loopback_ipv6_pool to be defined.\nunderlay_ipv6: &lt; true | false | default -&gt; false &gt;\n# Whether to configure an iBGP full mesh between PEs, either because there is no RR used or other reasons.\nbgp_mesh_pes: &lt; true | false | default -&gt; false &gt;\n# BGP peer groups encrypted password\n# mpls_overlay_peers | Required\n# rr_overlay_peers | Optional (Used to peer route reflectors in the same node-group (rr cluster) to each other)\n# Leverage an Arista EOS switch to generate the encrypted password using the correct peer group name.\n# Note that the name of the peer groups use '-' instead of '_' in EOS configuration.\nbgp_peer_groups:\nmpls_overlay_peers:\nname: &lt; name of peer group | default -&gt; MPLS-OVERLAY-PEERS &gt;\npassword: \"&lt; encrypted password &gt;\"\nrr_overlay_peers:\nname: &lt; name of peer group | default -&gt; RR-OVERLAY-PEERS &gt;\npassword: \"&lt; encrypted password &gt;\"\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-variables-mpls-BETA-v4.0.html#unsupported-fabric-variables","title":"Unsupported Fabric Variables","text":"<p>The following fabric variables or variable values are not supported with the MPLS design.</p> <pre><code>underlay_routing_protocol: &lt; ebgp | isis | ospf &gt;\noverlay_routing_protocol: ebgp\nunderlay_rfc5549: &lt; true | false | default -&gt; false &gt;\nvtep_vvtep_ip: &lt; IPv4_address/Mask &gt;\nevpn_ebgp_multihop: &lt; ebgp_multihop | default -&gt; 3 &gt;\ninband_management_subnet: &lt; IPv4_network/Mask &gt;\ninband_management_vlan: &lt; vlan_id &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-variables-mpls-BETA.html","title":"BETA Feature","text":"<p>The MPLS design feature is in BETA until the release of AVD 4.0.0. Changes to data models and default behavior for the MPLS design should be expected.</p>"},{"location":"roles/eos_designs/doc/fabric-variables-mpls-BETA.html#fabric-variables-for-mpls-design","title":"Fabric Variables for MPLS Design","text":"<ul> <li>The MPLS design supports any fabric variables already supported by l3ls-evpn, barring the exceptions outlined in this document.</li> <li>Additionally the MPLS design supports several new fabric variables that are outlined in this document.</li> <li>The fabric underlay and overlay topology variables, define the elements related to build the L3 Leaf and Spine fabric.</li> <li>The following underlay routing protocols are supported:<ul> <li>ISIS-SR (default)</li> <li>ISIS + LDP</li> <li>ISIS-SR + LDP</li> <li>OSPF + LDP</li> </ul> </li> <li>The following overlay routing protocols are supported:<ul> <li>IBGP (default)</li> </ul> </li> <li>Only summary network addresses need to be defined. IP addresses are then assigned to each node, based on its unique device id.<ul> <li>To view IP address allocation and consumption, a summary is provided in the auto-generated fabric documentation in Markdown and CSV format.</li> </ul> </li> <li>The variables described in this document should be applied to all devices in the fabric.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-variables-mpls-BETA.html#new-variables-and-options","title":"New Variables and Options","text":"<pre><code># Fabric Name | Required\n# Required to match an Ansible Group name covering all devices in the Fabric\nfabric_name: &lt; Fabric_Name &gt;\n# Underlay routing protocol | Required.\nunderlay_routing_protocol: &lt; isis-sr | isis-ldp | isis-sr-ldp | ospf-ldp | default -&gt; isis-sr &gt;\noverlay_routing_protocol: &lt; ibgp | default -&gt; ibgp &gt;\n# Underlay ISIS parameters\nisis_default_is_type: &lt; level-1 | level-2 | level-1-2 | default -&gt; level-1-2 &gt;\nisis_default_circuit_type: &lt; level-1 | level-2 | level-1-2 | default -&gt; level-1-2 &gt;\nisis_default_metric: &lt; int &gt;\nisis_advertise_passive_only: &lt; true | false | default -&gt; false &gt;\n# Underlay ISIS TI-LFA parameters\nisis_ti_lfa:\nenabled: &lt; true | false | default -&gt; false &gt;\nprotection: &lt; link | node | default -&gt; link &gt;\n# Microloop protection delay in ms\nlocal_convergence_delay: &lt; int | default -&gt; 10000 &gt;\n# Underlay IPv6 turns on ipv6 for the underlay, which requires loopback_ipv6_pool to be defined.\nunderlay_ipv6: &lt; true | false | default -&gt; false &gt;\n# Whether to configure an iBGP full mesh between PEs, either because there is no RR used or other reasons.\nbgp_mesh_pes: &lt; true | false | default -&gt; false &gt;\n# BGP peer groups encrypted password\n# mpls_overlay_peers | Required\n# rr_overlay_peers | Optional (Used to peer route reflectors in the same node-group (rr cluster) to each other)\n# Leverage an Arista EOS switch to generate the encrypted password using the correct peer group name.\n# Note that the name of the peer groups use '-' instead of '_' in EOS configuration.\nbgp_peer_groups:\nmpls_overlay_peers:\nname: &lt; name of peer group | default -&gt; MPLS-OVERLAY-PEERS &gt;\npassword: \"&lt; encrypted password &gt;\"\n# Custom structured config added under router_bgp.peer_groups.&lt;name&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nrr_overlay_peers:\nname: &lt; name of peer group | default -&gt; RR-OVERLAY-PEERS &gt;\npassword: \"&lt; encrypted password &gt;\"\n# Custom structured config added under router_bgp.peer_groups.&lt;name&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-variables-mpls-BETA.html#unsupported-fabric-variables","title":"Unsupported Fabric Variables","text":"<p>The following fabric variables or variable values are not supported with the MPLS design.</p> <pre><code>underlay_routing_protocol: &lt; ebgp | isis | ospf &gt;\noverlay_routing_protocol: ebgp\nunderlay_rfc5549: &lt; true | false | default -&gt; false &gt;\nvtep_vvtep_ip: &lt; IPv4_address/Mask &gt;\nevpn_ebgp_multihop: &lt; ebgp_multihop | default -&gt; 3 &gt;\ninband_management_subnet: &lt; IPv4_network/Mask &gt;\ninband_management_vlan: &lt; vlan_id &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-variables-v4.0.html","title":"Fabric Variables","text":"<ul> <li>The fabric underlay and overlay topology variables, define the elements related to build the L3 Leaf and Spine fabric.</li> <li>The following underlay routing protocols are supported:<ul> <li>EBGP (default for l3ls-evpn)</li> <li>OSPF.</li> <li>ISIS.</li> <li>ISIS-SR*.</li> <li>ISIS-LDP*.</li> <li>ISIS-SR-LDP*.</li> <li>OSPF-LDP*.</li> </ul> </li> <li>The following overlay routing protocols are supported:<ul> <li>EBGP (default for l3ls-evpn)</li> <li>IBGP (only with OSPF or ISIS variants in underlay)</li> </ul> </li> <li>Only summary network addresses need to be defined. IP addresses are then assigned to each node, based on its unique device id.<ul> <li>To view IP address allocation and consumption, a summary is provided in the auto-generated fabric documentation in Markdown and CSV format.</li> </ul> </li> <li>The variables should be applied to all devices in the fabric.</li> </ul> <p>*Only supported with core_interfaces data model.</p> <p>Variables and Options:</p> <pre><code># Underlay routing protocol | Required.\nunderlay_routing_protocol: &lt; ebgp | ospf | isis | isis-sr | isis-ldp | isis-sr-ldp | ospf-ldp | default for l3ls-evpn -&gt; ebgp &gt;\noverlay_routing_protocol: &lt; ebgp | ibgp | default for l3ls-evpn -&gt; ebgp &gt;\n# Point to Point Underlay with RFC 5549(eBGP), i.e. IPv6 Unnumbered.\n# Requires \"underlay_routing_protocol: ebgp\"\nunderlay_rfc5549: &lt; true | false | default -&gt; false &gt;\n# Underlay OSFP | Required when &lt; underlay_routing_protocol &gt; == OSPF variants\nunderlay_ospf_process_id: &lt; process_id | default -&gt; 100 &gt;\nunderlay_ospf_area: &lt; ospf_area | default -&gt; 0.0.0.0 &gt;\nunderlay_ospf_max_lsa: &lt; lsa | default -&gt; 12000 &gt;\nunderlay_ospf_bfd_enable: &lt; true | false | default -&gt; false &gt;\n# Underlay ISIS | Required when &lt; underlay_routing_protocol &gt; == ISIS variants\nisis_area_id: &lt; isis area | default -&gt; \"49.0001\" &gt;\n# Additional underlay ISIS parameters | Optional.\nisis_default_is_type: &lt; level-1-2, | level-1 | level-2 | default -&gt; level-2 &gt;\nisis_advertise_passive_only: &lt; true | false | default -&gt; false &gt;\nunderlay_isis_instance_name: &lt; name | default -&gt; \"EVPN_UNDERLAY\" for l3ls, \"CORE\" for mpls &gt;\n# ISIS TI-LFA parameters | Optional.\nisis_ti_lfa:\nenabled: &lt; true | false | default -&gt; false &gt;\nprotection: &lt; link | node &gt;\nlocal_convergence_delay: &lt; local_convergence_delay_in_ms | default -&gt; 10000 &gt;\n# AS number to use to configure overlay when &lt; overlay_routing_protocol &gt; == IBGP\nbgp_as: &lt; AS number &gt;\n# Point to Point Links MTU | Required.\np2p_uplinks_mtu: &lt; 0-9216 | default -&gt; 9000 &gt;\n# IP Address used as Virtual VTEP. Will be configured as secondary IP on loopback1 | Optional\n# This is only needed for centralized routing designs\nvtep_vvtep_ip: &lt; IPv4_address/Mask &gt;\n# Customizable overlay loopback description | Optional\noverlay_loopback_description: &lt; description &gt;\n# BGP multi-path | Optional\nbgp_maximum_paths: &lt; number_of_max_paths | default -&gt; 4 &gt;\nbgp_ecmp: &lt; number_of_ecmp_paths | default -&gt; 4 &gt;\n# EVPN ebgp-multihop | Optional\n# Default of 3, the recommended value for a 3 stage spine and leaf topology.\n# Set to a higher value to allow for very large and complex topologies.\nevpn_ebgp_multihop: &lt; ebgp_multihop | default -&gt; 3 &gt;\n# BGP peer group names and encrypted password | Optional\n# Leverage an Arista EOS switch to generate the encrypted password using the correct peer group name.\n# Note that the name of the peer groups use '-' instead of '_' in EOS configuration.\nbgp_peer_groups:\nipv4_underlay_peers:\nname: &lt; name of peer group | default -&gt; IPv4-UNDERLAY-PEERS &gt;\npassword: \"&lt; encrypted password &gt;\"\nmlag_ipv4_underlay_peer:\nname: &lt; name of peer group | default -&gt; MLAG-IPv4-UNDERLAY-PEER &gt;\npassword: \"&lt; encrypted password &gt;\"\nevpn_overlay_peers:\nname: &lt; name of peer group | default -&gt; EVPN-OVERLAY-PEERS &gt;\npassword: \"&lt; encrypted password &gt;\"\n# Enable vlan aware bundles for EVPN MAC-VRF | Required.\n# Old variable name vxlan_vlan_aware_bundles, supported for backward-compatibility.\nevpn_vlan_aware_bundles: &lt; boolean | default -&gt; false &gt;\n# Disable IGMP snooping at fabric level.\n# If set, it overrides per vlan settings\ndefault_igmp_snooping_enabled: &lt; boolean | default -&gt; true &gt;\n# BFD Multihop tuning | Required.\nbfd_multihop:\ninterval: &lt; | default -&gt; 300 &gt;\nmin_rx: &lt; | default -&gt; 300 &gt;\nmultiplier: &lt; | default -&gt; 3 &gt;\n## EVPN Host Flapping Settings\nevpn_hostflap_detection:\n# If set to false it will disable EVPN host-flap detection\nenabled: &lt; true | false | default -&gt; true &gt;\n# Minimum number of MAC moves that indicate a MAC duplication issue\nthreshold: &lt; number | default -&gt; 5 &gt;\n# Time (in seconds) to detect a MAC duplication issue\nwindow: &lt; seconds | default -&gt; 180 &gt;\n# Time (in seconds) to purge a MAC duplication issue\nexpiry_timeout: &lt; integer &gt;\n# Enable Route Target Membership Constraint Address Family on EVPN overlay BGP peerings (Min. EOS 4.25.1F)\n# Requires use eBGP as overlay protocol.\nevpn_overlay_bgp_rtc: &lt; true | false | default -&gt; false &gt;\n# Enable VPN import pruning (Min. EOS 4.24.2F)\n# The Route Target extended communities carried by incoming VPN paths will\n# be examined. If none of those Route Targets have been configured for import,\n# the path will be immediately discarded\nevpn_import_pruning: &lt; true | false | default -&gt; false &gt;\n# Configure route-map on eBGP sessions towards route-servers, where prefixes with the peer's ASN in the AS Path are filtered away.\n# This is very useful in very large scale networks, where convergence will be quicker by not having to return all updates received\n# from Route-server-1 to Router-server-2 just for Route-server-2 to throw them away because of AS Path loop detection.\nevpn_prevent_readvertise_to_server : &lt; true | false | default -&gt; false &gt;\n# Configure prefix for \"short_esi\" values | Optional\nevpn_short_esi_prefix: &lt; string | default -&gt; \"0000:0000:\" &gt;\n# Optional IP subnet assigned to Inband Management SVI on l2leafs in default VRF.\n# Parent l3leafs will have SVI with \"ip virtual-router\" and host-route injection based on ARP. This allows all l3leafs to reuse the same subnet\n# SVI IP address will be assigned as follows:\n# virtual-router: &lt;subnet&gt; + 1\n# l3leaf A      : &lt;subnet&gt; + 2 (same IP on all l3leaf A)\n# l3leaf B      : &lt;subnet&gt; + 3 (same IP on all l3leaf B)\n# l2leafs       : &lt;subnet&gt; + 3 + &lt;l2leaf id&gt;\n# GW on l2leafs : &lt;subnet&gt; + 1\n# Assign range larger than total l2leafs + 5\ninband_management_subnet: &lt; IPv4_network/Mask &gt;\n# VLAN number assigned to Inband Management SVI on l2leafs in default VRF.\n# Optional - default -&gt; 4092\ninband_management_vlan: &lt; vlan_id &gt;\n# QOS Profile assigned on all infrastructure links | Optional\np2p_uplinks_qos_profile: &lt; qos_profile_name &gt;\n# Enable PTP on all infrastructure links | Optional\nuplink_ptp:\nenable: &lt; boolean | default -&gt; false &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-variables.html","title":"Fabric Variables","text":"<ul> <li>The fabric underlay and overlay topology variables, define the elements related to build the L3 Leaf and Spine fabric.</li> <li>The following underlay routing protocols are supported:<ul> <li>EBGP (default for l3ls-evpn)</li> <li>OSPF.</li> <li>ISIS.</li> <li>ISIS-SR*.</li> <li>ISIS-LDP*.</li> <li>ISIS-SR-LDP*.</li> <li>OSPF-LDP*.</li> <li>none**.</li> </ul> </li> <li>The following overlay routing protocols are supported:<ul> <li>EBGP (default for l3ls-evpn)</li> <li>IBGP (only with OSPF or ISIS variants in underlay)</li> <li>none**</li> <li>HER (Head-End Replication)***</li> <li>CVX (CloudVision eXchange)</li> </ul> </li> <li>Only summary network addresses need to be defined. IP addresses are then assigned to each node, based on its unique device id.<ul> <li>To view IP address allocation and consumption, a summary is provided in the auto-generated fabric documentation in Markdown and CSV format.</li> </ul> </li> </ul> <p>*) Only supported with core_interfaces data model.</p> <p>**) For use with design type \u201cl2ls\u201d or other designs where there is no requirement for a routing protocol for underlay and/or overlay on l3 devices.</p> <p>***) By setting <code>overlay_routing_protocol:HER</code>, <code>eos_designs</code> will configure static VXLAN flood-lists instead of using a dynamic overlay protocol.</p>"},{"location":"roles/eos_designs/doc/fabric-variables.html#flagging-a-device-as-not-deployed","title":"Flagging a Device as Not Deployed","text":"<ul> <li> <p>It is possible to provision configurations for a complete topology but flag devices as undeployed using the host level variable <code>is_deployed: false</code>.</p> <pre><code># Use at the host level\nis_deployed: &lt; true | false | default -&gt; true &gt;\n</code></pre> </li> </ul> <ul> <li>By default, this will have no impact within the <code>eos_designs</code> role. Configs will still be generated by the <code>eos_cli_config_gen</code> role and will still be pushed by the <code>eos_config_deploy_eapi</code> directly to devices if used.</li> <li>However, if the <code>eos_config_deploy_cvp</code> role is used to push configurations, CloudVision will ignore the devices flagged  as <code>is_deployed: false</code> and not attempt to configure them.</li> <li>If the device is not present in the network due to CloudVision not configuring the device, <code>eos_validate_state</code> role will fail lldp_toplogy and interface tests on peers of the undeployed device trying to verify that interfaces are up.</li> <li>To overcome this and shutdown interfaces towards undeployed peers, the variable <code>shutdown_interfaces_towards_undeployed_peers</code> can be used, satisfying the <code>eos_validate_state</code> role interface and lldp_topology tests. Again, this is only an issue if <code>eos_config_deploy_cvp</code> is used and the devices are not present in the network.</li> </ul>"},{"location":"roles/eos_designs/doc/fabric-variables.html#variables-and-options","title":"Variables and Options","text":"<p>Note: The variables should be applied to all devices in the fabric.</p> <pre><code># Shutdown interfaces on devices that face undeployed peers. See above for explanation and how this interacts with host level variable \"is_deployed\".\nshutdown_interfaces_towards_undeployed_peers: &lt; true | false | default -&gt; false &gt;\n# Underlay routing protocol | Required.\nunderlay_routing_protocol: &lt; EBGP | OSPF | ISIS | ISIS-SR | ISIS-LDP | ISIS-SR-LDP | OSPF-LDP | none | default for l3ls-evpn -&gt; EBGP &gt;\noverlay_routing_protocol: &lt; EBGP | IBGP | HER | CVX | none | default for l3ls-evpn -&gt; EBGP &gt;\n# Point to Point Underlay with RFC 5549(eBGP), i.e. IPv6 Unnumbered.\n# Requires \"underlay_routing_protocol: EBGP\"\nunderlay_rfc5549: &lt; true | false | default -&gt; false &gt;\n# Enable RFC 5549(iBGP) i.e. IPv6 Unnumbered for MLAG iBGP connections.\n# Requires \"underlay_rfc5549: true\"\noverlay_mlag_rfc5549: &lt; true | false | default -&gt; false &gt;\n# Enable IPv6 Address Family on underlay.\n# This feature allows IPv6 underlay routing protocol with RFC5549 addresses to be used along with IPv4 advertisements as VXLAN tunnel endpoints.\n# Requires \"underlay_rfc5549: true\" and \"loopback_ipv6_pool\" under the \"Fabric Topology\"\nunderlay_ipv6: &lt; true | false | default -&gt; false &gt;\n# Underlay OSFP | Required when &lt; underlay_routing_protocol &gt; == OSPF variants\nunderlay_ospf_process_id: &lt; process_id | default -&gt; 100 &gt;\nunderlay_ospf_area: &lt; ospf_area | default -&gt; 0.0.0.0 &gt;\nunderlay_ospf_max_lsa: &lt; lsa | default -&gt; 12000 &gt;\nunderlay_ospf_bfd_enable: &lt; true | false | default -&gt; false &gt;\n# Underlay ISIS | Required when &lt; underlay_routing_protocol &gt; == ISIS variants\nisis_area_id: &lt; isis area | default -&gt; \"49.0001\" &gt;\n# Additional underlay ISIS parameters | Optional.\nisis_default_is_type: &lt; level-1-2, | level-1 | level-2 | default -&gt; level-2 &gt;\nisis_advertise_passive_only: &lt; true | false | default -&gt; false &gt;\nunderlay_isis_instance_name: &lt; name | default -&gt; \"EVPN_UNDERLAY\" for l3ls, \"CORE\" for mpls &gt;\n# ISIS TI-LFA parameters | Optional.\nisis_ti_lfa:\nenabled: &lt; true | false | default -&gt; false &gt;\nprotection: &lt; link | node &gt;\nlocal_convergence_delay: &lt; local_convergence_delay_in_ms | default -&gt; 10000 &gt;\n# AS number to use to configure overlay when &lt; overlay_routing_protocol &gt; == IBGP\nbgp_as: &lt; AS number &gt;\n# Point to Point Links MTU | Required.\np2p_uplinks_mtu: &lt; 0-9216 | default -&gt; 9000 &gt;\n# IP Address used as Virtual VTEP. Will be configured as secondary IP on loopback1 | Optional\n# This is only needed for centralized routing designs\nvtep_vvtep_ip: &lt; IPv4_address/Mask &gt;\n# Customizable overlay loopback description | Optional\noverlay_loopback_description: &lt; description &gt;\n# Enable overlay EVPN peering with IPv6 addresses | Optional\n# This feature depends on underlay_ipv6 variable. As of today, only RFC5549 is capable to transport IPv6 in the underlay.\noverlay_routing_protocol_address_family: &lt; ipv4 | ipv6 | default -&gt; ipv4 &gt;\n# BGP multi-path | Optional\nbgp_maximum_paths: &lt; number_of_max_paths | default -&gt; 4 &gt;\nbgp_ecmp: &lt; number_of_ecmp_paths | default -&gt; 4 &gt;\n# EVPN ebgp-multihop | Optional\n# Default of 3, the recommended value for a 3 stage spine and leaf topology.\n# Set to a higher value to allow for very large and complex topologies.\nevpn_ebgp_multihop: &lt; ebgp_multihop | default -&gt; 3 &gt;\n# EVPN GW ebgp-multihop | Optional\n# Default of 15, considering a large value to avoid BGP reachability issues in very complex DCI networks.\n# Adapt the value for your specific topology.\nevpn_ebgp_gateway_multihop: &lt; ebgp_multihop | default -&gt; 15 &gt;\n# BGP peer group names and encrypted password | Optional\n# Leverage an Arista EOS switch to generate the encrypted password using the correct peer group name.\n# Note that the name of the peer groups use '-' instead of '_' in EOS configuration.\nbgp_peer_groups:\nipv4_underlay_peers:\nname: &lt; name of peer group | default -&gt; IPv4-UNDERLAY-PEERS &gt;\npassword: \"&lt; encrypted password &gt;\"\n# Custom structured config added under router_bgp.peer_groups.&lt;name&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nmlag_ipv4_underlay_peer:\nname: &lt; name of peer group | default -&gt; MLAG-IPv4-UNDERLAY-PEER &gt;\npassword: \"&lt; encrypted password &gt;\"\n# Custom structured config added under router_bgp.peer_groups.&lt;name&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nevpn_overlay_peers:\nname: &lt; name of peer group | default -&gt; EVPN-OVERLAY-PEERS &gt;\npassword: \"&lt; encrypted password &gt;\"\n# Custom structured config added under router_bgp.peer_groups.&lt;name&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nevpn_overlay_core:\nname: &lt; name of peer group | default -&gt; EVPN-OVERLAY-CORE &gt;\npassword: \"&lt; encrypted password &gt;\"\n# Custom structured config added under router_bgp.peer_groups.&lt;name&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n# Enable vlan aware bundles for EVPN MAC-VRF | Required.\n# Old variable name vxlan_vlan_aware_bundles, supported for backward-compatibility.\nevpn_vlan_aware_bundles: &lt; boolean | default -&gt; false &gt;\n# BFD Multihop tuning | Required.\nbfd_multihop:\ninterval: &lt; | default -&gt; 300 &gt;\nmin_rx: &lt; | default -&gt; 300 &gt;\nmultiplier: &lt; | default -&gt; 3 &gt;\n## EVPN Host Flapping Settings\nevpn_hostflap_detection:\n# If set to false it will disable EVPN host-flap detection\nenabled: &lt; true | false | default -&gt; true &gt;\n# Minimum number of MAC moves that indicate a MAC duplication issue\nthreshold: &lt; number | default -&gt; 5 &gt;\n# Time (in seconds) to detect a MAC duplication issue\nwindow: &lt; seconds | default -&gt; 180 &gt;\n# Time (in seconds) to purge a MAC duplication issue\nexpiry_timeout: &lt; integer &gt;\n# Enable Route Target Membership Constraint Address Family on EVPN overlay BGP peerings (Min. EOS 4.25.1F)\n# Requires use eBGP as overlay protocol.\nevpn_overlay_bgp_rtc: &lt; true | false | default -&gt; false &gt;\n# Enable VPN import pruning (Min. EOS 4.24.2F)\n# The Route Target extended communities carried by incoming VPN paths will\n# be examined. If none of those Route Targets have been configured for import,\n# the path will be immediately discarded\nevpn_import_pruning: &lt; true | false | default -&gt; false &gt;\n# Configure route-map on eBGP sessions towards route-servers, where prefixes with the peer's ASN in the AS Path are filtered away.\n# This is very useful in very large scale networks, where convergence will be quicker by not having to return all updates received\n# from Route-server-1 to Router-server-2 just for Route-server-2 to throw them away because of AS Path loop detection.\nevpn_prevent_readvertise_to_server: &lt; true | false | default -&gt; false &gt;\n# Filter redistribution of connected into underlay routing protocol.\n# Only applicable when overlay_routing_protocol != 'none' and underlay_routing_protocol == BGP.\n# Creates a route-map and prefix-list assigned to redistribute connected permitting only loopbacks and inband management subnets.\nunderlay_filter_redistribute_connected: &lt; true | false | default -&gt; true &gt;\n# Configure route-map on eBGP sessions towards underlay peers, where prefixes with the peer's ASN in the AS Path are filtered away.\n# This is very useful in very large scale networks not using EVPN overlays, where convergence will be quicker by not having to return\n# all updates received from Spine-1 to Spine-2 just for Spine-2 to throw them away because of AS Path loop detection.\n# Note this key is ignored when EVPN is configured.\nunderlay_filter_peer_as: &lt; true | false | default -&gt; false &gt;\n# Configure prefix for \"short_esi\" values | Optional\nevpn_short_esi_prefix: &lt; string | default -&gt; \"0000:0000:\" &gt;\n# When using Head-End Replication, configure flood-lists per VNI. | Optional\n# By default HER will be configured with a common flood-list containing all VTEPs. This behavior can be changed\n# to per-VNI flood-lists by setting `overlay_her_flood_list_per_vni: true`. This will make `eos_designs` consider\n# configured VLANs per VTEP, and only include the relevant VTEPs to each VNI's flood-list.\noverlay_her_flood_list_per_vni: &lt; true | false | default -&gt; false &gt;\n# When using Head-End Replication, set the scope of flood-lists to Fabric or DC | Optional\n# By default all VTEPs in the Fabric (part of the inventory group referenced by \"fabric_name\") are added\n# to the flood-lists. This can be changed to all VTEPs in the DC (part of the inventory group referenced\n# by \"dc_name\")\n# This is useful if Border Leaf switches are dividing the VXLAN overlay into separate domains.\noverlay_her_flood_list_scope: &lt; \"fabric\" | \"dc\" | default -&gt; \"fabric\" &gt;\n# Overlay settings when using CVX as overlay controller | Required if overlay_routing_protocol == CVX\n# CVX servers (VMs) are peering using their management interface, so mgmt_ip must be set for all CVX servers.\noverlay_cvx_servers: [ &lt; cvx1_inventory_hostname &gt;, &lt; cvx2_inventory_hostname &gt;, &lt; cvx3_inventory_hostname &gt; ]\n# Optional IP subnet assigned to Inband Management SVI on l2leafs in default VRF.\n# Parent l3leafs will have SVI with \"ip virtual-router\" and host-route injection based on ARP. This allows all l3leafs to reuse the same subnet\n# SVI IP address will be assigned as follows:\n# virtual-router: &lt;subnet&gt; + 1\n# l3leaf A      : &lt;subnet&gt; + 2 (same IP on all l3leaf A)\n# l3leaf B      : &lt;subnet&gt; + 3 (same IP on all l3leaf B)\n# l2leafs       : &lt;subnet&gt; + 3 + &lt;l2leaf id&gt;\n# GW on l2leafs : &lt;subnet&gt; + 1\n# Assign range larger than total l2leafs + 5\ninband_management_subnet: &lt; IPv4_network/Mask &gt;\n# VLAN number assigned to Inband Management SVI on l2leafs in default VRF.\n# Optional - default -&gt; 4092\ninband_management_vlan: &lt; vlan_id &gt;\n# QOS Profile assigned on all infrastructure links | Optional\np2p_uplinks_qos_profile: &lt; qos_profile_name &gt;\n# Enable PTP on all infrastructure links | Optional\nuplink_ptp:\nenable: &lt; boolean | default -&gt; false &gt;\n# Enable Multicast in the underlay on all p2p uplink interfaces and mlag l3 peer interface.\n# Specifically PIM Sparse-Mode will be configured on all routed underlay interfaces.\n# In addition, router multicast will be configured at the global level.\n# The underlay will only support Source-Specific Multicast (SSM).\n# The configuration is intended to be used as multicast underlay for EVPN OISM overlay.\nunderlay_multicast: &lt; boolean | default -&gt; false &gt;\n# Enable Fabric to support EVPN Multicast\n# General Configuration required for EVPN Multicast. \"evpn_l2_multicast\" or \"evpn_l3_multicast\" must also be configured under the Network Services (tenants).\n# Requires \"underlay_multicast: true\" and IGMP snooping enabled globally (default).\n# For MLAG devices Route Distinguisher must be unique since this feature will create multi-vtep configuration.\n# Warning !!! For Trident3 based platforms i.e 7050X3, 7300X3, 720XP and 722XP\n#   The Following default platform setting will be configured: \"platform trident forwarding-table partition flexible exact-match 16384 l2-shared 98304 l3-shared 131072\"\n#   All forwarding agents will be restarted when this configuration is applied.\n#   You can tune the settings by overridding the default variable: \"platform_settings[platforms].trident_forwarding_table_partition:\"\n#   Please contact an Arista representative for help with determining the appropriate values for your environment.\nevpn_multicast: &lt; boolean | default -&gt; false &gt;\n# Disable IGMP snooping at fabric level.\n# If set to false, overrides per vlan settings.\ndefault_igmp_snooping_enabled: &lt; boolean | default -&gt; true &gt;\n# Enable Trunk Group support across eos_designs | Optional\n# Warning: Because of the nature of the EOS Trunk Group feature, enabling this is \"all or nothing\".\n# *All* vlans and *all* trunks towards connected endpoints must be using trunk groups as well.\n# If trunk groups are not assigned to a trunk, no vlans will be enabled on that trunk.\n# See \"Details on enable_trunk_groups\" below before enabling this feature\nenable_trunk_groups: &lt; true | false | default -&gt; false &gt;\n# Only Configure VLAN Trunk Groups used by local endpoints | Optional\n# A vlan can have many trunk_groups assigned. To avoid unneeded configuration changes on all leaf\n# switches when a new trunk group is added, this feature will only configure the vlan trunk groups\n# matched with local connected_endpoints.\n# See \"Details on only_local_vlan_trunk_groups\" below.\n# Requires \"enable_trunk_groups: true\"\nonly_local_vlan_trunk_groups: &lt; true | false | default -&gt; false &gt;\n# Trunk Group Names | Optional\ntrunk_groups:\n# \"mlag\" is the Trunk Group used for MLAG VLAN (Typically VLAN 4094).\nmlag:\nname: &lt; trunk_group_name | default -&gt; \"MLAG\" &gt;\n# \"mlag_l3\" is the Trunk Group used for MLAG L3 peering VLAN (Typically VLAN 4093).\n# \"mlag_l3\" is also the Trunk Group used for VRF L3 peering VLANs\nmlag_l3:\nname: &lt; trunk_group_name | default -&gt; \"LEAF_PEER_L3\" &gt;\n# \"uplink\" is the Trunk Group used on L2 Leaf switches when \"enable_trunk_groups\" is set.\nuplink:\nname: &lt; trunk_group_name | default -&gt; \"UPLINK\" &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/fabric-variables.html#details-on-enable_trunk_groups","title":"Details on <code>enable_trunk_groups</code>","text":"<p>Enabling the use of trunk groups will change the behavior of several components in AVD.</p> <p>Changes:</p> <ul> <li>Requires Trunk Groups to be defined on all trunks towards connected endpoints</li> <li><code>MLAG</code> Trunk Group will be configured on all vlans on MLAG switches</li> <li>Use Trunk Groups for uplinks to L2 switches instead of \u201cswitchport trunk allow vlan\u201d lists.<ul> <li>On the parent switch a Trunk Group with the name of the L2 switch will be assigned on all vlans   that are allowed towards the L2 switch.</li> <li>The port-channel towards the L2 switch will be assigned to this trunk group only</li> <li>Add <code>UPLINK</code> Trunk Group to all vlans on the L2 Switch and assign this to the uplink port-channel</li> </ul> </li> </ul> <p></p> <p>While it is recommended for consistency to set <code>enable_trunk_groups</code> for all devices in the fabric, it can also be set in group_vars or host_vars since trunk-groups are only local to a switch.</p> <p>Warning</p> <p>Because of the nature of the EOS Trunk Group feature, enabling this is \u201call or nothing\u201d. All vlans and all trunks towards connected endpoints must be using trunk groups as well. If trunk groups are not assigned to a trunk, no vlans will be enabled on that trunk.</p>"},{"location":"roles/eos_designs/doc/fabric-variables.html#details-on-only_local_vlan_trunk_groups","title":"Details on <code>only_local_vlan_trunk_groups</code>","text":"<p>Enabling this feature will prevent unneeded trunk groups from being configured on vlans.</p> <p>Using the figure under Details on <code>enable_trunk_groups</code> as basis enabling with feature would remove the unmatched trunk groups like this:</p> <p></p>"},{"location":"roles/eos_designs/doc/fabric-variables.html#documentation-variables","title":"Documentation variables","text":"<p>Some variables are available to control documentation generation. This can be useful is for instance the project has thousands of endpoints, to be able to disable fabric-wide connected endpoints documentation.</p> <pre><code>eos_designs_documentation:\nconnected_endpoints: &lt; true | false | default -&gt; false &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/l3-edge-v4.0.html","title":"DCI &amp; L3 Edge","text":"<p>The <code>l3_edge</code> data model can be used to configure extra L3 P2P links anywhere in the fabric. It can be between two switches that are already part of the fabric inventory, or it can be towards another device, where only one end of the link is on a switch in the fabric. Fabric switches can be types <code>l3leaf</code>, <code>spine</code> or <code>super-spine</code>.</p> <p>The data model supports using IP pools, Subnet per link or specifying the IP addresses manually. For BGP peerings the AS number must be specified. If the AS number is different than the AS number configured for the node, the local-as will be replaced on this BGP peering (<code>neighbor &lt;ip&gt; local-as &lt;as&gt; no-prepend replace-as</code>).</p> <p>Make sure to configure the variables in a group_vars file covering all devices mentioned in the data model.</p> <pre><code>l3_edge:\np2p_links_ip_pools:\n- name: &lt; p2p_pool_name_1 &gt;\nipv4_pool: &lt; IPv4_address/Mask &gt;\nprefix_size: &lt; subnet mask size | default -&gt; 31 &gt;\np2p_links_profiles:\n- name: &lt; p2p_profile_name &gt;\n# any setting supported under p2p_links can be set and inherited from profile\np2p_links:\n# Unique id per subnet_summary. Used to calculate ip addresses | Required with ip_pool\n- id: &lt; integer - starting from 1 &gt;\n# Speed | Optional\nspeed: &lt; speed | auto speed | forced speed &gt;\n# IP Pool defined under p2p_links_ip_pools. A /31 will be taken from the pool per P2P link | Optional (Requires ip_pool or subnet or ip)\nip_pool: &lt; p2p_pool_name &gt;\n# Subnet used on this P2P link | Optional (Requires ip_pool or subnet or ip)\nsubnet: &lt; IPv4_address/Mask &gt;\n# Specific IP addresses used on this P2P link | Optional (Requires ip_pool or subnet or ip)\nip: [ &lt; node_a IPv4_address/Mask &gt;, &lt; node_b IPv4_address/Mask &gt; ]\n# Nodes where this link should be configured | Required\nnodes: [ &lt; node_a &gt;, &lt; node_b &gt; ]\n# Interfaces where this link should be configured | Required\ninterfaces: [ &lt; node_a_interface &gt;, &lt; node_b_interface &gt; ]\n# AS Numbers for BGP | Required with bgp peering\nas: [ &lt; node_a_as &gt;, &lt; node_b_as &gt; ]\n# Add this interface to underlay routing protocol | Optional\ninclude_in_underlay_protocol: &lt; true | false | default -&gt; false &gt;\n# MTU for this P2P link | Optional\nmtu: &lt; number | default -&gt; same as p2p_uplinks_mtu &gt;\n# Enable BFD (only considered for BGP) | Optional\nbfd: &lt; true | false | default -&gt; false &gt;\n# Enable PTP | Optional\nptp_enable: &lt; true | false | default -&gt; false &gt;\n# QOS Service Profile | Optional\nqos_profile: &lt; qos_profile_name &gt;\n# MAC Security Profile | Optional\nmacsec_profile: &lt; macsec_profile_name &gt;\n# Profile defined under p2p_profiles | Optional\nprofile: &lt; p2p_profile_name &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/l3-edge.html","title":"DCI &amp; L3 Edge","text":"<p>The <code>l3_edge</code> data model can be used to configure extra L3 P2P links anywhere in the fabric. It can be between two switches that are already part of the fabric inventory, or it can be towards another device, where only one end of the link is on a switch in the fabric.</p> <p>The data model supports using IP pools, Subnet per link, specifying the IP addresses manually or using ipv6 with rfc5549. One of these options must be set. For BGP peerings the AS number must be specified. If the AS number is different than the AS number configured for the node, the local-as will be replaced on this BGP peering (<code>neighbor &lt;ip&gt; local-as &lt;as&gt; no-prepend replace-as</code>).</p> <p>Make sure to configure the variables in a group_vars file covering all devices mentioned in the data model.</p> <pre><code>l3_edge:\np2p_links_ip_pools:\n&lt; p2p_pool_name_1 &gt;: &lt; IPv4_address/Mask &gt;\np2p_links_profiles:\n&lt; p2p_profile_name &gt;:\n&lt; any variable supported under p2p_links can be inherited from a profile &gt;\np2p_links:\n# Unique id per subnet_summary. Used to calculate ip addresses | Required with ip_pool\n- id: &lt; integer - starting from 1 &gt;\n# Speed | Optional\nspeed: &lt; speed | auto speed | forced speed &gt;\n# IP Pool defined under p2p_links_ip_pools. A /31 will be taken from the pool per P2P link | Optional\nip_pool: &lt; p2p_pool_name &gt;\n# Subnet used on this P2P link | Optional\nsubnet: &lt; IPv4_address/Mask &gt;\n# Specific IP addresses used on this P2P link | Optional\nip: [ &lt; node_a IPv4_address/Mask &gt;, &lt; node_b IPv4_address/Mask &gt; ]\n# Turn on ipv6 for the link or profile (also autodetected based on underlay_rfc5549 and include_in_underlay_protocol) | Optional\nipv6_enable: &lt; true | false | default -&gt; false &gt;\n# Nodes where this link should be configured | Required\nnodes: [ &lt; node_a &gt;, &lt; node_b &gt; ]\n# Interfaces where this link should be configured | Required\ninterfaces: [ &lt; node_a_interface &gt;, &lt; node_b_interface &gt; ]\n# AS Numbers for BGP | Required with bgp peering\nas: [ &lt; node_a_as &gt;, &lt; node_b_as &gt; ]\n# Interface Description | Optional\ndescriptions: [ &lt; node_a_description &gt;, &lt; node_b_description &gt; ]\n# Add this interface to underlay routing protocol | Optional\ninclude_in_underlay_protocol: &lt; true | false | default -&gt; false &gt;\n# MTU for this P2P link | Optional\nmtu: &lt; number | default -&gt; same as p2p_uplinks_mtu &gt;\n# Enable BFD (only considered for BGP) | Optional\nbfd: &lt; true | false | default -&gt; false &gt;\n# Enable PTP | Optional\nptp_enable: &lt; true | false | default -&gt; false &gt;\n# QOS Service Profile | Optional\nqos_profile: &lt; qos_profile_name &gt;\n# MAC Security Profile | Optional\nmacsec_profile: &lt; macsec_profile_name &gt;\n# Profile defined under p2p_profiles | Optional\nprofile: &lt; p2p_profile_name &gt;\n# IS-IS parameters\nisis_hello_padding: &lt; true | false &gt;\nisis_metric: &lt; integer &gt;\nisis_circuit_type: &lt; level-1-2 | level-1 | level-2 &gt;\nisis_authentication_mode: &lt; text | md5 &gt;\nisis_authentication_key: &lt; type-7 encrypted password &gt;\n# MPLS Parameters\nmpls_ip: &lt; true | false | default -&gt; true if switch.mpls_lsr is true &gt;\nmpls_ldp: &lt; true | false | default -&gt; true for ldp underlay variants, otherwise false &gt;\n# EOS CLI rendered directly on the point-to-point interface in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Port-channel parameters\nport_channel:\nmode: active\nnodes_child_interfaces:\n&lt; node1 &gt;: [ '&lt; node1 interface1 &gt;', '&lt; node1 interface2 &gt;' ]\n&lt; node2 &gt;: [ '&lt; node2 interface1 &gt;', '&lt; node2 interface2 &gt;' ]\n</code></pre>"},{"location":"roles/eos_designs/doc/management-settings-v4.0.html","title":"Management Settings","text":""},{"location":"roles/eos_designs/doc/management-settings-v4.0.html#common-settings","title":"Common Settings","text":"<ul> <li>Common Settings should be applied to all devices within the fabric and can be shared with other infrastructure elements.</li> </ul>"},{"location":"roles/eos_designs/doc/management-settings-v4.0.html#variables-and-options","title":"Variables and Options","text":"<pre><code># Clock timezone | Optional\ntimezone: &lt; timezone &gt;\n# Dictionary of local users | Required\nlocal_users:\n- name: &lt; username_1 &gt;\nprivilege: &lt; (1-15) Initial privilege level with local EXEC authorization &gt;\nrole: &lt; Specify a role for the user &gt;\nno_password: &lt; true | do not configure a password for given username. sha512_password MUST not be defined for this user. &gt;\nsha512_password: \"&lt; SHA512 ENCRYPTED password &gt;\"\nssh_key: \"&lt; ssh_key_string &gt;\"\n- name: &lt; username_2 &gt;\nprivilege: &lt; (1-15) Initial privilege level with local EXEC authorization &gt;\nrole: &lt; Specify a role for the user &gt;\nsha512_password: \"&lt; SHA512 ENCRYPTED password &gt;\"\n# Management eAPI | Optional\n# Default is https management eAPI enabled\n# The vrf is set to &lt; mgmt_interface_vrf &gt;\nmanagement_eapi:\nenable_http: &lt; boolean | default -&gt; false &gt;\nenable_https: &lt; boolean | default -&gt; true &gt;\ndefault_services: &lt; boolean &gt;\n# CloudVision - Telemetry Agent (TerminAttr) configuration | Optional\n# You can either provide a list of IPs to target on-premise CloudVision cluster or\n# use DNS name for your CloudVision as a Service instance. If you have both on-prem and\n# CVaaS defined, only on-prem is going to be configured.\ncvp_instance_ip: &lt; IPv4 address &gt;\n# or\ncvp_instance_ips:\n- &lt; IPv4 address &gt;\n- &lt; IPv4 address &gt;\n- &lt; IPv4 address &gt;\n- &lt; CV as a Service hostname &gt;\n# cvp_ingestauth_key is required for on-prem CVP\ncvp_ingestauth_key: &lt; CloudVision Ingest Authentication key &gt;\n# cvp_token_file is only applicable to CV as a Service\ncvp_token_file: &lt; 'path_to_token_file_on_switch' | default -&gt; '/tmp/cv-onboarding-token' &gt;\nterminattr_ingestgrpcurl_port: &lt; port_number | default -&gt; 9910 &gt;\nterminattr_smashexcludes: \"&lt; smash excludes | default -&gt; ale,flexCounter,hardware,kni,pulse,strata &gt;\"\nterminattr_ingestexclude: \"&lt; ingest excludes | default -&gt; /Sysdb/cell/1/agent,/Sysdb/cell/2/agent &gt;\"\nterminattr_disable_aaa: \"&lt; boolean | default -&gt; false &gt;\"\n# Management interface configuration | Optional\nmgmt_vrf_routing: &lt; boolean | default -&gt; false &gt;\nmgmt_interface: &lt; mgmt_interface | default -&gt; Management1 &gt;\nmgmt_interface_vrf: &lt; vrf_name | default -&gt; MGMT &gt;\nmgmt_gateway: &lt; IPv4 address &gt;\n# OOB mgmt interface destination networks - override default route\nmgmt_destination_networks:\n- &lt; IPv4_network/Mask &gt;\n- &lt; IPv4_network/Mask &gt;\n# list of DNS servers | Optional\nname_servers:\n- &lt; IPv4_address_1 &gt;\n- &lt; IPv4_address_2 &gt;\n# Set SNMP settings | Optional\nsnmp_settings:\ncontact: &lt; contact_info &gt;\nlocation: &lt; boolean | default -&gt; false &gt; # Formatted as: {{ fabric_name }} {{ dc_name }} {{ pod_name }} {{ switch_rack }} {{ inventory_hostname }}\n</code></pre>"},{"location":"roles/eos_designs/doc/management-settings-v4.0.html#event-handlers","title":"Event Handlers","text":"<p>Gives ability to monitor and react to Syslog messages provides a powerful and flexible tool that can be used to apply self-healing actions, customize the system behavior, and implement workarounds to problems discovered in the field.</p>"},{"location":"roles/eos_designs/doc/management-settings-v4.0.html#variables-and-options_1","title":"Variables and Options","text":"<pre><code>event_handlers:\n- name: &lt; event_handler_name &gt;\naction_type: &lt; bash, increment &gt;\naction: &lt; Command to run when handler is triggered &gt;\ndelay: &lt; int / delay in sec between 2 triggers &gt;\ntrigger: &lt; on-logging &gt;\nregex:  &lt; string to trigger handler &gt;\nasynchronous: &lt; true, false &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/management-settings-v4.0.html#example-for-evpn-blacklist-recovery","title":"Example for EVPN blacklist recovery","text":"<pre><code>event_handlers:\n- name: evpn-blacklist-recovery\naction_type: bash\naction: FastCli -p 15 -c \"clear bgp evpn host-flap\"\ndelay: 300\ntrigger: on-logging\nregex:  EVPN-3-BLACKLISTED_DUPLICATE_MAC\nasynchronous: true\n</code></pre>"},{"location":"roles/eos_designs/doc/management-settings.html","title":"Management Settings","text":""},{"location":"roles/eos_designs/doc/management-settings.html#common-settings","title":"Common Settings","text":"<ul> <li>Common Settings should be applied to all devices within the fabric and can be shared with other infrastructure elements.</li> </ul>"},{"location":"roles/eos_designs/doc/management-settings.html#variables-and-options","title":"Variables and Options","text":"<pre><code># Clock timezone | Optional\ntimezone: &lt; timezone &gt;\n# Dictionary of local users | Required\nlocal_users:\n&lt; username_1 &gt;:\nprivilege: &lt; (1-15) Initial privilege level with local EXEC authorization &gt;\nrole: &lt; Specify a role for the user &gt;\nno_password: &lt; true | do not configure a password for given username. sha512_password MUST not be defined for this user. &gt;\nsha512_password: \"&lt; SHA512 ENCRYPTED password &gt;\"\nssh_key: \"&lt; ssh_key_string &gt;\"\n# If \"disabled\" is true, the user will be removed and all other settings are ignored.\n# Useful for removing the default \"admin\" user.\ndisabled: &lt; true | false &gt;\n&lt; username_2 &gt;:\nprivilege: &lt; (1-15) Initial privilege level with local EXEC authorization &gt;\nrole: &lt; Specify a role for the user &gt;\nsha512_password: \"&lt; SHA512 ENCRYPTED password &gt;\"\n# Management eAPI | Optional\n# Default is https management eAPI enabled\n# The vrf is set to &lt; mgmt_interface_vrf &gt;\nmanagement_eapi:\nenable_http: &lt; boolean | default -&gt; false &gt;\nenable_https: &lt; boolean | default -&gt; true &gt;\ndefault_services: &lt; boolean &gt;\n# CloudVision - Telemetry Agent (TerminAttr) configuration | Optional\n# You can either provide a list of IPs to target on-premise CloudVision cluster or\n# use DNS name for your CloudVision as a Service instance. If you have both on-prem and\n# CVaaS defined, only on-prem is going to be configured.\ncvp_instance_ip: &lt; IPv4 address &gt;\n# or\ncvp_instance_ips:\n- &lt; IPv4 address &gt;\n- &lt; IPv4 address &gt;\n- &lt; IPv4 address &gt;\n- &lt; CV as a Service hostname &gt;\n# On-premise CVP ingest auth key | Optional\n# If set, terminattr will be configured with key-based authentication for on-premise CVP.\n# If not set, terminattr will be configured with certificate based authentication using token-secure onboarding.\n# Token must be copied to the device first.\ncvp_ingestauth_key: &lt; CloudVision Ingest Authentication key &gt;\ncvp_token_file: &lt; 'path_to_token_file_on_switch' | default -&gt; '/tmp/cv-onboarding-token' &gt;\nterminattr_ingestgrpcurl_port: &lt; port_number | default -&gt; 9910 &gt;\nterminattr_smashexcludes: \"&lt; smash excludes | default -&gt; ale,flexCounter,hardware,kni,pulse,strata &gt;\"\nterminattr_ingestexclude: \"&lt; ingest excludes | default -&gt; /Sysdb/cell/1/agent,/Sysdb/cell/2/agent &gt;\"\nterminattr_disable_aaa: \"&lt; boolean | default -&gt; false &gt;\"\n# Management interface configuration | Optional\nmgmt_vrf_routing: &lt; boolean | default -&gt; false &gt;\nmgmt_interface: &lt; mgmt_interface | default -&gt; Management1 &gt;\nmgmt_interface_vrf: &lt; vrf_name | default -&gt; MGMT &gt;\nmgmt_interface_description: &lt; description | default -&gt; \"oob_management\" &gt;\nmgmt_gateway: &lt; IPv4 address &gt;\nipv6_mgmt_gateway: &lt; IPv6 address &gt;\n# OOB mgmt interface destination networks - override default route\nmgmt_destination_networks:\n- &lt; IPv4_network/Mask &gt;\n- &lt; IPv4_network/Mask &gt;\n# OOB mgmt interface destination ipv6 networks - override default route\nipv6_mgmt_destination_networks:\n- &lt; IPv6_network/Mask &gt;\n- &lt; IPv6_network/Mask &gt;\n# list of DNS servers | Optional\nname_servers:\n- &lt; IPv4_address_1 &gt;\n- &lt; IPv4_address_2 &gt;\n# System Mac Address | Optional\n# Set to the same MAC address as available in \"show version\" on the device.\n# \"system_mac_address\" can also be set under \"Fabric Topology\".\n# If both are set, the setting under \"Fabric Topology\" takes precedence.\nsystem_mac_address: &lt; \"xx:xx:xx:xx:xx:xx\" &gt;\n# Serial Number | Optional\n# Set to the Serial Number of the device\n# For  now only used for documentation purpose in the fabric\n# documentation.\n# \"serial_number\" can also be set under \"Fabric Topology\".\n# If both are set, the setting under \"Fabric Topology\" takes precedence.\nserial_number: &lt; string &gt;\n# Set SNMP settings | Optional\nsnmp_settings:\ncontact: &lt; contact_info &gt;\nlocation: &lt; boolean | default -&gt; false &gt; # Formatted as: {{ fabric_name }} {{ dc_name }} {{ pod_name }} {{ switch_rack }} {{ inventory_hostname }}\n# Generate a local engineId for SNMP using the compute_local_engineid_source method\ncompute_local_engineid: &lt; boolean | default -&gt; false &gt;\n# `compute_local_engineid_source` supports:\n# * 'hostname_and_ip': Generate a local engineId for SNMP by hashing via SHA1\n#                      the string generated via the concatenation of the hostname plus the management IP.\n#                      {{ inventory_hostname }} + {{ switch.mgmt_ip }}\n# * `system_mac`:  Generate the switch default engine id for AVD usage\n#                  To use this, `system_mac_address` MUST be set for the device\n#                  The formula is f5717f + system_mac_address + 00\n# default is `hostname_and_ip`\ncompute_local_engineid_source: &lt; hostname_and_ip | system_mac | default -&gt; hostanme_and_ip &gt;\n# Requires compute_local_engineid to be `true` if enabled, the SNMPv3\n# passphrases for auth and priv are transfromed using RFC 2574,\n# matching the value they would take in EOS cli the algorithm requires\n# a local engineId which is unknown to AVD hence the necessity to generate\n# one beforehand.\ncompute_v3_user_localized_key: &lt; boolean | default -&gt; false &gt;\nusers:\n- name: &lt; username &gt;\ngroup: &lt; group &gt;\nversion: &lt; v1 | v2c | v3 &gt;\nauth: &lt; md5 | sha | sha256 | sha384 | sha512 &gt; # optional\nauth_passphrase: &lt; clear_passphrase &gt;          # requires auth, recommended to use vault\npriv: &lt; des | aes | aes192 | aes256 &gt;          # optional\npriv_passphrase: &lt; clear_pasphrase &gt;           # requires priv, recommended to use vault\n</code></pre>"},{"location":"roles/eos_designs/doc/management-settings.html#event-handlers","title":"Event Handlers","text":"<p>Gives ability to monitor and react to Syslog messages provides a powerful and flexible tool that can be used to apply self-healing actions, customize the system behavior, and implement workarounds to problems discovered in the field.</p>"},{"location":"roles/eos_designs/doc/management-settings.html#variables-and-options_1","title":"Variables and Options","text":"<pre><code>event_handlers:\n&lt; event_handler_name &gt;:\naction_type: &lt; bash, increment &gt;\naction: &lt; Command to run when handler is triggered &gt;\ndelay: &lt; int / delay in sec between 2 triggers &gt;\ntrigger: &lt; on-logging &gt;\nregex:  &lt; string to trigger handler &gt;\nasynchronous: &lt; true, false &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/management-settings.html#example-for-evpn-blacklist-recovery","title":"Example for EVPN blacklist recovery","text":"<pre><code>event_handlers:\nevpn-blacklist-recovery:\naction_type: bash\naction: FastCli -p 15 -c \"clear bgp evpn host-flap\"\ndelay: 300\ntrigger: on-logging\nregex:  EVPN-3-BLACKLISTED_DUPLICATE_MAC\nasynchronous: true\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services-mpls-BETA-v4.0.html","title":"BETA Feature","text":"<p>The MPLS design feature is in BETA until the release of AVD 4.0.0. Changes to data models and default behavior for the MPLS design should be expected.</p>"},{"location":"roles/eos_designs/doc/network-services-mpls-BETA-v4.0.html#network-services-variables-for-mpls-design-vrfsvlans","title":"Network Services Variables for MPLS Design - VRFs/VLANs","text":"<ul> <li>The MPLS design supports any network services variables already supported by l3ls-evpn, barring the exceptions outlined in this document.</li> <li>The MPLS design additionally supports several new network services variables that are outlined in this document.</li> <li>The network services variables provide an abstracted model to create L2 and L3 network services across the fabric.</li> <li>The network services are grouped by tenants. The definition of a tenant may vary between organizations.<ul> <li>e.g. Tenants can be organizations or departments.</li> </ul> </li> <li>The tenant shares a common vni range for mac vrf assignment.</li> <li>The filtering model allows for granular deployment of network service to the fabric leveraging the tenant name and tags applied to the service definition.<ul> <li>This allows for the re-use of SVIs and VLANs across the fabric.</li> </ul> </li> </ul>"},{"location":"roles/eos_designs/doc/network-services-mpls-BETA-v4.0.html#new-variables-and-options","title":"New Variables and Options","text":"<pre><code># Dictionary of tenants, to define network services: L3 VRFs and L2 VLANS.\ntenants:\n# Specify a tenant name. | Required\n# Tenant provide a construct to group L3 VRFs and L2 VLANs.\n# Networks services can be filtered by tenant name.\n- name: &lt; tenant_a &gt;\n# Pseudowire rt base, used to generate route targets for vpws services. Avoid overlapping route target spaces between different services.\npseudowire_rt_base: &lt; int &gt;\n# Define point to point services (pseudowires) as a list of dictionaries.\npoint_to_point_services:\n# L1 service pseudowire name\n- name: &lt; name &gt;\n# L1 service type, currently only vpws-pseudowire is supported.\ntype: &lt; vpws-pseudowire &gt;\n# Subinterfaces will create subinterfaces and additional pseudowires/patch panel config\nsubinterfaces:\n- number: &lt; subif1 number &gt;\n- number: &lt; subif2 number &gt;\n# Pseudowire terminating endpoints.\nendpoints:\n- id: &lt; id A-side &gt;\n# With ESI multihoming we support 2 nodes per pseudowire endpoint\nnodes: [ &lt; node1 &gt;, &lt; node2 &gt; ]\n# Interfaces patched to the pseudowire on side A\ninterfaces: [ &lt; node1 interface &gt;, &lt; node2 interface &gt; ]\nport_channel:\nmode: &lt; active | on &gt;\nshort_esi: &lt; short ESI value &gt;\n- id: &lt; id B-side &gt;\nnodes: [ &lt; node3 &gt;, &lt; node4 &gt;]\n# Interfaces patched to the pseudowire on side B\ninterfaces: [ &lt; node3 interface &gt;, &lt; node4 interface &gt; ]\nport_channel:\nmode: &lt; active | on &gt;\nshort_esi: &lt; short ESI value &gt;\n# Whether to disable lldp rx/tx on port mode pseudowire services\nlldp_disable: true\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services-mpls-BETA-v4.0.html#examples","title":"Examples","text":"<pre><code>tenants:\n- name: Tenant_A\npseudowire_rt_base: 1000\npoint_to_point_services:\n# simple p2p pseudowire, no redundancy, port-based\n- name: TEN_A_site2_site5_eline_port_based\ntype: vpws-pseudowire\nendpoints: # Or alternative name: \"termination\"\n- id: 26\nnodes: [\"pe2\"]\ninterfaces: [\"Ethernet6\"]\n- id: 57\nnodes: [\"pe5\"]\ninterfaces: [\"Ethernet7\"]\nlldp_disable: true\n# pw with ESI active-active port channel on one side, single interface on other side.\n# multiple subinterfaces will be created, own pw on each, IDs generated from endpoint.id + subif number.\n- name: TEN_A_site3_site5_eline_vlan_based\ntype: vpws-pseudowire\nsubinterfaces:\n- number: 1000\n- number: 1001\n- number: 1002\n- number: 1003\nendpoints:\n- id: 10000\nnodes: [\"pe1\", \"pe2\"]\ninterfaces: [\"Ethernet5\", \"Ethernet5\"]\nport_channel:\nmode: active\nshort_esi: 0303:0202:0101\n- id: 58000\nport_channel:\nmode: active\nnodes: [\"pe5\", \"pe5\"]\ninterfaces: [\"Ethernet8\", \"Ethernet9\"]\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services-mpls-BETA-v4.0.html#unsupported-variables","title":"Unsupported Variables","text":"<p>The following variables used with l3ls-evpn are not supported with the MPLS design:</p> <pre><code># MLAG is currently not supported with MPLS-EVPN.\nmlag_ibgp_peering_vrfs:\nbase_vlan: &lt; vlan &gt;\ntenants:\n- name: &lt; tenant_a &gt;\n# MLAG is not supported with MPLS-EVPN topologies.\nenable_mlag_ibgp_peering_vrfs: &lt; true | false &gt;\nvrfs:\n- name: &lt; vrf name &gt;\n# Replaced by vrf_id\nvrf_vni: &lt; vni &gt;\n# MLAG is not supported with MPLS-EVPN topologies.\nenable_mlag_ibgp_peering_vrfs: &lt; true | false &gt;\nmlag_ibgp_peering_vlan: &lt;1-4096&gt;\nsvis:\n- id: &lt; 1-4096 &gt;\n# Replaced by rt_override\nvni_override: &lt; 1-16777215 &gt;\n# Not relevant for MPLS\nvxlan: &lt; true | false | default -&gt; true &gt;\nl2vlans:\n- id: &lt; vlan id &gt;\n# Replaced by rt_override\nvni_override: &lt; 1-16777215 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services-mpls-BETA.html","title":"BETA Feature","text":"<p>The MPLS design feature is in BETA until the release of AVD 4.0.0. Changes to data models and default behavior for the MPLS design should be expected.</p>"},{"location":"roles/eos_designs/doc/network-services-mpls-BETA.html#network-services-variables-for-mpls-design-vrfsvlans","title":"Network Services Variables for MPLS Design - VRFs/VLANs","text":"<ul> <li>The MPLS design supports any network services variables already supported by l3ls-evpn, barring the exceptions outlined in this document.</li> <li>The MPLS design additionally supports several new network services variables that are outlined in this document.</li> <li>The network services variables provide an abstracted model to create L2 and L3 network services across the fabric.</li> <li>The network services are grouped by tenants. The definition of a tenant may vary between organizations.<ul> <li>e.g. Tenants can be organizations or departments.</li> </ul> </li> <li>The tenant shares a common vni range for mac vrf assignment.</li> <li>The filtering model allows for granular deployment of network service to the fabric leveraging the tenant name and tags applied to the service definition.<ul> <li>This allows for the re-use of SVIs and VLANs across the fabric.</li> </ul> </li> </ul>"},{"location":"roles/eos_designs/doc/network-services-mpls-BETA.html#new-variables-and-options","title":"New Variables and Options","text":"<pre><code># Dictionary of tenants, to define network services: L3 VRFs and L2 VLANS.\ntenants:\n# Specify a tenant name. | Required\n# Tenant provide a construct to group L3 VRFs and L2 VLANs.\n# Networks services can be filtered by tenant name.\n&lt; tenant_a &gt;:\n# Pseudowire rt base, used to generate route targets for vpws services. Avoid overlapping route target spaces between different services.\npseudowire_rt_base: &lt; int &gt;\n# Define point to point services (pseudowires) as a list of dictionaries.\npoint_to_point_services:\n# L1 service pseudowire name\n- name: &lt; name &gt;\n# L1 service type, currently only vpws-pseudowire is supported.\ntype: &lt; vpws-pseudowire &gt;\n# Subinterfaces will create subinterfaces and additional pseudowires/patch panel config\nsubinterfaces:\n- number: &lt; subif1 number &gt;\n- number: &lt; subif2 number &gt;\n# Pseudowire terminating endpoints.\nendpoints:\n- id: &lt; id A-side &gt;\n# With ESI multihoming we support 2 nodes per pseudowire endpoint\nnodes: [ &lt; node1 &gt;, &lt; node2 &gt; ]\n# Interfaces patched to the pseudowire on side A\ninterfaces: [ &lt; node1 interface &gt;, &lt; node2 interface &gt; ]\nport_channel:\nmode: &lt; active | on &gt;\nshort_esi: &lt; short ESI value &gt;\n- id: &lt; id B-side &gt;\nnodes: [ &lt; node3 &gt;, &lt; node4 &gt;]\n# Interfaces patched to the pseudowire on side B\ninterfaces: [ &lt; node3 interface &gt;, &lt; node4 interface &gt; ]\nport_channel:\nmode: &lt; active | on &gt;\nshort_esi: &lt; short ESI value &gt;\n# Whether to disable lldp rx/tx on port mode pseudowire services\nlldp_disable: true\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services-mpls-BETA.html#examples","title":"Examples","text":"<pre><code>tenants:\nTenant_A:\npseudowire_rt_base: 1000\npoint_to_point_services:\n# simple p2p pseudowire, no redundancy, port-based\n- name: TEN_A_site2_site5_eline_port_based\ntype: vpws-pseudowire\nendpoints: # Or alternative name: \"termination\"\n- id: 26\nnodes: [\"pe2\"]\ninterfaces: [\"Ethernet6\"]\n- id: 57\nnodes: [\"pe5\"]\ninterfaces: [\"Ethernet7\"]\nlldp_disable: true\n# pw with ESI active-active port channel on one side, single interface on other side.\n# multiple subinterfaces will be created, own pw on each, IDs generated from endpoint.id + subif number.\n- name: TEN_A_site3_site5_eline_vlan_based\ntype: vpws-pseudowire\nsubinterfaces:\n- number: 1000\n- number: 1001\n- number: 1002\n- number: 1003\nendpoints:\n- id: 10000\nnodes: [\"pe1\", \"pe2\"]\ninterfaces: [\"Ethernet5\", \"Ethernet5\"]\nport_channel:\nmode: active\nshort_esi: 0303:0202:0101\n- id: 58000\nport_channel:\nmode: active\nnodes: [\"pe5\", \"pe5\"]\ninterfaces: [\"Ethernet8\", \"Ethernet9\"]\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services-mpls-BETA.html#unsupported-variables","title":"Unsupported Variables","text":"<p>The following variables used with l3ls-evpn are not supported with the MPLS design:</p> <pre><code># MLAG is currently not supported with MPLS-EVPN.\nmlag_ibgp_peering_vrfs:\nbase_vlan: &lt; vlan &gt;\ntenants:\n&lt; tenant_a &gt;:\n# MLAG is not supported with MPLS-EVPN topologies.\nenable_mlag_ibgp_peering_vrfs: &lt; true | false &gt;\nvrfs:\n&lt; vrf name &gt;:\n# Replaced by vrf_id\nvrf_vni: &lt; vni &gt;\n# MLAG is not supported with MPLS-EVPN topologies.\nenable_mlag_ibgp_peering_vrfs: &lt; true | false &gt;\nmlag_ibgp_peering_vlan: &lt;1-4096&gt;\nsvis:\n&lt; 1-4096 &gt;:\n# Replaced by rt_override\nvni_override: &lt; 1-16777215 &gt;\n# Not relevant for MPLS\nvxlan: &lt; true | false | default -&gt; true &gt;\nl2vlans:\n&lt; vlan id &gt;:\n# Replaced by rt_override\nvni_override: &lt; 1-16777215 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services-v4.0.html","title":"Network Services Variables - VRFs/VLANs","text":"<ul> <li>The network services variables provide an abstracted model to create L2 and L3 network services across the fabric.</li> <li>The network services are grouped by tenants. The definition of a tenant may vary between organizations.<ul> <li>e.g. Tenants can be organizations or departments.</li> </ul> </li> <li>The tenant shares a common vni range for mac vrf assignment.</li> <li>The filtering model allows for granular deployment of network service to the fabric leveraging the tenant name and tags applied to the service definition.<ul> <li>This allows for the re-use of SVIs and VLANs across the fabric.</li> </ul> </li> </ul>"},{"location":"roles/eos_designs/doc/network-services-v4.0.html#variables-and-options","title":"Variables and Options","text":""},{"location":"roles/eos_designs/doc/network-services-v4.0.html#tenants-keys","title":"Tenants Keys","text":"<pre><code># Define network services keys, to define grouping of network services.\n# This provides the ability to define various keys of your choice to better organize/group your data.\n# This should be defined in top level group_var for the fabric.\nnetwork_services_keys:\n- name: &lt; key_1 &gt;\n- name: &lt; key_2 &gt;\n</code></pre> <pre><code># Example\n# The below key/pair values are the role defaults.\nnetwork_services_keys:\n- name: tenants\n</code></pre> <pre><code># On mlag leafs, an SVI interface is defined per vrf, to establish iBGP peering. | Required (when mlag leafs in topology)\n# The SVI id will be derived from the base vlan defined: mlag_ibgp_peering_vrfs.base_vlan + (vrf_id or vrf_vni) - 1\n# Depending on the values of vrf_id / vrf_id it may be required to adjust the base_vlan to avoid overlaps or invalid vlan ids.\n# The SVI ip address derived from mlag_l3_peer_ipv4_pool is re-used across all iBGP peerings.\nmlag_ibgp_peering_vrfs:\nbase_vlan: &lt; 1-4000 | default -&gt; 3000 &gt;\n# Specify RD type | Optional\n# Route Distinguisher (RD) for L2 / L3 services is set to &lt;overlay_loopback&gt;:&lt;vni&gt; per default.\n# By configuring overlay_rd_type the Administrator subfield (first part of RD) can be set to other values.\n#\n# Note:\n# RD is a 48-bit value which is split into &lt;16-bit&gt;:&lt;32-bit&gt; or &lt;32-bit&gt;:&lt;16-bit&gt;.\n# For loopback or 32-bit ASN/number the VNI can only be a 16-bit number.\n# For 16-bit ASN/number the VNI can be a 32-bit number.\noverlay_rd_type:\nadmin_subfield: &lt; \"vtep_loopback\" | \"bgp_as\" | &lt; IPv4 Address &gt; | &lt;0-65535&gt; | &lt;0-4294967295&gt; | default -&gt; &lt;overlay_loopback_ip&gt; &gt;\n# Specify RT type | Optional\n# Route Target (RT) for L2 / L3 services is set to &lt;vni&gt;:&lt;vni&gt; per default\n# By configuring overlay_rt_type the Administrator subfield (first part of RT) can be set to other values.\n#\n# Note:\n# RT is a 48-bit value which is split into &lt;16-bit&gt;:&lt;32-bit&gt; or &lt;32-bit&gt;:&lt;16-bit&gt;.\n# For 32-bit ASN/number the VNI can only be a 16-bit number.\n# For 16-bit ASN/number the VNI can be a 32-bit number.\noverlay_rt_type:\nadmin_subfield: &lt; \"bgp_as\" | &lt;0-65535&gt; | &lt;0-4294967295&gt; | default -&gt; &lt;mac_vrf_id&gt; &gt;\n# Internal vlan allocation order and range | Required\ninternal_vlan_order:\nallocation: &lt; ascending or descending | default -&gt; ascending &gt;\nrange:\nbeginning: &lt; vlan_id | default -&gt; 1006 &gt;\nending: &lt; vlan_id | default -&gt; 1199 &gt;\n# MAC address-table aging time | Optional\n# Use to change the EOS default of 300\nmac_address_table:\naging_time: &lt; time_in_seconds &gt;\n# Optional profiles to apply on SVI interfaces\n# Each profile can support all or some of the following keys according to your own needs.\n# Keys are the same used under SVI.\n# Svi_profiles can refer to another svi_profiles to inherit settings in up to two levels (svi-&gt;profile-&gt;parent_profile).\nsvi_profiles:\n- profile: &lt; profile_name &gt;\nparent_profile: &lt; svi_profile_name &gt;\nmtu: &lt; mtu &gt;\nenabled: &lt; true | false &gt;\nip_virtual_router_addresses:\n- &lt; IPv4_address/Mask | IPv4_address &gt;\n- &lt; IPv4_address/Mask | IPv4_address &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\nip_address_virtual_secondaries:\n- &lt; IPv4_address/Mask &gt;\n- &lt; IPv4_address/Mask &gt;\nigmp_snooping_enabled: &lt; true | false | default true (eos) &gt;\nip_helpers:\n- ip_helper: &lt; IPv4 dhcp server IP &gt;\nsource_interface: &lt; interface-name &gt;\nsource_vrf: &lt; VRF to originate DHCP relay packets to DHCP server &gt;\n# Dictionary of network services: L3 VRFs and L2 VLANS.\n# The network service key from network_services_keys\n&lt; network_services_keys.key_1 &gt;:\n# Specify a tenant name. | Required\n# Tenant provide a construct to group L3 VRFs and L2 VLANs.\n# Networks services can be filtered by tenant name.\n- name: &lt; tenant_a &gt;\n# Base number for MAC VRF VXLAN Network Identifier | Required with VXLAN\n# VXLAN VNI is derived from the base number with simple addition.\n# e.g. mac_vrf_vni_base = 10000, svi 100 = VNI 10100, svi 300 = VNI 10300.\nmac_vrf_vni_base: &lt; 10000-16770000 &gt;\n# Base number for MAC VRF RD/RT ID | Required unless mac_vrf_vni_base is set.\n# ID is derived from the base number with simple addition.\n# e.g. mac_vrf_id_base = 10000, svi 100 = RD/RT 10100, svi 300 = RD/RT 10300.\nmac_vrf_id_base: &lt; 10000-16770000 | default -&gt; &lt;mac_vrf_vni_base&gt; &gt;\n# Base number for vlan_aware_bundle | Optional.\n# The \"Assigned Number\" part of RD/RT is derived from vrf_vni + vlan_aware_bundle_number_base.\nvlan_aware_bundle_number_base: &lt; number | default -&gt; 0 &gt;\n# MLAG IBGP peering per VRF | Optional\n# By default an IBGP peering is configured per VRF between MLAG peers on separate VLANs.\n# Setting enable_mlag_ibgp_peering_vrfs: false under tenant will change this default to prevent configuration of these peerings and VLANs for all VRFs in the tenant.\n# This setting can be overridden per VRF.\nenable_mlag_ibgp_peering_vrfs: &lt; true | false &gt;\n# Define L3 network services organized by vrf.\nvrfs:\n# VRF name | Required\n# vrf \"default\" is supported under network-services. Currently the supported options for \"default\" vrf are route-target,\n# route-distinguisher settings, structured_config, raw_eos_cli in bgp and SVIs are the only supported interface type.\n# Vlan-aware-bundles are supported as well inside default vrf. OSPF is not supported currently.\n- name: &lt; tenant_a_vrf_1 &gt;\n# Optional\ndescription: &lt; vrf_description &gt;\n# VRF VNI | Optional (required if \"vrf_id\" is not set).\n# The VRF VNI range is not limited, but if vrf_id is not set, \"vrf_vni\" is used for calculating MLAG IBGP peering vlan id.\n# See \"mlag_ibgp_peering_vrfs.base_vlan\" for details.\n# If vrf_vni &gt; 10000 make sure to adjust \"mac_vrf_vni_base\" accordingly to avoid overlap.\nvrf_vni: &lt; 1-1024 | default -&gt; vrf_id &gt;\n# VRF ID | Optional (required if \"vrf_vni\" is not set)\n# \"vrf_id\" is used as default value for \"vrf_vni\" and \"ospf.process_id\" unless those are set.\n# \"vrf_id\" is preferred over \"vrf_vni\" for VRF RD/RT ID before vrf_vni\n# \"vrf_id\" is preferred over \"vrf_vni\" for MLAG IBGP peering vlan, see \"mlag_ibgp_peering_vrfs.base_vlan\" for details\nvrf_id: &lt; 1-1024 &gt;\n# MLAG IBGP Peering IPv4 Pool | Optional\n# The subnet used for iBGP peering in the VRF.\n# Each MLAG pair will be assigned a subnet based on the ID of the primary MLAG switch\n# If not set, \"mlag_peer_l3_ipv4_pool\" or \"mlag_peer_ipv4_pool\" will be used\nmlag_ibgp_peering_ipv4_pool: &lt; IPv4_address/Mask &gt;\n# IP Helper for DHCP relay\nip_helpers:\n- ip_helper: &lt; IPv4 dhcp server IP &gt;\nsource_interface: &lt; interface-name &gt;\nsource_vrf: &lt; VRF to originate DHCP relay packets to DHCP server. If not set, uses current VRF &gt;\n# MLAG IBGP peering per VRF | Optional\n# By default an IBGP peering is configured per VRF between MLAG peers on separate VLANs.\n# Setting enable_mlag_ibgp_peering_vrfs: false under vrf will change this default and/or override the tenant-wide setting\nenable_mlag_ibgp_peering_vrfs: &lt; true | false &gt;\n# Manually define the VLAN used on the MLAG pair for the iBGP session. | Optional\n# By default this parameter is calculated using the following formula: &lt;mlag_ibgp_peering_vrfs.base_vlan&gt; + &lt;vrf_id&gt; - 1\nmlag_ibgp_peering_vlan: &lt;1-4096&gt;\n# Enable VTEP Network diagnostics | Optional.\n# This will create a loopback with virtual source-nat enable to perform diagnostics from the switch.\nvtep_diagnostic:\n# Loopback interface number | Required (when vtep_diagnotics defined)\nloopback: &lt; 2-2100 &gt;\n# Loopback ip range, a unique ip is derived from this ranged and assigned\n# to each l3 leaf based on it's unique id. | Optional (loopback is not created unless loopback_ip_range or loopback_ip_pools are set)\nloopback_ip_range: &lt; IPv4_address/Mask &gt;\n# For inventories with multiple PODs a loopback range can be set per POD to avoid overlaps.\n# This only takes effect when loopback_ip_range is not defined. | Optional (loopback is not created unless loopback_ip_range or loopback_ip_pools are set)\nloopback_ip_pools:\n- pod: &lt; pod_name &gt;\nipv4_pool: &lt; IPv4_address/Mask &gt;\n# Dictionary for router OSPF configuration | Optional.\n# This will create an ospf routing instance in the tenant VRF. If there is no nodes definition, the ospf instance will be\n# created on all leafs where the vrf is deployed. This will also cause automatic ospf redistribution into bgp unless\n# explicitly turned off with \"redistribute_ospf: false\".\nospf:\nenabled: &lt; true | false &gt;\nprocess_id: &lt; int, Default -&gt; vrf_id &gt;\nrouter_id: &lt; router-id, Default -&gt; switch router_id &gt;\nmax_lsa: &lt; int &gt;\nbfd: &lt; true | false, Default -&gt; false &gt;\nredistribute_bgp:\nenabled: &lt; true | false, Default -&gt; true &gt;\nroute_map: &lt; route-map name &gt;\nredistribute_connected:\nenabled: &lt; true | false, Default -&gt; false &gt;\nroute_map: &lt; route-map name &gt;\nnodes:\n- &lt; hostname1 &gt;\n- &lt; hostname2 &gt;\n# Non-selectively enabling or disabling redistribute ospf inside the VRF | Optional.\nredistribute_ospf: &lt; true | false, Default -&gt; true &gt;\n# Dictionary of SVIs | Required.\n# This will create both the L3 SVI and L2 VLAN based on filters applied to l3leaf and l2leaf.\nsvis:\n# SVI interface id and VLAN id. | Required\n- id: &lt; 1-4096 &gt;\n# By default the vni will be derived from \"mac_vrf_vni_base\"\n# The vni_override allows us to override this value and statically define it. | Optional\nvni_override: &lt; 1-16777215 &gt;\n# By default the MAC VRF RD/RT ID will be derived from \"mac_vrf_id_base\"\n# The rt_override allows us to override this value and statically define it. | Optional\nrt_override: &lt; 1-16777215 | default -&gt; vni_override &gt;\n# SVI profile to apply\n# If variables are configured in profile AND SVI, SVI information will overwrite profile.\nprofile: &lt; svi-profile-name &gt;\n# vlan name | Required\nname: &lt; name &gt;\n# SVI description. | Optional\ndescription: &lt; description | Default -&gt; vlan name &gt;\n# Tags leveraged for networks services filtering. | Optional\n# Tags are matched against \"filter.tags\" defined under Fabric Topology variables\n# Tags are also matched against the \"node_group\" name under Fabric Topology variables\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; | default -&gt; all ]\n# Enable or disable interface\nenabled: &lt; true | false &gt;\n# Enable IGMP Snooping\nigmp_snooping_enabled: &lt; true | false | default true (eos) &gt;\n# ip address virtual to configure VXLAN Anycast IP address\n# Conserves IP addresses in VXLAN deployments as it doesn't require unique IP addresses on each node.\n# Optional\nip_address_virtual: &lt; IPv4_address/Mask &gt;\nip_address_virtual_secondaries:\n- &lt; IPv4_address/Mask &gt;\n- &lt; IPv4_address/Mask &gt;\n# ip virtual-router address\n# note, also requires an IP address to be configured on the SVI where it is applied.\n# Optional\nip_virtual_router_addresses:\n- &lt; IPv4_address/Mask | IPv4_address &gt;\n- &lt; IPv4_address/Mask | IPv4_address &gt;\n# IP Helper for DHCP relay\nip_helpers:\n- ip_helper: &lt; IPv4 dhcp server IP &gt;\nsource_interface: &lt; interface-name &gt;\nsource_vrf: &lt; VRF to originate DHCP relay packets to DHCP server. If not set, uses current VRF &gt;\n# VXLAN | Optional - default true\n# Extend this SVI over VXLAN\nvxlan: &lt; true | false | default -&gt; true &gt;\n# Define node specific configuration, such as unique IP addresses.\nnodes:\n- node: &lt; l3_leaf_inventory_hostname_1 &gt;\n# device unique IP address for node.\nip_address: &lt; IPv4_address/Mask &gt;\n# EOS CLI rendered directly on the VLAN interface in the final EOS configuration\n# Overrides the setting on SVI level.\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under vlan_interfaces.&lt;interface&gt; for eos_cli_config_gen\n# Overrides the setting on SVI level.\nstructured_config: &lt; dictionary &gt;\n- node: &lt; l3_leaf_inventory_hostname_2 &gt;\nip_address: &lt; IPv4_address/Mask &gt;\n# Defined interface MTU\nmtu: &lt; mtu &gt;\n# OSPF interface configuration\nospf:\nenabled: &lt; true | false &gt;\npoint_to_point: &lt; true | false, Default -&gt; false &gt;\narea: &lt; ospf area id, Default -&gt; 0 &gt;\ncost: &lt; ospf link cost &gt;\nauthentication: &lt; simple | message-digest &gt;\nsimple_auth_key: &lt; password used with simple authentication &gt;\nmessage_digest_keys:\n- id: &lt; int &gt;\nhash_algorithm: &lt; md5 | sha1 | sha256 | sha384 | sha512, Default -&gt; sha512 &gt;\nkey: &lt; key password &gt;\n# Structured configuration and eos cli commands rendered on router_bgp.vlans\n# This configuration will not be applied to vlan aware bundles\nbgp:\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\nstructured_config: &lt; dictionary &gt;\n# EOS CLI rendered directly on the VLAN interface in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under vlan_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n- id: &lt; 1-4096 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\n# List of L3 interfaces | Optional.\n# This will create IP routed interface inside VRF. Length of interfaces, nodes and ip_addresses and descriptions (if used) must match.\nl3_interfaces:\n- interfaces: [ &lt;interface_name1&gt;, &lt;interface_name2&gt;, &lt;interface_name3&gt; ]\nip_addresses: [ &lt;IPv4_address/Mask&gt;, &lt;IPv4_address/Mask&gt;, &lt;IPv4_address/Mask&gt; ]\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt;, &lt; node_1 &gt; ]\ndescription: &lt; description &gt;\n# `descriptions` has precedence over `description`\ndescriptions: [ &lt;description1&gt;, &lt;description2&gt;, description3&gt; ]\nenabled: &lt; true | false &gt;\nmtu: &lt; mtu &gt;\n# EOS CLI rendered directly on the Ethernet interface in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under ethernet_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nospf:\nenabled: &lt; true | false &gt;\npoint_to_point: &lt; true | false, Default -&gt; true &gt;\narea: &lt; ospf area id, Default -&gt; 0 &gt;\ncost: &lt; ospf link cost &gt;\nauthentication: &lt; simple | message-digest &gt;\nsimple_auth_key: &lt; password used with simple authentication &gt;\nmessage_digest_keys:\n- id: &lt; int &gt;\nhash_algorithm: &lt; md5 | sha1 | sha256 | sha384 | sha512, Default -&gt; sha512 &gt;\nkey: &lt; key password &gt;\n# For sub-interfaces the dot1q vlan is derived from the interface name by default, but can also be specified.\n- interfaces: [ &lt;interface_name1.sub-if-id&gt;, &lt;interface_name2.sub-if-id&gt; ]\nencapsulation_dot1q_vlan: [ &lt;vlan id&gt;, &lt;vlan id&gt; ]\nip_addresses: [ &lt;IPv4_address/Mask&gt;, &lt;IPv4_address/Mask&gt; ]\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt; ]\ndescription: &lt; description &gt;\nenabled: &lt; true | false &gt;\nmtu: &lt; mtu - should only be used for platforms supporting mtu per subinterface &gt;\n# Dictionary of static routes | Optional.\n# This will create static routes inside the tenant VRF.\n# If nodes are not specified, all l3leafs that carry the VRF will also be applied the static routes.\n# If a node has a static route in the VRF, redistribute static will be automatically enabled in that VRF.\n# This automatic behavior can be overridden non-selectively with the redistribute_static knob for the VRF.\nstatic_routes:\n- destination_address_prefix: &lt; IPv4_address/Mask &gt;\ngateway: &lt; IPv4_address &gt;\ndistance: &lt; 1-255 &gt;\ntag: &lt; 0-4294967295 &gt;\nname: &lt; description &gt;\nmetric: &lt; 0-4294967295 &gt;\ninterface: &lt; interface &gt;\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt;]\n# Non-selectively enabling or disabling redistribute static inside the VRF | Optional.\nredistribute_static: &lt; true | false &gt;\n# Dictionary of BGP peer definitions | Optional.\n# This will configure BGP neighbors inside the tenant VRF for peering with external devices.\n# The configured peer will automatically be activated for ipv4 or ipv6 address family based on the ip address.\n# Note, only ipv4 and ipv6 address families are currently supported in eos_designs.\n# For other address families, use custom_structured configuration with eos_cli_config_gen.\nbgp_peers:\n- ip_address: &lt; IPv4_address or IPv6_address &gt;\nremote_as: &lt; remote ASN &gt;\ndescription: &lt; description &gt;\npassword: &lt; encrypted password &gt;\nsend_community: &lt; standard | extended | large | all &gt;\nnext_hop_self: &lt; true | false &gt;\ntimers: &lt; keepalive_hold_timer_values &gt;\nmaximum_routes: &lt; 0-4294967294 &gt;\ndefault_originate:\nalways: &lt; true | false &gt;\nupdate_source: &lt; interface &gt;\nebgp_multihop: &lt; 1-255 &gt;\n# Nodes is required to restrict configuration of BGP neighbors to certain nodes in the network.\nnodes: [ &lt; node_1 &gt;, &lt; node_2&gt; ]\n# Next hop settings can be either ipv4 or ipv6 for one neighbor, this will be applied by a uniquely generated route-map per neighbor.\n# Next hop takes precedence over route_map_out.\nset_ipv4_next_hop: &lt; IPv4_address &gt;\nset_ipv6_next_hop: &lt; IPv6_address &gt;\nroute_map_out: &lt; route-map name &gt;\nroute_map_in: &lt; route-map name &gt;\nprefix_list_in: &lt; prefix_list_name &gt;\nprefix_list_out: &lt; prefix_list_name &gt;\nlocal_as: &lt; local BGP ASN &gt;\nweight: &lt; 0-65535&gt;\nbfd: &lt; true | false &gt;\nbgp:\n# EOS CLI rendered directly on the Router BGP, VRF definition in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under router_bgp.vrfs.&lt;vrf&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n# Optional configuration of extra route-targets for this VRF. Useful for route-leaking or gateway between address families.\nadditional_route_targets:\n- type: &lt; import | export &gt;\naddress_family: &lt; address_family &gt;\nroute_target: \"&lt; route_target &gt;\"\n# Nodes is optional. Default is all nodes where the VRF is defined.\nnodes: [ &lt; node_1 &gt;, &lt; node_2&gt; ]\n# EOS CLI rendered directly on the root level of the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n- name: &lt; tenant_a_vrf_2 &gt;\nvrf_vni: &lt; 1-1024 &gt;\nvrf_id: &lt; 1-1024 &gt;\nsvis:\n- id: &lt; 1-4096 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\n- id: &lt; 1-4096 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\n# Define L2 network services organized by vlan id.\nl2vlans:\n# VLAN id.\n- id: &lt; 1-4096 &gt;\n# By default the vni will be derived from \"mac_vrf_vni_base\"\n# The vni_override, allows to override this value and statically define it.\nvni_override: &lt; 1-16777215 &gt;\n# By default the MAC VRF RD/RT ID will be derived from \"mac_vrf_id_base\"\n# The rt_override allows us to override this value and statically define it. | Optional\nrt_override: &lt; 1-16777215 | default -&gt; vni_override &gt;\n# VLAN name | Required\nname: &lt; description &gt;\n# Tags leveraged for network services filtering. | Optional\n# Tags are matched against \"filter.tags\" defined under Fabric Topology variables\n# Tags are also matched against the \"node_group\" name under Fabric Topology variables\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; | default -&gt; all ]\n# VXLAN | Optional - default true\n# Extend this L2VLAN over VXLAN\nvxlan: &lt; true | false | default -&gt; true &gt;\n- id: &lt; 1-4096 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\n# Activate or deactivate IGMP snooping | Optional, default is true\nigmp_snooping_enabled: &lt; true | false &gt;\n# Structured configuration and eos cli commands rendered on router_bgp.vlans\n# This configuration will not be applied to vlan aware bundles\nbgp:\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\nstructured_config: &lt; dictionary &gt;\n- name: &lt; tenant_b &gt;\nmac_vrf_vni_base: &lt; 10000-16770000 &gt;\nvrfs:\n- name: &lt; tenant_b_vrf_1 &gt;\nvrf_vni: &lt; 1-1024 &gt;\nvtep_diagnostic:\nloopback: &lt; 2-2100 &gt;\nloopback_ip_range: &lt; IPv4_address/Mask &gt;\nsvis:\n- id: &lt; 1-4096 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\n- id: &lt; 1-4096 &gt;\nvni_override: &lt; 1-16777215 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\nl2vlans:\n- id: &lt; 1-4096 &gt;\nvni_override: &lt; 1-16777215 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\n- id: &lt; 1-4096 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\n&lt; network_services_keys.key_2 &gt;:\n- name: &lt; tenant_c &gt;\nmac_vrf_vni_base: &lt; 10000-16770000 &gt;\nvrfs:\n- name: &lt; tenant_b_vrf_1 &gt;\nvrf_vni: &lt; 1-1024 &gt;\nvtep_diagnostic:\nloopback: &lt; 2-2100 &gt;\nloopback_ip_range: &lt; IPv4_address/Mask &gt;\nsvis:\n- id: &lt; 1-4096 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\n- id: &lt; 1-4096 &gt;\nvni_override: &lt; 1-16777215 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\nl2vlans:\n- id: &lt; 1-4096 &gt;\nvni_override: &lt; 1-16777215 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\n- id: &lt; 1-4096 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services-v4.0.html#examples","title":"Examples","text":"<pre><code># mlag_ibgp_peering_vrfs:\n#   base_vlan: 3000\nnetwork_services_keys:\n- name: dc1_tenants\ndc1_tenants:\n- name: Tenant_A\nmac_vrf_vni_base: 10000\nvrfs:\n- name: Tenant_A_OP_Zone\nvrf_vni: 10\nvtep_diagnostic:\nloopback: 100\nloopback_ip_range: 10.255.1.0/24\nsvis:\n- id: 110\nname: Tenant_A_OP_Zone_1\ntags: [ opzone ]\nenabled: true\nip_address_virtual: 10.1.10.0/24\nmtu: 1400\n- id: 111\nvni_override: 50111\nname: Tenant_A_OP_Zone_2\ntags: [ opzone ]\nenabled: true\nip_address_virtual: 10.1.11.0/24\n- id: 112\nname: Tenant_A_OP_Zone_3\ntags: [ DC1_LEAF2 ]\nenabled: true\nip_virtual_router_addresses:\n- 10.1.12.1\n- 10.2.12.1/24\nnodes:\n- name: DC1-LEAF2A\nip_address: 10.1.12.2/24\n- name: DC1-LEAF2B\nip_address: 10.1.12.3/24\n- id: 113\nname: Tenant_A_OP_Zone_WAN\ntags: [ DC1_BL1 ]\nenabled: true\nnodes:\n- name: DC1-BL1A\nip_address: 10.1.13.1/24\n- name: DC1-BL1B\nip_address: 10.1.13.2/24\n- name: Tenant_A_WEB_Zone\nvrf_vni: 11\nsvis:\n- id: 120\nname: Tenant_A_WEB_Zone_1\ntags: [ web, erp1 ]\nenabled: true\nip_address_virtual: 10.1.20.0/24\n- id: 121\nname: Tenant_A_WEBZone_2\ntags: [ web ]\nenabled: true\nip_address_virtual: 10.1.21.0/24\n- name: Tenant_A_APP_Zone\nvrf_vni: 12\nsvis:\n- id: 130\nname: Tenant_A_APP_Zone_1\ntags: [ app, erp1 ]\nenabled: true\nip_address_virtual: 10.1.30.0/24\n- id: 131\nname: Tenant_A_APP_Zone_2\ntags: [ app ]\nenabled: true\nip_address_virtual: 10.1.31.0/24\n- name: Tenant_A_DB_Zone\nvrf_vni: 13\nsvis:\n- id: 140\nname: Tenant_A_DB_BZone_1\ntags: [ db, erp1 ]\nenabled: true\nip_address_virtual: 10.1.40.0/24\n- id: 141\nname: Tenant_A_DB_Zone_2\ntags: [ db ]\nenabled: true\nip_address_virtual: 10.1.41.0/24\n- name: Tenant_A_WAN_Zone\nvrf_vni: 14\nsvis:\n- id: 150\nname: Tenant_A_WAN_Zone_1\ntags: [ wan ]\nenabled: true\nip_address_virtual: 10.1.40.0/24\nl2vlans:\n- id: 160\nvni_override: 55160\nname: Tenant_A_VMOTION\ntags: [ vmotion ]\n- id: 161\nname: Tenant_A_NFS\ntags: [ nfs ]\n- name: Tenant_B\nmac_vrf_vni_base: 20000\nvrfs:\n- name: Tenant_B_OP_Zone\nvrf_vni: 20\nsvis:\n- id: 210\nname: Tenant_B_OP_Zone_1\ntags: [ opzone ]\nenabled: true\nip_address_virtual: 10.2.10.0/24\n- id: 211\nname: Tenant_B_OP_Zone_2\ntags: [ opzone ]\nenabled: true\nip_address_virtual: 10.2.11.0/24\n- name: Tenant_B_WAN_Zone\nvrf_vni: 21\nsvis:\n- id: 250\nname: Tenant_B_WAN_Zone_1\ntags: [ wan ]\nenabled: true\nip_address_virtual: 10.2.50.0/24\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services.html","title":"Network Services Variables - VRFs/VLANs","text":"<ul> <li>The network services variables provide an abstracted model to create L2 and L3 network services across the fabric.</li> <li>The network services are grouped by tenants. The definition of a tenant may vary between organizations.<ul> <li>e.g. Tenants can be organizations or departments.</li> </ul> </li> <li>The tenant shares a common vni range for mac vrf assignment.</li> <li>The filtering model allows for granular deployment of network service to the fabric leveraging the tenant name and tags applied to the service definition.<ul> <li>This allows for the re-use of SVI/VLAN IDs across the fabric.</li> <li>An error will be returned at runtime in case of duplicate SVI/VLAN IDs, VRF names or VNIs targeted towards the same device.</li> </ul> </li> </ul>"},{"location":"roles/eos_designs/doc/network-services.html#variables-and-options","title":"Variables and Options","text":""},{"location":"roles/eos_designs/doc/network-services.html#global-network-services-parameters","title":"Global Network Services Parameters","text":"<pre><code># Define network services keys, to define grouping of network services.\n# This provides the ability to define various keys of your choice to better organize/group your data.\n# This should be defined in top level group_var for the fabric.\nnetwork_services_keys:\n- name: &lt; key_1 &gt;\n- name: &lt; key_2 &gt;\n</code></pre> <pre><code># Example\n# The below key/pair values are the role defaults.\nnetwork_services_keys:\n- name: tenants\n</code></pre> <pre><code># On mlag leafs, an SVI interface is defined per vrf, to establish iBGP peering. | Required (when mlag leafs in topology)\n# The SVI id will be derived from the base vlan defined: mlag_ibgp_peering_vrfs.base_vlan + (vrf_id or vrf_vni) - 1\n# Depending on the values of vrf_id / vrf_vni it may be required to adjust the base_vlan to avoid overlaps or invalid vlan ids.\n# The SVI ip address derived from mlag_l3_peer_ipv4_pool is re-used across all iBGP peerings.\nmlag_ibgp_peering_vrfs:\nbase_vlan: &lt; 1-4000 | default -&gt; 3000 &gt;\n# Specify RD type | Optional\n# Route Distinguisher (RD) for L2 / L3 services is set to &lt;overlay_loopback&gt;:&lt;vni&gt; per default.\n# By configuring overlay_rd_type the Administrator subfield (first part of RD) can be set to other values.\n#\n# Note:\n# RD is a 48-bit value which is split into &lt;16-bit&gt;:&lt;32-bit&gt; or &lt;32-bit&gt;:&lt;16-bit&gt;.\n# For loopback or 32-bit ASN/number the VNI can only be a 16-bit number.\n# For 16-bit ASN/number the VNI can be a 32-bit number.\noverlay_rd_type:\nadmin_subfield: &lt; \"vtep_loopback\" | \"bgp_as\" | \"switch_id\" | &lt; IPv4_address &gt; | &lt;0-65535&gt; | &lt;0-4294967295&gt; | default -&gt; &lt;overlay_loopback_ip&gt; &gt;\n# Offset can only be used if admin_subfield is an interger between &lt;0-4294967295&gt; or \"switch_id\".\n# Total value of admin_subfield + admin_subfield_offset must be &lt;= 4294967295.\nadmin_subfield_offset: &lt; int &gt; | default -&gt; 0 &gt;\n# Specify RT type | Optional\n# Route Target (RT) for L2 / L3 services is set to &lt;vni&gt;:&lt;vni&gt; per default\n# By configuring overlay_rt_type the Administrator subfield (first part of RT) can be set to other values.\n#\n# Note:\n# RT is a 48-bit value which is split into &lt;16-bit&gt;:&lt;32-bit&gt; or &lt;32-bit&gt;:&lt;16-bit&gt;.\n# For 32-bit ASN/number the VNI can only be a 16-bit number.\n# For 16-bit ASN/number the VNI can be a 32-bit number.\noverlay_rt_type:\nadmin_subfield: &lt; \"bgp_as\" | &lt;0-65535&gt; | &lt;0-4294967295&gt; | default -&gt; &lt;mac_vrf_id&gt; &gt;\n# Internal vlan allocation order and range | Required\ninternal_vlan_order:\nallocation: &lt; ascending or descending | default -&gt; ascending &gt;\nrange:\nbeginning: &lt; vlan_id | default -&gt; 1006 &gt;\nending: &lt; vlan_id | default -&gt; 1199 &gt;\n# MAC address-table aging time | Optional\n# Use to change the EOS default of 300\nmac_address_table:\naging_time: &lt; time_in_seconds &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services.html#tenant-network-service-definitions","title":"Tenant Network Service Definitions","text":"<pre><code># Dictionary of network services: L3 VRFs and L2 VLANS.\n# The network service key from network_services_keys\n&lt; network_services_keys.key_1 &gt;:\n# Specify a tenant name. | Required\n# Tenant provide a construct to group L3 VRFs and L2 VLANs.\n# Networks services can be filtered by tenant name.\n&lt; tenant_a &gt;:\n# Base number for MAC VRF VXLAN Network Identifier | Required with VXLAN\n# VXLAN VNI is derived from the base number with simple addition.\n# e.g. mac_vrf_vni_base = 10000, svi 100 = VNI 10100, svi 300 = VNI 10300.\nmac_vrf_vni_base: &lt; 10000-16770000 &gt;\n# Base number for MAC VRF RD/RT ID | Required unless mac_vrf_vni_base is set.\n# ID is derived from the base number with simple addition.\n# e.g. mac_vrf_id_base = 10000, svi 100 = RD/RT 10100, svi 300 = RD/RT 10300.\nmac_vrf_id_base: &lt; 10000-16770000 | default -&gt; &lt;mac_vrf_vni_base&gt; &gt;\n# Base number for vlan_aware_bundle | Optional.\n# The \"Assigned Number\" part of RD/RT is derived from vrf_vni + vlan_aware_bundle_number_base.\nvlan_aware_bundle_number_base: &lt; number | default -&gt; 0 &gt;\n# MLAG IBGP peering per VRF | Optional\n# By default an IBGP peering is configured per VRF between MLAG peers on separate VLANs.\n# Setting enable_mlag_ibgp_peering_vrfs: false under tenant will change this default to prevent configuration of these peerings and VLANs for all VRFs in the tenant.\n# This setting can be overridden per VRF.\nenable_mlag_ibgp_peering_vrfs: &lt; true | false &gt;\n# Dictionary of BGP peer groups definitions | Optional.\n# This will configure BGP peer groups to be used inside the tenant for peering with external devices.\n# Since BGP peer groups are configured at higher BGP level, shared between VRFs,\n# peer_group names should not overlap between VRFs.\nbgp_peer_groups:\n- name: &lt; BGP peer group name &gt;\nremote_as: &lt; bgp_as &gt;\ndescription: \"&lt; description as string &gt;\"\nsend_community: &lt; standard | extended | large | all &gt;\nnext_hop_self: &lt; true | false &gt;\nmaximum_routes: &lt; 0-4294967294 &gt;\ndefault_originate:\nenabled: &lt; true | false &gt;\nalways: &lt; true | false &gt;\n# Nodes is required to restrict configuration of BGP peer groups to certain nodes in the network.\n# If not set the peer-group is created on the device which has a bgp_peer mapped to corresponding peer_group.\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt; ]\nupdate_source: &lt; interface &gt;\nbfd: &lt; true | false &gt;\nebgp_multihop: &lt; 1-255 &gt;\nroute_map_out: &lt; route-map name &gt;\nroute_map_in: &lt; route-map name &gt;\nlocal_as: &lt; local BGP ASN &gt;\n# Enable EVPN L2 Multicast for all SVIs and l2vlans within Tenant | Optional\n# - Multicast group binding is created only for Multicast traffic. BULL traffic will use ingress-replication\n# - Configures binding between VXLAN, VLAN, and multicast group IPv4 address using the following formula:\n#   &lt; evpn_l2_multicast.underlay_l2_multicast_group_ipv4_pool &gt; + &lt; vlan_id - 1 &gt; + &lt; evpn_l2_multicast.underlay_l2_multicast_group_ipv4_pool_offset &gt;.\n# - The recommendation is to assign a /20 block within the 232.0.0.0/8 Source-Specific Multicast range.\n# - Enables `redistribute igmp` on the router bgp MAC VRF.\n# - When evpn_l2_multicast.enabled is true for a VLAN or a tenant, \"igmp snooping\" and \"igmp snooping querier\" will always be enabled - overriding those individual settings.\nevpn_l2_multicast:\nenabled: &lt; true | false &gt;\nunderlay_l2_multicast_group_ipv4_pool: &lt; IPv4_address/Mask &gt;\nunderlay_l2_multicast_group_ipv4_pool_offset: &lt; int &gt;\n# Enable L3 Multicast for all SVIs and l3vlans within Tenant | Optional\n# - In the evpn-l3ls design type, this enables L3 EVPN Multicast (aka OISM)\n# - Multicast group binding for VRF is created only for Multicast traffic. BULL traffic will use ingress-replication\n# - Configures binding between VXLAN, VLAN, and multicast group IPv4 address using the following formula:\n#   &lt; l3_multicast.evpn_underlay_l3_multicast_group_ipv4_pool &gt; + &lt; vrf_vni - 1 &gt; + &lt; l3_multicast.evpn_underlay_l3_multicast_group_ipv4_pool_offset &gt;.\n# - The recommendation is to assign a /20 block within the 232.0.0.0/8 Source-Specific Multicast range.\n# - If enabled on an SVI using the anycast default gateway feature, a diagnostic loopback (see below) MUST be configured to source IGMP traffic.\n# - Enables `evpn multicast` on the router bgp VRF.\n# - When enabled on an SVI:\n#     - If switch is part of an MLAG pair, enables \"pim ipv4 sparse-mode\" on the SVI.\n#     - If switch is standalone or A-A MH, enables \"ip igmp\" on the SVI.\n#     - If \"ip address virtual\" is configured, enables \"pim ipv4 local-interface\" and uses the diagnostic Loopback defined in the VRF\nevpn_l3_multicast:\nenabled: &lt; true | false &gt;\nevpn_underlay_l3_multicast_group_ipv4_pool: &lt; IPv4_address/Mask &gt; # Required\nevpn_underlay_l3_multicast_group_ipv4_pool_offset: &lt; int &gt; # Optional\nevpn_peg:\n# For each group of nodes, allow configuration of EVPN PEG options | Optional\n# The first group of settings where the device's hostname is present in the 'nodes' list will be used.\n- nodes: [ &lt; node_1 &gt;, &lt; node_2 &gt;, &lt; node_N &gt; ]                # Optional - will apply to all nodes with RP addresses configured if not set.\ntransit: &lt; true | false &gt;                    # Enable EVPN PEG transit mode\npim_rp_addresses:\n# For each group of nodes, allow configuration of RP Addresses &amp; associated groups\n- rps: [ &lt; rp_address_1 &gt;, &lt; rp_address_2 &gt; ]                  # A minimum of one RP must be specified\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt;, &lt; node_N &gt; ]                # Optional - will apply to all nodes if not set.\ngroups: [ &lt; group_prefix_1/mask &gt;, &lt; group_prefix_1/mask &gt; ] # Optional\n# Enable IGMP snooping querier for each SVI/l2vlan within tenant, by default using IP address of Loopback 0.\n# When enabled, IGMP snooping querier will only be configured on L3 devices, i.e., uplink_type: p2p.\nigmp_snooping_querier:\n# Will be enabled automatically if \"evpn_l2_multicast\" is enabled.\nenabled: &lt; true | false &gt;\nsource_address: &lt; ipv4_address -&gt; default ip address of Loopback0 &gt;\nversion: &lt; 1, 2, 3 -&gt; default 2 (EOS) &gt;\n# Explicitly extend all VLANs/VLAN-Aware Bundles inside the tenant to remote EVPN domains.\nevpn_l2_multi_domain: &lt; true | false | default --&gt; true &gt;\n# Define L3 network services organized by vrf.\nvrfs:\n# VRF name | Required\n# vrf \"default\" is supported under network-services. Currently the supported options for \"default\" vrf are route-target,\n# route-distinguisher settings, structured_config, raw_eos_cli in bgp and SVIs are the only supported interface type.\n# Static-routes and vlan-aware-bundles are supported as well inside default vrf. OSPF is not supported currently.\n&lt; tenant_a_vrf_1 &gt;:\n# Optional\ndescription: &lt; vrf_description &gt;\n# VRF VNI | Optional (required if \"vrf_id\" is not set).\n# The VRF VNI range is not limited, but if vrf_id is not set, \"vrf_vni\" is used for calculating MLAG IBGP peering vlan id.\n# See \"mlag_ibgp_peering_vrfs.base_vlan\" for details.\n# If vrf_vni &gt; 10000 make sure to adjust \"mac_vrf_vni_base\" accordingly to avoid overlap.\nvrf_vni: &lt; 1-1024 | default -&gt; vrf_id &gt;\n# VRF ID | Optional (required if \"vrf_vni\" is not set)\n# \"vrf_id\" is used as default value for \"vrf_vni\" and \"ospf.process_id\" unless those are set.\n# \"vrf_id\" is preferred over \"vrf_vni\" for VRF RD/RT ID before vrf_vni\n# \"vrf_id\" is preferred over \"vrf_vni\" for MLAG IBGP peering vlan, see \"mlag_ibgp_peering_vrfs.base_vlan\" for details\nvrf_id: &lt; 1-1024 &gt;\n# MLAG IBGP Peering IPv4 Pool | Optional\n# The subnet used for iBGP peering in the VRF.\n# Each MLAG pair will be assigned a subnet based on the ID of the primary MLAG switch\n# If not set, \"mlag_peer_l3_ipv4_pool\" or \"mlag_peer_ipv4_pool\" will be used\nmlag_ibgp_peering_ipv4_pool: &lt; IPv4_address/Mask &gt;\n# IP Helper for DHCP relay\nip_helpers:\n&lt; IPv4 dhcp server IP &gt;:\nsource_interface: &lt; interface-name &gt;\nsource_vrf: &lt; VRF to originate DHCP relay packets to DHCP server. If not set, uses current VRF &gt;\n# MLAG IBGP peering per VRF | Optional\n# By default an IBGP peering is configured per VRF between MLAG peers on separate VLANs.\n# Setting enable_mlag_ibgp_peering_vrfs: false under vrf will change this default and/or override the tenant-wide setting\nenable_mlag_ibgp_peering_vrfs: &lt; true | false &gt;\n# Manually define the VLAN used on the MLAG pair for the iBGP session. | Optional\n# By default this parameter is calculated using the following formula: &lt;mlag_ibgp_peering_vrfs.base_vlan&gt; + &lt;vrf_id&gt; - 1\nmlag_ibgp_peering_vlan: &lt;1-4096&gt;\n# Enable VTEP Network diagnostics | Optional.\n# This will create a loopback with virtual source-nat enable to perform diagnostics from the switch.\nvtep_diagnostic:\n# Loopback interface number | Required (when vtep_diagnostic defined)\nloopback: &lt; 2-2100 &gt;\n# Loopback ip range, a unique ip is derived from this ranged and assigned\n# to each l3 leaf based on it's unique id. | Optional (loopback is not created unless loopback_ip_range or loopback_ip_pools are set)\nloopback_ip_range: &lt; IPv4_address/Mask &gt;\n# For inventories with multiple PODs a loopback range can be set per POD to avoid overlaps.\n# This only takes effect when loopback_ip_range is not defined. | Optional (loopback is not created unless loopback_ip_range or loopback_ip_pools are set)\nloopback_ip_pools:\n- pod: &lt; pod_name &gt;\nipv4_pool: &lt; IPv4_address/Mask &gt;\n# Dictionary for router OSPF configuration | Optional.\n# This will create an ospf routing instance in the tenant VRF. If there is no nodes definition, the ospf instance will be\n# created on all leafs where the vrf is deployed. This will also cause automatic ospf redistribution into bgp unless\n# explicitly turned off with \"redistribute_ospf: false\".\nospf:\nenabled: &lt; true | false &gt;\nprocess_id: &lt; int, Default -&gt; vrf_id &gt;\nrouter_id: &lt; router-id, Default -&gt; switch router_id &gt;\nmax_lsa: &lt; int &gt;\nbfd: &lt; true | false, Default -&gt; false &gt;\nredistribute_bgp:\nenabled: &lt; true | false, Default -&gt; true &gt;\nroute_map: &lt; route-map name &gt;\nredistribute_connected:\nenabled: &lt; true | false, Default -&gt; false &gt;\nroute_map: &lt; route-map name &gt;\nnodes:\n- &lt; hostname1 &gt;\n- &lt; hostname2 &gt;\n# Explicitly enable or disable evpn_l3_multicast to override setting of tenants.&lt;tenant&gt;.evpn_l3_multicast.enabled.\n# Allow override of tenants.&lt;tenant&gt;.evpn_l3_multicast.node_settings\nevpn_l3_multicast:\nenabled: &lt; true | false &gt;\nevpn_peg:\n# For each group of nodes, allow configuration of EVPN PEG features | Optional\n- nodes: [ &lt; node_1 &gt;, &lt; node_2 &gt;, &lt; node_N &gt; ]                # Optional - will apply to all nodes with RP addresses configured if not set.\ntransit: &lt; true | false | default false &gt;                    # Enable EVPN PEG transit mode\npim_rp_addresses:                                                  # For each group of nodes, allow configuration of RP Addresses &amp; associated groups\n- rps: [ &lt; rp_address_1 &gt;, &lt; rp_address_2 &gt; ]                    # A minimum of one RP must be specified\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt;, &lt; node_N &gt; ]                  # Optional - will apply to all nodes if not set.\ngroups: [ &lt; group_prefix_1/mask &gt;, &lt; group_prefix_1/mask &gt; ]   # Optional\n# Non-selectively enabling or disabling redistribute ospf inside the VRF | Optional.\nredistribute_ospf: &lt; true | false, Default -&gt; true &gt;\n# Explicitly extend all VLANs/VLAN-Aware Bundles inside the VRF to remote EVPN domains.\n# Overrides tenants.&lt;tenant&gt;.evpn_l2_multi_domain.\nevpn_l2_multi_domain: &lt; true | false &gt;\n# Dictionary of SVIs | Required.\n# This will create both the L3 SVI and L2 VLAN based on filters applied to l3leaf and l2leaf.\n# Any SVI setting, defined under svis[svi] can also be defined under the svis[svi].nodes[node]\nsvis:\n# SVI interface id and VLAN id. | Required\n&lt; 1-4096 &gt;:\n# By default the vni will be derived from \"mac_vrf_vni_base\"\n# The vni_override allows us to override this value and statically define it. | Optional\nvni_override: &lt; 1-16777215 &gt;\n# By default the MAC VRF RD/RT ID will be derived from \"mac_vrf_id_base\"\n# The rt_override allows us to override this value and statically define it. | Optional\nrt_override: &lt; 1-16777215 | default -&gt; vni_override &gt;\n# SVI profile to apply\n# If variables are configured in profile AND SVI, SVI information will overwrite profile.\nprofile: &lt; svi-profile-name &gt;\n# vlan name | Required\nname: &lt; name &gt;\n# SVI description. | Optional\ndescription: &lt; description | Default -&gt; vlan name &gt;\n# Tags leveraged for networks services filtering. | Optional\n# Tags are matched against \"filter.tags\" defined under Fabric Topology variables\n# Tags are also matched against the \"node_group\" name under Fabric Topology variables\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; | default -&gt; all ]\n# Enable or disable interface\nenabled: &lt; true | false &gt;\n# Trunk Groups | optional\n# Trunk groups are used for limiting vlans to trunk ports assigned to the same trunk group\n# Requires \"enable_trunk_groups: true\"\ntrunk_groups: [ &lt; trunk_group_1 &gt;, &lt; trunk_group_2 &gt; ]\n# Explicitly enable or disable evpn_l2_multicast to override setting of tenants.&lt;tenant&gt;.evpn_l2_multicast.enabled.\n# When evpn_l2_multicast.enabled is set to true for a vlan or a tenant, \"igmp snooping\" and \"igmp snooping querier\" will always be enabled - overriding those individual settings.\nevpn_l2_multicast:\nenabled: &lt; true | false &gt;\n# Explicitly enable or disable evpn_l3_multicast to override setting of tenants &lt;tenant&gt;.evpn_l3_multicast.enabled and\n# tenants.&lt;tenant&gt;.vrfs.&lt;vrf&gt;.evpn_l3_multicast.enabled\nevpn_l3_multicast:\nenabled: &lt; true | false &gt;\n# Enable IGMP Snooping\nigmp_snooping_enabled: &lt; true | false | default true (EOS) &gt;\n# Enable igmp snooping querier, by default using IP address of Loopback 0.\n# When enabled, igmp snooping querier will only be configured on l3 devices, i.e., uplink_type: p2p.\nigmp_snooping_querier:\n# Will be enabled automatically if \"evpn_l2_multicast\" is enabled.\nenabled: &lt; true | false | default false &gt;\nsource_address: &lt; ipv4_address -&gt; default ip address of Loopback0 &gt;\nversion: &lt; 1, 2, 3 -&gt; default 2 (EOS) &gt;\n# ip address virtual to configure VXLAN Anycast IP address\n# Conserves IP addresses in VXLAN deployments as it doesn't require unique IP addresses on each node.\n# Optional\nip_address_virtual: &lt; IPv4_address/Mask &gt;\nip_address_virtual_secondaries:\n- &lt; IPv4_address/Mask &gt;\n# ipv6 address virtuals to configure VXLAN Anycast IP address | Optional\n# The below \"ipv6_address_virtual\" key will be deprecated in AVD v4.0 in favor of the new \"ipv6_address_virtuals\"\n# If both \"ipv6_address_virtual\" and \"ipv6_address_virtuals\" are set, all addresses will be configured\nipv6_address_virtual: &lt; IPv6_address/Mask &gt;\n# The new \"ipv6_address_virtuals\" key support multiple virtual ip addresses.\nipv6_address_virtuals:\n- &lt; IPv6_address/Mask &gt;\n- &lt; IPv6_address/Mask &gt;\n# ip virtual-router address\n# note, also requires an IP address to be configured on the SVI where it is applied.\n# Optional\n# When ip_address_virtual and ip_virtual_router_addresses are defined in an SVI the node that was defined with the ip_address\n# will be configured with ip_virtual_router_addresses. For ip_virtual_router_addresses to be configured, ip_address must be defined\nip_virtual_router_addresses:\n- &lt; IPv4_address/Mask | IPv4_address &gt;\n# ipv6 virtual-router address\n# note, also requires an IPv6 address to be configured on the SVI where it is applied.\n# Optional\n# When ipv6_address_virtual and ipv6_virtual_router_addresses are defined in an SVI the node that was defined with the ipv6_address\n# will be configured with ipv6_virtual_router_addresses. For ipv6_virtual_router_addresses to be configured, ipv6_address must be defined\nipv6_virtual_router_addresses:\n- &lt; IPv6_address &gt;\n# IP Helper for DHCP relay\nip_helpers:\n&lt; IPv4 dhcp server IP &gt;:\nsource_interface: &lt; interface-name &gt;\nsource_vrf: &lt; VRF to originate DHCP relay packets to DHCP server. If not set, uses current VRF &gt;\n# VXLAN | Optional - default true\n# Extend this SVI over VXLAN\nvxlan: &lt; true | false | default -&gt; true &gt;\n# Explicitly extend this VLAN to remote EVPN domains.\n# Overrides tenants.&lt;tenant&gt;.evpn_l2_multi_domain.\n# Overrides tenants.&lt;tenant&gt;.vrf.&lt;vrf&gt;.evpn_l2_multi_domain.\nevpn_l2_multi_domain: &lt; true | false &gt;\n# Define node specific configuration, such as unique IP addresses.\nnodes:\n&lt; l3_leaf_inventory_hostname_1 &gt;:\n# device unique IP address for node.\nip_address: &lt; IPv4_address/Mask &gt;\n# device unique IPv6 address for node.\nipv6_address: &lt; IPv6_address/Mask &gt;\n# EOS CLI rendered directly on the VLAN interface in the final EOS configuration\n# Overrides the setting on SVI level.\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under vlan_interfaces.&lt;interface&gt; for eos_cli_config_gen\n# Overrides the setting on SVI level.\nstructured_config: &lt; dictionary &gt;\n&lt; l3_leaf_inventory_hostname_2 &gt;:\nip_address: &lt; IPv4_address/Mask &gt;\nipv6_address: &lt; IPv6_address/Mask &gt;\n# Defined interface MTU\nmtu: &lt; mtu &gt;\n# OSPF interface configuration\nospf:\nenabled: &lt; true | false &gt;\npoint_to_point: &lt; true | false, Default -&gt; false &gt;\narea: &lt; ospf area id, Default -&gt; 0 &gt;\ncost: &lt; ospf link cost &gt;\nauthentication: &lt; simple | message-digest &gt;\nsimple_auth_key: &lt; password used with simple authentication &gt;\nmessage_digest_keys:\n- id: &lt; int &gt;\nhash_algorithm: &lt; md5 | sha1 | sha256 | sha384 | sha512, Default -&gt; sha512 &gt;\nkey: &lt; key password &gt;\n# Structured configuration and eos cli commands rendered on router_bgp.vlans\n# This configuration will not be applied to vlan aware bundles\nbgp:\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\nstructured_config: &lt; dictionary &gt;\n# EOS CLI rendered directly on the VLAN interface in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under vlan_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n&lt; 1-4096 &gt;:\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\n# List of L3 interfaces | Optional.\n# This will create IP routed interface inside VRF. Length of interfaces, nodes and ip_addresses and descriptions (if used) must match.\nl3_interfaces:\n- interfaces: [ &lt;interface_name1&gt;, &lt;interface_name2&gt;, &lt;interface_name3&gt; ]\nip_addresses: [ &lt;IPv4_address/Mask&gt;, &lt;IPv4_address/Mask&gt;, &lt;IPv4_address/Mask&gt; ]\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt;, &lt; node_1 &gt; ]\ndescription: &lt; description &gt;\n# `descriptions` has precedence over `description`\ndescriptions: [ &lt;description1&gt;, &lt;description2&gt;, description3&gt; ]\nenabled: &lt; true | false &gt;\nmtu: &lt; mtu &gt;\n# EOS CLI rendered directly on the Ethernet interface in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under ethernet_interfaces.&lt;interface&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\nospf:\nenabled: &lt; true | false &gt;\npoint_to_point: &lt; true | false, Default -&gt; true &gt;\narea: &lt; ospf area id, Default -&gt; 0 &gt;\ncost: &lt; ospf link cost &gt;\nauthentication: &lt; simple | message-digest &gt;\nsimple_auth_key: &lt; password used with simple authentication &gt;\nmessage_digest_keys:\n- id: &lt; int &gt;\nhash_algorithm: &lt; md5 | sha1 | sha256 | sha384 | sha512, Default -&gt; sha512 &gt;\nkey: &lt; key password &gt;\n# Enable PIM sparse-mode on the interface; requires \"evpn_l3_multicast\" to be enabled on the VRF/Tenant\n# Enabling this implicitly makes the device a PIM External Gateway (PEG) in EVPN designs only.\n# At least one RP address must be configured for EVPN PEG to be configured.\npim:\nenabled: true\n# For sub-interfaces the dot1q vlan is derived from the interface name by default, but can also be specified.\n- interfaces: [ &lt;interface_name1.sub-if-id&gt;, &lt;interface_name2.sub-if-id&gt; ]\nencapsulation_dot1q_vlan: [ &lt;vlan id&gt;, &lt;vlan id&gt; ]\nip_addresses: [ &lt;IPv4_address/Mask&gt;, &lt;IPv4_address/Mask&gt; ]\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt; ]\ndescription: &lt; description &gt;\nenabled: &lt; true | false &gt;\nmtu: &lt; mtu - should only be used for platforms supporting mtu per subinterface &gt;\n# Dictionary of static routes for v4 and/or v6 | Optional.\n# This will create static routes inside the tenant VRF.\n# If nodes are not specified, all l3leafs that carry the VRF will also be applied the static routes.\n# If a node has a static route in the VRF, redistribute static will be automatically enabled in that VRF.\n# This automatic behavior can be overridden non-selectively with the redistribute_static knob for the VRF.\nstatic_routes:\n- destination_address_prefix: &lt; IPv4_address/Mask &gt;\ngateway: &lt; IPv4_address &gt;\ntrack_bfd: &lt; boolean &gt;\ndistance: &lt; 1-255 &gt;\ntag: &lt; 0-4294967295 &gt;\nname: &lt; description &gt;\nmetric: &lt; 0-4294967295 &gt;\ninterface: &lt; interface &gt;\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt;]\nipv6_static_routes:\n- destination_address_prefix: &lt; IPv6_address/Mask &gt;\ngateway: &lt; IPv6_address &gt;\ntrack_bfd: &lt; boolean &gt;\ndistance: &lt; 1-255 &gt;\ntag: &lt; 0-4294967295 &gt;\nname: &lt; description &gt;\nmetric: &lt; 0-4294967295 &gt;\ninterface: &lt; interface &gt;\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt;]\n# Non-selectively enabling or disabling redistribute static inside the VRF | Optional.\nredistribute_static: &lt; true | false &gt;\n# Dictionary of BGP peer definitions | Optional.\n# This will configure BGP neighbors inside the tenant VRF for peering with external devices.\n# The configured peer will automatically be activated for ipv4 or ipv6 address family based on the ip address.\n# Note, only ipv4 and ipv6 address families are currently supported in eos_designs.\n# For other address families, use custom_structured configuration with eos_cli_config_gen.\nbgp_peers:\n&lt; IPv4_address or IPv6_address &gt;:\npeer_group: &lt; peer_group_name &gt;\nremote_as: &lt; remote ASN &gt;\ndescription: &lt; description &gt;\npassword: &lt; encrypted password &gt;\nsend_community: &lt; standard | extended | large | all &gt;\nnext_hop_self: &lt; true | false &gt;\ntimers: &lt; keepalive_hold_timer_values &gt;\nmaximum_routes: &lt; 0-4294967294 &gt;\ndefault_originate:\nalways: &lt; true | false &gt;\nupdate_source: &lt; interface &gt;\nebgp_multihop: &lt; 1-255 &gt;\n# Nodes is required to restrict configuration of BGP neighbors to certain nodes in the network.\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt; ]\n# Next hop settings can be either ipv4 or ipv6 for one neighbor, this will be applied by a uniquely generated route-map per neighbor.\n# Next hop takes precedence over route_map_out.\nset_ipv4_next_hop: &lt; IPv4_address &gt;\nset_ipv6_next_hop: &lt; IPv6_address &gt;\nroute_map_out: &lt; route-map name &gt;\nroute_map_in: &lt; route-map name &gt;\nprefix_list_in: &lt; prefix_list_name &gt;\nprefix_list_out: &lt; prefix_list_name &gt;\nlocal_as: &lt; local BGP ASN &gt;\nweight: &lt; 0-65535&gt;\nbfd: &lt; true | false &gt;\n# Dictionary of BGP peer groups definitions | Optional.\n# This will configure BGP peer groups to be used inside the tenant VRF for peering with external devices.\n# Since BGP peer groups are configured at higher BGP level, shared between VRFs,\n# peer_group names should not overlap between VRFs.\nbgp_peer_groups:\n- name: &lt; BGP peer group name &gt;\nremote_as: &lt; bgp_as &gt;\ndescription: \"&lt; description as string &gt;\"\nsend_community: &lt; standard | extended | large | all &gt;\nnext_hop_self: &lt; true | false &gt;\nmaximum_routes: &lt; 0-4294967294 &gt;\ndefault_originate:\nenabled: &lt; true | false &gt;\nalways: &lt; true | false &gt;\n# Nodes is required to restrict configuration of BGP peer groups to certain nodes in the network.\n# If not set the peer-group is created on the device which has a bgp_peer mapped to corresponding peer_group.\nnodes: [ &lt; node_1 &gt;, &lt; node_2 &gt; ]\nupdate_source: &lt; interface &gt;\nbfd: &lt; true | false &gt;\nebgp_multihop: &lt; 1-255 &gt;\nroute_map_out: &lt; route-map name &gt;\nroute_map_in: &lt; route-map name &gt;\nlocal_as: &lt; local BGP ASN &gt;\nbgp:\n# EOS CLI rendered directly on the Router BGP, VRF definition in the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config added under router_bgp.vrfs.&lt;vrf&gt; for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n# Optional configuration of extra route-targets for this VRF. Useful for route-leaking or gateway between address families.\nadditional_route_targets:\n- type: &lt; import | export &gt;\naddress_family: &lt; address_family &gt;\nroute_target: \"&lt; route_target &gt;\"\n# Nodes is optional. Default is all nodes where the VRF is defined.\nnodes: [ &lt; node_1 &gt;, &lt; node_2&gt; ]\n# EOS CLI rendered directly on the root level of the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Custom structured config for eos_cli_config_gen\nstructured_config: &lt; dictionary &gt;\n&lt; tenant_a_vrf_2 &gt;:\nvrf_vni: &lt; 1-1024 &gt;\nvrf_id: &lt; 1-1024 &gt;\nsvis:\n&lt; 1-4096 &gt;:\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\n&lt; 1-4096 &gt;:\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nipv6_address_virtual: &lt; IPv6_address/Mask &gt;\n&lt; 1-4096 &gt;:\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\nipv6_address_virtual: &lt; IPv6_address/Mask &gt;\n# Define L2 network services organized by vlan id.\nl2vlans:\n# VLAN id.\n&lt; 1-4096 &gt;:\n# By default the vni will be derived from \"mac_vrf_vni_base\"\n# The vni_override, allows to override this value and statically define it.\nvni_override: &lt; 1-16777215 &gt;\n# By default the MAC VRF RD/RT ID will be derived from \"mac_vrf_id_base\"\n# The rt_override allows us to override this value and statically define it. | Optional\nrt_override: &lt; 1-16777215 | default -&gt; vni_override &gt;\n# VLAN name | Required\n# For EVPN vlan-aware-bundles the VLAN name is also used as the bundle name for l2vlans.\n# If the same name is used on multiple VLANs they will be added to the same bundle.\nname: &lt; description &gt;\n# Tags leveraged for network services filtering. | Optional\n# Tags are matched against \"filter.tags\" defined under Fabric Topology variables\n# Tags are also matched against the \"node_group\" name under Fabric Topology variables\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; | default -&gt; all ]\n# Trunk Groups | optional\n# Trunk groups are used for limiting vlans to trunk ports assigned to the same trunk group\n# Requires \"enable_trunk_groups: true\"\ntrunk_groups: [ &lt; trunk_group_1 &gt;, &lt; trunk_group_2 &gt; ]\n# VXLAN | Optional - default true\n# Extend this L2VLAN over VXLAN\nvxlan: &lt; true | false | default -&gt; true &gt;\n# Explicitly enable or disable evpn_l2_multicast to override setting of tenants.&lt;tenant&gt;.evpn_l2_multicast.enabled.\n# When evpn_l2_multicast.enabled is set to true for a vlan or a tenant, \"igmp snooping\" and \"igmp snooping querier\" will always be enabled - overriding those individual settings.\nevpn_l2_multicast:\nenabled: &lt; true | false &gt;\n# Activate or deactivate IGMP snooping | Optional, default is true\nigmp_snooping_enabled: &lt; true | false | default true (EOS) &gt;\n# Enable igmp snooping querier, by default using IP address of Loopback 0.\n# When enabled, igmp snooping querier will only be configured on l3 devices, i.e., uplink_type: p2p.\nigmp_snooping_querier:\n# Will be enabled automatically if \"evpn_l2_multicast\" is enabled.\nenabled: &lt; true | false | default false &gt;\nsource_address: &lt; ipv4_address -&gt; default ip address of Loopback0 &gt;\nversion: &lt; 1, 2, 3 -&gt; default 2 (EOS) &gt;\n# Explicitly extend this VLAN to remote EVPN domains.\n# Overrides tenants.&lt;tenant&gt;.evpn_l2_multi_domain.\nevpn_l2_multi_domain: &lt; true | false &gt;\n# Structured configuration and eos cli commands rendered on router_bgp.vlans\n# This configuration will not be applied to vlan aware bundles\nbgp:\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\nstructured_config: &lt; dictionary &gt;\n&lt; tenant_b &gt;:\nmac_vrf_vni_base: &lt; 10000-16770000 &gt;\nvrfs:\n&lt; tenant_b_vrf_1 &gt;:\nvrf_vni: &lt; 1-1024 &gt;\nvtep_diagnostic:\nloopback: &lt; 2-2100 &gt;\nloopback_ip_range: &lt; IPv4_address/Mask &gt;\nsvis:\n&lt; 1-4096 &gt;:\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\n&lt; 1-4096 &gt;:\nvni_override: &lt; 1-16777215 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\nl2vlans:\n&lt; 1-4096 &gt;:\nvni_override: &lt; 1-16777215 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\n&lt; 1-4096 &gt;:\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\n&lt; network_services_keys.key_2 &gt;:\n&lt; tenant_c &gt;:\nmac_vrf_vni_base: &lt; 10000-16770000 &gt;\nvrfs:\n&lt; tenant_b_vrf_1 &gt;:\nvrf_vni: &lt; 1-1024 &gt;\nvtep_diagnostic:\nloopback: &lt; 2-2100 &gt;\nloopback_ip_range: &lt; IPv4_address/Mask &gt;\nsvis:\n&lt; 1-4096 &gt;:\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\n&lt; 1-4096 &gt;:\nvni_override: &lt; 1-16777215 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\nenabled: &lt; true | false &gt;\nip_address_virtual: &lt; IPv4_address/Mask &gt;\nipv6_address_virtual: &lt; IPv6_address/Mask &gt;\nl2vlans:\n&lt; 1-4096 &gt;:\nvni_override: &lt; 1-16777215 &gt;\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\n&lt; 1-4096 &gt;:\nname: &lt; description &gt;\ntags: [ &lt; tag_1 &gt;, &lt; tag_2 &gt; ]\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services.html#svi-profiles","title":"SVI Profiles","text":"<pre><code># Optional profiles to share common settings for SVIs\n# Keys are the same used under SVIs. Keys defined under SVIs take precedence.\n# Note: structured configuration is not merged recursively and will be taken directly from the most specific level in the following order:\n# 1. svi.nodes[inventory_hostname].structured_config\n# 2. svi_profile.nodes[inventory_hostname].structured_config\n# 3. svi_parent_profile.nodes[inventory_hostname].structured_config\n# 4. svi.structured_config\n# 5. svi_profile.structured_config\n# 6. svi_parent_profile.structured_config\nsvi_profiles:\n&lt; profile_name &gt;:\n# Parent Profile | Optional\n# svi_profiles can refer to another svi_profile to inherit settings in up to two levels (adapter-&gt;svi_profile-&gt;svi_parent_profile).\nparent_profile: &lt; svi_profile_name &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/network-services.html#examples","title":"Examples","text":"<pre><code># mlag_ibgp_peering_vrfs:\n#   base_vlan: 3000\nnetwork_services_keys:\n- name: dc1_tenants\ndc1_tenants:\nTenant_A:\nmac_vrf_vni_base: 10000\nvrfs:\nTenant_A_OP_Zone:\nvrf_vni: 10\nvtep_diagnostic:\nloopback: 100\nloopback_ip_range: 10.255.1.0/24\nsvis:\n110:\nname: Tenant_A_OP_Zone_1\ntags: [ opzone ]\nenabled: true\nip_address_virtual: 10.1.10.0/24\nmtu: 1400\n111:\nvni_override: 50111\nname: Tenant_A_OP_Zone_2\ntags: [ opzone ]\nenabled: true\nip_address_virtual: 10.1.11.0/24\n112:\nname: Tenant_A_OP_Zone_3\ntags: [ DC1_LEAF2 ]\nenabled: true\nip_virtual_router_addresses:\n- 10.1.12.1\n- 10.2.12.1/24\nnodes:\nDC1-LEAF2A:\nip_address: 10.1.12.2/24\nDC1-LEAF2B:\nip_address: 10.1.12.3/24\n113:\nname: Tenant_A_OP_Zone_WAN\ntags: [ DC1_BL1 ]\nenabled: true\nnodes:\nDC1-BL1A:\nip_address: 10.1.13.1/24\nDC1-BL1B:\nip_address: 10.1.13.2/24\nTenant_A_WEB_Zone:\nvrf_vni: 11\nsvis:\n120:\nname: Tenant_A_WEB_Zone_1\ntags: [ web, erp1 ]\nenabled: true\nip_address_virtual: 10.1.20.0/24\n121:\nname: Tenant_A_WEBZone_2\ntags: [ web ]\nenabled: true\nip_address_virtual: 10.1.21.0/24\nTenant_A_APP_Zone:\nvrf_vni: 12\nsvis:\n130:\nname: Tenant_A_APP_Zone_1\ntags: [ app, erp1 ]\nenabled: true\nip_address_virtual: 10.1.30.0/24\n131:\nname: Tenant_A_APP_Zone_2\ntags: [ app ]\nenabled: true\nip_address_virtual: 10.1.31.0/24\nTenant_A_DB_Zone:\nvrf_vni: 13\nsvis:\n140:\nname: Tenant_A_DB_BZone_1\ntags: [ db, erp1 ]\nenabled: true\nip_address_virtual: 10.1.40.0/24\n141:\nname: Tenant_A_DB_Zone_2\ntags: [ db ]\nenabled: true\nip_address_virtual: 10.1.41.0/24\nTenant_A_WAN_Zone:\nvrf_vni: 14\nsvis:\n150:\nname: Tenant_A_WAN_Zone_1\ntags: [ wan ]\nenabled: true\nip_address_virtual: 10.1.40.0/24\nl2vlans:\n160:\nvni_override: 55160\nname: Tenant_A_VMOTION\ntags: [ vmotion ]\n161:\nname: Tenant_A_NFS\ntags: [ nfs ]\nTenant_B:\nmac_vrf_vni_base: 20000\nvrfs:\nTenant_B_OP_Zone:\nvrf_vni: 20\nsvis:\n210:\nname: Tenant_B_OP_Zone_1\ntags: [ opzone ]\nenabled: true\nip_address_virtual: 10.2.10.0/24\n211:\nname: Tenant_B_OP_Zone_2\ntags: [ opzone ]\nenabled: true\nip_address_virtual: 10.2.11.0/24\nTenant_B_WAN_Zone:\nvrf_vni: 21\nsvis:\n250:\nname: Tenant_B_WAN_Zone_1\ntags: [ wan ]\nenabled: true\nip_address_virtual: 10.2.50.0/24\n251:\nname: Tenant_B_WAN_Zone_2\ntags: [ wan ]\nenabled: true\nipv6_address_virtual: 2001:db8:251::/64\n252:\nname: Tenant_B_WAN_Zone_3\ntags: [ wan ]\nenabled: true\nip_address_virtual: 10.2.52.0/24\nipv6_address_virtual: 2001:db8:252::/64\n253:\nname: Tenant_B_WAN_Zone_4\ntags: [ DC1_BL1, DC1_BL2 ]\nenabled: true\nipv6_virtual_router_addresses:\n- 2001:db8:253::1\nnodes:\nDC1-BL1A:\nip_address: 2001:db8:253::2/64\nDC1-BL1B:\nip_address: 2001:db8:253::3/64\n</code></pre>"},{"location":"roles/eos_designs/doc/node-types-v4.0.html","title":"Node Types Definition","text":"<p>The node type definition is done under <code>node_type_keys</code>. This dictionary defines type of devices you can use in your topologies. Each node type can be configured to fit the role in the network.</p>"},{"location":"roles/eos_designs/doc/node-types-v4.0.html#variables-and-options","title":"Variables and Options","text":"<pre><code># Define Node Type Keys, to specify the properties of each node type in the fabric\n# This allows for complete customization of the fabric layout.\n# This should be defined in top level group_var for the fabric.\nnode_type_keys:\n- key: &lt;node_type_key&gt;\n# Required | The value of \"type\" set on each switch\ntype: &lt;type value matching this node_type_key&gt;\n# Optional | Are endpoints connected to this node type\nconnected_endpoints: &lt; true | false | default -&gt; false &gt;\n# Optional | Default evpn_role. Can be overridden in topology vars.\ndefault_evpn_role: &lt; none | client | server | default -&gt; none &gt;\n# Optional | Set the default underlay routing_protocol.\n# Can be overridden by setting \"underlay_routing_protocol\" host/group_vars\ndefault_underlay_routing_protocol: &lt; routing_protocol | default -&gt; ebgp &gt;\n# Optional | Can this node type support mlag\nmlag_support: &lt; true | false | default -&gt; false &gt;\n# Optional | Will network services be deployed on this node type\nnetwork_services:\n# Vlans\nl2: &lt; true | false | default -&gt; false &gt;\n# VRFs, SVIs (if l2 is true)\n# Only supported with underlay_router\nl3: &lt; true | false | default -&gt; false &gt;\n# Optional | Is this node type a L3 device\nunderlay_router: &lt; true | false | default -&gt; true &gt;\n# Optional | Uplinks must be p2p if \"vtep\" or \"underlay_router\" is true.\nuplink_type: &lt; \"p2p\" | \"port-channel\" | default -&gt; \"p2p\" &gt;\n# Optional | Is this switch an EVPN VTEP\nvtep: &lt; true | false | default -&gt; false &gt;\n# Optional | Is this switch an MPLS LSR\nmpls_lsr: &lt; true | false | default -&gt; false &gt;\n# Optional | Override ip_addressing templates\nip_addressing:\nrouter_id: &lt;path to J2 template - default inherited from templates.ip_addressing.router_id &gt;\nmlag_ip_primary: &lt;path to J2 template - default inherited from templates.ip_addressing.mlag_ip_primary &gt;\nmlag_ip_secondary: &lt;path to J2 template - default inherited from templates.ip_addressing.mlag_ip_secondary &gt;\nmlag_l3_ip_primary: &lt;path to J2 template - default inherited from templates.ip_addressing.mlag_l3_ip_primary &gt;\nmlag_l3_ip_secondary: &lt;path to J2 template - default inherited from templates.ip_addressing.mlag_l3_ip_secondary &gt;\np2p_uplinks_ip: &lt;path to J2 template - default inherited from templates.ip_addressing.p2p_uplinks_ip &gt;\np2p_uplinks_peer_ip: &lt;path to J2 template - default inherited from templates.ip_addressing.p2p_uplinks_peer_ip &gt;\nvtep_ip_mlag: &lt;path to J2 template - default inherited from templates.ip_addressing.vtep_ip_mlag &gt;\nvtep_ip: &lt;path to J2 template - default inherited from templates.ip_addressing.vtep_ip &gt;\n# Optional | Override interface_descriptions templates\n# If description templates use Jinja2, they have to strip whitespaces using {%- -%} on any code blocks\ninterface_descriptions:\nunderlay_ethernet_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.underlay_ethernet_interfaces &gt;\nunderlay_port_channel_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.underlay_port_channel_interfaces &gt;\nmlag_ethernet_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.underlay_ethernet_mlag_interfaces &gt;\nmlag_port_channel_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.underlay_port_channel_mlag_interfaces &gt;\nconnected_endpoints_ethernet_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.connected_endpoints_ethernet_interfaces &gt;\nconnected_endpoints_port_channel_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.connected_endpoints_port_channel_interfaces &gt;\noverlay_loopback_interface: &lt;path to J2 template - default inherited from templates.interface_descriptions.overlay_loopback_interface &gt;\nvtep_loopback_interface: &lt;path to J2 template - default inherited from templates.interface_descriptions.vtep_loopback_interface &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/node-types-v4.0.html#context-for-ip_addressing-templates","title":"Context for ip_addressing templates","text":"<p>To help calculate the custom IP addressing, the following contextual variables are available to the custom templates:</p> <p>router_id:</p> <ul> <li><code>{{ switch_id }}</code></li> <li><code>{{ loopback_ipv4_pool }}</code></li> <li><code>{{ loopback_ipv4_offset }}</code></li> </ul> <p>mlag_ip_primary &amp; mlag_ip_secondary:</p> <ul> <li><code>{{ mlag_primary_id }}</code></li> <li><code>{{ mlag_secondary_id }}</code></li> <li><code>{{ switch_data.combined.mlag_peer_ipv4_pool }}</code></li> </ul> <p>mlag_l3_ip_primary &amp; mlag_l3_ip_secondary:</p> <ul> <li><code>{{ mlag_primary_id }}</code></li> <li><code>{{ mlag_secondary_id }}</code></li> <li><code>{{ switch_data.combined.mlag_peer_l3_ipv4_pool }}</code></li> </ul> <p>p2p_uplinks_ip &amp; p2p_uplinks_peer_ip:</p> <ul> <li><code>{{ switch.uplink_ipv4_pool }}</code></li> <li><code>{{ switch.id }}</code></li> <li><code>{{ switch.max_uplink_switches }}</code></li> <li><code>{{ switch.max_parallel_uplinks }}</code></li> <li><code>{{ uplink_switch_index }}</code></li> </ul> <p>vtep_ip_mlag:</p> <ul> <li><code>{{ switch_vtep_loopback_ipv4_pool }}</code></li> <li><code>{{ mlag_primary_id }}</code></li> <li><code>{{ loopback_ipv4_offset }}</code></li> </ul> <p>vtep_ip:</p> <ul> <li><code>{{ switch_vtep_loopback_ipv4_pool }}</code></li> <li><code>{{ switch_id }}</code></li> <li><code>{{ loopback_ipv4_offset }}</code></li> </ul> <p><code>p2p_uplinks_ip</code> &amp; <code>p2p_uplinks_peer_ip</code> can leverage the switch facts (switch.*) to customize the IP addressing. All other templates can only leverage the input variables and variables set in switch facts template.</p> <p>For more information about the available contextual properties, see the following links:</p> <ul> <li>underlay_ethernet_interfaces facts</li> <li>switch facts</li> </ul>"},{"location":"roles/eos_designs/doc/node-types-v4.0.html#context-for-interface_descriptions-templates","title":"Context for interface_descriptions templates","text":"<p>To help format the custom interface descriptions, the following contextual variables are available to the custom templates:</p> <p>underlay_ethernet_interfaces:</p> <ul> <li><code>{{ link.peer }}</code></li> <li><code>{{ link.peer_interface }}</code></li> <li><code>{{ link.type }} (underlay_p2p or underlay_l2)</code></li> </ul> <p>underlay_port_channel_interfaces:</p> <ul> <li><code>{{ link.channel_description }}</code></li> <li><code>{{ link.channel_group_id }}</code></li> <li><code>{{ link.peer_channel_group_id }}</code></li> </ul> <p>mlag_ethernet_interfaces:</p> <ul> <li><code>{{ mlag_interface }}</code></li> <li><code>{{ mlag_peer }}</code></li> </ul> <p>mlag_port_channel_interfaces:</p> <ul> <li><code>{{ mlag_interfaces }}</code></li> <li><code>{{ mlag_peer }}</code></li> </ul> <p>connected_endpoints_ethernet_interfaces:</p> <ul> <li><code>{{ peer }}</code></li> <li><code>{{ peer_interface }}</code></li> </ul> <p>connected_endpoints_port_channel_interfaces:</p> <ul> <li><code>{{ peer }}</code></li> <li><code>{{ adapter_port_channel_description }}</code></li> </ul> <p>All templates can leverage the switch facts (switch.*) to customize the interface descriptions.</p> <p>For more information about the available contextual properties, see the following links:</p> <ul> <li>underlay_ethernet_interfaces facts</li> <li>underlay_port_channel_interfaces facts</li> <li>mlag_ethernet_interfaces facts</li> <li>mlag_port_channel_interfaces facts</li> <li>connected_endpoints_ethernet_interfaces facts</li> <li>connected_endpoints_port_channel_interfaces facts</li> </ul> <p>The next output is structure example based on default definition:</p> <pre><code># Example\n# The below key/pair values are the role defaults.\nnode_type_keys:\n- key: spine\ntype: spine\ndefault_evpn_role: server\n- key: l3leaf\ntype: l3leaf\nconnected_endpoints: true\ndefault_evpn_role: client\nmlag_support: true\nnetwork_services:\nl2: true\nl3: true\nvtep: true\n- key: l2leaf:\ntype: l2leaf\nconnected_endpoints: true\nmlag_support: true\nnetwork_services:\nl2: true\nunderlay_router: false\nuplink_type: port-channel\n- key: super_spine\ntype: super-spine\n- key: overlay_controller\ntype: overlay-controller\n</code></pre> <p>Info</p> <p>The default node definition is available in the default section of the eos_designs role.</p>"},{"location":"roles/eos_designs/doc/node-types.html","title":"Node Types Definition","text":"<p>The node type definition is done under <code>node_type_keys</code>. This dictionary defines type of devices you can use in your topologies. Each node type can be configured to fit the role in the network.</p>"},{"location":"roles/eos_designs/doc/node-types.html#variables-and-options","title":"Variables and Options","text":"<pre><code># Define Node Type Keys, to specify the properties of each node type in the fabric\n# This allows for complete customization of the fabric layout.\n# This should be defined in top level group_var for the fabric.\nnode_type_keys:\n&lt;node_type_key&gt;:\n# Required | The value of \"type\" set on each switch\ntype: &lt;type value matching this node_type_key&gt;\n# Optional | Are endpoints connected to this node type\nconnected_endpoints: &lt; true | false | default -&gt; false &gt;\n# Optional | Default evpn_role. Can be overridden in topology vars.\ndefault_evpn_role: &lt; none | client | server | default -&gt; none &gt;\n# Optional | Default PTP priority 1\ndefault_ptp_priority1: &lt; 0-255 | default 127 &gt;\n# Optional | Set the default underlay routing_protocol.\n# Can be overridden by setting \"underlay_routing_protocol\" host/group_vars\ndefault_underlay_routing_protocol: &lt; routing_protocol | default -&gt; ebgp &gt;\n# Optional | Can this node type support mlag\nmlag_support: &lt; true | false | default -&gt; false &gt;\n# Optional | Will network services be deployed on this node type\nnetwork_services:\n# Vlans\nl2: &lt; true | false | default -&gt; false &gt;\n# VRFs, SVIs (if l2 is true)\n# Only supported with underlay_router\nl3: &lt; true | false | default -&gt; false &gt;\n# Optional | Is this node type a L3 device\nunderlay_router: &lt; true | false | default -&gt; true &gt;\n# Optional | Uplinks must be p2p if \"vtep\" or \"underlay_router\" is true.\nuplink_type: &lt; \"p2p\" | \"port-channel\" | default -&gt; \"p2p\" &gt;\n# Optional | Is this switch an EVPN VTEP\nvtep: &lt; true | false | default -&gt; false &gt;\n# Optional | Is this switch an MPLS LSR\nmpls_lsr: &lt; true | false | default -&gt; false &gt;\n# Optional | Override ip_addressing templates\nip_addressing:\nrouter_id: &lt;path to J2 template - default inherited from templates.ip_addressing.router_id &gt;\nmlag_ip_primary: &lt;path to J2 template - default inherited from templates.ip_addressing.mlag_ip_primary &gt;\nmlag_ip_secondary: &lt;path to J2 template - default inherited from templates.ip_addressing.mlag_ip_secondary &gt;\nmlag_l3_ip_primary: &lt;path to J2 template - default inherited from templates.ip_addressing.mlag_l3_ip_primary &gt;\nmlag_l3_ip_secondary: &lt;path to J2 template - default inherited from templates.ip_addressing.mlag_l3_ip_secondary &gt;\np2p_uplinks_ip: &lt;path to J2 template - default inherited from templates.ip_addressing.p2p_uplinks_ip &gt;\np2p_uplinks_peer_ip: &lt;path to J2 template - default inherited from templates.ip_addressing.p2p_uplinks_peer_ip &gt;\nvtep_ip_mlag: &lt;path to J2 template - default inherited from templates.ip_addressing.vtep_ip_mlag &gt;\nvtep_ip: &lt;path to J2 template - default inherited from templates.ip_addressing.vtep_ip &gt;\n# Optional | Override interface_descriptions templates\n# If description templates use Jinja2, they have to strip whitespaces using {%- -%} on any code blocks\ninterface_descriptions:\nunderlay_ethernet_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.underlay_ethernet_interfaces &gt;\nunderlay_port_channel_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.underlay_port_channel_interfaces &gt;\nmlag_ethernet_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.underlay_ethernet_mlag_interfaces &gt;\nmlag_port_channel_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.underlay_port_channel_mlag_interfaces &gt;\nconnected_endpoints_ethernet_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.connected_endpoints_ethernet_interfaces &gt;\nconnected_endpoints_port_channel_interfaces: &lt;path to J2 template - default inherited from templates.interface_descriptions.connected_endpoints_port_channel_interfaces &gt;\noverlay_loopback_interface: &lt;path to J2 template - default inherited from templates.interface_descriptions.overlay_loopback_interface &gt;\nvtep_loopback_interface: &lt;path to J2 template - default inherited from templates.interface_descriptions.vtep_loopback_interface &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/node-types.html#context-for-ip_addressing-templates","title":"Context for ip_addressing templates","text":"<p>To help calculate the custom IP addressing, the following contextual variables are available to the custom templates:</p> <p>router_id:</p> <ul> <li><code>{{ switch_id }}</code></li> <li><code>{{ loopback_ipv4_pool }}</code></li> <li><code>{{ loopback_ipv4_offset }}</code></li> <li>All group/hostvars</li> </ul> <p>mlag_ip_primary &amp; mlag_ip_secondary:</p> <ul> <li><code>{{ mlag_primary_id }}</code></li> <li><code>{{ mlag_secondary_id }}</code></li> <li><code>{{ switch_data.combined.mlag_peer_ipv4_pool }}</code></li> <li>All group/hostvars</li> </ul> <p>mlag_l3_ip_primary &amp; mlag_l3_ip_secondary:</p> <ul> <li><code>{{ mlag_primary_id }}</code></li> <li><code>{{ mlag_secondary_id }}</code></li> <li><code>{{ switch_data.combined.mlag_peer_l3_ipv4_pool }}</code></li> <li>All group/hostvars</li> </ul> <p>p2p_uplinks_ip &amp; p2p_uplinks_peer_ip:</p> <ul> <li><code>{{ switch.uplink_ipv4_pool }}</code></li> <li><code>{{ switch.id }}</code></li> <li><code>{{ switch.max_uplink_switches }}</code></li> <li><code>{{ switch.max_parallel_uplinks }}</code></li> <li><code>{{ uplink_switch_index }}</code></li> <li>All group/hostvars</li> </ul> <p>vtep_ip_mlag:</p> <ul> <li><code>{{ switch_vtep_loopback_ipv4_pool }}</code></li> <li><code>{{ mlag_primary_id }}</code></li> <li><code>{{ loopback_ipv4_offset }}</code></li> <li>All group/hostvars</li> </ul> <p>vtep_ip:</p> <ul> <li><code>{{ switch_vtep_loopback_ipv4_pool }}</code></li> <li><code>{{ switch_id }}</code></li> <li><code>{{ loopback_ipv4_offset }}</code></li> <li>All group/hostvars</li> </ul> <p>While all templates can leverage the internal switch facts (switch.*) to customize the interface descriptions, the values are not part of the officially supported data models, and may change without notice.</p>"},{"location":"roles/eos_designs/doc/node-types.html#context-for-interface_descriptions-templates","title":"Context for interface_descriptions templates","text":"<p>To help format the custom interface descriptions, the following contextual variables are available to the custom templates:</p> <p>underlay_ethernet_interfaces:</p> <ul> <li><code>{{ link.peer }}</code></li> <li><code>{{ link.peer_interface }}</code></li> <li><code>{{ link.type }} (underlay_p2p or underlay_l2)</code></li> <li>All group/hostvars</li> </ul> <p>underlay_port_channel_interfaces:</p> <ul> <li><code>{{ link.channel_description }}</code></li> <li><code>{{ link.channel_group_id }}</code></li> <li><code>{{ link.peer_channel_group_id }}</code></li> <li>All group/hostvars</li> </ul> <p>mlag_ethernet_interfaces:</p> <ul> <li><code>{{ mlag_interface }}</code></li> <li><code>{{ mlag_peer }}</code></li> <li>All group/hostvars</li> </ul> <p>mlag_port_channel_interfaces:</p> <ul> <li><code>{{ mlag_interfaces }}</code></li> <li><code>{{ mlag_peer }}</code></li> <li>All group/hostvars</li> </ul> <p>connected_endpoints_ethernet_interfaces:</p> <ul> <li><code>{{ peer }}</code></li> <li><code>{{ peer_interface }}</code></li> <li>All group/hostvars</li> </ul> <p>connected_endpoints_port_channel_interfaces:</p> <ul> <li><code>{{ peer }}</code></li> <li><code>{{ adapter_port_channel_description }}</code></li> <li>All group/hostvars</li> </ul> <p>While all templates can leverage the internal switch facts (switch.*) to customize the interface descriptions, the values are not part of the officially supported data models and may change without notice.</p> <p>The next output is an example based on the default definition:</p> <pre><code># Example\n# The below key/pair values are the role defaults.\nnode_type_keys:\nspine:\ntype: spine\ndefault_evpn_role: server\ndefault_ptp_priority1: 20\nl3leaf:\ntype: l3leaf\nconnected_endpoints: true\ndefault_evpn_role: client\nmlag_support: true\nnetwork_services:\nl2: true\nl3: true\nvtep: true\ndefault_ptp_priority1: 30\nl2leaf:\ntype: l2leaf\nconnected_endpoints: true\nmlag_support: true\nnetwork_services:\nl2: true\nunderlay_router: false\nuplink_type: port-channel\nsuper_spine:\ntype: super-spine\noverlay_controller:\ntype: overlay-controller\n</code></pre> <p>Info</p> <p>The default node definition is available in the default section of the eos_designs role.</p>"},{"location":"roles/eos_designs/doc/node-types.html#default-node-types","title":"Default Node Types","text":"<p>Node types can be defined statically on each node or in each group of nodes.  As an alternative to this, regular expressions can be used to determine the node type based on the hostname.</p> <p>Warning</p> <p>Please note that using the <code>default_node_types</code> functionality will cause certain tests in the eos_validate_state role to not be executed. This functionality will be restored as part of a later update to eos_validate_state and this note will then be removed.</p> <pre><code>default_node_types:\n# Required | A list of regular expressions that match complete hostnames\n# i.e. the regex is automatically bounded by ^ and $ elements\n- match_hostnames:\n- &lt; regular expression 1 &gt;\n- &lt; regular expression 2 etc &gt;\n# Required | Resultant node_type to be used if any of the regexes above match\nnode_type: &lt; node type, taken from node_type_keys above &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/platform-settings-v4.0.html","title":"Platform Specific Settings","text":"<ul> <li>Set platform specific settings, TCAM profile and reload delay.</li> <li>The reload delay values should be reviewed and tuned to the specific environment.</li> <li>If the platform is not defined, it will load parameters from the platform tagged <code>default</code>.</li> <li>Management interface is modified for specific platforms: Modular platforms with dual supervisor support and container EOS.</li> </ul>"},{"location":"roles/eos_designs/doc/platform-settings-v4.0.html#variables-and-options","title":"Variables and Options","text":"<pre><code>platform_settings:\n- platforms: [ default ]\nreload_delay:\nmlag: &lt; seconds &gt;\nnon_mlag: &lt; seconds &gt;\n- platforms: [ &lt; Arista Platform Family &gt;, &lt; Arista Platform Family &gt; ]\ntcam_profile: &lt; tcam_profile &gt;\nlag_hardware_only: &lt; true | false &gt;\nfeature_support:\nqueue_monitor_length_notify: &lt; true | false | default -&gt; true &gt;\ninterface_storm_control: &lt; true | false | default -&gt; true &gt;\nmanagement_interface: &lt; management interface name | default -&gt; Management1 &gt;\nreload_delay:\nmlag: &lt; seconds &gt;\nnon_mlag: &lt; seconds &gt;\n# EOS CLI rendered directly on the root level of the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Set Hardware Speed Groups per Platform\nplatform_speed_groups:\n- platform: &lt; platform &gt;\nspeeds:\n-  speed: &lt; speed &gt;\nspeed_groups: [ &lt; speed_group &gt;, &lt; speed_group &gt; ]\n# Redundancy for chassis platforms with dual supervisors | Optional\nredundancy:\nprotocol: &lt; sso | rpr &gt;\n</code></pre> <p>note: Recommended default values for Jericho based platform, VEOS and all other platforms <code>default</code> tag. The reload delay values should be reviewed and tuned to the specific environment.</p>"},{"location":"roles/eos_designs/doc/platform-settings-v4.0.html#default-values","title":"Default Values","text":"<pre><code>platform_settings:\n- platforms: [ 'default' ]\nreload_delay:\nmlag: 300\nnon_mlag: 330\nfeature_support:\n# \"queue-monitor length notify\" is only valid for R-Series so should be disabled on default platform.\nqueue_monitor_length_notify: false\n- platforms: [ '7280R', '7280R2', '7020R' ]\ntcam_profile: vxlan-routing\nlag_hardware_only: true\nreload_delay:\nmlag: 900\nnon_mlag: 1020\n- platforms: [ '7280R3' ]\nreload_delay:\nmlag: 900\nnon_mlag: 1020\n- platforms: [ '7500R', '7500R2' ]\ntcam_profile: vxlan-routing\nlag_hardware_only: true\nmanagement_interface: Management0\nreload_delay:\nmlag: 900\nnon_mlag: 1020\n- platforms: [ '7500R3', '7800R3' ]\nmanagement_interface: Management0\nreload_delay:\nmlag: 900\nnon_mlag: 1020\n- platforms: [ '7368X4' ]\nmanagement_interface: Management0\nreload_delay:\nmlag: 300\nnon_mlag: 330\n- platforms: [ 'VEOS', 'VEOS-LAB', 'vEOS', 'vEOS-lab' ]\nreload_delay:\nmlag: 300\nnon_mlag: 330\nfeature_support:\nqueue_monitor_length_notify: false\ninterface_storm_control: false\n- platforms: [ 'CEOS', 'cEOS', 'ceos', 'cEOSLab' ]\nmanagement_interface: Management0\nreload_delay:\nmlag: 300\nnon_mlag: 330\nfeature_support:\nqueue_monitor_length_notify: false\ninterface_storm_control: false\n</code></pre>"},{"location":"roles/eos_designs/doc/platform-settings.html","title":"Platform Specific Settings","text":"<ul> <li>Set platform specific settings, TCAM profile and reload delay.</li> <li>The reload delay values should be reviewed and tuned to the specific environment.</li> <li>If the platform is not defined, it will load parameters from the platform tagged <code>default</code>.</li> <li>Management interface is modified for specific platforms: Modular platforms with dual supervisor support and container EOS.</li> </ul>"},{"location":"roles/eos_designs/doc/platform-settings.html#variables-and-options","title":"Variables and Options","text":"<pre><code>platform_settings:\n- platforms: [ default ]\nreload_delay:\nmlag: &lt; seconds &gt;\nnon_mlag: &lt; seconds &gt;\n- platforms: [ &lt; Arista Platform Family &gt;, &lt; Arista Platform Family &gt; ]\n# \"trident_forwarding_table_partition\" only applied when evpn_multicast is true\ntrident_forwarding_table_partition: &lt; partition &gt;\ntcam_profile: &lt; tcam_profile &gt;\nlag_hardware_only: &lt; true | false &gt;\nfeature_support:\nqueue_monitor_length_notify: &lt; true | false | default -&gt; true &gt;\ninterface_storm_control: &lt; true | false | default -&gt; true &gt;\nmanagement_interface: &lt; management interface name | default -&gt; Management1 &gt;\nreload_delay:\nmlag: &lt; seconds &gt;\nnon_mlag: &lt; seconds &gt;\n# EOS CLI rendered directly on the root level of the final EOS configuration\nraw_eos_cli: |\n&lt; multiline eos cli &gt;\n# Set Hardware Speed Groups per Platform\nplatform_speed_groups:\n&lt; platform &gt;:\n&lt; speed &gt;: [ &lt; speed_group &gt;, &lt; speed_group &gt; ]\n# Redundancy for chassis platforms with dual supervisors | Optional\nredundancy:\nprotocol: &lt; sso | rpr &gt;\n</code></pre> <p>note: Recommended default values for Jericho based platform, VEOS and all other platforms <code>default</code> tag. The reload delay values should be reviewed and tuned to the specific environment.</p>"},{"location":"roles/eos_designs/doc/platform-settings.html#default-values","title":"Default Values","text":"<pre><code>default_platform_settings:\n- platforms: ['default']\nreload_delay:\nmlag: 300\nnon_mlag: 330\nfeature_support:\n# \"queue-monitor length notify\" is only valid for R-Series so should be disabled on default platform.\nqueue_monitor_length_notify: false\n- platforms: ['7050X3', '720XP', '722XP']\n# Only applied when enabling EVPN multicast\ntrident_forwarding_table_partition: \"flexible exact-match 16384 l2-shared 98304 l3-shared 131072\"\nreload_delay:\nmlag: 300\nnon_mlag: 330\nfeature_support:\nqueue_monitor_length_notify: false\n- platforms: ['7280R', '7280R2', '7020R']\ntcam_profile: vxlan-routing\nlag_hardware_only: true\nreload_delay:\nmlag: 900\nnon_mlag: 1020\n- platforms: ['7280R3']\nreload_delay:\nmlag: 900\nnon_mlag: 1020\n- platforms: ['7500R', '7500R2']\ntcam_profile: vxlan-routing\nlag_hardware_only: true\nmanagement_interface: Management0\nreload_delay:\nmlag: 900\nnon_mlag: 1020\n- platforms: ['7500R3', '7800R3']\nmanagement_interface: Management0\nreload_delay:\nmlag: 900\nnon_mlag: 1020\n- platforms: ['7368X4']\nmanagement_interface: Management0\nreload_delay:\nmlag: 300\nnon_mlag: 330\n- platforms: ['7300X3']\nmanagement_interface: Management0\n# Only applied when enabling EVPN multicast\ntrident_forwarding_table_partition: \"flexible exact-match 16384 l2-shared 98304 l3-shared 131072\"\nreload_delay:\nmlag: 1200\nnon_mlag: 1320\n- platforms: ['VEOS', 'VEOS-LAB', 'vEOS', 'vEOS-lab']\nreload_delay:\nmlag: 300\nnon_mlag: 330\nfeature_support:\nqueue_monitor_length_notify: false\ninterface_storm_control: false\n- platforms: ['CEOS', 'cEOS', 'ceos', 'cEOSLab']\nmanagement_interface: Management0\nreload_delay:\nmlag: 300\nnon_mlag: 330\nfeature_support:\nqueue_monitor_length_notify: false\ninterface_storm_control: false\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html","title":"PTP","text":"<p>Arista best practices are used, simplifying configuration of several global and interface-specific PTP settings:</p> <ul> <li>PTP can be enabled on various levels of the AVD configuration:<ul> <li>fabric level</li> <li>per node_group</li> <li>per node</li> </ul> </li> </ul> <ul> <li>Only when explicitly enabled, will the following global PTP settings take effect:<ul> <li>PTP mode boundary is used by default.</li> <li>One of three different PTP profiles can be used:<ul> <li>AES67</li> <li>SMPTE2059-2</li> <li> <p>AES67-R16-2016 (used by default if no profile is specified)</p> <p>The profile will apply PTP parameters for the following interfaces: - All routed interfaces - Individual PTP-enabled interfaces for connected endpoints</p> </li> </ul> </li> </ul> </li> </ul> <ul> <li>Defaults used when PTP is enabled:<ul> <li>All interfaces between leaf and spine switches participate in the Best Master Clock Algorithm (BMCA).</li> <li>All interfaces used for endpoints with ptp specifically enabled use <code>ptp role master</code>.</li> <li>PTP priority 1 and priority 2 are automatically set based on the node_type and switch_id.</li> <li>PTP Clock Identity is automatically set based on a prefix (00:1C:73 by default) + PTP priority 1 and priority 2.</li> </ul> </li> </ul>"},{"location":"roles/eos_designs/doc/ptp.html#enabling-ptp","title":"Enabling PTP","text":"<p>PTP must be specifically enabled:</p> <ul> <li> <p>on the fabric level, for example FABRIC.yml</p> <pre><code>ptp:\n  enabled: true\n</code></pre> </li> </ul> <ul> <li> <p>per node_group, for example for all spine nodes in SPINES.yml</p> <pre><code>spine:\n  defaults:\n    ptp:\n      enabled: true\n</code></pre> </li> </ul> <ul> <li> <p>per node for a specific node/device inside a node_group, for example for a specific leaf in LEAFS.yml</p> <pre><code>nodes:\n  leaf1:\n    ptp:\n      enabled: true\n</code></pre> </li> </ul> <p>Please note: If present, you need to remove the legacy PTP notation shown below, for example for all spine nodes. If this is not removed, the PTP profile-specific interface configuration will not be applied to the interfaces between leaf and spine switches.</p> <pre><code>spine:\n  defaults:\n    uplink_ptp:\n      enable: true\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#fabric-wide-ptp-settings","title":"Fabric wide PTP settings","text":"<p>There are three settings that can be specified for the entire topology to greatly simplify the configuration of PTP:</p> <pre><code>ptp:\n  enabled: &lt; true | false | default -&gt; false &gt;\n  profile: &lt; aes67 | smpte2059-2 | aes67-r16-2016 | default -&gt; aes67-r16-2016  &gt;\n  domain: &lt; 0-255 | default -&gt; 127 &gt;\n</code></pre> <p>All can also be defined on a more specific level, if the network design requires this.</p>"},{"location":"roles/eos_designs/doc/ptp.html#ptp-profiles","title":"PTP Profiles","text":"<p>Based on the PTP profile selection the following parameters are applied to all interfaces between spine and leaf switches:</p> <p><code>profile: aes67</code> is the slow PTP profile setting the following interface parameters:</p> <ul> <li>ptp enable</li> <li>ptp sync-message interval 0 (1 message every second)</li> <li>ptp announce interval 2 (1 message every 4th second)</li> <li>ptp transport ipv4</li> <li>ptp announce timeout 3</li> <li>ptp delay-req interval 0 (1 message every second)</li> </ul> <p><code>profile: smpte2059-2</code> is the fast PTP profile setting the following interface parameters:</p> <ul> <li>ptp enable</li> <li>ptp sync-message interval -4 (16 messages every second)</li> <li>ptp announce interval -2 (4 messages every second)</li> <li>ptp transport ipv4</li> <li>ptp announce timeout 3</li> <li>ptp delay-req interval -4 (16 messages every second)</li> </ul> <p><code>profile: aes67-r16-2016</code> is the default PTP profile, setting the following interface parameters:</p> <ul> <li>ptp enable</li> <li>ptp sync-message interval -3 (8 messages every second)</li> <li>ptp announce interval 0 (1 message every second)</li> <li>ptp transport ipv4</li> <li>ptp announce timeout 3</li> <li>ptp delay-req interval -3 (8 messages every second)</li> </ul>"},{"location":"roles/eos_designs/doc/ptp.html#group-or-device-specific-ptp-settings","title":"Group or device specific PTP settings","text":""},{"location":"roles/eos_designs/doc/ptp.html#ptp-priorities","title":"PTP Priorities","text":""},{"location":"roles/eos_designs/doc/ptp.html#automatic-ptp-priorities","title":"Automatic PTP priorities","text":"<p>Regardless of the PTP profile selection, the PTP priorities are automatically generated by default:</p> <ul> <li>Priority 1 is set automatically based on node_type.</li> <li>Priority 2 is set automatically based on node id. (modulus 256)</li> </ul> <p>As shown in the table below, PTP priority 1 is defined by default, based on the node_type setting, which currently is either <code>spine</code> or <code>l3leaf</code>. Spine switches will have a PTP priority 1 of <code>20</code> and leaf switches will have a PTP priority 1 of <code>30</code>. This supports the recommended Amber/Blue topologies where PTP GrandMasters are connected to the spine switches directly. All other node_types will have a default PTP priority 1 of <code>127</code> to ensure they don\u2019t win the BMCA by accident.</p> Node_Type Priority 1 Priority 2 spine 20 (<code>node_id</code> modulus 256) l3leaf 30 (<code>node_id</code> modulus 256) anything else 127 (<code>node_id</code> modulus 256) <p>For leaf switches connecting to a PTP GrandMaster we recommend to manually set PTP priority 1 lower than the other leaf switches, for example to \u201c10\u201d as shown below:</p> <pre><code>nodes:\n  ptp-leaf1:\n    ptp:\n      enabled: true\n      priority1: 10\n</code></pre> <p>Alternatively the default <code>node_type_keys</code> can be overridden to add a <code>ptp_leaf</code> or similar node type with <code>default_ptp_priority1: 10</code>.</p>"},{"location":"roles/eos_designs/doc/ptp.html#manually-setting-ptp-priorities","title":"Manually setting PTP priorities","text":"<p>The automatic PTP priorities can be manually overriden if required, for example for blue-leaf1:</p> <pre><code>nodes:\n  blue-leaf1:\n    ptp:\n      enabled: true\n      priority1: &lt; 0-255 | default -&gt; automatically set based on node_type &gt;\n      priority2: &lt; 0-255 | default -&gt; (node_id modulus 256) &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#ptp-clock-identity","title":"PTP Clock Identity","text":""},{"location":"roles/eos_designs/doc/ptp.html#setting-ptp-clock-identity-automatically","title":"Setting PTP Clock Identity automatically","text":"<p>By default PTP clock identity is generated and set automatically.</p> <pre><code>auto_clock_identity = &lt; true | false | default -&gt; true &gt;\nclock_identity = &lt; (clock_identity_prefix = 00:1C:73 (default)) + (PTP priority 1 as HEX) + \":00:\" + (PTP priority 2 as HEX) &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#ptp-clock-identity-prefix","title":"PTP Clock Identity prefix","text":"<p>By default the 3-byte prefix is <code>00:1C:73</code>, but this can be overridden if <code>auto_clock_identity</code> is set to <code>true</code> (which is the default).</p> <p>Please note: Remember to use double-quotes around the value, as otherwise it will be not be rendered correctly.</p> <p>For example for all spine nodes:</p> <pre><code>spine:\n  defaults:\n    ptp:\n      enabled: true\n      clock_identity_prefix: \"01:02:03\"\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#using-arista-eos-default-ptp-clock-identity","title":"Using Arista EOS default PTP clock identity","text":"<p>If you prefer to have PTP clock identity be the system MAC-address of the switch, which is the default EOS behaviour, simply disable the automatic PTP clock identity as shown here:</p> <pre><code>spine:\n  defaults:\n    ptp:\n      enabled: true\n      auto_clock_identity: false\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#setting-ptp-clock-identity-manually","title":"Setting PTP Clock Identity manually","text":"<p>PTP Clock identity can be set manually per node_group or node, for example for blue-spine1:</p> <p>Please note: Remember to use double-quotes around the value, as otherwise it will be not be rendered correctly.</p> <pre><code>blue-spine1:\n  defaults:\n    ptp:\n      enabled: true\n      clock_identity: \"01:02:03:04:05:06\"\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#enable-ptp-unicast-forwarding","title":"Enable PTP unicast forwarding","text":"<p>With this feature enabled, multicast PTP packets will continue to be sent to the control plane, but unicast PTP packets will be hardware forwarded through the data plane. This feature enables the use of protocols such as Meinbergs NetSync to monitor downstream PTP slaves in the network without having the PTP packets dropped by Arista Switches acting as boundary clocks.</p> <pre><code>forward_unicast: &lt; true | false | default -&gt; false &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#ptp-source-ip-address","title":"PTP Source IP address","text":"<p>By default in EOS, PTP packets are sourced with an IP address from the routed port or from the relevant SVI, which is the recommended behaviour. This can be set manually if required, for example, to a value of <code>10.1.2.3</code>:</p> <pre><code>spine:\n  defaults:\n    ptp:\n      enabled: true\n      source_ip: 10.1.2.3\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#ptp-time-to-live-ttl","title":"PTP Time-To-Live (TTL)","text":"<p>By default in EOS, PTP packets are sent with a TTL of 1. This is perfectly acceptable when using the recommended topology with routed interfaces or VLANs with a local SVI, but can be overridden and set manually, for example to a value of <code>64</code>:</p> <pre><code>spine:\n  defaults:\n    ptp:\n      enabled: true\n      ttl: 64\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#ptp-monitor-threshold-configuration","title":"PTP Monitor Threshold configuration","text":"<p>PTP monitor thresholds is enabled by default, when PTP is enabled. Default parameters are provided.</p> <p>This will result in the following configuration:</p> <pre><code>ptp monitor threshold offset-from-master 250\nptp monitor threshold mean-path-delay 1500\nptp monitor sequence-id\nptp monitor threshold missing-message announce 3 sequence-ids\nptp monitor threshold missing-message delay-resp 3 sequence-ids\nptp monitor threshold missing-message follow-up 3 sequence-ids\nptp monitor threshold missing-message sync 3 sequence-ids\n</code></pre> <p>All parameters can be overridden if required:</p> <pre><code>ptp:\n  enabled: true\n  monitor:\n    enabled: &lt; false | true | default -&gt; true &gt;\n    threshold:\n      offset_from_master: &lt; 0-1000000000 | default -&gt; 250 &gt;\n      mean_path_delay: &lt; 0-1000000000 | default -&gt; 1500 &gt;\n      drop:\n        offset_from_master: &lt; 0-1000000000 &gt;\n        mean_path_delay: &lt; 0-1000000000 &gt;\n    missing_message:\n      intervals:\n        announce: &lt; 2-255 &gt;\n        follow_up: &lt; 2-255 &gt;\n        sync: &lt; 2-255 &gt;\n      sequence_ids:\n        enabled: &lt; false | true | default -&gt; true &gt;\n        announce: &lt; 2-255 | default -&gt; 3 &gt;\n        delay_resp: &lt; 2-255 | default -&gt; 3 &gt;\n        follow_up: &lt; 2-255 | default -&gt; 3 &gt;\n        sync: &lt; 2-255 | default -&gt; 3 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#setting-ptp-dscp-values","title":"Setting PTP DSCP values","text":"<p>You can manually set the global DSCP values used for PTP messages if this is required:</p> <pre><code>ptp:\n  enabled: true\n  dscp:\n    general_messages: 46\n    event_messages: 46\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#ptp-settings-for-connected-endpoints","title":"PTP Settings for connected endpoints","text":"<p>By default all interfaces with connected endpoints do not have PTP enabled. It must be manually enabled. These are the default settings:</p> <ul> <li>The global PTP profile parameters will be applied to all connected endpoints where ptp is manually enabled.</li> <li><code>ptp role master</code> is set to ensure control over the PTP topology.</li> </ul> <pre><code>servers:\n  &lt;server-name&gt;:\n    adapters:\n    - type: &lt;type&gt;\n      endpoint_ports: [ &lt;server-ports&gt; ]\n      switch_ports: [ &lt;switchports&gt; ]\n      switches: [ &lt;switches&gt; ]\n      ptp:\n        enable: &lt; false | true | default -&gt; false &gt;\n        endpoint_role: &lt; follower | bmca | default -&gt; follower &gt;\n        profile: &lt; aes67 | smpte2059-2 | aes67-r16-2016 | default -&gt; aes67-r16-2016 &gt;\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#examples-of-connected-endpoints","title":"Examples of connected endpoints","text":"<p>If you want to configure a routed interface with no IP address, for example to connect to a PTP Grandmaster, you can do as shown below. Please note in this example, the default PTP role has been overridden, making the interface Ethernet5 on blue-spine1 towards the Blue PTP Grandmaster run BMCA. Depending on the topology, this interface will end up in PTP mode Slave or Passive.</p> <pre><code>servers:\n  Blue-Grandmaster:\n    adapters:\n    - type: server\n      endpoint_ports: [ eth1 ]\n      switch_ports: [ Ethernet5 ]\n      switches: [ blue-spine1 ]\n      structured_config:\n        type: routed\n      ptp:\n        enable: true\n        endpoint_role: bmca\n</code></pre> <p>If you want to use a different PTP profile on an interface towards a connected endpoint, it can be set manually:</p> <pre><code>servers:\n  Endpoint-with-specific-PTP-profile:\n    adapters:\n    - type: server\n      endpoint_ports: [ eth3 ]\n      switch_ports: [ Ethernet7 ]\n      switches: [ blue-leaf1 ]\n      ptp:\n        enable: true\n        profile: smpte2059-2\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#interfaces-only-used-for-ptp-traffic","title":"Interfaces only used for PTP traffic","text":"<p>In a Media and Entertainment Layer 3 Leaf Spine network topology with redundant connectivity to either a single or dual PTP GrandMasters, you might require network connectivity between parts of the network only for PTP traffic.</p> <p>Such switch-to-switch links must be defined on a fabric level, for example using two links between blue-leaf1 and blue-leaf2 as shown here:</p> <pre><code>core_interfaces:\n  p2p_links:\n      # Unique id\n    - id: 1\n      # Nodes where this link should be configured\n      nodes: [ blue-leaf1, blue-leaf2 ]\n      # Interfaces where this link should be configured | Required unless using port-channels\n      interfaces: [ Ethernet10, Ethernet10 ]\n      # Enable PTP\n      ptp_enable: true\n      # Do not add this interface to underlay routing protocol\n      include_in_underlay_protocol: false\n    - id: 2\n      nodes: [ blue-leaf1, blue-leaf2 ]\n      interfaces: [ Ethernet11, Ethernet11 ]\n      ptp_enable: true\n      include_in_underlay_protocol: false\n</code></pre> <p>This will result in the two interfaces being configured as routed interfaces without an IP address, with PTP enabled using the same PTP profile as defined globally:</p> <pre><code>! blue-leaf1\n!\ninterface Ethernet10\n   description P2P_LINK_TO_blue-leaf2_Ethernet10\n   no shutdown\n   mtu 1500\nno switchport\n   ptp enable\nptp sync-message interval -3\n   ptp announce interval 0\nptp transport ipv4\n   ptp announce timeout 3\nptp delay-req interval -3\n!\ninterface Ethernet11\n   description P2P_LINK_TO_blue-leaf2_Ethernet11\n   no shutdown\n   mtu 1500\nno switchport\n   ptp enable\nptp sync-message interval -3\n   ptp announce interval 0\nptp transport ipv4\n   ptp announce timeout 3\nptp delay-req interval -3\n</code></pre>"},{"location":"roles/eos_designs/doc/ptp.html#ptp-options-not-included","title":"PTP Options not included","text":"<ul> <li><code>ptp delay-mechanism</code> parameters are not included.</li> <li><code>vlan</code> settings are not included.</li> </ul> <p>However, these settings can be set using custom cli configuration if needed.</p>"},{"location":"roles/eos_designs/docs/Connected%20Endpoints.html","title":"Connected Endpoints","text":"","boost":2},{"location":"roles/eos_designs/docs/Connected%20Endpoints.html#_1","title":"<p>This should be applied to group_vars or host_vars where endpoints are connecting. <code>connected_endpoints_keys.key</code> is one of the keys under \u201cconnected_endpoints_keys\u201d. The default keys are <code>servers</code>, <code>firewalls</code>, <code>routers</code>, <code>load_balancers</code>, and <code>storage_arrays</code>.</p> TableYAML      Variable Type Required Default Value Restrictions Description     &lt;connected_endpoints_keys.key&gt; List, items: Dictionary       \u00a0\u00a0- name String Required, Unique   Endpoint name will be used in the switchport description.   \u00a0\u00a0\u00a0\u00a0rack String    Rack is used for documentation purposes only.   \u00a0\u00a0\u00a0\u00a0adapters List, items: Dictionary    A list of adapters, group by adapters leveraging the same port-profile.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- endpoint_ports List, items: String    Endpoint ports is used for description, required unless description is set.The lists <code>endpoint_ports</code>, <code>switch_ports</code>, and <code>switches</code> must have the same length.Each list item is one switchport.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Interface name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0speed String    Set adapter speed: <code>&lt; interface_speed &gt;</code>, <code>forced &lt; interface_speed &gt;</code>, <code>auto &lt; interface_speed &gt;</code>.If not specified will be auto.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String    By default the description is built leveraging <code>&lt;peer&gt;_&lt;peer_interface&gt;</code>.When set this key will overide the default value on the physical ports.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String    Port-profile name to inherit configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True  Administrative state, setting to false will set the port to \u2018shutdown\u2019 in the intended configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- access- dot1q-tunnel- trunk- trunk phone Interface mode.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mtu Integer   Min: 68Max: 65535    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0l2_mtu Integer   Min: 68Max: 9416 This should only be defined for platforms supporting the \u201cl2 mtu\u201d CLI command.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0native_vlan Integer   Min: 1Max: 4094 Native VLAN for a trunk port.If both <code>native_vlan</code> and <code>native_vlan_tag</code>, <code>native_vlan_tag</code> takes precedence.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0native_vlan_tag Boolean  False  If both <code>native_vlan</code> and <code>native_vlan_tag</code>, <code>native_vlan_tag</code> takes precedence.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0trunk_groups List, items: String    Required with <code>enable_trunk_groups: true</code>.Trunk Groups are used for limiting VLANs on trunk ports to VLANs with the same Trunk Group.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlans String    Interface VLANs - if not set, the EOS default is that all VLANs are allowed for trunk ports, and VLAN 1 will be used for access ports.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_portfast String   Valid Values:- edge- network    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_bpdufilter String   Valid Values:- enabled- disabled- True- False- true- false    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_bpduguard String   Valid Values:- enabled- disabled- True- False- true- false    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0flowcontrol Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0received String   Valid Values:- received- send- on    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0qos_profile String    QOS profile name   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ptp Dictionary    The global PTP profile parameters will be applied to all connected endpoints where <code>ptp</code> is manually enabled.<code>ptp role master</code> is set to ensure control over the PTP topology.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0endpoint_role String  follower Valid Values:- bmca- default- follower    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String  aes67-r16-2016 Valid Values:- aes67- aes67-r16-2016- smpte2059-2    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_tracking Dictionary    Configure the downstream interfaces of a respective Link Tracking Group.If <code>port_channel</code> is defined in an adapter, then the port-channel interface is configured to be the downstream.Else all the ethernet interfaces will be configured as downstream -&gt; to configure single-active EVPN multihomed networks.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String    Tracking group name.The default group name is taken from fabric variable of the switch, <code>link_tracking.groups[0].name</code> with default value being \u201cLT_GROUP1\u201d.Optional if default link_tracking settings are configured on the node.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dot1x Dictionary    802.1x   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_control String   Valid Values:- auto- force-authorized- force-unauthorized    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_control_force_authorized_phone Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauthentication Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0pae Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- authenticator    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0authentication_failure Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String   Valid Values:- allow- drop    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0allow_vlan Integer   Min: 1Max: 4094    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host_mode Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- multi-host- single-host    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multi_host_authenticated Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mac_based_authentication Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host_mode_common Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0idle_host Integer   Min: 10Max: 65535    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0quiet_period Integer   Min: 1Max: 65535    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauth_period String    Range 60-4294967295 or \u201cserver\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauth_timeout_ignore Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tx_period Integer   Min: 1Max: 65535    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauthorization_request_limit Integer   Min: 1Max: 10    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0storm_control Dictionary    Storm control settings applied on port toward the endpoint.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0broadcast Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multicast Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unknown_unicast Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0monitor_sessions List, items: Dictionary    Used to define switchports as source or destination for monitoring sessions.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required   Session name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0role String   Valid Values:- source- destination    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_settings Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction String   Valid Values:- rx- tx- both    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String   Valid Values:- ip- ipv6- mac    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String    ACL name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0session_settings Dictionary    Session settings are defined per session name.Different session_settings for the same session name will be combined/merged.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encapsulation_gre_metadata_tx Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0header_remove_size Integer    Number of bytes to remove from header.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String   Valid Values:- ip- ipv6- mac    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String    ACL name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate_limit_per_ingress_chip String    Ratelimit and unit as string.Examples:  \u201c100000 bps\u201d  \u201c100 kbps\u201d  \u201c10 mbps\u201d   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate_limit_per_egress_chip String    Ratelimit and unit as string.Examples:  \u201c100000 bps\u201d  \u201c100 kbps\u201d  \u201c10 mbps\u201d   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sample Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0truncate Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0size Integer    Size in bytes   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ethernet_segment Dictionary    Settings for all or single-active EVPN multihoming.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String Required   In format xxxx:xxxx:xxxx or \u201cauto\u201d.Define a manual short-esi (be careful using this on profiles) or set the value to \u201cauto\u201d to automatically generate the value.Please see the notes under \u201cEVPN A/A ESI dual and single-attached endpoint scenarios\u201d before setting <code>short_esi: auto</code>.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0redundancy String   Valid Values:- all-active- single-active If omitted, Port-Channels use the EOS default of all-active.If omitted, Ethernet interfaces are configured as single-active.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0designated_forwarder_algorithm String   Valid Values:- auto- modulus- preference Configure DF algorithm and preferences.- auto: Use preference-based algorithm and assign preference based on position of device in the \u2018switches\u2019 list,  e.g., assuming a list of three switches, this would assign a preference of 200 to the first switch, 100 to the 2nd, and 0 to the third.- preference: Set preference for each switch manually using designated_forwarder_preferences key.- modulus: Use the default modulus-based algorithm.If omitted, Port-Channels use the EOS default of modulus.If omitted, Ethernet interfaces default to the \u2018auto\u2019 mechanism detailed above.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0designated_forwarder_preferences List, items: String    Manual preference as described above, required only for preference algorithm.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dont_preempt Boolean    Disable preemption for single-active forwarding when auto/manual DF preference is configured.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_channel Dictionary    Used for port-channel adapter.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- active- passive- on Port-Channel Mode.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0channel_id Integer    Port-Channel ID, Optional.If no channel_id is specified, an id is generated from the first switch port in the port channel.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String    By default the description is built leveraging <code>&lt;peer&gt;</code> name or <code>adapter.description</code> when defined.When this key is defined, it will append its content to the physical port description.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True  Port-Channel administrative state, Optional.setting to false will set port to \u2018shutdown\u2019 in intended configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0esi removed String    Format xxxx:xxxx:xxxx.This key was removed. Support was removed in AVD version 4.0.0. Use short_esi instead.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String    In format xxxx:xxxx:xxxx or \u201cauto\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lacp_fallback Dictionary    LACP fallback configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- static Currently only static mode is supported.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Integer    Timeout in seconds, Optional - default is 90 seconds.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0subinterfaces List, items: Dictionary    Port-Channel L2 SubinterfacesSubinterfaces are only supported on routed port-channels, which means they cannot be configured on MLAG port-channels.Setting short_esi: auto generates the short_esi automatically using a hash of configuration elements.Please see the notes under \u201cEVPN A/A ESI dual-attached endpoint scenario\u201d before setting short_esi: auto.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- number Integer    Subinterface number   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String    In format xxxx:xxxx:xxxx or \u201cauto\u201dRequired for multihomed port-channels with subinterfaces   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan_id Integer   Min: 1Max: 4094 VLAN ID to bridge.Default is subinterface number.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encapsulation_vlan Dictionary    Client VLAN ID encapsulation.Default is subinterface number.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0client_dot1q Integer   Min: 1Max: 4094    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String    EOS CLI rendered directly on the port-channel interface in the final EOS configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0structured_config Dictionary    Custom structured config added under port_channel_interfaces. for eos_cli_config_gen.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String    EOS CLI rendered directly on the ethernet interface in the final EOS configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0structured_config Dictionary    Custom structured config added under ethernet_interfaces. for eos_cli_config_gen.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0switch_ports List, items: String Required   List of switch interfaces.The lists <code>endpoint_ports</code>, <code>switch_ports</code>, and <code>switches</code> must have the same length.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Switchport interface.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0switches List, items: String Required   List of switches.The lists <code>endpoint_ports</code>, <code>switch_ports</code>, and <code>switches</code> must have the same length.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Device   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0server_ports removed List, items: String    This key was removed. Support was removed in AVD version 4.0.0. Use endpoint_ports instead.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Used for documentation purposes      <pre><code>&lt;connected_endpoints_keys.key&gt;:\n  - name: &lt;str&gt;\n    rack: &lt;str&gt;\n    adapters:\n      - endpoint_ports:\n          - &lt;str&gt;\n        speed: &lt;str&gt;\n        description: &lt;str&gt;\n        profile: &lt;str&gt;\n        enabled: &lt;bool&gt;\n        mode: &lt;str&gt;\n        mtu: &lt;int&gt;\n        l2_mtu: &lt;int&gt;\n        native_vlan: &lt;int&gt;\n        native_vlan_tag: &lt;bool&gt;\n        trunk_groups:\n          - &lt;str&gt;\n        vlans: &lt;str&gt;\n        spanning_tree_portfast: &lt;str&gt;\n        spanning_tree_bpdufilter: &lt;str&gt;\n        spanning_tree_bpduguard: &lt;str&gt;\n        flowcontrol:\n          received: &lt;str&gt;\n        qos_profile: &lt;str&gt;\n        ptp:\n          enable: &lt;bool&gt;\n          endpoint_role: &lt;str&gt;\n          profile: &lt;str&gt;\n        link_tracking:\n          enabled: &lt;bool&gt;\n          name: &lt;str&gt;\n        dot1x:\n          port_control: &lt;str&gt;\n          port_control_force_authorized_phone: &lt;bool&gt;\n          reauthentication: &lt;bool&gt;\n          pae:\n            mode: &lt;str&gt;\n          authentication_failure:\n            action: &lt;str&gt;\n            allow_vlan: &lt;int&gt;\n          host_mode:\n            mode: &lt;str&gt;\n            multi_host_authenticated: &lt;bool&gt;\n          mac_based_authentication:\n            enabled: &lt;bool&gt;\n            always: &lt;bool&gt;\n            host_mode_common: &lt;bool&gt;\n          timeout:\n            idle_host: &lt;int&gt;\n            quiet_period: &lt;int&gt;\n            reauth_period: &lt;str&gt;\n            reauth_timeout_ignore: &lt;bool&gt;\n            tx_period: &lt;int&gt;\n          reauthorization_request_limit: &lt;int&gt;\n        storm_control:\n          all:\n            level: &lt;int&gt;\n            unit: &lt;str&gt;\n          broadcast:\n            level: &lt;int&gt;\n            unit: &lt;str&gt;\n          multicast:\n            level: &lt;int&gt;\n            unit: &lt;str&gt;\n          unknown_unicast:\n            level: &lt;int&gt;\n            unit: &lt;str&gt;\n        monitor_sessions:\n          - name: &lt;str&gt;\n            role: &lt;str&gt;\n            source_settings:\n              direction: &lt;str&gt;\n              access_group:\n                type: &lt;str&gt;\n                name: &lt;str&gt;\n                priority: &lt;int&gt;\n            session_settings:\n              encapsulation_gre_metadata_tx: &lt;bool&gt;\n              header_remove_size: &lt;int&gt;\n              access_group:\n                type: &lt;str&gt;\n                name: &lt;str&gt;\n              rate_limit_per_ingress_chip: &lt;str&gt;\n              rate_limit_per_egress_chip: &lt;str&gt;\n              sample: &lt;int&gt;\n              truncate:\n                enabled: &lt;bool&gt;\n                size: &lt;int&gt;\n        ethernet_segment:\n          short_esi: &lt;str&gt;\n          redundancy: &lt;str&gt;\n          designated_forwarder_algorithm: &lt;str&gt;\n          designated_forwarder_preferences:\n            - &lt;str&gt;\n          dont_preempt: &lt;bool&gt;\n        port_channel:\n          mode: &lt;str&gt;\n          channel_id: &lt;int&gt;\n          description: &lt;str&gt;\n          enabled: &lt;bool&gt;\n          esi: &lt;str&gt;\n          short_esi: &lt;str&gt;\n          lacp_fallback:\n            mode: &lt;str&gt;\n            timeout: &lt;int&gt;\n          subinterfaces:\n            - number: &lt;int&gt;\n              short_esi: &lt;str&gt;\n              vlan_id: &lt;int&gt;\n              encapsulation_vlan:\n                client_dot1q: &lt;int&gt;\n          raw_eos_cli: &lt;str&gt;\n          structured_config:\n        raw_eos_cli: &lt;str&gt;\n        structured_config:\n        switch_ports:\n          - &lt;str&gt;\n        switches:\n          - &lt;str&gt;\n        server_ports:\n          - &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Connected%20Endpoints.html#connected-endpoints-keys","title":"Connected Endpoints Keys <p>Define connected endpoints keys to define the grouping of endpoints connecting to the fabric. This lets you specify various keys to better organize/group your data. The connected endpoints keys should be defined in the top level group_var for the fabric.</p> TableYAML      Variable Type Required Default Value Restrictions Description     connected_endpoints_keys List, items: Dictionary       \u00a0\u00a0- key String Required, Unique      \u00a0\u00a0\u00a0\u00a0type String    Type used for documentation.   \u00a0\u00a0\u00a0\u00a0description String    Description used for documentation.      <pre><code>connected_endpoints_keys:\n  - key: &lt;str&gt;\n    type: &lt;str&gt;\n    description: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Connected%20Endpoints.html#network-ports","title":"Network Ports <p>All switch_ports ranges are expanded into individual port configurations.</p> TableYAML      Variable Type Required Default Value Restrictions Description     network_ports List, items: Dictionary       \u00a0\u00a0- endpoint_ports List, items: String    Endpoint ports is used for description, required unless description is set.The lists <code>endpoint_ports</code>, <code>switch_ports</code>, and <code>switches</code> must have the same length.Each list item is one switchport.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Interface name.   \u00a0\u00a0\u00a0\u00a0speed String    Set adapter speed: <code>&lt; interface_speed &gt;</code>, <code>forced &lt; interface_speed &gt;</code>, <code>auto &lt; interface_speed &gt;</code>.If not specified will be auto.   \u00a0\u00a0\u00a0\u00a0description String    Description to be used on all ports.   \u00a0\u00a0\u00a0\u00a0profile String    Port-profile name to inherit configuration.   \u00a0\u00a0\u00a0\u00a0enabled Boolean  True  Administrative state, setting to false will set the port to \u2018shutdown\u2019 in the intended configuration.   \u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- access- dot1q-tunnel- trunk- trunk phone Interface mode.   \u00a0\u00a0\u00a0\u00a0mtu Integer   Min: 68Max: 65535    \u00a0\u00a0\u00a0\u00a0l2_mtu Integer   Min: 68Max: 9416 This should only be defined for platforms supporting the \u201cl2 mtu\u201d CLI command.   \u00a0\u00a0\u00a0\u00a0native_vlan Integer   Min: 1Max: 4094 Native VLAN for a trunk port.If both <code>native_vlan</code> and <code>native_vlan_tag</code>, <code>native_vlan_tag</code> takes precedence.   \u00a0\u00a0\u00a0\u00a0native_vlan_tag Boolean  False  If both <code>native_vlan</code> and <code>native_vlan_tag</code>, <code>native_vlan_tag</code> takes precedence.   \u00a0\u00a0\u00a0\u00a0trunk_groups List, items: String    Required with <code>enable_trunk_groups: true</code>.Trunk Groups are used for limiting VLANs on trunk ports to VLANs with the same Trunk Group.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0vlans String    Interface VLANs - if not set, the EOS default is that all VLANs are allowed for trunk ports, and VLAN 1 will be used for access ports.   \u00a0\u00a0\u00a0\u00a0spanning_tree_portfast String   Valid Values:- edge- network    \u00a0\u00a0\u00a0\u00a0spanning_tree_bpdufilter String   Valid Values:- enabled- disabled- True- False- true- false    \u00a0\u00a0\u00a0\u00a0spanning_tree_bpduguard String   Valid Values:- enabled- disabled- True- False- true- false    \u00a0\u00a0\u00a0\u00a0flowcontrol Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0received String   Valid Values:- received- send- on    \u00a0\u00a0\u00a0\u00a0qos_profile String    QOS profile name   \u00a0\u00a0\u00a0\u00a0ptp Dictionary    The global PTP profile parameters will be applied to all connected endpoints where <code>ptp</code> is manually enabled.<code>ptp role master</code> is set to ensure control over the PTP topology.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0endpoint_role String  follower Valid Values:- bmca- default- follower    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String  aes67-r16-2016 Valid Values:- aes67- aes67-r16-2016- smpte2059-2    \u00a0\u00a0\u00a0\u00a0link_tracking Dictionary    Configure the downstream interfaces of a respective Link Tracking Group.If <code>port_channel</code> is defined in an adapter, then the port-channel interface is configured to be the downstream.Else all the ethernet interfaces will be configured as downstream -&gt; to configure single-active EVPN multihomed networks.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String    Tracking group name.The default group name is taken from fabric variable of the switch, <code>link_tracking.groups[0].name</code> with default value being \u201cLT_GROUP1\u201d.Optional if default link_tracking settings are configured on the node.   \u00a0\u00a0\u00a0\u00a0dot1x Dictionary    802.1x   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_control String   Valid Values:- auto- force-authorized- force-unauthorized    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_control_force_authorized_phone Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauthentication Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0pae Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- authenticator    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0authentication_failure Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String   Valid Values:- allow- drop    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0allow_vlan Integer   Min: 1Max: 4094    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host_mode Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- multi-host- single-host    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multi_host_authenticated Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mac_based_authentication Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host_mode_common Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0idle_host Integer   Min: 10Max: 65535    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0quiet_period Integer   Min: 1Max: 65535    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauth_period String    Range 60-4294967295 or \u201cserver\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauth_timeout_ignore Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tx_period Integer   Min: 1Max: 65535    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauthorization_request_limit Integer   Min: 1Max: 10    \u00a0\u00a0\u00a0\u00a0storm_control Dictionary    Storm control settings applied on port toward the endpoint.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0broadcast Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multicast Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unknown_unicast Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0monitor_sessions List, items: Dictionary    Used to define switchports as source or destination for monitoring sessions.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required   Session name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0role String   Valid Values:- source- destination    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_settings Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction String   Valid Values:- rx- tx- both    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String   Valid Values:- ip- ipv6- mac    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String    ACL name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0session_settings Dictionary    Session settings are defined per session name.Different session_settings for the same session name will be combined/merged.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encapsulation_gre_metadata_tx Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0header_remove_size Integer    Number of bytes to remove from header.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String   Valid Values:- ip- ipv6- mac    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String    ACL name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate_limit_per_ingress_chip String    Ratelimit and unit as string.Examples:  \u201c100000 bps\u201d  \u201c100 kbps\u201d  \u201c10 mbps\u201d   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate_limit_per_egress_chip String    Ratelimit and unit as string.Examples:  \u201c100000 bps\u201d  \u201c100 kbps\u201d  \u201c10 mbps\u201d   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sample Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0truncate Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0size Integer    Size in bytes   \u00a0\u00a0\u00a0\u00a0ethernet_segment Dictionary    Settings for all or single-active EVPN multihoming.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String Required   In format xxxx:xxxx:xxxx or \u201cauto\u201d.Define a manual short-esi (be careful using this on profiles) or set the value to \u201cauto\u201d to automatically generate the value.Please see the notes under \u201cEVPN A/A ESI dual and single-attached endpoint scenarios\u201d before setting <code>short_esi: auto</code>.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0redundancy String   Valid Values:- all-active- single-active If omitted, Port-Channels use the EOS default of all-active.If omitted, Ethernet interfaces are configured as single-active.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0designated_forwarder_algorithm String   Valid Values:- auto- modulus- preference Configure DF algorithm and preferences.- auto: Use preference-based algorithm and assign preference based on position of device in the \u2018switches\u2019 list,  e.g., assuming a list of three switches, this would assign a preference of 200 to the first switch, 100 to the 2nd, and 0 to the third.- preference: Set preference for each switch manually using designated_forwarder_preferences key.- modulus: Use the default modulus-based algorithm.If omitted, Port-Channels use the EOS default of modulus.If omitted, Ethernet interfaces default to the \u2018auto\u2019 mechanism detailed above.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0designated_forwarder_preferences List, items: String    Manual preference as described above, required only for preference algorithm.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dont_preempt Boolean    Disable preemption for single-active forwarding when auto/manual DF preference is configured.   \u00a0\u00a0\u00a0\u00a0port_channel Dictionary    Used for port-channel adapter.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- active- passive- on Port-Channel Mode.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0channel_id Integer    Port-Channel ID, Optional.If no channel_id is specified, an id is generated from the first switch port in the port channel.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String    By default the description is built leveraging <code>&lt;peer&gt;</code> name or <code>adapter.description</code> when defined.When this key is defined, it will append its content to the physical port description.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True  Port-Channel administrative state, Optional.setting to false will set port to \u2018shutdown\u2019 in intended configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0esi removed String    Format xxxx:xxxx:xxxx.This key was removed. Support was removed in AVD version 4.0.0. Use short_esi instead.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String    In format xxxx:xxxx:xxxx or \u201cauto\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lacp_fallback Dictionary    LACP fallback configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- static Currently only static mode is supported.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Integer    Timeout in seconds, Optional - default is 90 seconds.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0subinterfaces List, items: Dictionary    Port-Channel L2 SubinterfacesSubinterfaces are only supported on routed port-channels, which means they cannot be configured on MLAG port-channels.Setting short_esi: auto generates the short_esi automatically using a hash of configuration elements.Please see the notes under \u201cEVPN A/A ESI dual-attached endpoint scenario\u201d before setting short_esi: auto.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- number Integer    Subinterface number   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String    In format xxxx:xxxx:xxxx or \u201cauto\u201dRequired for multihomed port-channels with subinterfaces   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan_id Integer   Min: 1Max: 4094 VLAN ID to bridge.Default is subinterface number.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encapsulation_vlan Dictionary    Client VLAN ID encapsulation.Default is subinterface number.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0client_dot1q Integer   Min: 1Max: 4094    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String    EOS CLI rendered directly on the port-channel interface in the final EOS configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0structured_config Dictionary    Custom structured config added under port_channel_interfaces. for eos_cli_config_gen.   \u00a0\u00a0\u00a0\u00a0raw_eos_cli String    EOS CLI rendered directly on the ethernet interface in the final EOS configuration.   \u00a0\u00a0\u00a0\u00a0structured_config Dictionary    Custom structured config added under ethernet_interfaces. for eos_cli_config_gen.   \u00a0\u00a0\u00a0\u00a0switches List, items: String    Regex matching the full hostname of one or more switches.The regular expression must match the full hostname.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0switch_ports List, items: String    List of ranges using AVD range_expand syntax.For example:switch_ports:  - Ethernet1  - Ethernet2-48   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String          <pre><code>network_ports:\n  - endpoint_ports:\n      - &lt;str&gt;\n    speed: &lt;str&gt;\n    description: &lt;str&gt;\n    profile: &lt;str&gt;\n    enabled: &lt;bool&gt;\n    mode: &lt;str&gt;\n    mtu: &lt;int&gt;\n    l2_mtu: &lt;int&gt;\n    native_vlan: &lt;int&gt;\n    native_vlan_tag: &lt;bool&gt;\n    trunk_groups:\n      - &lt;str&gt;\n    vlans: &lt;str&gt;\n    spanning_tree_portfast: &lt;str&gt;\n    spanning_tree_bpdufilter: &lt;str&gt;\n    spanning_tree_bpduguard: &lt;str&gt;\n    flowcontrol:\n      received: &lt;str&gt;\n    qos_profile: &lt;str&gt;\n    ptp:\n      enable: &lt;bool&gt;\n      endpoint_role: &lt;str&gt;\n      profile: &lt;str&gt;\n    link_tracking:\n      enabled: &lt;bool&gt;\n      name: &lt;str&gt;\n    dot1x:\n      port_control: &lt;str&gt;\n      port_control_force_authorized_phone: &lt;bool&gt;\n      reauthentication: &lt;bool&gt;\n      pae:\n        mode: &lt;str&gt;\n      authentication_failure:\n        action: &lt;str&gt;\n        allow_vlan: &lt;int&gt;\n      host_mode:\n        mode: &lt;str&gt;\n        multi_host_authenticated: &lt;bool&gt;\n      mac_based_authentication:\n        enabled: &lt;bool&gt;\n        always: &lt;bool&gt;\n        host_mode_common: &lt;bool&gt;\n      timeout:\n        idle_host: &lt;int&gt;\n        quiet_period: &lt;int&gt;\n        reauth_period: &lt;str&gt;\n        reauth_timeout_ignore: &lt;bool&gt;\n        tx_period: &lt;int&gt;\n      reauthorization_request_limit: &lt;int&gt;\n    storm_control:\n      all:\n        level: &lt;int&gt;\n        unit: &lt;str&gt;\n      broadcast:\n        level: &lt;int&gt;\n        unit: &lt;str&gt;\n      multicast:\n        level: &lt;int&gt;\n        unit: &lt;str&gt;\n      unknown_unicast:\n        level: &lt;int&gt;\n        unit: &lt;str&gt;\n    monitor_sessions:\n      - name: &lt;str&gt;\n        role: &lt;str&gt;\n        source_settings:\n          direction: &lt;str&gt;\n          access_group:\n            type: &lt;str&gt;\n            name: &lt;str&gt;\n            priority: &lt;int&gt;\n        session_settings:\n          encapsulation_gre_metadata_tx: &lt;bool&gt;\n          header_remove_size: &lt;int&gt;\n          access_group:\n            type: &lt;str&gt;\n            name: &lt;str&gt;\n          rate_limit_per_ingress_chip: &lt;str&gt;\n          rate_limit_per_egress_chip: &lt;str&gt;\n          sample: &lt;int&gt;\n          truncate:\n            enabled: &lt;bool&gt;\n            size: &lt;int&gt;\n    ethernet_segment:\n      short_esi: &lt;str&gt;\n      redundancy: &lt;str&gt;\n      designated_forwarder_algorithm: &lt;str&gt;\n      designated_forwarder_preferences:\n        - &lt;str&gt;\n      dont_preempt: &lt;bool&gt;\n    port_channel:\n      mode: &lt;str&gt;\n      channel_id: &lt;int&gt;\n      description: &lt;str&gt;\n      enabled: &lt;bool&gt;\n      esi: &lt;str&gt;\n      short_esi: &lt;str&gt;\n      lacp_fallback:\n        mode: &lt;str&gt;\n        timeout: &lt;int&gt;\n      subinterfaces:\n        - number: &lt;int&gt;\n          short_esi: &lt;str&gt;\n          vlan_id: &lt;int&gt;\n          encapsulation_vlan:\n            client_dot1q: &lt;int&gt;\n      raw_eos_cli: &lt;str&gt;\n      structured_config:\n    raw_eos_cli: &lt;str&gt;\n    structured_config:\n    switches:\n      - &lt;str&gt;\n    switch_ports:\n      - &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Connected%20Endpoints.html#port-profiles","title":"Port Profiles <p>Optional profiles to share common settings for connected_endpoints and/or network_ports. Keys are the same used under endpoints adapters. Keys defined under endpoints adapters take precedence.</p> TableYAML      Variable Type Required Default Value Restrictions Description     port_profiles List, items: Dictionary       \u00a0\u00a0- endpoint_ports List, items: String    Endpoint ports is used for description, required unless description is set.The lists <code>endpoint_ports</code>, <code>switch_ports</code>, and <code>switches</code> must have the same length.Each list item is one switchport.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Interface name.   \u00a0\u00a0\u00a0\u00a0speed String    Set adapter speed: <code>&lt; interface_speed &gt;</code>, <code>forced &lt; interface_speed &gt;</code>, <code>auto &lt; interface_speed &gt;</code>.If not specified will be auto.   \u00a0\u00a0\u00a0\u00a0description String    By default the description is built leveraging <code>&lt;peer&gt;_&lt;peer_interface&gt;</code>.When set this key will overide the default value on the physical ports.   \u00a0\u00a0\u00a0\u00a0profile String Required, Unique   Port profile name.   \u00a0\u00a0\u00a0\u00a0enabled Boolean  True  Administrative state, setting to false will set the port to \u2018shutdown\u2019 in the intended configuration.   \u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- access- dot1q-tunnel- trunk- trunk phone Interface mode.   \u00a0\u00a0\u00a0\u00a0mtu Integer   Min: 68Max: 65535    \u00a0\u00a0\u00a0\u00a0l2_mtu Integer   Min: 68Max: 9416 This should only be defined for platforms supporting the \u201cl2 mtu\u201d CLI command.   \u00a0\u00a0\u00a0\u00a0native_vlan Integer   Min: 1Max: 4094 Native VLAN for a trunk port.If both <code>native_vlan</code> and <code>native_vlan_tag</code>, <code>native_vlan_tag</code> takes precedence.   \u00a0\u00a0\u00a0\u00a0native_vlan_tag Boolean  False  If both <code>native_vlan</code> and <code>native_vlan_tag</code>, <code>native_vlan_tag</code> takes precedence.   \u00a0\u00a0\u00a0\u00a0trunk_groups List, items: String    Required with <code>enable_trunk_groups: true</code>.Trunk Groups are used for limiting VLANs on trunk ports to VLANs with the same Trunk Group.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0vlans String    Interface VLANs - if not set, the EOS default is that all VLANs are allowed for trunk ports, and VLAN 1 will be used for access ports.   \u00a0\u00a0\u00a0\u00a0spanning_tree_portfast String   Valid Values:- edge- network    \u00a0\u00a0\u00a0\u00a0spanning_tree_bpdufilter String   Valid Values:- enabled- disabled- True- False- true- false    \u00a0\u00a0\u00a0\u00a0spanning_tree_bpduguard String   Valid Values:- enabled- disabled- True- False- true- false    \u00a0\u00a0\u00a0\u00a0flowcontrol Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0received String   Valid Values:- received- send- on    \u00a0\u00a0\u00a0\u00a0qos_profile String    QOS profile name   \u00a0\u00a0\u00a0\u00a0ptp Dictionary    The global PTP profile parameters will be applied to all connected endpoints where <code>ptp</code> is manually enabled.<code>ptp role master</code> is set to ensure control over the PTP topology.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0endpoint_role String  follower Valid Values:- bmca- default- follower    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String  aes67-r16-2016 Valid Values:- aes67- aes67-r16-2016- smpte2059-2    \u00a0\u00a0\u00a0\u00a0link_tracking Dictionary    Configure the downstream interfaces of a respective Link Tracking Group.If <code>port_channel</code> is defined in an adapter, then the port-channel interface is configured to be the downstream.Else all the ethernet interfaces will be configured as downstream -&gt; to configure single-active EVPN multihomed networks.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String    Tracking group name.The default group name is taken from fabric variable of the switch, <code>link_tracking.groups[0].name</code> with default value being \u201cLT_GROUP1\u201d.Optional if default link_tracking settings are configured on the node.   \u00a0\u00a0\u00a0\u00a0dot1x Dictionary    802.1x   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_control String   Valid Values:- auto- force-authorized- force-unauthorized    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_control_force_authorized_phone Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauthentication Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0pae Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- authenticator    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0authentication_failure Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0action String   Valid Values:- allow- drop    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0allow_vlan Integer   Min: 1Max: 4094    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host_mode Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- multi-host- single-host    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multi_host_authenticated Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mac_based_authentication Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0host_mode_common Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0idle_host Integer   Min: 10Max: 65535    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0quiet_period Integer   Min: 1Max: 65535    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauth_period String    Range 60-4294967295 or \u201cserver\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauth_timeout_ignore Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tx_period Integer   Min: 1Max: 65535    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reauthorization_request_limit Integer   Min: 1Max: 10    \u00a0\u00a0\u00a0\u00a0storm_control Dictionary    Storm control settings applied on port toward the endpoint.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0all Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0broadcast Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0multicast Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unknown_unicast Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0level Integer    Configure maximum storm-control level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unit String  percent Valid Values:- percent- pps Optional variable and is hardware dependent.   \u00a0\u00a0\u00a0\u00a0monitor_sessions List, items: Dictionary    Used to define switchports as source or destination for monitoring sessions.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required   Session name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0role String   Valid Values:- source- destination    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_settings Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction String   Valid Values:- rx- tx- both    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String   Valid Values:- ip- ipv6- mac    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String    ACL name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0session_settings Dictionary    Session settings are defined per session name.Different session_settings for the same session name will be combined/merged.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encapsulation_gre_metadata_tx Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0header_remove_size Integer    Number of bytes to remove from header.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_group Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0type String   Valid Values:- ip- ipv6- mac    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String    ACL name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate_limit_per_ingress_chip String    Ratelimit and unit as string.Examples:  \u201c100000 bps\u201d  \u201c100 kbps\u201d  \u201c10 mbps\u201d   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rate_limit_per_egress_chip String    Ratelimit and unit as string.Examples:  \u201c100000 bps\u201d  \u201c100 kbps\u201d  \u201c10 mbps\u201d   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sample Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0truncate Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0size Integer    Size in bytes   \u00a0\u00a0\u00a0\u00a0ethernet_segment Dictionary    Settings for all or single-active EVPN multihoming.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String Required   In format xxxx:xxxx:xxxx or \u201cauto\u201d.Define a manual short-esi (be careful using this on profiles) or set the value to \u201cauto\u201d to automatically generate the value.Please see the notes under \u201cEVPN A/A ESI dual and single-attached endpoint scenarios\u201d before setting <code>short_esi: auto</code>.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0redundancy String   Valid Values:- all-active- single-active If omitted, Port-Channels use the EOS default of all-active.If omitted, Ethernet interfaces are configured as single-active.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0designated_forwarder_algorithm String   Valid Values:- auto- modulus- preference Configure DF algorithm and preferences.- auto: Use preference-based algorithm and assign preference based on position of device in the \u2018switches\u2019 list,  e.g., assuming a list of three switches, this would assign a preference of 200 to the first switch, 100 to the 2nd, and 0 to the third.- preference: Set preference for each switch manually using designated_forwarder_preferences key.- modulus: Use the default modulus-based algorithm.If omitted, Port-Channels use the EOS default of modulus.If omitted, Ethernet interfaces default to the \u2018auto\u2019 mechanism detailed above.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0designated_forwarder_preferences List, items: String    Manual preference as described above, required only for preference algorithm.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dont_preempt Boolean    Disable preemption for single-active forwarding when auto/manual DF preference is configured.   \u00a0\u00a0\u00a0\u00a0port_channel Dictionary    Used for port-channel adapter.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- active- passive- on Port-Channel Mode.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0channel_id Integer    Port-Channel ID, Optional.If no channel_id is specified, an id is generated from the first switch port in the port channel.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0description String    By default the description is built leveraging <code>&lt;peer&gt;</code> name or <code>adapter.description</code> when defined.When this key is defined, it will append its content to the physical port description.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True  Port-Channel administrative state, Optional.setting to false will set port to \u2018shutdown\u2019 in intended configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0esi removed String    Format xxxx:xxxx:xxxx.This key was removed. Support was removed in AVD version 4.0.0. Use short_esi instead.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String    In format xxxx:xxxx:xxxx or \u201cauto\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lacp_fallback Dictionary    LACP fallback configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String   Valid Values:- static Currently only static mode is supported.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0timeout Integer    Timeout in seconds, Optional - default is 90 seconds.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0subinterfaces List, items: Dictionary    Port-Channel L2 SubinterfacesSubinterfaces are only supported on routed port-channels, which means they cannot be configured on MLAG port-channels.Setting short_esi: auto generates the short_esi automatically using a hash of configuration elements.Please see the notes under \u201cEVPN A/A ESI dual-attached endpoint scenario\u201d before setting short_esi: auto.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- number Integer    Subinterface number   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String    In format xxxx:xxxx:xxxx or \u201cauto\u201dRequired for multihomed port-channels with subinterfaces   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vlan_id Integer   Min: 1Max: 4094 VLAN ID to bridge.Default is subinterface number.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encapsulation_vlan Dictionary    Client VLAN ID encapsulation.Default is subinterface number.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0client_dot1q Integer   Min: 1Max: 4094    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String    EOS CLI rendered directly on the port-channel interface in the final EOS configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0structured_config Dictionary    Custom structured config added under port_channel_interfaces. for eos_cli_config_gen.   \u00a0\u00a0\u00a0\u00a0raw_eos_cli String    EOS CLI rendered directly on the ethernet interface in the final EOS configuration.   \u00a0\u00a0\u00a0\u00a0structured_config Dictionary    Custom structured config added under ethernet_interfaces. for eos_cli_config_gen.   \u00a0\u00a0\u00a0\u00a0parent_profile String    Parent profile is optional.Port_profiles can refer to another port_profile to inherit settings in up to two levels (adapter-&gt;profile-&gt;parent_profile).      <pre><code>port_profiles:\n  - endpoint_ports:\n      - &lt;str&gt;\n    speed: &lt;str&gt;\n    description: &lt;str&gt;\n    profile: &lt;str&gt;\n    enabled: &lt;bool&gt;\n    mode: &lt;str&gt;\n    mtu: &lt;int&gt;\n    l2_mtu: &lt;int&gt;\n    native_vlan: &lt;int&gt;\n    native_vlan_tag: &lt;bool&gt;\n    trunk_groups:\n      - &lt;str&gt;\n    vlans: &lt;str&gt;\n    spanning_tree_portfast: &lt;str&gt;\n    spanning_tree_bpdufilter: &lt;str&gt;\n    spanning_tree_bpduguard: &lt;str&gt;\n    flowcontrol:\n      received: &lt;str&gt;\n    qos_profile: &lt;str&gt;\n    ptp:\n      enable: &lt;bool&gt;\n      endpoint_role: &lt;str&gt;\n      profile: &lt;str&gt;\n    link_tracking:\n      enabled: &lt;bool&gt;\n      name: &lt;str&gt;\n    dot1x:\n      port_control: &lt;str&gt;\n      port_control_force_authorized_phone: &lt;bool&gt;\n      reauthentication: &lt;bool&gt;\n      pae:\n        mode: &lt;str&gt;\n      authentication_failure:\n        action: &lt;str&gt;\n        allow_vlan: &lt;int&gt;\n      host_mode:\n        mode: &lt;str&gt;\n        multi_host_authenticated: &lt;bool&gt;\n      mac_based_authentication:\n        enabled: &lt;bool&gt;\n        always: &lt;bool&gt;\n        host_mode_common: &lt;bool&gt;\n      timeout:\n        idle_host: &lt;int&gt;\n        quiet_period: &lt;int&gt;\n        reauth_period: &lt;str&gt;\n        reauth_timeout_ignore: &lt;bool&gt;\n        tx_period: &lt;int&gt;\n      reauthorization_request_limit: &lt;int&gt;\n    storm_control:\n      all:\n        level: &lt;int&gt;\n        unit: &lt;str&gt;\n      broadcast:\n        level: &lt;int&gt;\n        unit: &lt;str&gt;\n      multicast:\n        level: &lt;int&gt;\n        unit: &lt;str&gt;\n      unknown_unicast:\n        level: &lt;int&gt;\n        unit: &lt;str&gt;\n    monitor_sessions:\n      - name: &lt;str&gt;\n        role: &lt;str&gt;\n        source_settings:\n          direction: &lt;str&gt;\n          access_group:\n            type: &lt;str&gt;\n            name: &lt;str&gt;\n            priority: &lt;int&gt;\n        session_settings:\n          encapsulation_gre_metadata_tx: &lt;bool&gt;\n          header_remove_size: &lt;int&gt;\n          access_group:\n            type: &lt;str&gt;\n            name: &lt;str&gt;\n          rate_limit_per_ingress_chip: &lt;str&gt;\n          rate_limit_per_egress_chip: &lt;str&gt;\n          sample: &lt;int&gt;\n          truncate:\n            enabled: &lt;bool&gt;\n            size: &lt;int&gt;\n    ethernet_segment:\n      short_esi: &lt;str&gt;\n      redundancy: &lt;str&gt;\n      designated_forwarder_algorithm: &lt;str&gt;\n      designated_forwarder_preferences:\n        - &lt;str&gt;\n      dont_preempt: &lt;bool&gt;\n    port_channel:\n      mode: &lt;str&gt;\n      channel_id: &lt;int&gt;\n      description: &lt;str&gt;\n      enabled: &lt;bool&gt;\n      esi: &lt;str&gt;\n      short_esi: &lt;str&gt;\n      lacp_fallback:\n        mode: &lt;str&gt;\n        timeout: &lt;int&gt;\n      subinterfaces:\n        - number: &lt;int&gt;\n          short_esi: &lt;str&gt;\n          vlan_id: &lt;int&gt;\n          encapsulation_vlan:\n            client_dot1q: &lt;int&gt;\n      raw_eos_cli: &lt;str&gt;\n      structured_config:\n    raw_eos_cli: &lt;str&gt;\n    structured_config:\n    parent_profile: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Core%20Interfaces.html","title":"Core Interfaces","text":"","boost":2},{"location":"roles/eos_designs/docs/Core%20Interfaces.html#core-interfaces_1","title":"Core Interfaces","text":"<p>The <code>core_interfaces</code> data model can be used to configure L3 P2P links anywhere in the fabric. It can be between two switches that are already part of the fabric inventory, or it can be towards another device, where only one end of the link is on a switch in the fabric.</p> TableYAML Variable Type Required Default Value Restrictions Description core_interfaces Dictionary \u00a0\u00a0p2p_links_ip_pools List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique P2P pool name. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4_pool String IPv4 address/Mask. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_size Integer 31 Min: 8Max: 31 Subnet mask size. \u00a0\u00a0p2p_links_profiles List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- id Integer Unique id per subnet_summary. Used to calculate ip addresses.Required with ip_pool. ID starting from 1. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0speed String The values can be speed or auto speed or forced speed. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_pool String P2P pool name. IP Pool defined under p2p_links_ip_pools. A /31 will be taken from the pool per P2P link \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0subnet String IPv4 address/Mask. Subnet used on this P2P link. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip List, items: String Specific IP addresses used on this P2P link. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Node IPv4 address/Mask. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6_enable Boolean False Allows turning on ipv6 for the link or profile (also autodetected based on underlay_rfc5549 and include_in_underlay_protocol). \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: String Nodes where this link should be configured. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The values can be &lt; node_a &gt;, &lt; node_b &gt;.ex.- [ core-1-isis-sr-ldp, core-2-ospf-ldp ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interfaces List, items: String Interfaces where this link should be configured and Required unless using port-channels. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The value can be like &lt; node_a_interface &gt;, &lt; node_b_interface &gt;.ex. - [ Ethernet2, Ethernet2 ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0as List, items: String AS numbers for BGP.Required with bgp peering. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The values can be like [\u201cnode_a_as\u201d, \u201cnode_b_as\u201d]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0descriptions List, items: String Interface description. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0include_in_underlay_protocol Boolean True Add this interface to underlay routing protocol. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_hello_padding Boolean False \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_metric Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_circuit_type String Valid Values:- level-1- level-2- level-1-2 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_authentication_mode String Valid Values:- md5- text \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_authentication_key String Type-7 encrypted password. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_ip Boolean MPLS parameters. Default value is true if switch.mpls_lsr is true. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_ldp Boolean MPLS parameters. Default value is true for ldp underlay variants, otherwise false. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mtu Integer MTU for this P2P link. Default value same as p2p_uplinks_mtu. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd Boolean False Enable BFD (only considered for BGP). \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ptp_enable Boolean False Enable PTP \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0qos_profile String QOS service profile. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0macsec_profile String MAC security profile. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_channel Dictionary Port-channel parameters. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String active \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes_child_interfaces List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- node String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interfaces List, items: String List of node interfaces. Ex.- [ \u2018node1 interface1\u2019, \u2018node1 interface2\u2019 ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String EOS CLI rendered directly on the point-to-point interface in the final EOS configuration. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String Required, Unique P2P profile name. Any variable supported under p2p_links can be inherited from a profile. \u00a0\u00a0p2p_links List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- id Integer Unique id per subnet_summary. Used to calculate ip addresses.Required with ip_pool. ID starting from 1. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0speed String The values can be speed or auto speed or forced speed. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_pool String P2P pool name. IP Pool defined under p2p_links_ip_pools. A /31 will be taken from the pool per P2P link \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0subnet String IPv4 address/Mask. Subnet used on this P2P link. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip List, items: String Specific IP addresses used on this P2P link. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Node IPv4 address/Mask. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6_enable Boolean False Allows turning on ipv6 for the link or profile (also autodetected based on underlay_rfc5549 and include_in_underlay_protocol). \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: String Required Nodes where this link should be configured. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The values can be &lt; node_a &gt;, &lt; node_b &gt;.ex.- [ core-1-isis-sr-ldp, core-2-ospf-ldp ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interfaces List, items: String Interfaces where this link should be configured and Required unless using port-channels. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The value can be like &lt; node_a_interface &gt;, &lt; node_b_interface &gt;.ex. - [ Ethernet2, Ethernet2 ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0as List, items: String AS numbers for BGP.Required with bgp peering. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The values can be like [\u201cnode_a_as\u201d, \u201cnode_b_as\u201d]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0descriptions List, items: String Interface description. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0include_in_underlay_protocol Boolean True Add this interface to underlay routing protocol. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_hello_padding Boolean False \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_metric Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_circuit_type String Valid Values:- level-1- level-2- level-1-2 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_authentication_mode String Valid Values:- md5- text \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_authentication_key String Type-7 encrypted password. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_ip Boolean MPLS parameters. Default value is true if switch.mpls_lsr is true. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_ldp Boolean MPLS parameters. Default value is true for ldp underlay variants, otherwise false. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mtu Integer MTU for this P2P link. Default value same as p2p_uplinks_mtu. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd Boolean False Enable BFD (only considered for BGP). \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ptp_enable Boolean False Enable PTP \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0qos_profile String QOS service profile. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0macsec_profile String MAC security profile. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_channel Dictionary Port-channel parameters. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String active \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes_child_interfaces List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- node String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interfaces List, items: String List of node interfaces. Ex.- [ \u2018node1 interface1\u2019, \u2018node1 interface2\u2019 ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String EOS CLI rendered directly on the point-to-point interface in the final EOS configuration. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String P2P profile name. Profile defined under p2p_profiles. <pre><code>core_interfaces:\np2p_links_ip_pools:\n- name: &lt;str&gt;\nipv4_pool: &lt;str&gt;\nprefix_size: &lt;int&gt;\np2p_links_profiles:\n- id: &lt;int&gt;\nspeed: &lt;str&gt;\nip_pool: &lt;str&gt;\nsubnet: &lt;str&gt;\nip:\n- &lt;str&gt;\nipv6_enable: &lt;bool&gt;\nnodes:\n- &lt;str&gt;\ninterfaces:\n- &lt;str&gt;\nas:\n- &lt;str&gt;\ndescriptions:\n- &lt;str&gt;\ninclude_in_underlay_protocol: &lt;bool&gt;\nisis_hello_padding: &lt;bool&gt;\nisis_metric: &lt;int&gt;\nisis_circuit_type: &lt;str&gt;\nisis_authentication_mode: &lt;str&gt;\nisis_authentication_key: &lt;str&gt;\nmpls_ip: &lt;bool&gt;\nmpls_ldp: &lt;bool&gt;\nmtu: &lt;int&gt;\nbfd: &lt;bool&gt;\nptp_enable: &lt;bool&gt;\nqos_profile: &lt;str&gt;\nmacsec_profile: &lt;str&gt;\nport_channel:\nmode: &lt;str&gt;\nnodes_child_interfaces:\n- node: &lt;str&gt;\ninterfaces:\n- &lt;str&gt;\nraw_eos_cli: &lt;str&gt;\nname: &lt;str&gt;\np2p_links:\n- id: &lt;int&gt;\nspeed: &lt;str&gt;\nip_pool: &lt;str&gt;\nsubnet: &lt;str&gt;\nip:\n- &lt;str&gt;\nipv6_enable: &lt;bool&gt;\nnodes:\n- &lt;str&gt;\ninterfaces:\n- &lt;str&gt;\nas:\n- &lt;str&gt;\ndescriptions:\n- &lt;str&gt;\ninclude_in_underlay_protocol: &lt;bool&gt;\nisis_hello_padding: &lt;bool&gt;\nisis_metric: &lt;int&gt;\nisis_circuit_type: &lt;str&gt;\nisis_authentication_mode: &lt;str&gt;\nisis_authentication_key: &lt;str&gt;\nmpls_ip: &lt;bool&gt;\nmpls_ldp: &lt;bool&gt;\nmtu: &lt;int&gt;\nbfd: &lt;bool&gt;\nptp_enable: &lt;bool&gt;\nqos_profile: &lt;str&gt;\nmacsec_profile: &lt;str&gt;\nport_channel:\nmode: &lt;str&gt;\nnodes_child_interfaces:\n- node: &lt;str&gt;\ninterfaces:\n- &lt;str&gt;\nraw_eos_cli: &lt;str&gt;\nprofile: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html","title":"Fabric Topology","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#_1","title":"TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- group String Required, Unique   The Node Group Name is used for MLAG domain unless set with \u2018mlag_domain_id\u2019.The Node Group Name is also used for peer description on downstream switches\u2019 uplinks.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String Required, Unique   The Node Name is used as \u201chostname\u201d.   \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- name String Required, Unique   The Node Name is used as \u201chostname\u201d.      <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n  node_groups:\n    - group: &lt;str&gt;\n      nodes:\n        - name: &lt;str&gt;\n  nodes:\n    - name: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#bgp-evpn-control-plane","title":"BGP &amp; EVPN control plane TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0bgp_as String    Required with eBGP.   \u00a0\u00a0\u00a0\u00a0bgp_defaults List, items: String    List of EOS commands to apply to BGP daemon.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0evpn_role String   Valid Values:- client- server- none Acting role in EVPN control plane. Default is set in node_type definition from node_type_keys.   \u00a0\u00a0\u00a0\u00a0evpn_route_servers List, items: String    List of nodes acting as EVPN Route-Servers / Route-Reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- bgp_as String    Required with eBGP.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_defaults List, items: String    List of EOS commands to apply to BGP daemon.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_role String   Valid Values:- client- server- none Acting role in EVPN control plane. Default is set in node_type definition from node_type_keys.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_route_servers List, items: String    List of nodes acting as EVPN Route-Servers / Route-Reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- bgp_as String    Required with eBGP.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_defaults List, items: String    List of EOS commands to apply to BGP daemon.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_role String   Valid Values:- client- server- none Acting role in EVPN control plane. Default is set in node_type definition from node_type_keys.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_route_servers List, items: String    List of nodes acting as EVPN Route-Servers / Route-Reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- bgp_as String    Required with eBGP.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_defaults List, items: String    List of EOS commands to apply to BGP daemon.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_role String   Valid Values:- client- server- none Acting role in EVPN control plane. Default is set in node_type definition from node_type_keys.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_route_servers List, items: String    List of nodes acting as EVPN Route-Servers / Route-Reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String          <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    bgp_as: &lt;str&gt;\n    bgp_defaults:\n      - &lt;str&gt;\n    evpn_role: &lt;str&gt;\n    evpn_route_servers:\n      - &lt;str&gt;\n  node_groups:\n    - bgp_as: &lt;str&gt;\n      bgp_defaults:\n        - &lt;str&gt;\n      evpn_role: &lt;str&gt;\n      evpn_route_servers:\n        - &lt;str&gt;\n      nodes:\n        - bgp_as: &lt;str&gt;\n          bgp_defaults:\n            - &lt;str&gt;\n          evpn_role: &lt;str&gt;\n          evpn_route_servers:\n            - &lt;str&gt;\n  nodes:\n    - bgp_as: &lt;str&gt;\n      bgp_defaults:\n        - &lt;str&gt;\n      evpn_role: &lt;str&gt;\n      evpn_route_servers:\n        - &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#bgp-evpn-multi-domain-gateway","title":"BGP &amp; EVPN multi-domain gateway TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0evpn_gateway Dictionary    Node is acting as EVPN Multi-Domain Gateway.New BGP peer-group is generated between EVPN GWs in different domains or between GWs and Route Servers.Name can be changed under \u201cbgp_peer_groups.evpn_overlay_core\u201d variable.L3 rechability for different EVPN GWs must be already in place, it is recommended to use DCI &amp; L3 Edge if Route Servers and GWs are not defined under the same Ansible inventory.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_peers List, items: Dictionary    Define remote peers of the EVPN VXLAN Gateway.If the hostname can be found in the inventory, ip_address and BGP ASN will be automatically populated. Manual override takes precedence.If the peer\u2019s hostname can not be found in the inventory, ip_address and bgp_as must be defined.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- hostname String    Hostname of remote EVPN GW server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_address String   Format: ipv4 Peering IP of remote Route Server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_as String    BGP ASN of remote Route Server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_l2 Dictionary    Enable EVPN Gateway functionality for route-types 2 (MAC-IP) and 3 (IMET).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_l3 Dictionary    Enable EVPN Gateway functionality for route-type 5 (IP-PREFIX).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inter_domain Boolean  True     \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- evpn_gateway Dictionary    Node is acting as EVPN Multi-Domain Gateway.New BGP peer-group is generated between EVPN GWs in different domains or between GWs and Route Servers.Name can be changed under \u201cbgp_peer_groups.evpn_overlay_core\u201d variable.L3 rechability for different EVPN GWs must be already in place, it is recommended to use DCI &amp; L3 Edge if Route Servers and GWs are not defined under the same Ansible inventory.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_peers List, items: Dictionary    Define remote peers of the EVPN VXLAN Gateway.If the hostname can be found in the inventory, ip_address and BGP ASN will be automatically populated. Manual override takes precedence.If the peer\u2019s hostname can not be found in the inventory, ip_address and bgp_as must be defined.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- hostname String    Hostname of remote EVPN GW server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_address String   Format: ipv4 Peering IP of remote Route Server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_as String    BGP ASN of remote Route Server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_l2 Dictionary    Enable EVPN Gateway functionality for route-types 2 (MAC-IP) and 3 (IMET).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_l3 Dictionary    Enable EVPN Gateway functionality for route-type 5 (IP-PREFIX).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inter_domain Boolean  True     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- evpn_gateway Dictionary    Node is acting as EVPN Multi-Domain Gateway.New BGP peer-group is generated between EVPN GWs in different domains or between GWs and Route Servers.Name can be changed under \u201cbgp_peer_groups.evpn_overlay_core\u201d variable.L3 rechability for different EVPN GWs must be already in place, it is recommended to use DCI &amp; L3 Edge if Route Servers and GWs are not defined under the same Ansible inventory.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_peers List, items: Dictionary    Define remote peers of the EVPN VXLAN Gateway.If the hostname can be found in the inventory, ip_address and BGP ASN will be automatically populated. Manual override takes precedence.If the peer\u2019s hostname can not be found in the inventory, ip_address and bgp_as must be defined.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- hostname String    Hostname of remote EVPN GW server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_address String   Format: ipv4 Peering IP of remote Route Server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_as String    BGP ASN of remote Route Server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_l2 Dictionary    Enable EVPN Gateway functionality for route-types 2 (MAC-IP) and 3 (IMET).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_l3 Dictionary    Enable EVPN Gateway functionality for route-type 5 (IP-PREFIX).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inter_domain Boolean  True     \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- evpn_gateway Dictionary    Node is acting as EVPN Multi-Domain Gateway.New BGP peer-group is generated between EVPN GWs in different domains or between GWs and Route Servers.Name can be changed under \u201cbgp_peer_groups.evpn_overlay_core\u201d variable.L3 rechability for different EVPN GWs must be already in place, it is recommended to use DCI &amp; L3 Edge if Route Servers and GWs are not defined under the same Ansible inventory.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_peers List, items: Dictionary    Define remote peers of the EVPN VXLAN Gateway.If the hostname can be found in the inventory, ip_address and BGP ASN will be automatically populated. Manual override takes precedence.If the peer\u2019s hostname can not be found in the inventory, ip_address and bgp_as must be defined.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- hostname String    Hostname of remote EVPN GW server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_address String   Format: ipv4 Peering IP of remote Route Server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_as String    BGP ASN of remote Route Server.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_l2 Dictionary    Enable EVPN Gateway functionality for route-types 2 (MAC-IP) and 3 (IMET).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_l3 Dictionary    Enable EVPN Gateway functionality for route-type 5 (IP-PREFIX).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inter_domain Boolean  True        <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    evpn_gateway:\n      remote_peers:\n        - hostname: &lt;str&gt;\n          ip_address: &lt;str&gt;\n          bgp_as: &lt;str&gt;\n      evpn_l2:\n        enabled: &lt;bool&gt;\n      evpn_l3:\n        enabled: &lt;bool&gt;\n        inter_domain: &lt;bool&gt;\n  node_groups:\n    - evpn_gateway:\n        remote_peers:\n          - hostname: &lt;str&gt;\n            ip_address: &lt;str&gt;\n            bgp_as: &lt;str&gt;\n        evpn_l2:\n          enabled: &lt;bool&gt;\n        evpn_l3:\n          enabled: &lt;bool&gt;\n          inter_domain: &lt;bool&gt;\n      nodes:\n        - evpn_gateway:\n            remote_peers:\n              - hostname: &lt;str&gt;\n                ip_address: &lt;str&gt;\n                bgp_as: &lt;str&gt;\n            evpn_l2:\n              enabled: &lt;bool&gt;\n            evpn_l3:\n              enabled: &lt;bool&gt;\n              inter_domain: &lt;bool&gt;\n  nodes:\n    - evpn_gateway:\n        remote_peers:\n          - hostname: &lt;str&gt;\n            ip_address: &lt;str&gt;\n            bgp_as: &lt;str&gt;\n        evpn_l2:\n          enabled: &lt;bool&gt;\n        evpn_l3:\n          enabled: &lt;bool&gt;\n          inter_domain: &lt;bool&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#bgp-ip-vpn-gateway","title":"BGP &amp; IP-VPN gateway TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0ipvpn_gateway Dictionary    Node is acting as IP-VPN Gateway for EVPN to MPLS-IP-VPN Interworking. The BGP peer group used for this is \u201cbgp_peer_groups.ipvpn_gateway_peers\u201d.L3 Reachability is required for this to work, the preferred method to establish underlay connectivity is to use core_interfaces.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean Required      \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_domain_id String  65535:1  Domain ID to assign to EVPN address family for use with D-path. Format :.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipvpn_domain_id String  65535:2  Domain ID to assign to IPVPN address families for use with D-path. Format :.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable_d_path Boolean  True  Enable D-path for use with BGP bestpath selection algorithm.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes Integer  0  Maximum routes to accept from IPVPN remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_as String  none  Apply local-as to peering with IPVPN remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address_families List, items: String  [\u2018vpn-ipv4\u2019]  IPVPN address families to enable for remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_peers List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- hostname String Required   Hostname of remote IPVPN Peer.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_address String Required  Format: ipv4 Peering IP of remote IPVPN Peer.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_as String Required   BGP ASN of remote IPVPN Peer.   \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- ipvpn_gateway Dictionary    Node is acting as IP-VPN Gateway for EVPN to MPLS-IP-VPN Interworking. The BGP peer group used for this is \u201cbgp_peer_groups.ipvpn_gateway_peers\u201d.L3 Reachability is required for this to work, the preferred method to establish underlay connectivity is to use core_interfaces.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean Required      \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_domain_id String  65535:1  Domain ID to assign to EVPN address family for use with D-path. Format :.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipvpn_domain_id String  65535:2  Domain ID to assign to IPVPN address families for use with D-path. Format :.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable_d_path Boolean  True  Enable D-path for use with BGP bestpath selection algorithm.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes Integer  0  Maximum routes to accept from IPVPN remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_as String  none  Apply local-as to peering with IPVPN remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address_families List, items: String  [\u2018vpn-ipv4\u2019]  IPVPN address families to enable for remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_peers List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- hostname String Required   Hostname of remote IPVPN Peer.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_address String Required  Format: ipv4 Peering IP of remote IPVPN Peer.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_as String Required   BGP ASN of remote IPVPN Peer.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ipvpn_gateway Dictionary    Node is acting as IP-VPN Gateway for EVPN to MPLS-IP-VPN Interworking. The BGP peer group used for this is \u201cbgp_peer_groups.ipvpn_gateway_peers\u201d.L3 Reachability is required for this to work, the preferred method to establish underlay connectivity is to use core_interfaces.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean Required      \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_domain_id String  65535:1  Domain ID to assign to EVPN address family for use with D-path. Format :.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipvpn_domain_id String  65535:2  Domain ID to assign to IPVPN address families for use with D-path. Format :.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable_d_path Boolean  True  Enable D-path for use with BGP bestpath selection algorithm.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes Integer  0  Maximum routes to accept from IPVPN remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_as String  none  Apply local-as to peering with IPVPN remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address_families List, items: String  [\u2018vpn-ipv4\u2019]  IPVPN address families to enable for remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_peers List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- hostname String Required   Hostname of remote IPVPN Peer.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_address String Required  Format: ipv4 Peering IP of remote IPVPN Peer.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_as String Required   BGP ASN of remote IPVPN Peer.   \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- ipvpn_gateway Dictionary    Node is acting as IP-VPN Gateway for EVPN to MPLS-IP-VPN Interworking. The BGP peer group used for this is \u201cbgp_peer_groups.ipvpn_gateway_peers\u201d.L3 Reachability is required for this to work, the preferred method to establish underlay connectivity is to use core_interfaces.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean Required      \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0evpn_domain_id String  65535:1  Domain ID to assign to EVPN address family for use with D-path. Format :.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipvpn_domain_id String  65535:2  Domain ID to assign to IPVPN address families for use with D-path. Format :.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable_d_path Boolean  True  Enable D-path for use with BGP bestpath selection algorithm.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0maximum_routes Integer  0  Maximum routes to accept from IPVPN remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0local_as String  none  Apply local-as to peering with IPVPN remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0address_families List, items: String  [\u2018vpn-ipv4\u2019]  IPVPN address families to enable for remote peers.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0remote_peers List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- hostname String Required   Hostname of remote IPVPN Peer.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_address String Required  Format: ipv4 Peering IP of remote IPVPN Peer.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_as String Required   BGP ASN of remote IPVPN Peer.      <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    ipvpn_gateway:\n      enabled: &lt;bool&gt;\n      evpn_domain_id: &lt;str&gt;\n      ipvpn_domain_id: &lt;str&gt;\n      enable_d_path: &lt;bool&gt;\n      maximum_routes: &lt;int&gt;\n      local_as: &lt;str&gt;\n      address_families:\n        - &lt;str&gt;\n      remote_peers:\n        - hostname: &lt;str&gt;\n          ip_address: &lt;str&gt;\n          bgp_as: &lt;str&gt;\n  node_groups:\n    - ipvpn_gateway:\n        enabled: &lt;bool&gt;\n        evpn_domain_id: &lt;str&gt;\n        ipvpn_domain_id: &lt;str&gt;\n        enable_d_path: &lt;bool&gt;\n        maximum_routes: &lt;int&gt;\n        local_as: &lt;str&gt;\n        address_families:\n          - &lt;str&gt;\n        remote_peers:\n          - hostname: &lt;str&gt;\n            ip_address: &lt;str&gt;\n            bgp_as: &lt;str&gt;\n      nodes:\n        - ipvpn_gateway:\n            enabled: &lt;bool&gt;\n            evpn_domain_id: &lt;str&gt;\n            ipvpn_domain_id: &lt;str&gt;\n            enable_d_path: &lt;bool&gt;\n            maximum_routes: &lt;int&gt;\n            local_as: &lt;str&gt;\n            address_families:\n              - &lt;str&gt;\n            remote_peers:\n              - hostname: &lt;str&gt;\n                ip_address: &lt;str&gt;\n                bgp_as: &lt;str&gt;\n  nodes:\n    - ipvpn_gateway:\n        enabled: &lt;bool&gt;\n        evpn_domain_id: &lt;str&gt;\n        ipvpn_domain_id: &lt;str&gt;\n        enable_d_path: &lt;bool&gt;\n        maximum_routes: &lt;int&gt;\n        local_as: &lt;str&gt;\n        address_families:\n          - &lt;str&gt;\n        remote_peers:\n          - hostname: &lt;str&gt;\n            ip_address: &lt;str&gt;\n            bgp_as: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#default-interfaces","title":"Default Interfaces <ul> <li>Set default uplink, downlink, and MLAG interfaces, which will be used if these interfaces are not defined on a device (either directly or through inheritance).</li> <li>These are defined based on the combination of node_type (e.g., l3leaf or spine) and a regex for matching the platform.</li> <li>A list of interfaces or interface ranges can be specified.</li> <li>Each list item supports range syntax that can be expanded into a list of interfaces. Interface range examples:<ul> <li>Ethernet49-52/1: Expands to [ Ethernet49/1, Ethernet50/1, Ethernet51/1, Ethernet52/1 ]</li> <li>Ethernet1/31-34/1: Expands to [ Ethernet1/31/1, Ethernet1/32/1, Ethernet1/33/1, Ethernet1/34/1 ]</li> <li>Ethernet49-50,53-54: Expands to [ Ethernet49, Ethernet50, Ethernet53, Ethernet54 ]</li> <li>Ethernet1-2/1-4: Expands to [ Ethernet1/1, Ethernet1/2, Ethernet1/3, Ethernet1/4, Ethernet2/1, Ethernet2/2, Ethernet2/3, Ethernet2/4 ]</li> </ul> </li> <li><code>uplink_interfaces</code> and <code>mlag_interfaces</code> under <code>default_interfaces</code> are directly inherited by <code>uplink_interfaces</code> and <code>mlag_interfaces</code>.</li> <li><code>downlink_interfaces</code> are referenced by the child switch (e.g., the leaf in a leaf/spine network). The child switch leverages an upstream switch\u2019s <code>default_downlink_interfaces</code> using the child switch ID.  This is then used to build <code>uplink_switch_interfaces</code> for that child.<ul> <li>In the case of <code>max_parallel_uplinks</code> &gt; 1 the <code>default_downlink_interfaces</code> are mapped with consecutive downlinks per child ID.</li> <li>Example for <code>max_parallel_uplinks: 2</code>, downlink interfaces will be mapped as <code>[ &lt;downlink1 to leaf-id1&gt;, &lt;downlink2 to leaf-id1&gt;, &lt;downlink1 to leaf-id2&gt;, &lt;downlink2 to leaf-id2&gt; ...]</code></li> </ul> </li> <li>Please note that no default interfaces are defined in AVD itself. You will need to create your own based on the example below.</li> </ul> <p>Example:</p> <pre><code>default_interfaces:\n  - types: [ spine, l3leaf ]\n    platforms: [ \"7050[SC]X3\", vEOS.*, default ]\n    uplink_interfaces: [ Ethernet49-54/1 ]\n    mlag_interfaces: [ Ethernet55-56/1 ]\n    downlink_interfaces: [ Ethernet1-32/1 ]\n</code></pre> TableYAML      Variable Type Required Default Value Restrictions Description     default_interfaces List, items: Dictionary       \u00a0\u00a0- types List, items: String Required   List of node type keys.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0platforms List, items: String Required   List of platform families.This is defined as a Python regular expression that matches the full platform type.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Arista platform family regular expression.   \u00a0\u00a0\u00a0\u00a0uplink_interfaces List, items: String    List of uplink interfaces or uplink interface ranges.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Interface range or interface.   \u00a0\u00a0\u00a0\u00a0mlag_interfaces List, items: String    List of MLAG interfaces or MLAG interface ranges.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Interface range or interface.   \u00a0\u00a0\u00a0\u00a0downlink_interfaces List, items: String    List of downlink interfaces or downlink interface ranges.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Interface range or interface.      <pre><code>default_interfaces:\n  - types:\n      - &lt;str&gt;\n    platforms:\n      - &lt;str&gt;\n    uplink_interfaces:\n      - &lt;str&gt;\n    mlag_interfaces:\n      - &lt;str&gt;\n    downlink_interfaces:\n      - &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#design-variables","title":"Design Variables TableYAML      Variable Type Required Default Value Restrictions Description     design Dictionary       \u00a0\u00a0type String  l3ls-evpn Valid Values:- l3ls-evpn- mpls- l2ls By setting the design.type variable, the default node-types and templates described in these documents will be used.      <pre><code>design:\n  type: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#evpn-services-management","title":"EVPN services management TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0evpn_services_l2_only Boolean  False  Possibility to prevent configuration of Tenant VRFs and SVIs.Override node definition \u201cnetwork_services_l3\u201d from node_type_keys.This allows support for centralized routing.   \u00a0\u00a0\u00a0\u00a0filter Dictionary    Filter L3 and L2 network services based on tenant and tags (and operation filter).If filter is not defined it will default to all.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tenants List, items: String  [\u2018all\u2019]     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tags List, items: String  [\u2018all\u2019]     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always_include_vrfs_in_tenants List, items: String    List of tenants where VRFs will be configured even if VLANs are not included in tagsUseful for L3 \u201cborder\u201d leaf.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0only_vlans_in_use Boolean  False  Only configure VLANs, SVIs, VRFs in use by connected endpoints or downstream L2 switches.Note! This feature only considers configuration managed by eos_designs.This excludes structured_config, custom_structured_configuration_, raw_eos_cli, eos_cli, custom templates, configlets etc.   \u00a0\u00a0\u00a0\u00a0igmp_snooping_enabled Boolean  True  Activate or deactivate IGMP snooping on device level.   \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- evpn_services_l2_only Boolean  False  Possibility to prevent configuration of Tenant VRFs and SVIs.Override node definition \u201cnetwork_services_l3\u201d from node_type_keys.This allows support for centralized routing.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0filter Dictionary    Filter L3 and L2 network services based on tenant and tags (and operation filter).If filter is not defined it will default to all.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tenants List, items: String  [\u2018all\u2019]     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tags List, items: String  [\u2018all\u2019]     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always_include_vrfs_in_tenants List, items: String    List of tenants where VRFs will be configured even if VLANs are not included in tagsUseful for L3 \u201cborder\u201d leaf.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0only_vlans_in_use Boolean  False  Only configure VLANs, SVIs, VRFs in use by connected endpoints or downstream L2 switches.Note! This feature only considers configuration managed by eos_designs.This excludes structured_config, custom_structured_configuration_, raw_eos_cli, eos_cli, custom templates, configlets etc.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0igmp_snooping_enabled Boolean  True  Activate or deactivate IGMP snooping on device level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- evpn_services_l2_only Boolean  False  Possibility to prevent configuration of Tenant VRFs and SVIs.Override node definition \u201cnetwork_services_l3\u201d from node_type_keys.This allows support for centralized routing.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0filter Dictionary    Filter L3 and L2 network services based on tenant and tags (and operation filter).If filter is not defined it will default to all.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tenants List, items: String  [\u2018all\u2019]     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tags List, items: String  [\u2018all\u2019]     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always_include_vrfs_in_tenants List, items: String    List of tenants where VRFs will be configured even if VLANs are not included in tagsUseful for L3 \u201cborder\u201d leaf.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0only_vlans_in_use Boolean  False  Only configure VLANs, SVIs, VRFs in use by connected endpoints or downstream L2 switches.Note! This feature only considers configuration managed by eos_designs.This excludes structured_config, custom_structured_configuration_, raw_eos_cli, eos_cli, custom templates, configlets etc.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0igmp_snooping_enabled Boolean  True  Activate or deactivate IGMP snooping on device level.   \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- evpn_services_l2_only Boolean  False  Possibility to prevent configuration of Tenant VRFs and SVIs.Override node definition \u201cnetwork_services_l3\u201d from node_type_keys.This allows support for centralized routing.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0filter Dictionary    Filter L3 and L2 network services based on tenant and tags (and operation filter).If filter is not defined it will default to all.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tenants List, items: String  [\u2018all\u2019]     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tags List, items: String  [\u2018all\u2019]     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always_include_vrfs_in_tenants List, items: String    List of tenants where VRFs will be configured even if VLANs are not included in tagsUseful for L3 \u201cborder\u201d leaf.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0only_vlans_in_use Boolean  False  Only configure VLANs, SVIs, VRFs in use by connected endpoints or downstream L2 switches.Note! This feature only considers configuration managed by eos_designs.This excludes structured_config, custom_structured_configuration_, raw_eos_cli, eos_cli, custom templates, configlets etc.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0igmp_snooping_enabled Boolean  True  Activate or deactivate IGMP snooping on device level.      <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    evpn_services_l2_only: &lt;bool&gt;\n    filter:\n      tenants:\n        - &lt;str&gt;\n      tags:\n        - &lt;str&gt;\n      always_include_vrfs_in_tenants:\n        - &lt;str&gt;\n      only_vlans_in_use: &lt;bool&gt;\n    igmp_snooping_enabled: &lt;bool&gt;\n  node_groups:\n    - evpn_services_l2_only: &lt;bool&gt;\n      filter:\n        tenants:\n          - &lt;str&gt;\n        tags:\n          - &lt;str&gt;\n        always_include_vrfs_in_tenants:\n          - &lt;str&gt;\n        only_vlans_in_use: &lt;bool&gt;\n      igmp_snooping_enabled: &lt;bool&gt;\n      nodes:\n        - evpn_services_l2_only: &lt;bool&gt;\n          filter:\n            tenants:\n              - &lt;str&gt;\n            tags:\n              - &lt;str&gt;\n            always_include_vrfs_in_tenants:\n              - &lt;str&gt;\n            only_vlans_in_use: &lt;bool&gt;\n          igmp_snooping_enabled: &lt;bool&gt;\n  nodes:\n    - evpn_services_l2_only: &lt;bool&gt;\n      filter:\n        tenants:\n          - &lt;str&gt;\n        tags:\n          - &lt;str&gt;\n        always_include_vrfs_in_tenants:\n          - &lt;str&gt;\n        only_vlans_in_use: &lt;bool&gt;\n      igmp_snooping_enabled: &lt;bool&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#generic-configuration-management","title":"Generic configuration management TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0id Integer    Unique identifier used for IP addressing and other algorithms.   \u00a0\u00a0\u00a0\u00a0platform String    Arista platform family.   \u00a0\u00a0\u00a0\u00a0mac_address String    Leverage to document management interface mac address.   \u00a0\u00a0\u00a0\u00a0system_mac_address String    System MAC Address in this following format: \u201cxx:xx:xx:xx:xx:xx\u201d.Set to the same MAC address as available in \u201cshow version\u201d on the device.\u201csystem_mac_address\u201d can also be set directly as a hostvar.If both are set, the setting under \u201cFabric Topology\u201d takes precedence.   \u00a0\u00a0\u00a0\u00a0serial_number String    Set to the Serial Number of the deviceFor  now only used for documentation purpose in the fabric documentationand part of the structured_config\u201cserial_number\u201d can also be set directly as a hostvar.If both are set, the setting under \u201cFabric Topology\u201d takes precedence.   \u00a0\u00a0\u00a0\u00a0rack String    Rack that the switch is located in (only used in snmp_settings location).   \u00a0\u00a0\u00a0\u00a0mgmt_ip String   Format: cidr Node management interface IPv4 address.   \u00a0\u00a0\u00a0\u00a0ipv6_mgmt_ip String   Format: cidr Node management interface IPv6 address.   \u00a0\u00a0\u00a0\u00a0mgmt_interface String    Management Interface Name.Default -&gt; platform_management_interface -&gt; mgmt_interface -&gt; \u201cManagement1\u201d.   \u00a0\u00a0\u00a0\u00a0link_tracking Dictionary    This configures the Link Tracking Group on a switch as well as adds the p2p-uplinks of the switch as the upstream interfaces.Useful in EVPN multhoming designs.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0groups List, items: Dictionary  [{\u2018name\u2019: \u2018LT_GROUP1\u2019}]  Link Tracking Groups.By default a single group named \u201cLT_GROUP1\u201d is defined with default values.Any groups defined under \u201cgroups\u201d will replace the default.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String    Tracking group name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0recovery_delay Integer   Min: 0Max: 3600 default -&gt; platform_settings_mlag_reload_delay -&gt; 300.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0links_minimum Integer   Min: 1Max: 100000    \u00a0\u00a0\u00a0\u00a0lacp_port_id_range Dictionary    This will generate the \u201clacp port-id range\u201d, \u201cbegin\u201d and \u201cend\u201d values based on node \u201cid\u201d and the number of nodes in the \u201cnode_group\u201d.Unique LACP port-id ranges are recommended for EVPN Multihoming designs.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0size Integer  128  Recommended size &gt; = number of ports in the switch.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset Integer  0  Offset is used to avoid overlapping port-id ranges of different switches.Useful when a \u201cconnected-endpoint\u201d is connected to switches in different \u201cnode_groups\u201d.   \u00a0\u00a0\u00a0\u00a0always_configure_ip_routing Boolean  False  Force configuration of \u201cip routing\u201d even on L2 devices.Use this to retain behavior of AVD versions below 4.0.0.   \u00a0\u00a0\u00a0\u00a0raw_eos_cli String    EOS CLI rendered directly on the root level of the final EOS configuration.   \u00a0\u00a0\u00a0\u00a0structured_config Dictionary    Custom structured config for eos_cli_config_gen.   \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- id Integer    Unique identifier used for IP addressing and other algorithms.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0platform String    Arista platform family.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mac_address String    Leverage to document management interface mac address.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0system_mac_address String    System MAC Address in this following format: \u201cxx:xx:xx:xx:xx:xx\u201d.Set to the same MAC address as available in \u201cshow version\u201d on the device.\u201csystem_mac_address\u201d can also be set directly as a hostvar.If both are set, the setting under \u201cFabric Topology\u201d takes precedence.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0serial_number String    Set to the Serial Number of the deviceFor  now only used for documentation purpose in the fabric documentationand part of the structured_config\u201cserial_number\u201d can also be set directly as a hostvar.If both are set, the setting under \u201cFabric Topology\u201d takes precedence.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rack String    Rack that the switch is located in (only used in snmp_settings location).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mgmt_ip String   Format: cidr Node management interface IPv4 address.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6_mgmt_ip String   Format: cidr Node management interface IPv6 address.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mgmt_interface String    Management Interface Name.Default -&gt; platform_management_interface -&gt; mgmt_interface -&gt; \u201cManagement1\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_tracking Dictionary    This configures the Link Tracking Group on a switch as well as adds the p2p-uplinks of the switch as the upstream interfaces.Useful in EVPN multhoming designs.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0groups List, items: Dictionary  [{\u2018name\u2019: \u2018LT_GROUP1\u2019}]  Link Tracking Groups.By default a single group named \u201cLT_GROUP1\u201d is defined with default values.Any groups defined under \u201cgroups\u201d will replace the default.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String    Tracking group name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0recovery_delay Integer   Min: 0Max: 3600 default -&gt; platform_settings_mlag_reload_delay -&gt; 300.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0links_minimum Integer   Min: 1Max: 100000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lacp_port_id_range Dictionary    This will generate the \u201clacp port-id range\u201d, \u201cbegin\u201d and \u201cend\u201d values based on node \u201cid\u201d and the number of nodes in the \u201cnode_group\u201d.Unique LACP port-id ranges are recommended for EVPN Multihoming designs.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0size Integer  128  Recommended size &gt; = number of ports in the switch.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset Integer  0  Offset is used to avoid overlapping port-id ranges of different switches.Useful when a \u201cconnected-endpoint\u201d is connected to switches in different \u201cnode_groups\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always_configure_ip_routing Boolean  False  Force configuration of \u201cip routing\u201d even on L2 devices.Use this to retain behavior of AVD versions below 4.0.0.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String    EOS CLI rendered directly on the root level of the final EOS configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0structured_config Dictionary    Custom structured config for eos_cli_config_gen.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- id Integer    Unique identifier used for IP addressing and other algorithms.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0platform String    Arista platform family.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mac_address String    Leverage to document management interface mac address.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0system_mac_address String    System MAC Address in this following format: \u201cxx:xx:xx:xx:xx:xx\u201d.Set to the same MAC address as available in \u201cshow version\u201d on the device.\u201csystem_mac_address\u201d can also be set directly as a hostvar.If both are set, the setting under \u201cFabric Topology\u201d takes precedence.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0serial_number String    Set to the Serial Number of the deviceFor  now only used for documentation purpose in the fabric documentationand part of the structured_config\u201cserial_number\u201d can also be set directly as a hostvar.If both are set, the setting under \u201cFabric Topology\u201d takes precedence.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rack String    Rack that the switch is located in (only used in snmp_settings location).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mgmt_ip String   Format: cidr Node management interface IPv4 address.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6_mgmt_ip String   Format: cidr Node management interface IPv6 address.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mgmt_interface String    Management Interface Name.Default -&gt; platform_management_interface -&gt; mgmt_interface -&gt; \u201cManagement1\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_tracking Dictionary    This configures the Link Tracking Group on a switch as well as adds the p2p-uplinks of the switch as the upstream interfaces.Useful in EVPN multhoming designs.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0groups List, items: Dictionary  [{\u2018name\u2019: \u2018LT_GROUP1\u2019}]  Link Tracking Groups.By default a single group named \u201cLT_GROUP1\u201d is defined with default values.Any groups defined under \u201cgroups\u201d will replace the default.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String    Tracking group name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0recovery_delay Integer   Min: 0Max: 3600 default -&gt; platform_settings_mlag_reload_delay -&gt; 300.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0links_minimum Integer   Min: 1Max: 100000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lacp_port_id_range Dictionary    This will generate the \u201clacp port-id range\u201d, \u201cbegin\u201d and \u201cend\u201d values based on node \u201cid\u201d and the number of nodes in the \u201cnode_group\u201d.Unique LACP port-id ranges are recommended for EVPN Multihoming designs.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0size Integer  128  Recommended size &gt; = number of ports in the switch.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset Integer  0  Offset is used to avoid overlapping port-id ranges of different switches.Useful when a \u201cconnected-endpoint\u201d is connected to switches in different \u201cnode_groups\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always_configure_ip_routing Boolean  False  Force configuration of \u201cip routing\u201d even on L2 devices.Use this to retain behavior of AVD versions below 4.0.0.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String    EOS CLI rendered directly on the root level of the final EOS configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0structured_config Dictionary    Custom structured config for eos_cli_config_gen.   \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- id Integer    Unique identifier used for IP addressing and other algorithms.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0platform String    Arista platform family.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mac_address String    Leverage to document management interface mac address.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0system_mac_address String    System MAC Address in this following format: \u201cxx:xx:xx:xx:xx:xx\u201d.Set to the same MAC address as available in \u201cshow version\u201d on the device.\u201csystem_mac_address\u201d can also be set directly as a hostvar.If both are set, the setting under \u201cFabric Topology\u201d takes precedence.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0serial_number String    Set to the Serial Number of the deviceFor  now only used for documentation purpose in the fabric documentationand part of the structured_config\u201cserial_number\u201d can also be set directly as a hostvar.If both are set, the setting under \u201cFabric Topology\u201d takes precedence.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0rack String    Rack that the switch is located in (only used in snmp_settings location).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mgmt_ip String   Format: cidr Node management interface IPv4 address.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6_mgmt_ip String   Format: cidr Node management interface IPv6 address.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mgmt_interface String    Management Interface Name.Default -&gt; platform_management_interface -&gt; mgmt_interface -&gt; \u201cManagement1\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0link_tracking Dictionary    This configures the Link Tracking Group on a switch as well as adds the p2p-uplinks of the switch as the upstream interfaces.Useful in EVPN multhoming designs.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0groups List, items: Dictionary  [{\u2018name\u2019: \u2018LT_GROUP1\u2019}]  Link Tracking Groups.By default a single group named \u201cLT_GROUP1\u201d is defined with default values.Any groups defined under \u201cgroups\u201d will replace the default.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name String    Tracking group name.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0recovery_delay Integer   Min: 0Max: 3600 default -&gt; platform_settings_mlag_reload_delay -&gt; 300.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0links_minimum Integer   Min: 1Max: 100000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lacp_port_id_range Dictionary    This will generate the \u201clacp port-id range\u201d, \u201cbegin\u201d and \u201cend\u201d values based on node \u201cid\u201d and the number of nodes in the \u201cnode_group\u201d.Unique LACP port-id ranges are recommended for EVPN Multihoming designs.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0size Integer  128  Recommended size &gt; = number of ports in the switch.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset Integer  0  Offset is used to avoid overlapping port-id ranges of different switches.Useful when a \u201cconnected-endpoint\u201d is connected to switches in different \u201cnode_groups\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0always_configure_ip_routing Boolean  False  Force configuration of \u201cip routing\u201d even on L2 devices.Use this to retain behavior of AVD versions below 4.0.0.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String    EOS CLI rendered directly on the root level of the final EOS configuration.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0structured_config Dictionary    Custom structured config for eos_cli_config_gen.      <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    id: &lt;int&gt;\n    platform: &lt;str&gt;\n    mac_address: &lt;str&gt;\n    system_mac_address: &lt;str&gt;\n    serial_number: &lt;str&gt;\n    rack: &lt;str&gt;\n    mgmt_ip: &lt;str&gt;\n    ipv6_mgmt_ip: &lt;str&gt;\n    mgmt_interface: &lt;str&gt;\n    link_tracking:\n      enabled: &lt;bool&gt;\n      groups:\n        - name: &lt;str&gt;\n          recovery_delay: &lt;int&gt;\n          links_minimum: &lt;int&gt;\n    lacp_port_id_range:\n      enabled: &lt;bool&gt;\n      size: &lt;int&gt;\n      offset: &lt;int&gt;\n    always_configure_ip_routing: &lt;bool&gt;\n    raw_eos_cli: &lt;str&gt;\n    structured_config:\n  node_groups:\n    - id: &lt;int&gt;\n      platform: &lt;str&gt;\n      mac_address: &lt;str&gt;\n      system_mac_address: &lt;str&gt;\n      serial_number: &lt;str&gt;\n      rack: &lt;str&gt;\n      mgmt_ip: &lt;str&gt;\n      ipv6_mgmt_ip: &lt;str&gt;\n      mgmt_interface: &lt;str&gt;\n      link_tracking:\n        enabled: &lt;bool&gt;\n        groups:\n          - name: &lt;str&gt;\n            recovery_delay: &lt;int&gt;\n            links_minimum: &lt;int&gt;\n      lacp_port_id_range:\n        enabled: &lt;bool&gt;\n        size: &lt;int&gt;\n        offset: &lt;int&gt;\n      always_configure_ip_routing: &lt;bool&gt;\n      raw_eos_cli: &lt;str&gt;\n      structured_config:\n      nodes:\n        - id: &lt;int&gt;\n          platform: &lt;str&gt;\n          mac_address: &lt;str&gt;\n          system_mac_address: &lt;str&gt;\n          serial_number: &lt;str&gt;\n          rack: &lt;str&gt;\n          mgmt_ip: &lt;str&gt;\n          ipv6_mgmt_ip: &lt;str&gt;\n          mgmt_interface: &lt;str&gt;\n          link_tracking:\n            enabled: &lt;bool&gt;\n            groups:\n              - name: &lt;str&gt;\n                recovery_delay: &lt;int&gt;\n                links_minimum: &lt;int&gt;\n          lacp_port_id_range:\n            enabled: &lt;bool&gt;\n            size: &lt;int&gt;\n            offset: &lt;int&gt;\n          always_configure_ip_routing: &lt;bool&gt;\n          raw_eos_cli: &lt;str&gt;\n          structured_config:\n  nodes:\n    - id: &lt;int&gt;\n      platform: &lt;str&gt;\n      mac_address: &lt;str&gt;\n      system_mac_address: &lt;str&gt;\n      serial_number: &lt;str&gt;\n      rack: &lt;str&gt;\n      mgmt_ip: &lt;str&gt;\n      ipv6_mgmt_ip: &lt;str&gt;\n      mgmt_interface: &lt;str&gt;\n      link_tracking:\n        enabled: &lt;bool&gt;\n        groups:\n          - name: &lt;str&gt;\n            recovery_delay: &lt;int&gt;\n            links_minimum: &lt;int&gt;\n      lacp_port_id_range:\n        enabled: &lt;bool&gt;\n        size: &lt;int&gt;\n        offset: &lt;int&gt;\n      always_configure_ip_routing: &lt;bool&gt;\n      raw_eos_cli: &lt;str&gt;\n      structured_config:\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#inband-management-vlan","title":"Inband management VLAN TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0inband_management_subnet String   Format: ipv4_cidr Optional IP subnet assigned to Inband Management SVI on l2leafs in default VRF.Parent l3leafs will have SVI with \u201cip virtual-router\u201d and host-route injection based on ARP. This allows all l3leafs to reuse the same subnet.SVI IP address will be assigned as follows:virtual-router:  + 1l3leaf A      :  + 2 (same IP on all l3leaf A)l3leaf B      :  + 3 (same IP on all l3leaf B)l2leafs       :  + 3 + GW on l2leafs :  + 1Assign range larger than total l2leafs + 5   \u00a0\u00a0\u00a0\u00a0inband_management_vlan Integer  4092  VLAN number assigned to Inband Management SVI on l2leafs in default VRF.   \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- inband_management_subnet String   Format: ipv4_cidr Optional IP subnet assigned to Inband Management SVI on l2leafs in default VRF.Parent l3leafs will have SVI with \u201cip virtual-router\u201d and host-route injection based on ARP. This allows all l3leafs to reuse the same subnet.SVI IP address will be assigned as follows:virtual-router:  + 1l3leaf A      :  + 2 (same IP on all l3leaf A)l3leaf B      :  + 3 (same IP on all l3leaf B)l2leafs       :  + 3 + GW on l2leafs :  + 1Assign range larger than total l2leafs + 5   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inband_management_vlan Integer  4092  VLAN number assigned to Inband Management SVI on l2leafs in default VRF.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- inband_management_subnet String   Format: ipv4_cidr Optional IP subnet assigned to Inband Management SVI on l2leafs in default VRF.Parent l3leafs will have SVI with \u201cip virtual-router\u201d and host-route injection based on ARP. This allows all l3leafs to reuse the same subnet.SVI IP address will be assigned as follows:virtual-router:  + 1l3leaf A      :  + 2 (same IP on all l3leaf A)l3leaf B      :  + 3 (same IP on all l3leaf B)l2leafs       :  + 3 + GW on l2leafs :  + 1Assign range larger than total l2leafs + 5   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inband_management_vlan Integer  4092  VLAN number assigned to Inband Management SVI on l2leafs in default VRF.   \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- inband_management_subnet String   Format: ipv4_cidr Optional IP subnet assigned to Inband Management SVI on l2leafs in default VRF.Parent l3leafs will have SVI with \u201cip virtual-router\u201d and host-route injection based on ARP. This allows all l3leafs to reuse the same subnet.SVI IP address will be assigned as follows:virtual-router:  + 1l3leaf A      :  + 2 (same IP on all l3leaf A)l3leaf B      :  + 3 (same IP on all l3leaf B)l2leafs       :  + 3 + GW on l2leafs :  + 1Assign range larger than total l2leafs + 5   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inband_management_vlan Integer  4092  VLAN number assigned to Inband Management SVI on l2leafs in default VRF.      <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    inband_management_subnet: &lt;str&gt;\n    inband_management_vlan: &lt;int&gt;\n  node_groups:\n    - inband_management_subnet: &lt;str&gt;\n      inband_management_vlan: &lt;int&gt;\n      nodes:\n        - inband_management_subnet: &lt;str&gt;\n          inband_management_vlan: &lt;int&gt;\n  nodes:\n    - inband_management_subnet: &lt;str&gt;\n      inband_management_vlan: &lt;int&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#isis-underlay-protocol-management","title":"ISIS underlay protocol management TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0isis_system_id_prefix String   Pattern: [0-9a-f]{4}.[0-9a-f]{4} (4.4 hexadecimal).   \u00a0\u00a0\u00a0\u00a0isis_maximum_paths Integer    Number of path to configure in ECMP for ISIS.   \u00a0\u00a0\u00a0\u00a0is_type String  level-2 Valid Values:- level-1-2- level-1- level-2    \u00a0\u00a0\u00a0\u00a0node_sid_base Integer  0  Node-SID base for isis-sr underlay variants. Combined with node id to generate ISIS-SR node-SID.   \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- isis_system_id_prefix String   Pattern: [0-9a-f]{4}.[0-9a-f]{4} (4.4 hexadecimal).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_maximum_paths Integer    Number of path to configure in ECMP for ISIS.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0is_type String  level-2 Valid Values:- level-1-2- level-1- level-2    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0node_sid_base Integer  0  Node-SID base for isis-sr underlay variants. Combined with node id to generate ISIS-SR node-SID.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- isis_system_id_prefix String   Pattern: [0-9a-f]{4}.[0-9a-f]{4} (4.4 hexadecimal).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_maximum_paths Integer    Number of path to configure in ECMP for ISIS.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0is_type String  level-2 Valid Values:- level-1-2- level-1- level-2    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0node_sid_base Integer  0  Node-SID base for isis-sr underlay variants. Combined with node id to generate ISIS-SR node-SID.   \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- isis_system_id_prefix String   Pattern: [0-9a-f]{4}.[0-9a-f]{4} (4.4 hexadecimal).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_maximum_paths Integer    Number of path to configure in ECMP for ISIS.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0is_type String  level-2 Valid Values:- level-1-2- level-1- level-2    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0node_sid_base Integer  0  Node-SID base for isis-sr underlay variants. Combined with node id to generate ISIS-SR node-SID.      <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    isis_system_id_prefix: &lt;str&gt;\n    isis_maximum_paths: &lt;int&gt;\n    is_type: &lt;str&gt;\n    node_sid_base: &lt;int&gt;\n  node_groups:\n    - isis_system_id_prefix: &lt;str&gt;\n      isis_maximum_paths: &lt;int&gt;\n      is_type: &lt;str&gt;\n      node_sid_base: &lt;int&gt;\n      nodes:\n        - isis_system_id_prefix: &lt;str&gt;\n          isis_maximum_paths: &lt;int&gt;\n          is_type: &lt;str&gt;\n          node_sid_base: &lt;int&gt;\n  nodes:\n    - isis_system_id_prefix: &lt;str&gt;\n      isis_maximum_paths: &lt;int&gt;\n      is_type: &lt;str&gt;\n      node_sid_base: &lt;int&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#loopback-and-vtep-management","title":"Loopback and VTEP management TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0loopback_ipv4_pool String   Format: ipv4_cidr IPv4 subnet for Loopback0 allocation.   \u00a0\u00a0\u00a0\u00a0vtep_loopback_ipv4_pool String   Format: ipv4_cidr IPv4 subnet for VTEP-Loopback allocation.   \u00a0\u00a0\u00a0\u00a0loopback_ipv4_offset Integer  0  Offset all assigned loopback IP addresses.Required when the &lt; loopback_ipv4_pool &gt; is same for 2 different node_types (like spine and l3leaf) to avoid over-lapping IPs.For example, set the minimum offset l3leaf.defaults.loopback_ipv4_offset: &lt; total # spine switches &gt; or vice versa.   \u00a0\u00a0\u00a0\u00a0loopback_ipv6_pool String   Format: ipv6_cidr IPv6 subnet for Loopback0 allocation.   \u00a0\u00a0\u00a0\u00a0loopback_ipv6_offset Integer  0  Offset all assigned loopback IPv6 addresses.Required when the &lt; loopback_ipv6_pool &gt; is same for 2 different node_types (like spine and l3leaf) to avoid overlapping IPs.For example, set the minimum offset l3leaf.defaults.loopback_ipv6_offset: &lt; total # spine switches &gt; or vice versa.   \u00a0\u00a0\u00a0\u00a0vtep_loopback String   Pattern: Loopback[\\d/]+ Set VXLAN source interface.   \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- loopback_ipv4_pool String   Format: ipv4_cidr IPv4 subnet for Loopback0 allocation.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vtep_loopback_ipv4_pool String   Format: ipv4_cidr IPv4 subnet for VTEP-Loopback allocation.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loopback_ipv4_offset Integer  0  Offset all assigned loopback IP addresses.Required when the &lt; loopback_ipv4_pool &gt; is same for 2 different node_types (like spine and l3leaf) to avoid over-lapping IPs.For example, set the minimum offset l3leaf.defaults.loopback_ipv4_offset: &lt; total # spine switches &gt; or vice versa.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loopback_ipv6_pool String   Format: ipv6_cidr IPv6 subnet for Loopback0 allocation.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loopback_ipv6_offset Integer  0  Offset all assigned loopback IPv6 addresses.Required when the &lt; loopback_ipv6_pool &gt; is same for 2 different node_types (like spine and l3leaf) to avoid overlapping IPs.For example, set the minimum offset l3leaf.defaults.loopback_ipv6_offset: &lt; total # spine switches &gt; or vice versa.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vtep_loopback String   Pattern: Loopback[\\d/]+ Set VXLAN source interface.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- loopback_ipv4_pool String   Format: ipv4_cidr IPv4 subnet for Loopback0 allocation.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vtep_loopback_ipv4_pool String   Format: ipv4_cidr IPv4 subnet for VTEP-Loopback allocation.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loopback_ipv4_offset Integer  0  Offset all assigned loopback IP addresses.Required when the &lt; loopback_ipv4_pool &gt; is same for 2 different node_types (like spine and l3leaf) to avoid over-lapping IPs.For example, set the minimum offset l3leaf.defaults.loopback_ipv4_offset: &lt; total # spine switches &gt; or vice versa.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loopback_ipv6_pool String   Format: ipv6_cidr IPv6 subnet for Loopback0 allocation.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loopback_ipv6_offset Integer  0  Offset all assigned loopback IPv6 addresses.Required when the &lt; loopback_ipv6_pool &gt; is same for 2 different node_types (like spine and l3leaf) to avoid overlapping IPs.For example, set the minimum offset l3leaf.defaults.loopback_ipv6_offset: &lt; total # spine switches &gt; or vice versa.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vtep_loopback String   Pattern: Loopback[\\d/]+ Set VXLAN source interface.   \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- loopback_ipv4_pool String   Format: ipv4_cidr IPv4 subnet for Loopback0 allocation.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vtep_loopback_ipv4_pool String   Format: ipv4_cidr IPv4 subnet for VTEP-Loopback allocation.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loopback_ipv4_offset Integer  0  Offset all assigned loopback IP addresses.Required when the &lt; loopback_ipv4_pool &gt; is same for 2 different node_types (like spine and l3leaf) to avoid over-lapping IPs.For example, set the minimum offset l3leaf.defaults.loopback_ipv4_offset: &lt; total # spine switches &gt; or vice versa.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loopback_ipv6_pool String   Format: ipv6_cidr IPv6 subnet for Loopback0 allocation.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loopback_ipv6_offset Integer  0  Offset all assigned loopback IPv6 addresses.Required when the &lt; loopback_ipv6_pool &gt; is same for 2 different node_types (like spine and l3leaf) to avoid overlapping IPs.For example, set the minimum offset l3leaf.defaults.loopback_ipv6_offset: &lt; total # spine switches &gt; or vice versa.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vtep_loopback String   Pattern: Loopback[\\d/]+ Set VXLAN source interface.      <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    loopback_ipv4_pool: &lt;str&gt;\n    vtep_loopback_ipv4_pool: &lt;str&gt;\n    loopback_ipv4_offset: &lt;int&gt;\n    loopback_ipv6_pool: &lt;str&gt;\n    loopback_ipv6_offset: &lt;int&gt;\n    vtep_loopback: &lt;str&gt;\n  node_groups:\n    - loopback_ipv4_pool: &lt;str&gt;\n      vtep_loopback_ipv4_pool: &lt;str&gt;\n      loopback_ipv4_offset: &lt;int&gt;\n      loopback_ipv6_pool: &lt;str&gt;\n      loopback_ipv6_offset: &lt;int&gt;\n      vtep_loopback: &lt;str&gt;\n      nodes:\n        - loopback_ipv4_pool: &lt;str&gt;\n          vtep_loopback_ipv4_pool: &lt;str&gt;\n          loopback_ipv4_offset: &lt;int&gt;\n          loopback_ipv6_pool: &lt;str&gt;\n          loopback_ipv6_offset: &lt;int&gt;\n          vtep_loopback: &lt;str&gt;\n  nodes:\n    - loopback_ipv4_pool: &lt;str&gt;\n      vtep_loopback_ipv4_pool: &lt;str&gt;\n      loopback_ipv4_offset: &lt;int&gt;\n      loopback_ipv6_pool: &lt;str&gt;\n      loopback_ipv6_offset: &lt;int&gt;\n      vtep_loopback: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#mlag-configuration-management","title":"MLAG configuration management TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0mlag Boolean  True  Enable / Disable auto MLAG, when two nodes are defined in node group.   \u00a0\u00a0\u00a0\u00a0mlag_dual_primary_detection Boolean  False  Enable / Disable MLAG dual primary detection.   \u00a0\u00a0\u00a0\u00a0mlag_ibgp_origin_incomplete Boolean  True  Set origin of routes received from MLAG iBGP peer to incomplete.The purpose is to optimize routing for leaf loopbacks from spine perspective andavoid suboptimal routing via peerlink for control plane traffic.   \u00a0\u00a0\u00a0\u00a0mlag_interfaces List, items: String    Each list item supports range syntax that can be expanded into a list of interfaces.Required when MLAG leafs are present in the topology.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0mlag_interfaces_speed String    Set MLAG interface speed.&lt; interface_speed or forced interface_speed or auto interface_speed &gt;.   \u00a0\u00a0\u00a0\u00a0mlag_peer_l3_vlan Integer  4093 Min: 0Max: 4094 Underlay L3 peering SVI interface id.If set to 0 or the same vlan as mlag_peer_vlan, the mlag_peer_vlan will be used for L3 peering.   \u00a0\u00a0\u00a0\u00a0mlag_peer_l3_ipv4_pool String   Format: ipv4_cidr IP address pool used for MLAG underlay L3 peering. IP is derived from the node id.Required when MLAG leafs present in topology and they are using a separate L3 peering VLAN.   \u00a0\u00a0\u00a0\u00a0mlag_peer_vlan Integer  4094 Min: 1Max: 4094 MLAG Peer Link (control link) SVI interface id.   \u00a0\u00a0\u00a0\u00a0mlag_peer_link_allowed_vlans String  2-4094     \u00a0\u00a0\u00a0\u00a0mlag_peer_ipv4_pool String   Format: ipv4_cidr IP address pool used for MLAG Peer Link (control link). IP is derived from the node id.Required when MLAG leafs present in topology.   \u00a0\u00a0\u00a0\u00a0mlag_port_channel_id Integer    If not set, the mlag port-channel id is generated based on the digits of the first interface present in \u2018mlag_interfaces\u2019.Valid port-channel id numbers are &lt; 1-2000 &gt; for EOS &lt; 4.25.0F and &lt; 1 - 999999 &gt; for EOS &gt;= 4.25.0F.   \u00a0\u00a0\u00a0\u00a0mlag_domain_id String    MLAG Domain ID. If not set the node group name (Set with \u201cgroup\u201d key) will be used.   \u00a0\u00a0\u00a0\u00a0spanning_tree_mode String   Valid Values:- mstp- rstp- rapid-pvst- none    \u00a0\u00a0\u00a0\u00a0spanning_tree_priority Integer  32768     \u00a0\u00a0\u00a0\u00a0spanning_tree_root_super Boolean  False     \u00a0\u00a0\u00a0\u00a0virtual_router_mac_address String   Format: mac Virtual router mac address for anycast gateway.   \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- mlag Boolean  True  Enable / Disable auto MLAG, when two nodes are defined in node group.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_dual_primary_detection Boolean  False  Enable / Disable MLAG dual primary detection.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_ibgp_origin_incomplete Boolean  True  Set origin of routes received from MLAG iBGP peer to incomplete.The purpose is to optimize routing for leaf loopbacks from spine perspective andavoid suboptimal routing via peerlink for control plane traffic.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_interfaces List, items: String    Each list item supports range syntax that can be expanded into a list of interfaces.Required when MLAG leafs are present in the topology.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_interfaces_speed String    Set MLAG interface speed.&lt; interface_speed or forced interface_speed or auto interface_speed &gt;.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_l3_vlan Integer  4093 Min: 0Max: 4094 Underlay L3 peering SVI interface id.If set to 0 or the same vlan as mlag_peer_vlan, the mlag_peer_vlan will be used for L3 peering.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_l3_ipv4_pool String   Format: ipv4_cidr IP address pool used for MLAG underlay L3 peering. IP is derived from the node id.Required when MLAG leafs present in topology and they are using a separate L3 peering VLAN.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_vlan Integer  4094 Min: 1Max: 4094 MLAG Peer Link (control link) SVI interface id.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_link_allowed_vlans String  2-4094     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_ipv4_pool String   Format: ipv4_cidr IP address pool used for MLAG Peer Link (control link). IP is derived from the node id.Required when MLAG leafs present in topology.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_port_channel_id Integer    If not set, the mlag port-channel id is generated based on the digits of the first interface present in \u2018mlag_interfaces\u2019.Valid port-channel id numbers are &lt; 1-2000 &gt; for EOS &lt; 4.25.0F and &lt; 1 - 999999 &gt; for EOS &gt;= 4.25.0F.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_domain_id String    MLAG Domain ID. If not set the node group name (Set with \u201cgroup\u201d key) will be used.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_mode String   Valid Values:- mstp- rstp- rapid-pvst- none    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_priority Integer  32768     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_root_super Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0virtual_router_mac_address String   Format: mac Virtual router mac address for anycast gateway.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- mlag Boolean  True  Enable / Disable auto MLAG, when two nodes are defined in node group.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_dual_primary_detection Boolean  False  Enable / Disable MLAG dual primary detection.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_ibgp_origin_incomplete Boolean  True  Set origin of routes received from MLAG iBGP peer to incomplete.The purpose is to optimize routing for leaf loopbacks from spine perspective andavoid suboptimal routing via peerlink for control plane traffic.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_interfaces List, items: String    Each list item supports range syntax that can be expanded into a list of interfaces.Required when MLAG leafs are present in the topology.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_interfaces_speed String    Set MLAG interface speed.&lt; interface_speed or forced interface_speed or auto interface_speed &gt;.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_l3_vlan Integer  4093 Min: 0Max: 4094 Underlay L3 peering SVI interface id.If set to 0 or the same vlan as mlag_peer_vlan, the mlag_peer_vlan will be used for L3 peering.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_l3_ipv4_pool String   Format: ipv4_cidr IP address pool used for MLAG underlay L3 peering. IP is derived from the node id.Required when MLAG leafs present in topology and they are using a separate L3 peering VLAN.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_vlan Integer  4094 Min: 1Max: 4094 MLAG Peer Link (control link) SVI interface id.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_link_allowed_vlans String  2-4094     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_ipv4_pool String   Format: ipv4_cidr IP address pool used for MLAG Peer Link (control link). IP is derived from the node id.Required when MLAG leafs present in topology.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_port_channel_id Integer    If not set, the mlag port-channel id is generated based on the digits of the first interface present in \u2018mlag_interfaces\u2019.Valid port-channel id numbers are &lt; 1-2000 &gt; for EOS &lt; 4.25.0F and &lt; 1 - 999999 &gt; for EOS &gt;= 4.25.0F.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_domain_id String    MLAG Domain ID. If not set the node group name (Set with \u201cgroup\u201d key) will be used.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_mode String   Valid Values:- mstp- rstp- rapid-pvst- none    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_priority Integer  32768     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_root_super Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0virtual_router_mac_address String   Format: mac Virtual router mac address for anycast gateway.   \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- mlag Boolean  True  Enable / Disable auto MLAG, when two nodes are defined in node group.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_dual_primary_detection Boolean  False  Enable / Disable MLAG dual primary detection.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_ibgp_origin_incomplete Boolean  True  Set origin of routes received from MLAG iBGP peer to incomplete.The purpose is to optimize routing for leaf loopbacks from spine perspective andavoid suboptimal routing via peerlink for control plane traffic.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_interfaces List, items: String    Each list item supports range syntax that can be expanded into a list of interfaces.Required when MLAG leafs are present in the topology.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_interfaces_speed String    Set MLAG interface speed.&lt; interface_speed or forced interface_speed or auto interface_speed &gt;.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_l3_vlan Integer  4093 Min: 0Max: 4094 Underlay L3 peering SVI interface id.If set to 0 or the same vlan as mlag_peer_vlan, the mlag_peer_vlan will be used for L3 peering.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_l3_ipv4_pool String   Format: ipv4_cidr IP address pool used for MLAG underlay L3 peering. IP is derived from the node id.Required when MLAG leafs present in topology and they are using a separate L3 peering VLAN.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_vlan Integer  4094 Min: 1Max: 4094 MLAG Peer Link (control link) SVI interface id.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_link_allowed_vlans String  2-4094     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_ipv4_pool String   Format: ipv4_cidr IP address pool used for MLAG Peer Link (control link). IP is derived from the node id.Required when MLAG leafs present in topology.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_port_channel_id Integer    If not set, the mlag port-channel id is generated based on the digits of the first interface present in \u2018mlag_interfaces\u2019.Valid port-channel id numbers are &lt; 1-2000 &gt; for EOS &lt; 4.25.0F and &lt; 1 - 999999 &gt; for EOS &gt;= 4.25.0F.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_domain_id String    MLAG Domain ID. If not set the node group name (Set with \u201cgroup\u201d key) will be used.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_mode String   Valid Values:- mstp- rstp- rapid-pvst- none    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_priority Integer  32768     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spanning_tree_root_super Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0virtual_router_mac_address String   Format: mac Virtual router mac address for anycast gateway.      <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    mlag: &lt;bool&gt;\n    mlag_dual_primary_detection: &lt;bool&gt;\n    mlag_ibgp_origin_incomplete: &lt;bool&gt;\n    mlag_interfaces:\n      - &lt;str&gt;\n    mlag_interfaces_speed: &lt;str&gt;\n    mlag_peer_l3_vlan: &lt;int&gt;\n    mlag_peer_l3_ipv4_pool: &lt;str&gt;\n    mlag_peer_vlan: &lt;int&gt;\n    mlag_peer_link_allowed_vlans: &lt;str&gt;\n    mlag_peer_ipv4_pool: &lt;str&gt;\n    mlag_port_channel_id: &lt;int&gt;\n    mlag_domain_id: &lt;str&gt;\n    spanning_tree_mode: &lt;str&gt;\n    spanning_tree_priority: &lt;int&gt;\n    spanning_tree_root_super: &lt;bool&gt;\n    virtual_router_mac_address: &lt;str&gt;\n  node_groups:\n    - mlag: &lt;bool&gt;\n      mlag_dual_primary_detection: &lt;bool&gt;\n      mlag_ibgp_origin_incomplete: &lt;bool&gt;\n      mlag_interfaces:\n        - &lt;str&gt;\n      mlag_interfaces_speed: &lt;str&gt;\n      mlag_peer_l3_vlan: &lt;int&gt;\n      mlag_peer_l3_ipv4_pool: &lt;str&gt;\n      mlag_peer_vlan: &lt;int&gt;\n      mlag_peer_link_allowed_vlans: &lt;str&gt;\n      mlag_peer_ipv4_pool: &lt;str&gt;\n      mlag_port_channel_id: &lt;int&gt;\n      mlag_domain_id: &lt;str&gt;\n      spanning_tree_mode: &lt;str&gt;\n      spanning_tree_priority: &lt;int&gt;\n      spanning_tree_root_super: &lt;bool&gt;\n      virtual_router_mac_address: &lt;str&gt;\n      nodes:\n        - mlag: &lt;bool&gt;\n          mlag_dual_primary_detection: &lt;bool&gt;\n          mlag_ibgp_origin_incomplete: &lt;bool&gt;\n          mlag_interfaces:\n            - &lt;str&gt;\n          mlag_interfaces_speed: &lt;str&gt;\n          mlag_peer_l3_vlan: &lt;int&gt;\n          mlag_peer_l3_ipv4_pool: &lt;str&gt;\n          mlag_peer_vlan: &lt;int&gt;\n          mlag_peer_link_allowed_vlans: &lt;str&gt;\n          mlag_peer_ipv4_pool: &lt;str&gt;\n          mlag_port_channel_id: &lt;int&gt;\n          mlag_domain_id: &lt;str&gt;\n          spanning_tree_mode: &lt;str&gt;\n          spanning_tree_priority: &lt;int&gt;\n          spanning_tree_root_super: &lt;bool&gt;\n          virtual_router_mac_address: &lt;str&gt;\n  nodes:\n    - mlag: &lt;bool&gt;\n      mlag_dual_primary_detection: &lt;bool&gt;\n      mlag_ibgp_origin_incomplete: &lt;bool&gt;\n      mlag_interfaces:\n        - &lt;str&gt;\n      mlag_interfaces_speed: &lt;str&gt;\n      mlag_peer_l3_vlan: &lt;int&gt;\n      mlag_peer_l3_ipv4_pool: &lt;str&gt;\n      mlag_peer_vlan: &lt;int&gt;\n      mlag_peer_link_allowed_vlans: &lt;str&gt;\n      mlag_peer_ipv4_pool: &lt;str&gt;\n      mlag_port_channel_id: &lt;int&gt;\n      mlag_domain_id: &lt;str&gt;\n      spanning_tree_mode: &lt;str&gt;\n      spanning_tree_priority: &lt;int&gt;\n      spanning_tree_root_super: &lt;bool&gt;\n      virtual_router_mac_address: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#mpls-settings-management","title":"MPLS settings management TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0mpls_overlay_role String   Valid Values:- client- server- none Set the default mpls overlay role.Acting role in overlay control plane.   \u00a0\u00a0\u00a0\u00a0overlay_address_families List, items: String    Set the default overlay address families.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Valid Values:- evpn- vpn-ipv4- vpn-ipv6    \u00a0\u00a0\u00a0\u00a0mpls_route_reflectors List, items: String    List of inventory hostname acting as MPLS route-reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Inventory_hostname_of_mpls_route_reflectors.   \u00a0\u00a0\u00a0\u00a0bgp_cluster_id String    Set BGP cluster id.   \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- mpls_overlay_role String   Valid Values:- client- server- none Set the default mpls overlay role.Acting role in overlay control plane.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0overlay_address_families List, items: String    Set the default overlay address families.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Valid Values:- evpn- vpn-ipv4- vpn-ipv6    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_route_reflectors List, items: String    List of inventory hostname acting as MPLS route-reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Inventory_hostname_of_mpls_route_reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_cluster_id String    Set BGP cluster id.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- mpls_overlay_role String   Valid Values:- client- server- none Set the default mpls overlay role.Acting role in overlay control plane.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0overlay_address_families List, items: String    Set the default overlay address families.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Valid Values:- evpn- vpn-ipv4- vpn-ipv6    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_route_reflectors List, items: String    List of inventory hostname acting as MPLS route-reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Inventory_hostname_of_mpls_route_reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_cluster_id String    Set BGP cluster id.   \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- mpls_overlay_role String   Valid Values:- client- server- none Set the default mpls overlay role.Acting role in overlay control plane.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0overlay_address_families List, items: String    Set the default overlay address families.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Valid Values:- evpn- vpn-ipv4- vpn-ipv6    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_route_reflectors List, items: String    List of inventory hostname acting as MPLS route-reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String    Inventory_hostname_of_mpls_route_reflectors.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bgp_cluster_id String    Set BGP cluster id.      <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    mpls_overlay_role: &lt;str&gt;\n    overlay_address_families:\n      - &lt;str&gt;\n    mpls_route_reflectors:\n      - &lt;str&gt;\n    bgp_cluster_id: &lt;str&gt;\n  node_groups:\n    - mpls_overlay_role: &lt;str&gt;\n      overlay_address_families:\n        - &lt;str&gt;\n      mpls_route_reflectors:\n        - &lt;str&gt;\n      bgp_cluster_id: &lt;str&gt;\n      nodes:\n        - mpls_overlay_role: &lt;str&gt;\n          overlay_address_families:\n            - &lt;str&gt;\n          mpls_route_reflectors:\n            - &lt;str&gt;\n          bgp_cluster_id: &lt;str&gt;\n  nodes:\n    - mpls_overlay_role: &lt;str&gt;\n      overlay_address_families:\n        - &lt;str&gt;\n      mpls_route_reflectors:\n        - &lt;str&gt;\n      bgp_cluster_id: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#ptp-settings-management","title":"PTP settings management TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0ptp Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String  aes67-r16-2016 Valid Values:- aes67- smpte2059-2- aes67-r16-2016    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0domain Integer  127 Min: 0Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority1 Integer   Min: 0Max: 255 default -&gt; automatically set based on node_type.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority2 Integer   Min: 0Max: 255 default -&gt; (node_id modulus 256).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0auto_clock_identity Boolean  True  If you prefer to have PTP clock identity be the system MAC-address of the switch, which is the default EOS behaviour, simply disable the automatic PTP clock identity.default -&gt; (clock_identity_prefix = 00:1C:73 (default)) + (PTP priority 1 as HEX) + \u201c:00:\u201d + (PTP priority 2 as HEX).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0clock_identity_prefix String    PTP clock idetentiy 3-byte prefix. i.e. \u201c01:02:03\u201d.By default the 3-byte prefix is \u201c00:1C:73\u201d.This can be overridden if auto_clock_identity is set to true (which is the default).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0clock_identity String    Set PTP clock identity manually. 6-byte value i.e. \u201c01:02:03:04:05:06\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_ip String    By default in EOS, PTP packets are sourced with an IP address from the routed port or from the relevant SVI, which is the recommended behaviour.This can be set manually if required, for example, to a value of \u201c10.1.2.3\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ttl Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0forward_unicast Boolean  False  Enable PTP unicast forwarding.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0general_messages Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0event_messages Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0monitor Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0threshold Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset_from_master Integer  250 Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mean_path_delay Integer  1500 Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0drop Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset_from_master Integer   Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mean_path_delay Integer   Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0missing_message Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0intervals Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0follow_up Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sequence_ids Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay_resp Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0follow_up Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync Integer  3 Min: 2Max: 255    \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- ptp Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String  aes67-r16-2016 Valid Values:- aes67- smpte2059-2- aes67-r16-2016    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0domain Integer  127 Min: 0Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority1 Integer   Min: 0Max: 255 default -&gt; automatically set based on node_type.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority2 Integer   Min: 0Max: 255 default -&gt; (node_id modulus 256).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0auto_clock_identity Boolean  True  If you prefer to have PTP clock identity be the system MAC-address of the switch, which is the default EOS behaviour, simply disable the automatic PTP clock identity.default -&gt; (clock_identity_prefix = 00:1C:73 (default)) + (PTP priority 1 as HEX) + \u201c:00:\u201d + (PTP priority 2 as HEX).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0clock_identity_prefix String    PTP clock idetentiy 3-byte prefix. i.e. \u201c01:02:03\u201d.By default the 3-byte prefix is \u201c00:1C:73\u201d.This can be overridden if auto_clock_identity is set to true (which is the default).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0clock_identity String    Set PTP clock identity manually. 6-byte value i.e. \u201c01:02:03:04:05:06\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_ip String    By default in EOS, PTP packets are sourced with an IP address from the routed port or from the relevant SVI, which is the recommended behaviour.This can be set manually if required, for example, to a value of \u201c10.1.2.3\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ttl Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0forward_unicast Boolean  False  Enable PTP unicast forwarding.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0general_messages Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0event_messages Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0monitor Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0threshold Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset_from_master Integer  250 Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mean_path_delay Integer  1500 Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0drop Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset_from_master Integer   Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mean_path_delay Integer   Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0missing_message Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0intervals Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0follow_up Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sequence_ids Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay_resp Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0follow_up Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- ptp Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String  aes67-r16-2016 Valid Values:- aes67- smpte2059-2- aes67-r16-2016    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0domain Integer  127 Min: 0Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority1 Integer   Min: 0Max: 255 default -&gt; automatically set based on node_type.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority2 Integer   Min: 0Max: 255 default -&gt; (node_id modulus 256).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0auto_clock_identity Boolean  True  If you prefer to have PTP clock identity be the system MAC-address of the switch, which is the default EOS behaviour, simply disable the automatic PTP clock identity.default -&gt; (clock_identity_prefix = 00:1C:73 (default)) + (PTP priority 1 as HEX) + \u201c:00:\u201d + (PTP priority 2 as HEX).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0clock_identity_prefix String    PTP clock idetentiy 3-byte prefix. i.e. \u201c01:02:03\u201d.By default the 3-byte prefix is \u201c00:1C:73\u201d.This can be overridden if auto_clock_identity is set to true (which is the default).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0clock_identity String    Set PTP clock identity manually. 6-byte value i.e. \u201c01:02:03:04:05:06\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_ip String    By default in EOS, PTP packets are sourced with an IP address from the routed port or from the relevant SVI, which is the recommended behaviour.This can be set manually if required, for example, to a value of \u201c10.1.2.3\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ttl Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0forward_unicast Boolean  False  Enable PTP unicast forwarding.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0general_messages Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0event_messages Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0monitor Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0threshold Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset_from_master Integer  250 Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mean_path_delay Integer  1500 Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0drop Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset_from_master Integer   Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mean_path_delay Integer   Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0missing_message Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0intervals Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0follow_up Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sequence_ids Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay_resp Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0follow_up Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync Integer  3 Min: 2Max: 255    \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- ptp Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String  aes67-r16-2016 Valid Values:- aes67- smpte2059-2- aes67-r16-2016    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0domain Integer  127 Min: 0Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority1 Integer   Min: 0Max: 255 default -&gt; automatically set based on node_type.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0priority2 Integer   Min: 0Max: 255 default -&gt; (node_id modulus 256).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0auto_clock_identity Boolean  True  If you prefer to have PTP clock identity be the system MAC-address of the switch, which is the default EOS behaviour, simply disable the automatic PTP clock identity.default -&gt; (clock_identity_prefix = 00:1C:73 (default)) + (PTP priority 1 as HEX) + \u201c:00:\u201d + (PTP priority 2 as HEX).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0clock_identity_prefix String    PTP clock idetentiy 3-byte prefix. i.e. \u201c01:02:03\u201d.By default the 3-byte prefix is \u201c00:1C:73\u201d.This can be overridden if auto_clock_identity is set to true (which is the default).   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0clock_identity String    Set PTP clock identity manually. 6-byte value i.e. \u201c01:02:03:04:05:06\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source_ip String    By default in EOS, PTP packets are sourced with an IP address from the routed port or from the relevant SVI, which is the recommended behaviour.This can be set manually if required, for example, to a value of \u201c10.1.2.3\u201d.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ttl Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0forward_unicast Boolean  False  Enable PTP unicast forwarding.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dscp Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0general_messages Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0event_messages Integer       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0monitor Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0threshold Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset_from_master Integer  250 Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mean_path_delay Integer  1500 Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0drop Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0offset_from_master Integer   Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mean_path_delay Integer   Min: 0Max: 1000000000    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0missing_message Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0intervals Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0follow_up Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync Integer   Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sequence_ids Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enabled Boolean  True     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0announce Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay_resp Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0follow_up Integer  3 Min: 2Max: 255    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sync Integer  3 Min: 2Max: 255       <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    ptp:\n      enabled: &lt;bool&gt;\n      profile: &lt;str&gt;\n      domain: &lt;int&gt;\n      priority1: &lt;int&gt;\n      priority2: &lt;int&gt;\n      auto_clock_identity: &lt;bool&gt;\n      clock_identity_prefix: &lt;str&gt;\n      clock_identity: &lt;str&gt;\n      source_ip: &lt;str&gt;\n      ttl: &lt;int&gt;\n      forward_unicast: &lt;bool&gt;\n      dscp:\n        general_messages: &lt;int&gt;\n        event_messages: &lt;int&gt;\n      monitor:\n        enabled: &lt;bool&gt;\n        threshold:\n          offset_from_master: &lt;int&gt;\n          mean_path_delay: &lt;int&gt;\n          drop:\n            offset_from_master: &lt;int&gt;\n            mean_path_delay: &lt;int&gt;\n        missing_message:\n          intervals:\n            announce: &lt;int&gt;\n            follow_up: &lt;int&gt;\n            sync: &lt;int&gt;\n          sequence_ids:\n            enabled: &lt;bool&gt;\n            announce: &lt;int&gt;\n            delay_resp: &lt;int&gt;\n            follow_up: &lt;int&gt;\n            sync: &lt;int&gt;\n  node_groups:\n    - ptp:\n        enabled: &lt;bool&gt;\n        profile: &lt;str&gt;\n        domain: &lt;int&gt;\n        priority1: &lt;int&gt;\n        priority2: &lt;int&gt;\n        auto_clock_identity: &lt;bool&gt;\n        clock_identity_prefix: &lt;str&gt;\n        clock_identity: &lt;str&gt;\n        source_ip: &lt;str&gt;\n        ttl: &lt;int&gt;\n        forward_unicast: &lt;bool&gt;\n        dscp:\n          general_messages: &lt;int&gt;\n          event_messages: &lt;int&gt;\n        monitor:\n          enabled: &lt;bool&gt;\n          threshold:\n            offset_from_master: &lt;int&gt;\n            mean_path_delay: &lt;int&gt;\n            drop:\n              offset_from_master: &lt;int&gt;\n              mean_path_delay: &lt;int&gt;\n          missing_message:\n            intervals:\n              announce: &lt;int&gt;\n              follow_up: &lt;int&gt;\n              sync: &lt;int&gt;\n            sequence_ids:\n              enabled: &lt;bool&gt;\n              announce: &lt;int&gt;\n              delay_resp: &lt;int&gt;\n              follow_up: &lt;int&gt;\n              sync: &lt;int&gt;\n      nodes:\n        - ptp:\n            enabled: &lt;bool&gt;\n            profile: &lt;str&gt;\n            domain: &lt;int&gt;\n            priority1: &lt;int&gt;\n            priority2: &lt;int&gt;\n            auto_clock_identity: &lt;bool&gt;\n            clock_identity_prefix: &lt;str&gt;\n            clock_identity: &lt;str&gt;\n            source_ip: &lt;str&gt;\n            ttl: &lt;int&gt;\n            forward_unicast: &lt;bool&gt;\n            dscp:\n              general_messages: &lt;int&gt;\n              event_messages: &lt;int&gt;\n            monitor:\n              enabled: &lt;bool&gt;\n              threshold:\n                offset_from_master: &lt;int&gt;\n                mean_path_delay: &lt;int&gt;\n                drop:\n                  offset_from_master: &lt;int&gt;\n                  mean_path_delay: &lt;int&gt;\n              missing_message:\n                intervals:\n                  announce: &lt;int&gt;\n                  follow_up: &lt;int&gt;\n                  sync: &lt;int&gt;\n                sequence_ids:\n                  enabled: &lt;bool&gt;\n                  announce: &lt;int&gt;\n                  delay_resp: &lt;int&gt;\n                  follow_up: &lt;int&gt;\n                  sync: &lt;int&gt;\n  nodes:\n    - ptp:\n        enabled: &lt;bool&gt;\n        profile: &lt;str&gt;\n        domain: &lt;int&gt;\n        priority1: &lt;int&gt;\n        priority2: &lt;int&gt;\n        auto_clock_identity: &lt;bool&gt;\n        clock_identity_prefix: &lt;str&gt;\n        clock_identity: &lt;str&gt;\n        source_ip: &lt;str&gt;\n        ttl: &lt;int&gt;\n        forward_unicast: &lt;bool&gt;\n        dscp:\n          general_messages: &lt;int&gt;\n          event_messages: &lt;int&gt;\n        monitor:\n          enabled: &lt;bool&gt;\n          threshold:\n            offset_from_master: &lt;int&gt;\n            mean_path_delay: &lt;int&gt;\n            drop:\n              offset_from_master: &lt;int&gt;\n              mean_path_delay: &lt;int&gt;\n          missing_message:\n            intervals:\n              announce: &lt;int&gt;\n              follow_up: &lt;int&gt;\n              sync: &lt;int&gt;\n            sequence_ids:\n              enabled: &lt;bool&gt;\n              announce: &lt;int&gt;\n              delay_resp: &lt;int&gt;\n              follow_up: &lt;int&gt;\n              sync: &lt;int&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#topology-variables","title":"Topology Variables TableYAML      Variable Type Required Default Value Restrictions Description     dc_name String    DC Name, required to match Ansible Group name covering all devices in the DC.Required for 5-stage CLOS (Super-spines).   fabric_name String Required   Fabric Name, required to match Ansible Group name covering all devices in the Fabric, must be an inventory group name.   pod_name String    POD Name, only used in Fabric Documentation (Optional), fallback to dc_name and then to fabric_name.Recommended to be common between Spines and Leafs within a POD (One l3ls topology).      <pre><code>dc_name: &lt;str&gt;\nfabric_name: &lt;str&gt;\npod_name: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#type","title":"Type <p>The <code>type:</code> variable needs to be defined for each device in the fabric. This is leveraged to load the appropriate template to generate the configuration.</p> TableYAML      Variable Type Required Default Value Restrictions Description     type String   Valid Values:-        <pre><code>type: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Topology.html#uplink-management","title":"Uplink management TableYAML      Variable Type Required Default Value Restrictions Description     &lt;node_type_keys.key&gt; Dictionary       \u00a0\u00a0defaults Dictionary       \u00a0\u00a0\u00a0\u00a0uplink_ipv4_pool String   Format: ipv4_cidr IPv4 subnet to use to connect to uplink switches.   \u00a0\u00a0\u00a0\u00a0uplink_interfaces List, items: String    Local uplink interfacesEach list item supports range syntax that can be expanded into a list of interfaces.If uplink_interfaces is not defined, platform-specific defaults (defined under default_interfaces) will be used instead.Please note that default_interfaces are not defined by default, you should define these yourself.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Pattern: Ethernet[\\d/]+    \u00a0\u00a0\u00a0\u00a0uplink_switch_interfaces List, items: String    Interfaces located on uplink switches   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Pattern: Ethernet[\\d/]+    \u00a0\u00a0\u00a0\u00a0uplink_switches List, items: String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Required   Hostname of uplink switch.If parallel uplinks are in use, update max_parallel_uplinks below and specify each uplink switch multiple times.e.g. uplink_switches: [ \u2018DC1-SPINE1\u2019, \u2018DC1-SPINE1\u2019, \u2018DC1-SPINE2\u2019, \u2018DC1-SPINE2\u2019 ].   \u00a0\u00a0\u00a0\u00a0uplink_interface_speed String    Set point-to-Point interface speed and will apply to uplink interfaces on both ends.interface_speed or forced interface_speed or auto interface_speed.   \u00a0\u00a0\u00a0\u00a0max_uplink_switches Integer    Maximum number of uplink switches.Changing this value may change IP Addressing on uplinks.Can be used to reserve IP space for future expansions.   \u00a0\u00a0\u00a0\u00a0max_parallel_uplinks Integer    Number of parallel links towards uplink switches.Changing this value may change interface naming on uplinks (and corresponding downlinks).Can be used to reserve interfaces for future parallel uplinks.   \u00a0\u00a0\u00a0\u00a0uplink_bfd Boolean  False  Enable bfd on uplink interfaces.   \u00a0\u00a0\u00a0\u00a0uplink_native_vlan Integer   Min: 1Max: 4094 Only applicable to switches with layer-2 port-channel uplinks.A suspended (disabled) vlan will be created in both ends of the link unless the vlan is defined under network services.By default the uplink will not have a native_vlan configured, so EOS defaults to vlan 1.   \u00a0\u00a0\u00a0\u00a0uplink_ptp Dictionary    Enable PTP on all infrastructure links.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean  False     \u00a0\u00a0\u00a0\u00a0uplink_macsec Dictionary    Enable MacSec on all uplinks.   \u00a0\u00a0\u00a0\u00a0uplink_structured_config Dictionary    Custom structured config applied to \u201cuplink_interfaces\u201d, and \u201cuplink_switch_interfaces\u201d.When uplink_type == \u201cp2p\u201d, custom structured config added under ethernet_interfaces. for eos_cli_config_gen overrides the settings on the ethernet interface level.When uplink_type == \u201cport-channel\u201d, custom structured config added under port_channel_interfaces. for eos_cli_config_gen overrides the settings on the port-channel interface level.\u201cuplink_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0mlag_port_channel_structured_config Dictionary    Custom structured config applied to MLAG peer link port-channel id.Added under port_channel_interfaces. for eos_cli_config_gen.Overrides the settings on the port-channel interface level.\u201cmlag_port_channel_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0mlag_peer_vlan_structured_config Dictionary    Custom structured config applied to MLAG Peer Link (control link) SVI interface id.Added under vlan_interfaces. for eos_cli_config_gen.Overrides the settings on the vlan interface level.\u201cmlag_peer_vlan_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0mlag_peer_l3_vlan_structured_config Dictionary    Custom structured config applied to MLAG underlay L3 peering SVI interface id.Added under vlan_interfaces. for eos_cli_config_gen.Overrides the settings on the vlan interface level.\u201cmlag_peer_l3_vlan_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0short_esi String    short_esi only valid for l2leaf devices using port-channel uplink.Setting short_esi to \u201cauto\u201d generates the short_esi automatically using a hash of configuration elements.&lt; 0000:0000:0000   \u00a0\u00a0node_groups List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- uplink_ipv4_pool String   Format: ipv4_cidr IPv4 subnet to use to connect to uplink switches.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_interfaces List, items: String    Local uplink interfacesEach list item supports range syntax that can be expanded into a list of interfaces.If uplink_interfaces is not defined, platform-specific defaults (defined under default_interfaces) will be used instead.Please note that default_interfaces are not defined by default, you should define these yourself.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Pattern: Ethernet[\\d/]+    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_switch_interfaces List, items: String    Interfaces located on uplink switches   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Pattern: Ethernet[\\d/]+    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_switches List, items: String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Required   Hostname of uplink switch.If parallel uplinks are in use, update max_parallel_uplinks below and specify each uplink switch multiple times.e.g. uplink_switches: [ \u2018DC1-SPINE1\u2019, \u2018DC1-SPINE1\u2019, \u2018DC1-SPINE2\u2019, \u2018DC1-SPINE2\u2019 ].   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_interface_speed String    Set point-to-Point interface speed and will apply to uplink interfaces on both ends.interface_speed or forced interface_speed or auto interface_speed.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_uplink_switches Integer    Maximum number of uplink switches.Changing this value may change IP Addressing on uplinks.Can be used to reserve IP space for future expansions.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_parallel_uplinks Integer    Number of parallel links towards uplink switches.Changing this value may change interface naming on uplinks (and corresponding downlinks).Can be used to reserve interfaces for future parallel uplinks.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_bfd Boolean  False  Enable bfd on uplink interfaces.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_native_vlan Integer   Min: 1Max: 4094 Only applicable to switches with layer-2 port-channel uplinks.A suspended (disabled) vlan will be created in both ends of the link unless the vlan is defined under network services.By default the uplink will not have a native_vlan configured, so EOS defaults to vlan 1.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_ptp Dictionary    Enable PTP on all infrastructure links.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_macsec Dictionary    Enable MacSec on all uplinks.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_structured_config Dictionary    Custom structured config applied to \u201cuplink_interfaces\u201d, and \u201cuplink_switch_interfaces\u201d.When uplink_type == \u201cp2p\u201d, custom structured config added under ethernet_interfaces. for eos_cli_config_gen overrides the settings on the ethernet interface level.When uplink_type == \u201cport-channel\u201d, custom structured config added under port_channel_interfaces. for eos_cli_config_gen overrides the settings on the port-channel interface level.\u201cuplink_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_port_channel_structured_config Dictionary    Custom structured config applied to MLAG peer link port-channel id.Added under port_channel_interfaces. for eos_cli_config_gen.Overrides the settings on the port-channel interface level.\u201cmlag_port_channel_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_vlan_structured_config Dictionary    Custom structured config applied to MLAG Peer Link (control link) SVI interface id.Added under vlan_interfaces. for eos_cli_config_gen.Overrides the settings on the vlan interface level.\u201cmlag_peer_vlan_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_l3_vlan_structured_config Dictionary    Custom structured config applied to MLAG underlay L3 peering SVI interface id.Added under vlan_interfaces. for eos_cli_config_gen.Overrides the settings on the vlan interface level.\u201cmlag_peer_l3_vlan_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String    short_esi only valid for l2leaf devices using port-channel uplink.Setting short_esi to \u201cauto\u201d generates the short_esi automatically using a hash of configuration elements.&lt; 0000:0000:0000   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- uplink_ipv4_pool String   Format: ipv4_cidr IPv4 subnet to use to connect to uplink switches.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_interfaces List, items: String    Local uplink interfacesEach list item supports range syntax that can be expanded into a list of interfaces.If uplink_interfaces is not defined, platform-specific defaults (defined under default_interfaces) will be used instead.Please note that default_interfaces are not defined by default, you should define these yourself.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Pattern: Ethernet[\\d/]+    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_switch_interfaces List, items: String    Interfaces located on uplink switches   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Pattern: Ethernet[\\d/]+    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_switches List, items: String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Required   Hostname of uplink switch.If parallel uplinks are in use, update max_parallel_uplinks below and specify each uplink switch multiple times.e.g. uplink_switches: [ \u2018DC1-SPINE1\u2019, \u2018DC1-SPINE1\u2019, \u2018DC1-SPINE2\u2019, \u2018DC1-SPINE2\u2019 ].   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_interface_speed String    Set point-to-Point interface speed and will apply to uplink interfaces on both ends.interface_speed or forced interface_speed or auto interface_speed.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_uplink_switches Integer    Maximum number of uplink switches.Changing this value may change IP Addressing on uplinks.Can be used to reserve IP space for future expansions.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_parallel_uplinks Integer    Number of parallel links towards uplink switches.Changing this value may change interface naming on uplinks (and corresponding downlinks).Can be used to reserve interfaces for future parallel uplinks.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_bfd Boolean  False  Enable bfd on uplink interfaces.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_native_vlan Integer   Min: 1Max: 4094 Only applicable to switches with layer-2 port-channel uplinks.A suspended (disabled) vlan will be created in both ends of the link unless the vlan is defined under network services.By default the uplink will not have a native_vlan configured, so EOS defaults to vlan 1.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_ptp Dictionary    Enable PTP on all infrastructure links.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_macsec Dictionary    Enable MacSec on all uplinks.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_structured_config Dictionary    Custom structured config applied to \u201cuplink_interfaces\u201d, and \u201cuplink_switch_interfaces\u201d.When uplink_type == \u201cp2p\u201d, custom structured config added under ethernet_interfaces. for eos_cli_config_gen overrides the settings on the ethernet interface level.When uplink_type == \u201cport-channel\u201d, custom structured config added under port_channel_interfaces. for eos_cli_config_gen overrides the settings on the port-channel interface level.\u201cuplink_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_port_channel_structured_config Dictionary    Custom structured config applied to MLAG peer link port-channel id.Added under port_channel_interfaces. for eos_cli_config_gen.Overrides the settings on the port-channel interface level.\u201cmlag_port_channel_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_vlan_structured_config Dictionary    Custom structured config applied to MLAG Peer Link (control link) SVI interface id.Added under vlan_interfaces. for eos_cli_config_gen.Overrides the settings on the vlan interface level.\u201cmlag_peer_vlan_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_l3_vlan_structured_config Dictionary    Custom structured config applied to MLAG underlay L3 peering SVI interface id.Added under vlan_interfaces. for eos_cli_config_gen.Overrides the settings on the vlan interface level.\u201cmlag_peer_l3_vlan_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String    short_esi only valid for l2leaf devices using port-channel uplink.Setting short_esi to \u201cauto\u201d generates the short_esi automatically using a hash of configuration elements.&lt; 0000:0000:0000   \u00a0\u00a0nodes List, items: Dictionary       \u00a0\u00a0\u00a0\u00a0- uplink_ipv4_pool String   Format: ipv4_cidr IPv4 subnet to use to connect to uplink switches.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_interfaces List, items: String    Local uplink interfacesEach list item supports range syntax that can be expanded into a list of interfaces.If uplink_interfaces is not defined, platform-specific defaults (defined under default_interfaces) will be used instead.Please note that default_interfaces are not defined by default, you should define these yourself.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Pattern: Ethernet[\\d/]+    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_switch_interfaces List, items: String    Interfaces located on uplink switches   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String   Pattern: Ethernet[\\d/]+    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_switches List, items: String       \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Required   Hostname of uplink switch.If parallel uplinks are in use, update max_parallel_uplinks below and specify each uplink switch multiple times.e.g. uplink_switches: [ \u2018DC1-SPINE1\u2019, \u2018DC1-SPINE1\u2019, \u2018DC1-SPINE2\u2019, \u2018DC1-SPINE2\u2019 ].   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_interface_speed String    Set point-to-Point interface speed and will apply to uplink interfaces on both ends.interface_speed or forced interface_speed or auto interface_speed.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_uplink_switches Integer    Maximum number of uplink switches.Changing this value may change IP Addressing on uplinks.Can be used to reserve IP space for future expansions.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0max_parallel_uplinks Integer    Number of parallel links towards uplink switches.Changing this value may change interface naming on uplinks (and corresponding downlinks).Can be used to reserve interfaces for future parallel uplinks.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_bfd Boolean  False  Enable bfd on uplink interfaces.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_native_vlan Integer   Min: 1Max: 4094 Only applicable to switches with layer-2 port-channel uplinks.A suspended (disabled) vlan will be created in both ends of the link unless the vlan is defined under network services.By default the uplink will not have a native_vlan configured, so EOS defaults to vlan 1.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_ptp Dictionary    Enable PTP on all infrastructure links.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0enable Boolean  False     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_macsec Dictionary    Enable MacSec on all uplinks.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0uplink_structured_config Dictionary    Custom structured config applied to \u201cuplink_interfaces\u201d, and \u201cuplink_switch_interfaces\u201d.When uplink_type == \u201cp2p\u201d, custom structured config added under ethernet_interfaces. for eos_cli_config_gen overrides the settings on the ethernet interface level.When uplink_type == \u201cport-channel\u201d, custom structured config added under port_channel_interfaces. for eos_cli_config_gen overrides the settings on the port-channel interface level.\u201cuplink_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_port_channel_structured_config Dictionary    Custom structured config applied to MLAG peer link port-channel id.Added under port_channel_interfaces. for eos_cli_config_gen.Overrides the settings on the port-channel interface level.\u201cmlag_port_channel_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_vlan_structured_config Dictionary    Custom structured config applied to MLAG Peer Link (control link) SVI interface id.Added under vlan_interfaces. for eos_cli_config_gen.Overrides the settings on the vlan interface level.\u201cmlag_peer_vlan_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_peer_l3_vlan_structured_config Dictionary    Custom structured config applied to MLAG underlay L3 peering SVI interface id.Added under vlan_interfaces. for eos_cli_config_gen.Overrides the settings on the vlan interface level.\u201cmlag_peer_l3_vlan_structured_config\u201d is applied after \u201cstructured_config\u201d, so it can override \u201cstructured_config\u201d defined on node-level.   \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0short_esi String    short_esi only valid for l2leaf devices using port-channel uplink.Setting short_esi to \u201cauto\u201d generates the short_esi automatically using a hash of configuration elements.&lt; 0000:0000:0000      <pre><code>&lt;node_type_keys.key&gt;:\n  defaults:\n    uplink_ipv4_pool: &lt;str&gt;\n    uplink_interfaces:\n      - &lt;str&gt;\n    uplink_switch_interfaces:\n      - &lt;str&gt;\n    uplink_switches:\n      - &lt;str&gt;\n    uplink_interface_speed: &lt;str&gt;\n    max_uplink_switches: &lt;int&gt;\n    max_parallel_uplinks: &lt;int&gt;\n    uplink_bfd: &lt;bool&gt;\n    uplink_native_vlan: &lt;int&gt;\n    uplink_ptp:\n      enable: &lt;bool&gt;\n    uplink_macsec:\n    uplink_structured_config:\n    mlag_port_channel_structured_config:\n    mlag_peer_vlan_structured_config:\n    mlag_peer_l3_vlan_structured_config:\n    short_esi: &lt;str&gt;\n  node_groups:\n    - uplink_ipv4_pool: &lt;str&gt;\n      uplink_interfaces:\n        - &lt;str&gt;\n      uplink_switch_interfaces:\n        - &lt;str&gt;\n      uplink_switches:\n        - &lt;str&gt;\n      uplink_interface_speed: &lt;str&gt;\n      max_uplink_switches: &lt;int&gt;\n      max_parallel_uplinks: &lt;int&gt;\n      uplink_bfd: &lt;bool&gt;\n      uplink_native_vlan: &lt;int&gt;\n      uplink_ptp:\n        enable: &lt;bool&gt;\n      uplink_macsec:\n      uplink_structured_config:\n      mlag_port_channel_structured_config:\n      mlag_peer_vlan_structured_config:\n      mlag_peer_l3_vlan_structured_config:\n      short_esi: &lt;str&gt;\n      nodes:\n        - uplink_ipv4_pool: &lt;str&gt;\n          uplink_interfaces:\n            - &lt;str&gt;\n          uplink_switch_interfaces:\n            - &lt;str&gt;\n          uplink_switches:\n            - &lt;str&gt;\n          uplink_interface_speed: &lt;str&gt;\n          max_uplink_switches: &lt;int&gt;\n          max_parallel_uplinks: &lt;int&gt;\n          uplink_bfd: &lt;bool&gt;\n          uplink_native_vlan: &lt;int&gt;\n          uplink_ptp:\n            enable: &lt;bool&gt;\n          uplink_macsec:\n          uplink_structured_config:\n          mlag_port_channel_structured_config:\n          mlag_peer_vlan_structured_config:\n          mlag_peer_l3_vlan_structured_config:\n          short_esi: &lt;str&gt;\n  nodes:\n    - uplink_ipv4_pool: &lt;str&gt;\n      uplink_interfaces:\n        - &lt;str&gt;\n      uplink_switch_interfaces:\n        - &lt;str&gt;\n      uplink_switches:\n        - &lt;str&gt;\n      uplink_interface_speed: &lt;str&gt;\n      max_uplink_switches: &lt;int&gt;\n      max_parallel_uplinks: &lt;int&gt;\n      uplink_bfd: &lt;bool&gt;\n      uplink_native_vlan: &lt;int&gt;\n      uplink_ptp:\n        enable: &lt;bool&gt;\n      uplink_macsec:\n      uplink_structured_config:\n      mlag_port_channel_structured_config:\n      mlag_peer_vlan_structured_config:\n      mlag_peer_l3_vlan_structured_config:\n      short_esi: &lt;str&gt;\n</code></pre>","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html","title":"Fabric Variables","text":"","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#bfd-settings","title":"BFD Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description bfd_multihop Dictionary BFD Multihop tuning <pre><code>bfd_multihop:\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#bgp-multi-path-settings","title":"BGP multi-path Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description bgp_ecmp Integer 4 Maximum ECMP for BGP multi-path bgp_maximum_paths Integer 4 Min: 1Max: 512 Maximum Paths for BGP multi-path <pre><code>bgp_ecmp: &lt;int&gt;\nbgp_maximum_paths: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#bgp-peer-groups","title":"BGP Peer Groups","text":"TableYAML Variable Type Required Default Value Restrictions Description bgp_peer_groups Dictionary Leverage an Arista EOS switch to generate the encrypted password using the correct peer group name.Note that the name of the peer groups use \u2018-\u2018 instead of \u2018_\u2019 in EOS configuration. <pre><code>bgp_peer_groups:\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#bgp-settings","title":"BGP Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description bgp_as String AS number to use to configure overlay when \u201coverlay_routing_protocol\u201d == ibgp bgp_mesh_pes Boolean False Whether to configure an iBGP full mesh between PEs, either because there is no RR used or other reasons. underlay_filter_peer_as Boolean False Configure route-map on eBGP sessions towards underlay peers, where prefixes with the peer\u2019s ASN in the AS Path are filtered away.This is very useful in very large scale networks not using EVPN overlays, where convergence will be quicker by not having to returnall updates received from Spine-1 to Spine-2 just for Spine-2 to throw them away because of AS Path loop detection.Note this key is ignored when EVPN is configured. <pre><code>bgp_as: &lt;str&gt;\nbgp_mesh_pes: &lt;bool&gt;\nunderlay_filter_peer_as: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#evpn-settings","title":"EVPN Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description evpn_ebgp_gateway_multihop Integer 15 Default of 15, considering a large value to avoid BGP reachability issues in very complex DCI networks.Adapt the value for your specific topology. evpn_ebgp_multihop Integer 3 Default of 3, the recommended value for a 3 stage spine and leaf topology.Set to a higher value to allow for very large and complex topologies. evpn_hostflap_detection Dictionary evpn_import_pruning Boolean False Enable VPN import pruning (Min. EOS 4.24.2F)The Route Target extended communities carried by incoming VPN paths willbe examined. If none of those Route Targets have been configured for import,the path will be immediately discarded evpn_multicast Boolean False General Configuration required for EVPN Multicast. \u201cevpn_l2_multicast\u201d must also be configured under the Network Services (tenants).Requires \u201cunderlay_multicast: true\u201d and IGMP snooping enabled globally (default).For MLAG devices Route Distinguisher must be unique since this feature will create multi-vtep configuration.Warning !!! For Trident3 based platforms i.e 7050X3, 7300X3, 720XP and 722XP  The Following default platform setting will be configured: \u201cplatform trident forwarding-table partition flexible exact-match 16384 l2-shared 98304 l3-shared 131072\u201d  All forwarding agents will be restarted when this configuration is applied.  You can tune the settings by overridding the default variable: \u201cplatform_settings[platforms].trident_forwarding_table_partition:\u201d  Please contact an Arista representative for help with determining the appropriate values for your environment. evpn_overlay_bgp_rtc Boolean False Enable Route Target Membership Constraint Address Family on EVPN overlay BGP peerings (Min. EOS 4.25.1F)Requires use eBGP as overlay protocol. evpn_prevent_readvertise_to_server Boolean False Configure route-map on eBGP sessions towards route-servers, where prefixes with the peer\u2019s ASN in the AS Path are filtered away.This is very useful in large-scale networks, where convergence will be quicker by not returning all updates receivedfrom Route-server-1 to Router-server-2 just for Route-server-2 to throw them away because of AS Path loop detection. evpn_short_esi_prefix String 0000:0000: Configure prefix for \u201cshort_esi\u201d values evpn_vlan_aware_bundles Boolean False Enable vlan aware bundles for EVPN MAC-VRFOld variable name vxlan_vlan_aware_bundles, supported for backward-compatibility. <pre><code>evpn_ebgp_gateway_multihop: &lt;int&gt;\nevpn_ebgp_multihop: &lt;int&gt;\nevpn_hostflap_detection:\nevpn_import_pruning: &lt;bool&gt;\nevpn_multicast: &lt;bool&gt;\nevpn_overlay_bgp_rtc: &lt;bool&gt;\nevpn_prevent_readvertise_to_server: &lt;bool&gt;\nevpn_short_esi_prefix: &lt;str&gt;\nevpn_vlan_aware_bundles: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#ipv6-underlay-settings","title":"IPv6 Underlay Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description overlay_mlag_rfc5549 Boolean False IPv6 Unnumbered for MLAG iBGP connections.Requires \u201cunderlay_rfc5549: true\u201d. overlay_routing_protocol_address_family String ipv4 Valid Values:- ipv4- ipv6 When set to <code>ipv6</code>, enable overlay EVPN peering with IPv6 addresses.This feature depends on underlay_ipv6 variable. As of today, only RFC5549 is capable to transport IPv6 in the underlay. underlay_ipv6 Boolean False This feature allows IPv6 underlay routing protocol with RFC5549 addresses to be used along with IPv4 advertisements as VXLAN tunnel endpoints.Requires \u201cunderlay_rfc5549: true\u201d and \u201cloopback_ipv6_pool\u201d under the \u201cFabric Topology\u201d underlay_rfc5549 Boolean False Point to Point Underlay with RFC 5549(eBGP), i.e. IPv6 UnnumberedRequires \u201cunderlay_routing_protocol: ebgp\u201d <pre><code>overlay_mlag_rfc5549: &lt;bool&gt;\noverlay_routing_protocol_address_family: &lt;str&gt;\nunderlay_ipv6: &lt;bool&gt;\nunderlay_rfc5549: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#isis-settings","title":"ISIS Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description isis_advertise_passive_only Boolean False isis_area_id String 49.0001 isis_default_circuit_type String level-2 Valid Values:- level-1-2- level-1- level-2 These fabric level parameters can be used with core_interfaces running ISIS, and may be overridden on link profile or link level. isis_default_is_type String level-2 Valid Values:- level-1-2- level-1- level-2 isis_default_metric Integer 50 These fabric level parameters can be used with core_interfaces running ISIS, and may be overridden at link profile or link level. isis_ti_lfa Dictionary \u00a0\u00a0enabled Boolean False \u00a0\u00a0protection String Valid Values:- link- node \u00a0\u00a0local_convergence_delay Integer 10000 Local convergence delay in milliseconds underlay_isis_instance_name String Default -&gt; \u201cEVPN_UNDERLAY\u201d for l3ls, \u201cCORE\u201d for mpls <pre><code>isis_advertise_passive_only: &lt;bool&gt;\nisis_area_id: &lt;str&gt;\nisis_default_circuit_type: &lt;str&gt;\nisis_default_is_type: &lt;str&gt;\nisis_default_metric: &lt;int&gt;\nisis_ti_lfa:\nenabled: &lt;bool&gt;\nprotection: &lt;str&gt;\nlocal_convergence_delay: &lt;int&gt;\nunderlay_isis_instance_name: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#mac-address-table-settings","title":"MAC Address Table Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description mac_address_table Dictionary MAC address-table aging timeUse to change the EOS default of 300. \u00a0\u00a0aging_time Integer Min: 0Max: 1000000 Aging time in seconds 10-1000000.Enter 0 to disable aging. <pre><code>mac_address_table:\naging_time: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#mlag-settings","title":"MLAG Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description mlag_ibgp_peering_vrfs Dictionary On mlag leafs, an SVI interface is defined per vrf, to establish iBGP peering (required when there are MLAG leafs in topology)The SVI id will be derived from the base vlan defined: mlag_ibgp_peering_vrfs.base_vlan + (vrf_id or vrf_vni) - 1Depending on the values of vrf_id / vrf_vni it may be required to adjust the base_vlan to avoid overlaps or invalid vlan ids.The SVI ip address derived from mlag_l3_peer_ipv4_pool is re-used across all iBGP peerings. \u00a0\u00a0base_vlan Integer 3000 Min: 1Max: 4093 <pre><code>mlag_ibgp_peering_vrfs:\nbase_vlan: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#multicast-settings","title":"Multicast Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description default_igmp_snooping_enabled Boolean True When set to false, disables IGMP snooping at fabric level and overrides per vlan settings. underlay_multicast Boolean False Enable Multicast in the underlay on all p2p uplink interfaces and mlag l3 peer interface.Specifically PIM Sparse-Mode will be configured on all routed underlay interfaces.No other configuration is added, so the underlay will only support Source-Specific Multicast (SSM)The configuration is intended to be used as multicast underlay for EVPN OISM overlay <pre><code>default_igmp_snooping_enabled: &lt;bool&gt;\nunderlay_multicast: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#ospf-settings","title":"OSPF Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description underlay_ospf_area String 0.0.0.0 Format: ipv4 underlay_ospf_bfd_enable Boolean False underlay_ospf_max_lsa Integer 12000 underlay_ospf_process_id Integer 100 <pre><code>underlay_ospf_area: &lt;str&gt;\nunderlay_ospf_bfd_enable: &lt;bool&gt;\nunderlay_ospf_max_lsa: &lt;int&gt;\nunderlay_ospf_process_id: &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#overlay-general-settings","title":"Overlay General Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description overlay_loopback_description String Customize the description on overlay interface Loopback0. vtep_vvtep_ip String IP Address used as Virtual VTEP. Will be configured as secondary IP on Loopback1.This is only needed for centralized routing designs. <pre><code>overlay_loopback_description: &lt;str&gt;\nvtep_vvtep_ip: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#routing-protocol-selection","title":"Routing Protocol Selection","text":"TableYAML Variable Type Required Default Value Restrictions Description overlay_her_flood_list_per_vni Boolean False When using Head-End Replication, configure flood-lists per VNI.By default HER will be configured with a common flood-list containing all VTEPs.This behavior can be changed to per-VNI flood-lists by setting <code>overlay_her_flood_list_per_vni: true</code>.This will make <code>eos_designs</code> consider configured VLANs per VTEP, and only include the relevant VTEPs to each VNI\u2019s flood-list. overlay_her_flood_list_scope String fabric Valid Values:- fabric- dc When using Head-End Replication, set the scope of flood-lists to Fabric or DC.By default all VTEPs in the Fabric (part of the inventory group referenced by \u201cfabric_name\u201d) are added to the flood-lists.This can be changed to all VTEPs in the DC (part of the inventory group referenced by \u201cdc_name\u201d).This is useful if Border Leaf switches are dividing the VXLAN overlay into separate domains. overlay_routing_protocol String ebgp Value is converted to lower caseValid Values:- ebgp- ibgp- cvx- her- none - The following overlay routing protocols are supported:  - eBGP: Configures fabric with eBGP, default for l3ls-evpn design.  - iBGP: Configured fabric with iBGP, only supported with OSPF or ISIS variants in underlay, default for mpls design.  - CVX: Configures fabric to leverage CloudVision eXchange as the overlay controller.  - HER: Configures fabric with Head-End Replication, configures static VXLAN flood-lists instead of using a dynamic overlay protocol.  - none: No overlay configuration will be generated, default for l2ls design. underlay_routing_protocol String Value is converted to lower caseValid Values:- ebgp- ospf- isis- isis-sr- isis-ldp- isis-sr-ldp- ospf-ldp - The following underlay routing protocols are supported:  - EBGP (default for l3ls-evpn)  - OSPF.  - ISIS.  - ISIS-SR*.  - ISIS-LDP*.  - ISIS-SR-LDP*.  - OSPF-LDP*.- The variables should be applied to all devices in the fabric.*Only supported with core_interfaces data model. <pre><code>overlay_her_flood_list_per_vni: &lt;bool&gt;\noverlay_her_flood_list_scope: &lt;str&gt;\noverlay_routing_protocol: &lt;str&gt;\nunderlay_routing_protocol: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#uplink-settings","title":"Uplink Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description shutdown_interfaces_towards_undeployed_peers Boolean False - It is possible to provision configurations for a complete topology but flag devices as undeployed using the host level variable <code>is_deployed: false</code>.<code>yaml&lt;br&gt;# Use at the host level&lt;br&gt;is_deployed: &lt; true or false or default -&gt; true &gt;&lt;br&gt;</code>- By default, this will have no impact within the <code>eos_designs</code> role. Configs will still be generated by the <code>eos_cli_config_gen</code> role and will still be pushed by the <code>eos_config_deploy_eapi</code> directly to devices if used.- However, if the <code>eos_config_deploy_cvp</code> role is used to push configurations, CloudVision will ignore the devices flagged  as <code>is_deployed: false</code> and not attempt to configure them.- If the device is not present in the network due to CloudVision not configuring the device, <code>eos_validate_state</code> role will fail tests on peers of the undeployed device trying to verify that interfaces are up.- To overcome this and shutdown interfaces towards undeployed peers, the variable <code>shutdown_interfaces_towards_undeployed_peers</code> can be used, satisfying the <code>eos_validate_state</code> role interface tests.- Again, this is only an issue if <code>eos_config_deploy_cvp</code> is used and the devices are not present in the network. <pre><code>shutdown_interfaces_towards_undeployed_peers: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#uplinks-settings","title":"Uplinks Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description p2p_uplinks_mtu Integer 9000 Min: 68Max: 65535 Point to Point Links MTU p2p_uplinks_qos_profile String QOS Profile assigned on all infrastructure links uplink_ptp Dictionary Enable PTP on all infrastructure links \u00a0\u00a0enable Boolean False <pre><code>p2p_uplinks_mtu: &lt;int&gt;\np2p_uplinks_qos_profile: &lt;str&gt;\nuplink_ptp:\nenable: &lt;bool&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Fabric%20Variables.html#vlan-settings","title":"VLAN Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description enable_trunk_groups Boolean False Enable Trunk Group support across eos_designsWarning: Because of the nature of the EOS Trunk Group feature, enabling this is \u201call or nothing\u201d.All vlans and all trunks towards connected endpoints must be using trunk groups as well.If trunk groups are not assigned to a trunk, no vlans will be enabled on that trunk.See \u201cDetails on enable_trunk_groups\u201d below before enabling this feature. internal_vlan_order Dictionary Required Internal vlan allocation order and range. \u00a0\u00a0allocation String Required ascending Valid Values:- ascending- descending \u00a0\u00a0range Dictionary \u00a0\u00a0\u00a0\u00a0beginning Integer Required 1006 Min: 2Max: 4094 First VLAN ID. \u00a0\u00a0\u00a0\u00a0ending Integer Required 1199 Min: 2Max: 4094 Last VLAN ID. only_local_vlan_trunk_groups Boolean False A vlan can have many trunk_groups assigned. To avoid unneeded configuration changes on all leafswitches when a new trunk group is added, this feature will only configure the vlan trunk groupsmatched with local connected_endpoints.See \u201cDetails on only_local_vlan_trunk_groups\u201d below.Requires \u201cenable_trunk_groups: true\u201d trunk_groups Dictionary \u00a0\u00a0mlag Dictionary Trunk Group used for MLAG VLAN (Typically VLAN 4094) \u00a0\u00a0\u00a0\u00a0name String MLAG \u00a0\u00a0mlag_l3 Dictionary Trunk Group used for MLAG L3 peering VLAN and for VRF L3 peering VLANs (Typically VLAN 4093) \u00a0\u00a0\u00a0\u00a0name String LEAF_PEER_L3 \u00a0\u00a0uplink Dictionary Trunk Group used on L2 Leaf switches when \u201cenable_trunk_groups\u201d is set \u00a0\u00a0\u00a0\u00a0name String UPLINK <pre><code>enable_trunk_groups: &lt;bool&gt;\ninternal_vlan_order:\nallocation: &lt;str&gt;\nrange:\nbeginning: &lt;int&gt;\nending: &lt;int&gt;\nonly_local_vlan_trunk_groups: &lt;bool&gt;\ntrunk_groups:\nmlag:\nname: &lt;str&gt;\nmlag_l3:\nname: &lt;str&gt;\nuplink:\nname: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Input%20Variables.html","title":"Input Variables","text":"","boost":2},{"location":"roles/eos_designs/docs/L3%20Edge.html","title":"L3 Edge","text":"","boost":2},{"location":"roles/eos_designs/docs/L3%20Edge.html#l3-edge_1","title":"L3 Edge","text":"<p>The <code>l3_edge</code> data model can be used to configure extra L3 P2P links anywhere in the fabric. It can be between two switches that are already part of the fabric inventory, or it can be towards another device, where only one end of the link is on a switch in the fabric. Fabric switches can be types <code>l3leaf</code>, <code>spine</code> or <code>super-spine</code>.</p> <p>The data model supports using IP pools, Subnet per link or specifying the IP addresses manually. For BGP peerings the AS number must be specified. If the AS number is different than the AS number configured for the node, the local-as will be replaced on this BGP peering (<code>neighbor &lt;ip&gt; local-as &lt;as&gt; no-prepend replace-as</code>).</p> <p>Make sure to configure the variables in a group_vars file covering all devices mentioned in the data model.</p> TableYAML Variable Type Required Default Value Restrictions Description l3_edge Dictionary \u00a0\u00a0p2p_links_ip_pools List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- name String Required, Unique P2P pool name. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv4_pool String IPv4 address/Mask. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0prefix_size Integer 31 Min: 8Max: 31 Subnet mask size. \u00a0\u00a0p2p_links_profiles List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- id Integer Unique id per subnet_summary. Used to calculate ip addresses.Required with ip_pool. ID starting from 1. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0speed String The values can be speed or auto speed or forced speed. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_pool String P2P pool name. IP Pool defined under p2p_links_ip_pools. A /31 will be taken from the pool per P2P link \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0subnet String IPv4 address/Mask. Subnet used on this P2P link. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip List, items: String Specific IP addresses used on this P2P link. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Node IPv4 address/Mask. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6_enable Boolean False Allows turning on ipv6 for the link or profile (also autodetected based on underlay_rfc5549 and include_in_underlay_protocol). \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: String Nodes where this link should be configured. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The values can be &lt; node_a &gt;, &lt; node_b &gt;.ex.- [ core-1-isis-sr-ldp, core-2-ospf-ldp ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interfaces List, items: String Interfaces where this link should be configured and Required unless using port-channels. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The value can be like &lt; node_a_interface &gt;, &lt; node_b_interface &gt;.ex. - [ Ethernet2, Ethernet2 ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0as List, items: String AS numbers for BGP.Required with bgp peering. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The values can be like [\u201cnode_a_as\u201d, \u201cnode_b_as\u201d]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0descriptions List, items: String Interface description. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0include_in_underlay_protocol Boolean True Add this interface to underlay routing protocol. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_hello_padding Boolean False \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_metric Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_circuit_type String Valid Values:- level-1- level-2- level-1-2 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_authentication_mode String Valid Values:- md5- text \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_authentication_key String Type-7 encrypted password. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_ip Boolean MPLS parameters. Default value is true if switch.mpls_lsr is true. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_ldp Boolean MPLS parameters. Default value is true for ldp underlay variants, otherwise false. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mtu Integer MTU for this P2P link. Default value same as p2p_uplinks_mtu. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd Boolean False Enable BFD (only considered for BGP). \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ptp_enable Boolean False Enable PTP \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0qos_profile String QOS service profile. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0macsec_profile String MAC security profile. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_channel Dictionary Port-channel parameters. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String active \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes_child_interfaces List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- node String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interfaces List, items: String List of node interfaces. Ex.- [ \u2018node1 interface1\u2019, \u2018node1 interface2\u2019 ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String EOS CLI rendered directly on the point-to-point interface in the final EOS configuration. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name String Required, Unique P2P profile name. Any variable supported under p2p_links can be inherited from a profile. \u00a0\u00a0p2p_links List, items: Dictionary \u00a0\u00a0\u00a0\u00a0- id Integer Unique id per subnet_summary. Used to calculate ip addresses.Required with ip_pool. ID starting from 1. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0speed String The values can be speed or auto speed or forced speed. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip_pool String P2P pool name. IP Pool defined under p2p_links_ip_pools. A /31 will be taken from the pool per P2P link \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0subnet String IPv4 address/Mask. Subnet used on this P2P link. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ip List, items: String Specific IP addresses used on this P2P link. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Node IPv4 address/Mask. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ipv6_enable Boolean False Allows turning on ipv6 for the link or profile (also autodetected based on underlay_rfc5549 and include_in_underlay_protocol). \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes List, items: String Required Nodes where this link should be configured. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The values can be &lt; node_a &gt;, &lt; node_b &gt;.ex.- [ core-1-isis-sr-ldp, core-2-ospf-ldp ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interfaces List, items: String Interfaces where this link should be configured and Required unless using port-channels. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The value can be like &lt; node_a_interface &gt;, &lt; node_b_interface &gt;.ex. - [ Ethernet2, Ethernet2 ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0as List, items: String AS numbers for BGP.Required with bgp peering. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String The values can be like [\u201cnode_a_as\u201d, \u201cnode_b_as\u201d]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0descriptions List, items: String Interface description. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0include_in_underlay_protocol Boolean True Add this interface to underlay routing protocol. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_hello_padding Boolean False \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_metric Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_circuit_type String Valid Values:- level-1- level-2- level-1-2 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_authentication_mode String Valid Values:- md5- text \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0isis_authentication_key String Type-7 encrypted password. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_ip Boolean MPLS parameters. Default value is true if switch.mpls_lsr is true. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mpls_ldp Boolean MPLS parameters. Default value is true for ldp underlay variants, otherwise false. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mtu Integer MTU for this P2P link. Default value same as p2p_uplinks_mtu. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bfd Boolean False Enable BFD (only considered for BGP). \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ptp_enable Boolean False Enable PTP \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0qos_profile String QOS service profile. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0macsec_profile String MAC security profile. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port_channel Dictionary Port-channel parameters. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mode String active \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nodes_child_interfaces List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- node String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interfaces List, items: String List of node interfaces. Ex.- [ \u2018node1 interface1\u2019, \u2018node1 interface2\u2019 ]. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_eos_cli String EOS CLI rendered directly on the point-to-point interface in the final EOS configuration. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0profile String P2P profile name. Profile defined under p2p_profiles. <pre><code>l3_edge:\np2p_links_ip_pools:\n- name: &lt;str&gt;\nipv4_pool: &lt;str&gt;\nprefix_size: &lt;int&gt;\np2p_links_profiles:\n- id: &lt;int&gt;\nspeed: &lt;str&gt;\nip_pool: &lt;str&gt;\nsubnet: &lt;str&gt;\nip:\n- &lt;str&gt;\nipv6_enable: &lt;bool&gt;\nnodes:\n- &lt;str&gt;\ninterfaces:\n- &lt;str&gt;\nas:\n- &lt;str&gt;\ndescriptions:\n- &lt;str&gt;\ninclude_in_underlay_protocol: &lt;bool&gt;\nisis_hello_padding: &lt;bool&gt;\nisis_metric: &lt;int&gt;\nisis_circuit_type: &lt;str&gt;\nisis_authentication_mode: &lt;str&gt;\nisis_authentication_key: &lt;str&gt;\nmpls_ip: &lt;bool&gt;\nmpls_ldp: &lt;bool&gt;\nmtu: &lt;int&gt;\nbfd: &lt;bool&gt;\nptp_enable: &lt;bool&gt;\nqos_profile: &lt;str&gt;\nmacsec_profile: &lt;str&gt;\nport_channel:\nmode: &lt;str&gt;\nnodes_child_interfaces:\n- node: &lt;str&gt;\ninterfaces:\n- &lt;str&gt;\nraw_eos_cli: &lt;str&gt;\nname: &lt;str&gt;\np2p_links:\n- id: &lt;int&gt;\nspeed: &lt;str&gt;\nip_pool: &lt;str&gt;\nsubnet: &lt;str&gt;\nip:\n- &lt;str&gt;\nipv6_enable: &lt;bool&gt;\nnodes:\n- &lt;str&gt;\ninterfaces:\n- &lt;str&gt;\nas:\n- &lt;str&gt;\ndescriptions:\n- &lt;str&gt;\ninclude_in_underlay_protocol: &lt;bool&gt;\nisis_hello_padding: &lt;bool&gt;\nisis_metric: &lt;int&gt;\nisis_circuit_type: &lt;str&gt;\nisis_authentication_mode: &lt;str&gt;\nisis_authentication_key: &lt;str&gt;\nmpls_ip: &lt;bool&gt;\nmpls_ldp: &lt;bool&gt;\nmtu: &lt;int&gt;\nbfd: &lt;bool&gt;\nptp_enable: &lt;bool&gt;\nqos_profile: &lt;str&gt;\nmacsec_profile: &lt;str&gt;\nport_channel:\nmode: &lt;str&gt;\nnodes_child_interfaces:\n- node: &lt;str&gt;\ninterfaces:\n- &lt;str&gt;\nraw_eos_cli: &lt;str&gt;\nprofile: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Management%20Settings.html","title":"Management Settings","text":"","boost":2},{"location":"roles/eos_designs/docs/Management%20Settings.html#cloudvision-settings","title":"CloudVision Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description cvp_ingestauth_key String On-premise CVP ingest auth key. If set, TerminAttr will be configured with key-based authentication for on-premise CVP.If not set, TerminAttr will be configured with certificate based authentication using token-secure onboarding.Token must be copied to the device first. cvp_instance_ip String IPv4 address.CloudVision - Telemetry Agent (TerminAttr) configuration is optionalYou can either provide a list of IPs to target on-premise CloudVision cluster oruse DNS name for your CloudVision as a Service instance. If you have both on-prem andCVaaS defined, only on-prem is going to be configured. cvp_instance_ips List, items: String You can either provide a list of IPs to target on-premise CloudVision cluster oruse DNS name for your CloudVision as a Service instance. If you have both on-prem andCVaaS defined, only on-prem is going to be configured. \u00a0\u00a0- &lt;str&gt; String IPv4 address or CV as a Service hostname cvp_token_file String /tmp/cv-onboarding-token cvp_token_file is the path to the token file on the switch. terminattr_disable_aaa Boolean False terminattr_ingestexclude String /Sysdb/cell/1/agent,/Sysdb/cell/2/agent terminattr_ingestgrpcurl_port Integer 9910 Port number for Terminattr ingest GRPC terminattr_smashexcludes String ale,flexCounter,hardware,kni,pulse,strata <pre><code>cvp_ingestauth_key: &lt;str&gt;\ncvp_instance_ip: &lt;str&gt;\ncvp_instance_ips:\n- &lt;str&gt;\ncvp_token_file: &lt;str&gt;\nterminattr_disable_aaa: &lt;bool&gt;\nterminattr_ingestexclude: &lt;str&gt;\nterminattr_ingestgrpcurl_port: &lt;int&gt;\nterminattr_smashexcludes: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Network%20Services.html","title":"Network Services","text":"","boost":2},{"location":"roles/eos_designs/docs/Network%20Services.html#global-network-services-settings","title":"Global Network Services Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description evpn_rd_type removed Dictionary This key was removed. Support was removed in AVD version 4.0.0. Use overlay_rd_type instead. evpn_rt_type removed Dictionary This key was removed. Support was removed in AVD version 4.0.0. Use overlay_rt_type instead. overlay_rd_type Dictionary Specify RD type.Route Distinguisher (RD) for L2 / L3 services is set to : per default.By configuring overlay_rd_type the Administrator subfield (first part of RD) can be set to other values.Note:RD is a 48-bit value which is split into &lt;16-bit&gt;:&lt;32-bit&gt; or &lt;32-bit&gt;:&lt;16-bit&gt;.For loopback or 32-bit ASN/number the VNI can only be a 16-bit number.For 16-bit ASN/number the VNI can be a 32-bit number. overlay_rt_type Dictionary Specify RT type.Route Target (RT) for L2 / L3 services is set to : per default.By configuring overlay_rt_type the Administrator subfield (first part of RT) can be set to other values.Notes:RT is a 48-bit value which is split into &lt;16-bit&gt;:&lt;32-bit&gt; or &lt;32-bit&gt;:&lt;16-bit&gt;.For 32-bit ASN/number the VNI can only be a 16-bit number.For 16-bit ASN/number the VNI can be a 32-bit number. <pre><code>evpn_rd_type:\nevpn_rt_type:\noverlay_rd_type:\noverlay_rt_type:\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Node%20Types.html","title":"Node Types","text":"","boost":2},{"location":"roles/eos_designs/docs/Node%20Types.html#default-node-types","title":"Default Node Types","text":"<p>Uses hostname matches against a regular expression to determine the node type.</p> TableYAML Variable Type Required Default Value Restrictions Description default_node_types List, items: Dictionary \u00a0\u00a0- node_type String Required, Unique Resulting node type when regex matches. \u00a0\u00a0\u00a0\u00a0match_hostnames List, items: String Required Regular expressions to match against hostnames. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Required Regex needs to match full hostname (i.e. is bounded by ^ and $ elements). <pre><code>default_node_types:\n- node_type: &lt;str&gt;\nmatch_hostnames:\n- &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Node%20Types.html#node-type-keys","title":"Node Type Keys","text":"<p>Define Node Type Keys, to specify the properties of each node type in the fabric. This allows for complete customization of the fabric layout. This should be defined in top level group_var for the fabric.</p> TableYAML Variable Type Required Default Value Restrictions Description node_type_keys List, items: Dictionary \u00a0\u00a0- key String Required, Unique \u00a0\u00a0\u00a0\u00a0type String Type value matching this node_type_key. \u00a0\u00a0\u00a0\u00a0connected_endpoints Boolean False Are endpoints connected to this node type. \u00a0\u00a0\u00a0\u00a0default_evpn_role String none Valid Values:- none- client- server Default evpn_role. Can be overridden in topology vars. \u00a0\u00a0\u00a0\u00a0default_ptp_priority1 Integer 127 Min: 0Max: 255 Default PTP priority 1 \u00a0\u00a0\u00a0\u00a0default_underlay_routing_protocol String ebgp Value is converted to lower caseValid Values:- ebgp- ibgp- ospf- ospf-ldp- isis- isis-sr- isis-ldp- isis-sr-ldp- none Set the default underlay routing_protocol.Can be overridden by setting \u201cunderlay_routing_protocol\u201d host/group_vars. \u00a0\u00a0\u00a0\u00a0default_overlay_routing_protocol String ebgp Value is converted to lower caseValid Values:- ebgp- ibgp- her- cvx- none Set the default overlay routing_protocol.Can be overridden by setting \u201coverlay_routing_protocol\u201d host/group_vars. \u00a0\u00a0\u00a0\u00a0default_mpls_overlay_role String Valid Values:- client- server- none Set the default mpls overlay role.Acting role in overlay control plane. \u00a0\u00a0\u00a0\u00a0default_overlay_address_families List, items: String Set the default overlay address families. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String Value is converted to lower caseValid Values:- evpn- vpn-ipv4- vpn-ipv6 \u00a0\u00a0\u00a0\u00a0default_evpn_encapsulation String Value is converted to lower caseValid Values:- mpls- vxlan Set the default evpn encapsulation. \u00a0\u00a0\u00a0\u00a0mlag_support Boolean False Can this node type support mlag. \u00a0\u00a0\u00a0\u00a0network_services Dictionary Will network services be deployed on this node type. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0l1 Boolean False ?? \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0l2 Boolean False Vlans \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0l3 Boolean False VRFs, SVIs (if l2 is true).Only supported with underlay_router. \u00a0\u00a0\u00a0\u00a0underlay_router Boolean True Is this node type a L3 device. \u00a0\u00a0\u00a0\u00a0uplink_type String p2p Valid Values:- p2p- port-channel Uplinks must be p2p if \u201cvtep\u201d or \u201cunderlay_router\u201d is true. \u00a0\u00a0\u00a0\u00a0vtep Boolean False Is this switch an EVPN VTEP. \u00a0\u00a0\u00a0\u00a0mpls_lsr Boolean False Is this switch an MPLS LSR. \u00a0\u00a0\u00a0\u00a0ip_addressing Dictionary Override ip_addressing templates. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0python_module String Python Module to import for IP addressing - default inherited from templates.ip_addressing.python_module \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0python_class_name String Name of Python Class to import for IP addressing  - default inherited from templates.ip_addressing.python_class_name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0router_id String Path to J2 template - default inherited from templates.ip_addressing.router_id. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0router_id_ipv6 String Path to J2 template - default inherited from templates.ip_addressing.router_id_ipv6. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_ip_primary String Path to J2 template - default inherited from templates.ip_addressing.mlag_ip_primary. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_ip_secondary String Path to J2 template - default inherited from templates.ip_addressing.mlag_ip_secondary. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_l3_ip_primary String Path to J2 template - default inherited from templates.ip_addressing.mlag_l3_ip_primary. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_l3_ip_secondary String Path to J2 template - default inherited from templates.ip_addressing.mlag_l3_ip_secondary. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_ibgp_peering_ip_primary String Path to J2 template - default inherited from templates.ip_addressing.mlag_ibgp_peering_ip_primary. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_ibgp_peering_ip_secondary String Path to J2 template - default inherited from templates.ip_addressing.mlag_ibgp_peering_ip_secondary. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0p2p_uplinks_ip String Path to J2 template - default inherited from templates.ip_addressing.p2p_uplinks_ip. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0p2p_uplinks_peer_ip String Path to J2 template - default inherited from templates.ip_addressing.p2p_uplinks_peer_ip. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vtep_ip_mlag String Path to J2 template - default inherited from templates.ip_addressing.vtep_ip_mlag. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vtep_ip String Path to J2 template - default inherited from templates.ip_addressing.vtep_ip. \u00a0\u00a0\u00a0\u00a0interface_descriptions Dictionary Override interface_descriptions templatesIf description templates use Jinja2, they have to strip whitespaces using {%- -%} on any code blocks. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0python_module String Python Module to import for interface descriptions - default inherited from templates.interface_descriptions.python_module \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0python_class_name String Name of Python Class to import for interface descriptions - default inherited from templates.interface_descriptions.python_class_name \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0underlay_ethernet_interfaces String Path to J2 template - default inherited from templates.interface_descriptions.underlay_ethernet_interfaces. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0underlay_port_channel_interfaces String Path to J2 template - default inherited from templates.interface_descriptions.underlay_port_channel_interfaces. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_ethernet_interfaces String Path to J2 template - default inherited from templates.interface_descriptions.mlag_ethernet_interfaces. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag_port_channel_interfaces String Path to J2 template - default inherited from templates.interface_descriptions.mlag_port_channel_interfaces. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0connected_endpoints_ethernet_interfaces String Path to J2 template - default inherited from templates.interface_descriptions.connected_endpoints_ethernet_interfaces. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0connected_endpoints_port_channel_interfaces String Path to J2 template - default inherited from templates.interface_descriptions.connected_endpoints_port_channel_interfaces. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0overlay_loopback_interface String Path to J2 template - default inherited from templates.interface_descriptions.overlay_loopback_interface. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vtep_loopback_interface String Path to J2 template - default inherited from templates.interface_descriptions.vtep_loopback_interface. <pre><code>node_type_keys:\n- key: &lt;str&gt;\ntype: &lt;str&gt;\nconnected_endpoints: &lt;bool&gt;\ndefault_evpn_role: &lt;str&gt;\ndefault_ptp_priority1: &lt;int&gt;\ndefault_underlay_routing_protocol: &lt;str&gt;\ndefault_overlay_routing_protocol: &lt;str&gt;\ndefault_mpls_overlay_role: &lt;str&gt;\ndefault_overlay_address_families:\n- &lt;str&gt;\ndefault_evpn_encapsulation: &lt;str&gt;\nmlag_support: &lt;bool&gt;\nnetwork_services:\nl1: &lt;bool&gt;\nl2: &lt;bool&gt;\nl3: &lt;bool&gt;\nunderlay_router: &lt;bool&gt;\nuplink_type: &lt;str&gt;\nvtep: &lt;bool&gt;\nmpls_lsr: &lt;bool&gt;\nip_addressing:\npython_module: &lt;str&gt;\npython_class_name: &lt;str&gt;\nrouter_id: &lt;str&gt;\nrouter_id_ipv6: &lt;str&gt;\nmlag_ip_primary: &lt;str&gt;\nmlag_ip_secondary: &lt;str&gt;\nmlag_l3_ip_primary: &lt;str&gt;\nmlag_l3_ip_secondary: &lt;str&gt;\nmlag_ibgp_peering_ip_primary: &lt;str&gt;\nmlag_ibgp_peering_ip_secondary: &lt;str&gt;\np2p_uplinks_ip: &lt;str&gt;\np2p_uplinks_peer_ip: &lt;str&gt;\nvtep_ip_mlag: &lt;str&gt;\nvtep_ip: &lt;str&gt;\ninterface_descriptions:\npython_module: &lt;str&gt;\npython_class_name: &lt;str&gt;\nunderlay_ethernet_interfaces: &lt;str&gt;\nunderlay_port_channel_interfaces: &lt;str&gt;\nmlag_ethernet_interfaces: &lt;str&gt;\nmlag_port_channel_interfaces: &lt;str&gt;\nconnected_endpoints_ethernet_interfaces: &lt;str&gt;\nconnected_endpoints_port_channel_interfaces: &lt;str&gt;\noverlay_loopback_interface: &lt;str&gt;\nvtep_loopback_interface: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Platform%20Specific%20Settings.html","title":"Platform Specific Settings","text":"","boost":2},{"location":"roles/eos_designs/docs/Platform%20Specific%20Settings.html#platform-settings","title":"Platform Settings","text":"TableYAML Variable Type Required Default Value Restrictions Description platform_settings List, items: Dictionary \u00a0\u00a0- platforms List, items: String \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;str&gt; String \u00a0\u00a0\u00a0\u00a0trident_forwarding_table_partition String Only applied when evpn_multicast is true \u00a0\u00a0\u00a0\u00a0reload_delay Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mlag Integer Min: 0Max: 86400 In seconds \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0non_mlag Integer Min: 0Max: 86400 In seconds \u00a0\u00a0\u00a0\u00a0tcam_profile String \u00a0\u00a0\u00a0\u00a0lag_hardware_only Boolean \u00a0\u00a0\u00a0\u00a0feature_support Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0queue_monitor_length_notify Boolean True \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0interface_storm_control Boolean True \u00a0\u00a0\u00a0\u00a0management_interface String Management1 \u00a0\u00a0\u00a0\u00a0raw_eos_cli String EOS CLI rendered directly on the root level of the final EOS configuration <pre><code>platform_settings:\n- platforms:\n- &lt;str&gt;\ntrident_forwarding_table_partition: &lt;str&gt;\nreload_delay:\nmlag: &lt;int&gt;\nnon_mlag: &lt;int&gt;\ntcam_profile: &lt;str&gt;\nlag_hardware_only: &lt;bool&gt;\nfeature_support:\nqueue_monitor_length_notify: &lt;bool&gt;\ninterface_storm_control: &lt;bool&gt;\nmanagement_interface: &lt;str&gt;\nraw_eos_cli: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Platform%20Specific%20Settings.html#platform-speed-groups","title":"Platform Speed Groups","text":"<p>Set Hardware Speed Groups per Platform</p> TableYAML Variable Type Required Default Value Restrictions Description platform_speed_groups List, items: Dictionary \u00a0\u00a0- platform String Required, Unique \u00a0\u00a0\u00a0\u00a0speeds List, items: Dictionary \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- speed String Required, Unique \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0speed_groups List, items: Integer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- &lt;int&gt; Integer <pre><code>platform_speed_groups:\n- platform: &lt;str&gt;\nspeeds:\n- speed: &lt;str&gt;\nspeed_groups:\n- &lt;int&gt;\n</code></pre>","boost":2},{"location":"roles/eos_designs/docs/Platform%20Specific%20Settings.html#redundancy","title":"Redundancy","text":"<p>Redundancy for chassis platforms with dual supervisors | Optional</p> TableYAML Variable Type Required Default Value Restrictions Description redundancy Dictionary \u00a0\u00a0protocol String Valid Values:- sso- rpr <pre><code>redundancy:\nprotocol: &lt;str&gt;\n</code></pre>","boost":2},{"location":"roles/eos_snapshot/index.html","title":"eos_snapshot","text":""},{"location":"roles/eos_snapshot/index.html#overview","title":"Overview","text":"<p>eos_snapshot is a role leveraged to collect commands on Arista EOS devices and generate a report. It supports reports with the following format: text, markdown, JSON, and YAML.</p>"},{"location":"roles/eos_snapshot/index.html#role-inputs-and-outputs","title":"Role Inputs and Outputs","text":"<p>Figure 1 below visualizes the role\u2019s inputs, outputs, and tasks.</p> <p> </p> <p>Inputs:</p> <p>Ansible inventory to connect to EOS devices. The default variables can be changed to select a report format and include others commands.</p> <p>Outputs:</p> <ul> <li>Text files: one file per device and show command</li> <li>Markdown file: one report per device</li> <li>JSON file: one report per fabric</li> <li>YAML file: one report per fabric</li> </ul> <p>Tasks:</p> <ol> <li>Create output structure</li> <li>Collect show commands on device</li> <li>Save the collected commands</li> <li>Generate a JSON report</li> <li>Generate a YAML report</li> <li>Generate a markdown report</li> </ol>"},{"location":"roles/eos_snapshot/index.html#default-variables","title":"Default Variables","text":"<p>The following default variables are defined, and can be modified as desired:</p> <pre><code>---\nroot_dir: '{{ inventory_dir }}'\nsnapshots_backup_dir_name: 'commands'\nsnapshots_backup_dir: '{{ root_dir }}/{{ commands_backup_dir_name }}'\n# list of desired formats. Supported values are markdown, json and text.\n# text: one file per device and show command\n# markdown: one report per device\n# json: one report per fabric\n# yaml: one report per fabric\noutput_format:\n- text\n- markdown\n# - json\n# - yaml\ncommands_list:\n- show lldp neighbors\n- show ip interface brief\n- show interfaces description\n- show version\n- show running-config\n</code></pre>"},{"location":"roles/eos_snapshot/index.html#requirements","title":"Requirements","text":"<p>Requirements are located here: avd-requirements</p>"},{"location":"roles/eos_snapshot/index.html#example-playbook","title":"Example Playbook","text":"<pre><code>---\n- name: Collect commands\nhosts: DC1_FABRIC\nconnection: local\ngather_facts: false\ncollections:\n- arista.avd\ntasks:\n- name: Collect commands\nansible.builtin.import_role:\nname: eos_snapshot\n</code></pre>"},{"location":"roles/eos_snapshot/index.html#input-example","title":"Input example","text":""},{"location":"roles/eos_snapshot/index.html#inventoryinventoryini","title":"inventory/inventory.ini","text":"<pre><code>---\nall:\nchildren:\nDC1:\nchildren:\nDC1_FABRIC:\nchildren:\nDC1_SPINES:\nhosts:\nswitch2:\nansible_host: 10.83.28.190\nDC1_L3LEAFS:\nchildren:\nDC1_LEAF1:\nhosts:\nswitch1:\nansible_host: 10.83.28.216\nDC1_LEAF2:\nhosts:\nswitch3:\nansible_host: 10.83.28.191\n</code></pre>"},{"location":"roles/eos_snapshot/index.html#inventorygroup_varsdc1yml","title":"inventory/group_vars/DC1.yml","text":"<pre><code>ansible_user: 'arista'\nansible_password: 'arista'\nansible_network_os: eos\nansible_become: yes\nansible_become_method: enable\n</code></pre> <pre><code>output_format:\n- text\n- markdown\n# - json\n# - yaml\ncommands_list:\n- show lldp neighbors\n- show ip interface brief\n- show interfaces description\n- show version\n- show running-config\n</code></pre>"},{"location":"roles/eos_snapshot/index.html#usage-example","title":"Usage example","text":"<pre><code>ansible-playbook playbooks/pb_collect_yml --inventory inventory/inventory.yml\n</code></pre>"},{"location":"roles/eos_snapshot/index.html#license","title":"License","text":"<p>Project is published under Apache 2.0 License</p>"},{"location":"roles/eos_validate_state/index.html","title":"eos_validate_state","text":""},{"location":"roles/eos_validate_state/index.html#overview","title":"Overview","text":"<p>eos_validate_state is a role leveraged to validate Arista EOS devices\u2019 operational states.</p> <p>eos_validate_state role:</p> <ul> <li>Consumes structured EOS configuration file, the same input as the role eos_cli_config_gen. This input is considered the source of truth (the desired state).</li> <li>Connects to EOS devices to collect operational states (actual state). This requires access to the configured devices.</li> <li>Compares the actual states against the desired state.</li> <li>Generates CSV and Markdown reports of the results.</li> </ul>"},{"location":"roles/eos_validate_state/index.html#role-inputs-and-outputs","title":"Role Inputs and Outputs","text":"<p>Figure 1 below provides a visualization of the role\u2019s inputs, outputs, and tasks in order executed by the role.</p> <p> </p> <p>Inputs:</p> <ul> <li>Device structured configuration generated by abstraction role.</li> <li>Device state with <code>eos_command</code> module.</li> <li>CSV report, leveraged to generate Markdown summary report.</li> </ul> <p>Outputs:</p> <ul> <li>CSV report.</li> <li>Markdown summary report.</li> </ul> <p>Tasks:</p> <ol> <li>Include device structured configuration.</li> <li> <p>Collect and assert device state:</p> <ul> <li>(hardware) Validate environment (power supplies status).</li> <li>(hardware) Validate environment (fan status).</li> <li>(hardware) Validate environment (temperature).</li> <li>(hardware) Validate transceivers manufacturer.</li> <li>(NTP) Validate NTP status.</li> <li>(interface_state) Validate Ethernet interfaces admin and operational status.</li> <li>(interface_state) Validate Port-Channel interfaces admin and operational status.</li> <li>(interface_state) Validate VLAN interfaces admin and operational status.</li> <li>(interface_state) Validate VXLAN interfaces admin and operational status.</li> <li>(interface_state) Validate Loopback interfaces admin and operational status.</li> <li>(lldp_topology_fqdn) Validate LLDP topology when there is a domain name configured.</li> <li>(lldp_topology_no_fqdn) Validate LLDP topology when there is no domain name configured.</li> <li>(MLAG) Validate MLAG status.</li> <li>(ip_reachability) Validate IP reachability (on directly connected interfaces).</li> <li>(loopback_reachability) Validate loopback reachability (between devices).</li> <li>(bgp_check) Validate ArBGP is configured and operating.</li> <li>(bgp_check) Validate IP BGP and BGP EVPN sessions state.</li> <li>(reload_cause) Validate last reload cause. (Optional)</li> <li>(routing_table) Validate remote Lo0 addresses and remote Lo1 addresses are in the routing table (based on devices type).</li> </ul> </li> <li> <p>Create CSV report.</p> </li> <li>Read CSV file (leveraged to generate summary report).</li> <li>Create Markdown Summary report.</li> </ol>"},{"location":"roles/eos_validate_state/index.html#default-variables","title":"Default Variables","text":"<p>The following default variables are defined and can be modified as desired:</p> <pre><code># configure playbook to ingnore errors and continue testing.\neos_validate_state_validation_mode_loose: true\n# Format for path to r/w reports. Sync with default values configured in arista.avd.build_output_folders\nroot_dir: '{{ inventory_dir }}'\neos_validate_state_name: 'reports'\neos_validate_state_dir: '{{ root_dir }}/{{ eos_validate_state_name }}'\n# Reports name\neos_validate_state_md_report_path: '{{ eos_validate_state_dir }}/{{ fabric_name }}-state.md'\neos_validate_state_csv_report_path: '{{ eos_validate_state_dir }}/{{ fabric_name }}-state.csv'\n# Markdown flavor to support non-text rendering\n# Only support default and github\nvalidate_state_markdown_flavor: \"default\"\n# Fabric Name, required to match Ansible Group name covering all devices in the Fabric | Required and **must** be an inventory group name.\nfabric_name: \"all\"\n# Allow different manufacturers\naccepted_xcvr_manufacturers: \"{{ validation_role.xcvr_own_manufacturers | arista.avd.default(['Arastra, Inc.', 'Arista Networks']) }}\"\n# Allow different states for power supplies\naccepted_pwr_supply_states: \"{{ validation_role.pwr_supply_states | arista.avd.default(['ok']) }}\"\n# Allow different states for fans\naccepted_fan_states: \"{{ validation_role.fan_states | arista.avd.default(['ok']) }}\"\n# Generate CSV results file\nvalidation_report_csv: \"{{ validation_role.validation_report_csv | arista.avd.default(true) }}\"\n# Generate MD results file\nvalidation_report_md: \"{{ validation_role.validation_report_md | arista.avd.default(true) }}\"\n# Print only FAILED tests\nonly_failed_tests: \"{{ validation_role.only_failed_tests | arista.avd.default(false) }}\"\n</code></pre> <p>The variable <code>fabric_name</code> is used to select the inventory group covering all devices in the report. This variable is also required for the role <code>eos_designs</code>, but the user can set a name if this role is not used. The default value is <code>all</code> pointing to the built-in inventory group <code>all</code>. Therefore all devices in the inventory will be selected for the report.</p> <p>The default accepted manufacturers are \u201cArastra, Inc.\u201d and \u201cArista Networks.\u201d If <code>validation_role.xcvr_own_manufacturers</code> is set, it takes precedence and overrides the defined default variables.</p> <p>By default, all fans and power supplies are expected to be in the <code>ok</code> state. However chassis switches may intentionally be missing some fans or power supplies as they are not fully populated. In this case, <code>validation_role.fan_states</code> and <code>validation_role.pwr_supply_states</code> can be updated to include the <code>notInserted</code> state, as per the example below to avoid failures on missing fans/power supplies.</p> <p>Two user-defined variables control the generation of CSV and MD reports. These are <code>validation_role.validation_report_csv</code> and <code>validation_role.validation_report_md</code> respectively.</p> <p>The variable validation_role.only_failed_tests is used to limit the number of tests shown in the reports. When set, all reports will only show failed tests.</p>"},{"location":"roles/eos_validate_state/index.html#requirements","title":"Requirements","text":"<p>Requirements are located here: avd-requirements</p>"},{"location":"roles/eos_validate_state/index.html#example-playbook","title":"Example Playbook","text":"<pre><code>---\n- name: validate states on EOS devices\nhosts: DC1\nconnection: httpapi\ngather_facts: false\ncollections:\n- arista.avd\ntasks:\n- name: validate states on EOS devices\nansible.builtin.import_role:\nname: arista.avd.eos_validate_state\n</code></pre>"},{"location":"roles/eos_validate_state/index.html#input-example","title":"Input example","text":""},{"location":"roles/eos_validate_state/index.html#inventoryinventoryini","title":"inventory/inventory.ini","text":"<pre><code>---\nall:\nchildren:\nDC1:\nchildren:\nDC1_FABRIC:\nchildren:\nDC1_SPINES:\nhosts:\nswitch2:\nansible_host: 10.83.28.190\nDC1_L3LEAFS:\nchildren:\nDC1_LEAF1:\nhosts:\nswitch1:\nansible_host: 10.83.28.216\nDC1_LEAF2:\nhosts:\nswitch3:\nansible_host: 10.83.28.191\n</code></pre>"},{"location":"roles/eos_validate_state/index.html#inventorygroup_varsdc1yml","title":"inventory/group_vars/DC1.yml","text":"<pre><code>ansible_user: 'arista'\nansible_password: 'arista'\nansible_network_os: eos\nansible_become: yes\nansible_become_method: enable\nfabric_name: \"DC1\"\nvalidation_mode_loose: true\nvalidation_role:\nxcvr_own_manufacturers:\n- Manufacturer 1\n- Manufacturer 2\npwr_supply_states:\n- ok\n- notInserted\nfan_states:\n- ok\n- notInserted\n</code></pre>"},{"location":"roles/eos_validate_state/index.html#inventoryintendedstructured_configsswitch1yml","title":"inventory/intended/structured_configs/switch1.yml","text":"<pre><code>router_bgp:\nneighbors:\n10.10.10.1:\nremote_as: 65002\n10.10.10.3:\nremote_as: 65003\nethernet_interfaces:\nEthernet2:\npeer: switch3\npeer_interface: Ethernet4\nip_address: 10.10.10.2/31\ntype: routed\nEthernet5:\npeer: switch2\npeer_interface: Ethernet5\nip_address: 10.10.10.0/31\ntype: routed\nmlag_configuration:\ndomain_id: MLAG12\nlocal_interface: Vlan4094\npeer_address: 172.16.12.1\npeer_link: Port-Channel10\nreload_delay_mlag: 300\nreload_delay_non_mlag: 330\nntp_server:\nlocal_interface:\nvrf: MGMT\ninterface: Management1\nnodes:\n- 0.fr.pool.ntp.org\n- 1.fr.pool.ntp.org\ndns_domain: lab.local\n</code></pre>"},{"location":"roles/eos_validate_state/index.html#usage-example","title":"Usage example","text":"<pre><code>ansible-playbook playbooks/pb_validate_yml --inventory inventory/inventory.yml\n</code></pre>"},{"location":"roles/eos_validate_state/index.html#license","title":"License","text":"<p>Project is published under Apache 2.0 License</p>"}]}
# Create Ansible Execution Environment - using minimum requirements - for use in CI workflows
# Run from root of repo
# Example:
#   ansible-builder build --container-runtime=docker --tag=ansible-avd-ee-min-req:<tag> --verbosity 3 -f execution_environments/ansible-avd-ee-min-req.yml
---
version: 1

build_arg_defaults:
  EE_BASE_IMAGE: 'ghcr.io/aristanetworks/ansible-avd/ansible-avd-ee:latest'
  ANSIBLE_GALAXY_CLI_COLLECTION_OPTS: '--force --verbose'

dependencies:
  galaxy: ../ansible_collections/arista/avd/min-collections.yml
  python: ../ansible_collections/arista/avd/min-requirements.txt
  system: ../ansible_collections/arista/avd/bindep.txt

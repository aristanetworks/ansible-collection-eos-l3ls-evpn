# Create Ansible Execution Environment - using latest requirements - for use in CI workflows
# Run from root of repo
# Example:
#   ansible-builder build --container-runtime=docker --tag=ansible-avd-ee:<tag> --verbosity 3 -f execution_environments/ansible-avd-ee.yml
---
version: 1

build_arg_defaults:
  EE_BASE_IMAGE: 'quay.io/ansible/ansible-runner:stable-2.12-latest'
  ANSIBLE_GALAXY_CLI_COLLECTION_OPTS: '--force --verbose'

dependencies:
  galaxy: ../ansible_collections/arista/avd/collections.yml
  python: ../ansible_collections/arista/avd/requirements.txt
  system: ../ansible_collections/arista/avd/bindep.txt

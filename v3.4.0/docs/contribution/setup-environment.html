
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Arista Validated Design collection's documentation">
      
      
        <meta name="author" content="Arista Ansible Team">
      
      
      
        <link rel="prev" href="overview.html">
      
      
        <link rel="next" href="setup-git.html">
      
      <link rel="icon" href="../_media/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.0.15">
    
    
      
        <title>Setup environment - Arista AVD collection</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.material.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setup-ansible-avd-environment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="Arista AVD collection" class="md-header__button md-logo" aria-label="Arista AVD collection" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Arista AVD collection
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Setup environment
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aristanetworks/ansible-avd" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    AVD on Github
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Arista AVD collection" class="md-nav__button md-logo" aria-label="Arista AVD collection" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>

    </a>
    Arista AVD collection
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aristanetworks/ansible-avd" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    AVD on Github
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Release Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/3.x.x.html" class="md-nav__link">
        3.x.x
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/2.x.x.html" class="md-nav__link">
        2.x.x
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/1.1.x.html" class="md-nav__link">
        1.1.x
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/1.0.x.html" class="md-nav__link">
        1.0.x
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/intro-to-ansible-and-avd.html" class="md-nav__link">
        Introduction to Ansible and AVD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started.html" class="md-nav__link">
        First steps with AVD
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/collection-installation.html" class="md-nav__link">
        Collection Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/requirements.html" class="md-nav__link">
        Requirements
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          How-To
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          How-To
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/first-project.html" class="md-nav__link">
        Build your first AVD project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/first-cvp-avd-project.html" class="md-nav__link">
        Build your first AVD & CVP project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/lab-with-nat.html" class="md-nav__link">
        Use NAT to access eAPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/tower-integration.html" class="md-nav__link">
        AWX & Tower Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/ztp.html" class="md-nav__link">
        Configure ZTP server with CV collection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/vscode-container.html" class="md-nav__link">
        VScode Container
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Roles documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Roles documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
      
      
      
        <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
          eos_designs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          eos_designs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/index.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/connected-endpoints.html" class="md-nav__link">
        Connected Endpoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/l3-edge.html" class="md-nav__link">
        DCI & L3 Edge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/fabric-topology.html" class="md-nav__link">
        Fabric Topology
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/fabric-variables.html" class="md-nav__link">
        Fabric Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/management-settings.html" class="md-nav__link">
        Management Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/network-services.html" class="md-nav__link">
        Network Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/node-types.html" class="md-nav__link">
        Node types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/platform-settings.html" class="md-nav__link">
        Platform Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/custom-structured-configuration.html" class="md-nav__link">
        Custom Structured Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_11" >
      
      
      
        <label class="md-nav__link" for="__nav_6_1_11" id="__nav_6_1_11_label" tabindex="0">
          MPLS Design (BETA)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1_11">
          <span class="md-nav__icon md-icon"></span>
          MPLS Design (BETA)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/fabric-topology-mpls-BETA.html" class="md-nav__link">
        Fabric Topology MPLS (BETA)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/fabric-variables-mpls-BETA.html" class="md-nav__link">
        Fabric Variables MPLS (BETA)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/core-interfaces-BETA.html" class="md-nav__link">
        Core Interfaces (BETA)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/network-services-mpls-BETA.html" class="md-nav__link">
        Network Services MPLS (BETA)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_designs/doc/connected-endpoints-mpls-BETA.html" class="md-nav__link">
        Connected Endpoints MPLS (BETA)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_cli_config_gen/index.html" class="md-nav__link">
        eos_cli_config_gen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/cvp_configlet_upload/index.html" class="md-nav__link">
        cvp_configlet_upload
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_config_deploy_cvp/index.html" class="md-nav__link">
        eos_config_deploy_cvp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_config_deploy_eapi/index.html" class="md-nav__link">
        eos_config_deploy_eapi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_validate_state/index.html" class="md-nav__link">
        eos_validate_state
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/eos_snapshot/index.html" class="md-nav__link">
        eos_snapshot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/dhcp_provisioner/index.html" class="md-nav__link">
        dhcp_provisioner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roles/build_output_folders/index.html" class="md-nav__link">
        build_output_folders
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Modules documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Modules documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../modules/inventory_to_container.rst.html" class="md-nav__link">
        Module Inventory to containers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../modules/configlet_build_config.rst.html" class="md-nav__link">
        Module Configlet Build configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/index.html" class="md-nav__link">
        AVD Plugins & Filters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://cvp.avd.sh/" class="md-nav__link">
        Cloudvision Module documentation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Contributing to AVD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Contributing to AVD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="overview.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Setup environment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="setup-environment.html" class="md-nav__link md-nav__link--active">
        Setup environment
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup-ansible-avd-environment" class="md-nav__link">
    Setup Ansible AVD environment
  </a>
  
    <nav class="md-nav" aria-label="Setup Ansible AVD environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ansible-runner-requirements" class="md-nav__link">
    Ansible runner requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-local-folder-structure" class="md-nav__link">
    Create local folder structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-docker-as-avd-shell" class="md-nav__link">
    Use docker as AVD shell
  </a>
  
    <nav class="md-nav" aria-label="Use docker as AVD shell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avd-environment-commands" class="md-nav__link">
    AVD environment commands
  </a>
  
    <nav class="md-nav" aria-label="AVD environment commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commands-for-docker-compose" class="md-nav__link">
    Commands for docker-compose
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands-for-docker-only" class="md-nav__link">
    Commands for docker only
  </a>
  
    <nav class="md-nav" aria-label="Commands for docker only">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command-for-image-management" class="md-nav__link">
    Command for image management
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-avd-shell" class="md-nav__link">
    Run AVD shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-latest-image-of-avd-container" class="md-nav__link">
    Get latest image of AVD container
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-python-3-virtual-environment-feature" class="md-nav__link">
    Using Python 3 Virtual Environment feature
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="setup-git.html" class="md-nav__link">
        Git installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started.html" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="style-guide.html" class="md-nav__link">
        Code Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="development.html" class="md-nav__link">
        Development tips & tricks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          External resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          External resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.ansible.com/ansible/latest/user_guide/collections_using.html" class="md-nav__link">
        Ansible collection user guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.ansible.com/ansible/latest/user_guide/index.html" class="md-nav__link">
        Ansible User guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://galaxy.ansible.com/arista/avd" class="md-nav__link">
        Ansible Galaxy page
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://cvp.avd.sh/en/latest/" class="md-nav__link">
        Arista CVP Collection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/arista-netdevops-community/avd-install" class="md-nav__link">
        Arista Installation Script
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://aristanetworks.github.io/netdevops-examples/" class="md-nav__link">
        Arista Netdevops Community
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup-ansible-avd-environment" class="md-nav__link">
    Setup Ansible AVD environment
  </a>
  
    <nav class="md-nav" aria-label="Setup Ansible AVD environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ansible-runner-requirements" class="md-nav__link">
    Ansible runner requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-local-folder-structure" class="md-nav__link">
    Create local folder structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-docker-as-avd-shell" class="md-nav__link">
    Use docker as AVD shell
  </a>
  
    <nav class="md-nav" aria-label="Use docker as AVD shell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avd-environment-commands" class="md-nav__link">
    AVD environment commands
  </a>
  
    <nav class="md-nav" aria-label="AVD environment commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commands-for-docker-compose" class="md-nav__link">
    Commands for docker-compose
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands-for-docker-only" class="md-nav__link">
    Commands for docker only
  </a>
  
    <nav class="md-nav" aria-label="Commands for docker only">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command-for-image-management" class="md-nav__link">
    Command for image management
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-avd-shell" class="md-nav__link">
    Run AVD shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-latest-image-of-avd-container" class="md-nav__link">
    Get latest image of AVD container
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-python-3-virtual-environment-feature" class="md-nav__link">
    Using Python 3 Virtual Environment feature
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Setup environment</h1>

<h3 id="setup-ansible-avd-environment">Setup Ansible AVD environment<a class="headerlink" href="#setup-ansible-avd-environment" title="Permanent link">&para;</a></h3>
<p>Two methods can be used get Ansible up and running quickly with all the requirements to leverage <strong>ansible-avd</strong>:
A Python Virtual Environment or <a href="https://hub.docker.com/repository/docker/avdteam/base">Docker container</a>.</p>
<p>In both scenario, this document will leverage git approach to create a local environment with collections installed in their respective folders and additional folders for all your content. It means, all examples will be based on the following folder structure:</p>
<div class="highlight"><pre><span></span><code>├──<span class="w"> </span>git_projects
│<span class="w">   </span>├──<span class="w"> </span>ansible-avd
│<span class="w">   </span>├──<span class="w"> </span>ansible-cvp
│<span class="w">   </span>├──<span class="w"> </span>ansible-avd-cloudvision-demo
│<span class="w">   </span>├──<span class="w"> </span>Makefile
</code></pre></div>
<h4 id="ansible-runner-requirements">Ansible runner requirements<a class="headerlink" href="#ansible-runner-requirements" title="Permanent link">&para;</a></h4>
<p>As described in <a href="../installation/requirements.html">requirement page</a>, your runner should run Python 3.8 or Docker engine with <a href="https://docs.docker.com/compose/install/"><code>docker-compose</code></a>.</p>
<p>Besides that, local runner will read your gitconfig file to let you manipulate files in container as if you were on your host. So if you have not yet configured git on your host, it is required to at least create a <a href="https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup">basic git</a> configuration file:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create your username exposed in git commit</span>
$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;John Doe&quot;</span>

<span class="c1"># Create email exposed in your commit</span>
$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span>johndoe@example.com
</code></pre></div>
<h4 id="create-local-folder-structure">Create local folder structure<a class="headerlink" href="#create-local-folder-structure" title="Permanent link">&para;</a></h4>
<p>To build local folder structure you manually run all the following commands to git clone <a href="https://github.com/aristanetworks/ansible-avd">ansible-avd</a>, <a href="https://github.com/aristanetworks/ansible-cvp">ansible-cvp collection</a> and a <a href="https://github.com/arista-netdevops-community/ansible-avd-cloudvision-demo">repository with demo content</a></p>
<p>In addition to this 3 <code>git clone</code>, you can also deployed a <a href="https://github.com/aristanetworks/ansible-avd/blob/devel/development/Makefile">Makefile</a> built to provide some shortcut we will discuss in a second stage.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>mkdir<span class="w"> </span>git_projects

$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>git_projects

$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/aristanetworks/ansible-avd.git
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/aristanetworks/ansible-cvp.git
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/arista-netdevops-community/ansible-avd-cloudvision-demo.git

<span class="c1"># Copy Makefile at the root position</span>
$<span class="w"> </span>cp<span class="w"> </span>ansible-avd/development/Makefile<span class="w"> </span>./
$<span class="w"> </span>make<span class="w"> </span>start
</code></pre></div>
<p>Or you can use a one-liner script available in ansible-avd repository to create this structure for you. This script does following actions:</p>
<ul>
<li>Create a local folder for development</li>
<li>Instantiate a local git repository (no remote)</li>
<li>Clone AVD and CVP collections</li>
<li>Deploy Makefile</li>
</ul>
<p>Because we are cloning ansible collection using git, it is recommended to read documentation about <a href="setup-git.html#update-your-ansiblecfg">how to setup ansible to use collection based on git clone</a>.</p>
<p><strong>To use AVD only</strong></p>
<p>This one-liner will install AVD and CVP collection using latest version released on github. These branches might have some difference with the devel branch.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://get.avd.sh<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>
<p><strong>To develop with AVD</strong></p>
<p>This one-liner will install AVD using <code>devel</code> branch.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://get.avd.sh/dev/<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As the devel branch always includes the latest features and updates, the data models might change without notice and demo content could be broken. It should be used for development only.</p>
</div>
<h4 id="use-docker-as-avd-shell">Use docker as AVD shell<a class="headerlink" href="#use-docker-as-avd-shell" title="Permanent link">&para;</a></h4>
<p>In this approach Docker container will be leveraged to provides all the AVD requirements and playbooks and collection will be shared from your localhost to the container.</p>
<p>This approach will make the run process easier as all libraries are pre-configured in the container and you can continue to use your preferred text editor to edit and build your content.</p>
<p>Considering you have deployed <a href="https://github.com/aristanetworks/ansible-avd/blob/devel/development/Makefile">Makefile</a> described in previous section, all the outputs will provide native docker command and the Make command.</p>
<h5 id="avd-environment-commands">AVD environment commands<a class="headerlink" href="#avd-environment-commands" title="Permanent link">&para;</a></h5>
<p>When using installation script to create your own AVD environment, a <a href="https://github.com/aristanetworks/ansible-avd/blob/devel/development/Makefile"><code>Makefile</code></a> is deployed under <code>./ansible-arista</code> to automate some common commands:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>make<span class="w"> </span>&lt;your<span class="w"> </span>command&gt;
</code></pre></div>
<h6 id="commands-for-docker-compose">Commands for docker-compose<a class="headerlink" href="#commands-for-docker-compose" title="Permanent link">&para;</a></h6>
<ul>
<li><code>start</code>: Start docker compose stack to develop with AVD and CVP collection (alias: <code>start</code>)<ul>
<li>Deploy an <a href="https://hub.docker.com/repository/docker/titom73/mkdocs">mkdoc</a> instance to expose AVD documentation with live reload for development purposes.</li>
<li>Deploy an <a href="https://hub.docker.com/repository/docker/titom73/mkdocs">mkdoc</a> instance to expose CVP documentation with live reload for development purposes.</li>
<li>Deploy an <a href="https://hub.docker.com/repository/docker/avdteam/base">AVD runner</a> with a pseudo terminal connected to shell for ansible execution</li>
</ul>
</li>
<li><code>stop</code>: Stop docker compose stack and remove containers (alias: <code>stop</code>)</li>
<li><code>shell</code>: Run a shell attached to ansible container (alias: <code>shell</code>)</li>
<li><code>reload</code>: Stop and Start docker-compose stack</li>
<li><code>ansible-upgrade</code>: To upgrade ansible in your runner in conjunction with <code>ANSIBLE_VERSION</code></li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>make<span class="w"> </span>ansible-upgrade<span class="w"> </span><span class="nv">ANSIBLE_VERSION</span><span class="o">=</span><span class="m">2</span>.10.7
docker-compose<span class="w"> </span>-f<span class="w"> </span>ansible-avd/development/docker-compose.yml<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-u<span class="w"> </span>avd<span class="w"> </span>ansible<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span>--upgrade<span class="w"> </span><span class="nv">ansible</span><span class="o">==</span><span class="m">2</span>.10.7
Collecting<span class="w"> </span><span class="nv">ansible</span><span class="o">==</span><span class="m">2</span>.10.7
<span class="w">  </span>Downloading<span class="w"> </span>ansible-2.10.7.tar.gz<span class="w"> </span><span class="o">(</span><span class="m">14</span>.2<span class="w"> </span>MB<span class="o">)</span>
<span class="w">     </span><span class="p">|</span>████████████████████████████████<span class="p">|</span><span class="w"> </span><span class="m">14</span>.2<span class="w"> </span>MB<span class="w"> </span><span class="m">475</span><span class="w"> </span>kB/s
...
$<span class="w"> </span>make<span class="w"> </span>shell
docker-compose<span class="w"> </span>-f<span class="w"> </span>ansible-avd/development/docker-compose.yml<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-u<span class="w"> </span>avd<span class="w"> </span>ansible<span class="w"> </span>zsh

Agent<span class="w"> </span>pid<span class="w"> </span><span class="m">109</span>
➜<span class="w">  </span>/projects<span class="w"> </span>ansible<span class="w"> </span>--version
ansible<span class="w"> </span><span class="m">2</span>.10.7
</code></pre></div>
<h5 id="commands-for-docker-only">Commands for docker only<a class="headerlink" href="#commands-for-docker-only" title="Permanent link">&para;</a></h5>
<ul>
<li><code>run</code>: Run a <a href="https://hub.docker.com/repository/docker/avdteam/base">docker container</a> with local folder mounted under <code>/projects</code>. This command supports some option to test development version like:<ul>
<li><code>ANSIBLE_VERSION</code>: Specific version of ansible to install during container startup.</li>
<li><code>PIP_REQ</code>: Specific pip requirements file to install during container startup.</li>
</ul>
</li>
<li><code>vscode</code>: start a VScode container available in your browser to edit your local files.</li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>make<span class="w"> </span>run<span class="w"> </span><span class="nv">ANSIBLE_VERSION</span><span class="o">=</span><span class="m">2</span>.10
docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>-it<span class="w"> </span><span class="se">\</span>
<span class="w">                </span>-e<span class="w"> </span><span class="nv">AVD_REQUIREMENTS</span><span class="o">=</span><span class="w"> </span><span class="se">\</span>
<span class="w">                </span>-e<span class="w"> </span><span class="nv">AVD_ANSIBLE</span><span class="o">=</span><span class="m">2</span>.10<span class="w"> </span><span class="se">\</span>
<span class="w">                </span>-e<span class="w"> </span><span class="nv">AVD_GIT_USER</span><span class="o">=</span><span class="s2">&quot;xxxxx&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">                </span>-e<span class="w"> </span><span class="nv">AVD_GIT_EMAIL</span><span class="o">=</span><span class="s2">&quot;xxxxx&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">                </span>-v<span class="w"> </span>/var/run/docker.sock:/var/run/docker.sock<span class="w"> </span><span class="se">\</span>
<span class="w">                </span>-v<span class="w"> </span>/Users/tgrimonet/Projects/arista-ansible/:/projects<span class="w"> </span><span class="se">\</span>
<span class="w">                </span>-v<span class="w"> </span>/etc/hosts:/etc/hosts<span class="w"> </span>avdteam/base:3.6
Install<span class="w"> </span>ansible<span class="w"> </span>with<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.10
Collecting<span class="w"> </span><span class="nv">ansible</span><span class="o">==</span><span class="m">2</span>.10
<span class="w">  </span>Downloading<span class="w"> </span>ansible-2.10.0.tar.gz<span class="w"> </span><span class="o">(</span><span class="m">14</span>.1<span class="w"> </span>MB<span class="o">)</span>
...
</code></pre></div>
<h6 id="command-for-image-management">Command for image management<a class="headerlink" href="#command-for-image-management" title="Permanent link">&para;</a></h6>
<ul>
<li><code>update</code>: Get latest version of <a href="https://hub.docker.com/repository/docker/avdteam/base">AVD runner</a> and <a href="https://hub.docker.com/repository/docker/titom73/mkdocs">mkdoc</a> servers</li>
<li><code>clean</code>: Remove avd image from local repository</li>
</ul>
<h5 id="run-avd-shell">Run AVD shell<a class="headerlink" href="#run-avd-shell" title="Permanent link">&para;</a></h5>
<p>We are going to start a <a href="https://hub.docker.com/repository/docker/avdteam/base">new container</a> running ansible with all the python requirements and mount local folder under <code>/projects</code>. If the image is missing, docker will pull it automatically.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>-it<span class="w"> </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">pwd</span><span class="si">}</span>/:/projects<span class="w"> </span>avdteam/base:3.6
Unable<span class="w"> </span>to<span class="w"> </span>find<span class="w"> </span>image<span class="w"> </span><span class="s1">&#39;avdteam/base:3.6&#39;</span><span class="w"> </span>locally
<span class="m">3</span>.6:<span class="w"> </span>Pulling<span class="w"> </span>from<span class="w"> </span>avdteam/base
bf5952930446:<span class="w"> </span>Already<span class="w"> </span>exists
385bb58d08e6:<span class="w"> </span>Already<span class="w"> </span>exists
f59c6df69726:<span class="w"> </span>Already<span class="w"> </span>exists
cc14d0cfa632:<span class="w"> </span>Already<span class="w"> </span>exists
f4eba3bd5be8:<span class="w"> </span>Already<span class="w"> </span>exists
55c6a5feb373:<span class="w"> </span>Already<span class="w"> </span>exists
83464a988ea4:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
9b675b85887d:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
9cce9aa068f4:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
a49dbba0fea8:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
793f98fe2265:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
Digest:<span class="w"> </span>sha256:ead3ef030caa6caeafd6ddbfd31ce935da26b66914096c9543d9a44cca993dfd
Status:<span class="w"> </span>Downloaded<span class="w"> </span>newer<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span>avdteam/base:3.6
Agent<span class="w"> </span>pid<span class="w"> </span><span class="m">45</span>
➜<span class="w">  </span>/projects
</code></pre></div>
<p>You can use the Make command to run the exact same set of actions:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>make<span class="w"> </span>run
Unable<span class="w"> </span>to<span class="w"> </span>find<span class="w"> </span>image<span class="w"> </span><span class="s1">&#39;avdteam/base:3.6&#39;</span><span class="w"> </span>locally
<span class="m">3</span>.6:<span class="w"> </span>Pulling<span class="w"> </span>from<span class="w"> </span>avdteam/base
bf5952930446:<span class="w"> </span>Already<span class="w"> </span>exists
385bb58d08e6:<span class="w"> </span>Already<span class="w"> </span>exists
f59c6df69726:<span class="w"> </span>Already<span class="w"> </span>exists
cc14d0cfa632:<span class="w"> </span>Already<span class="w"> </span>exists
f4eba3bd5be8:<span class="w"> </span>Already<span class="w"> </span>exists
55c6a5feb373:<span class="w"> </span>Already<span class="w"> </span>exists
83464a988ea4:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
9b675b85887d:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
9cce9aa068f4:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
a49dbba0fea8:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
793f98fe2265:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
Digest:<span class="w"> </span>sha256:ead3ef030caa6caeafd6ddbfd31ce935da26b66914096c9543d9a44cca993dfd
Status:<span class="w"> </span>Downloaded<span class="w"> </span>newer<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span>avdteam/base:3.6
Agent<span class="w"> </span>pid<span class="w"> </span><span class="m">45</span>
➜<span class="w">  </span>/projects
</code></pre></div>
<p>Then you can move to your content folder as structure remains the same:</p>
<div class="highlight"><pre><span></span><code>➜<span class="w">  </span>/projects<span class="w"> </span>ls<span class="w"> </span>-l
drwxr-xr-x<span class="w"> </span><span class="m">24</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">  </span><span class="m">768</span><span class="w"> </span>Sep<span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">15</span>:47<span class="w"> </span>ansible-avd
drwxr-xr-x<span class="w"> </span><span class="m">24</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">  </span><span class="m">768</span><span class="w"> </span>Sep<span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">15</span>:47<span class="w"> </span>ansible-cvp
drwxr-xr-x<span class="w"> </span><span class="m">24</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">  </span><span class="m">768</span><span class="w"> </span>Sep<span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">15</span>:47<span class="w"> </span>ansible-avd-cloudvision-demo
drwxr-xr-x<span class="w"> </span><span class="m">24</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">  </span><span class="m">768</span><span class="w"> </span>Sep<span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">15</span>:47<span class="w"> </span>Makefile
</code></pre></div>
<p>You can validate if everything is set up correctly:</p>
<div class="highlight"><pre><span></span><code>➜<span class="w">  </span>/projects<span class="w"> </span>python<span class="w"> </span>--version
Python<span class="w"> </span><span class="m">3</span>.6.12

➜<span class="w">  </span>/projects<span class="w"> </span>ansible<span class="w"> </span>--version
ansible<span class="w"> </span><span class="m">2</span>.10.7
<span class="w">  </span>config<span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>None
<span class="w">  </span>configured<span class="w"> </span>module<span class="w"> </span>search<span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;/root/.ansible/plugins/modules&#39;</span>,<span class="w"> </span><span class="s1">&#39;/usr/share/ansible/plugins/modules&#39;</span><span class="o">]</span>
<span class="w">  </span>ansible<span class="w"> </span>python<span class="w"> </span>module<span class="w"> </span><span class="nv">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/root/.local/lib/python3.6/site-packages/ansible
<span class="w">  </span>executable<span class="w"> </span><span class="nv">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/root/.local/bin/ansible
<span class="w">  </span>python<span class="w"> </span><span class="nv">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span>.6.12<span class="w"> </span><span class="o">(</span>default,<span class="w"> </span>Aug<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">2020</span>,<span class="w"> </span><span class="m">04</span>:28:43<span class="o">)</span><span class="w"> </span><span class="o">[</span>GCC<span class="w"> </span><span class="m">8</span>.3.0<span class="o">]</span>
</code></pre></div>
<p>To exit the container, use <code>exit</code></p>
<div class="highlight"><pre><span></span><code>➜<span class="w">  </span>/projects<span class="w"> </span><span class="nb">exit</span>
$
</code></pre></div>
<h5 id="get-latest-image-of-avd-container">Get latest image of AVD container<a class="headerlink" href="#get-latest-image-of-avd-container" title="Permanent link">&para;</a></h5>
<p>The AVD container is updated frequently, to reflect some changes in either python requirements or ansible version. Because your docker engine won&rsquo;t get the latest version automatically, it is important to manually update this container:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>docker<span class="w"> </span>pull<span class="w"> </span>avdteam/base:3.6
latest:<span class="w"> </span>Pulling<span class="w"> </span>from<span class="w"> </span>avdteam/base
8a29a15cefae:<span class="w"> </span>Already<span class="w"> </span>exists
95df01e08bce:<span class="w"> </span>Downloading<span class="w"> </span><span class="o">[==============================================</span>&gt;<span class="w">    </span><span class="o">]</span><span class="w">  </span><span class="m">33</span>.55MB/36.35MB
512a8a4d71f7:<span class="w"> </span>Downloading<span class="w"> </span><span class="o">[=========================================</span>&gt;<span class="w">         </span><span class="o">]</span><span class="w">   </span><span class="m">45</span>.1MB/53.85MB
209c1657264b:<span class="w"> </span>Download<span class="w"> </span><span class="nb">complete</span>
bd6eece0221e:<span class="w"> </span>Downloading<span class="w"> </span><span class="o">[===================</span>&gt;<span class="w">                               </span><span class="o">]</span><span class="w">  </span><span class="m">52</span>.04MB/132.1MB
036c486feecb:<span class="w"> </span>Waiting
</code></pre></div>
<p>Your environment is now ready and you can start to build your own project leveraging ansible-avd and ansible-cvp collections.</p>
<h4 id="using-python-3-virtual-environment-feature">Using Python 3 Virtual Environment feature<a class="headerlink" href="#using-python-3-virtual-environment-feature" title="Permanent link">&para;</a></h4>
<p>This section describes how to configure python to run the ansible-AVD.</p>
<p>As a requirement, we consider python3 as the default python interpreter and pip3 as package manager for python3. Some differences can be spotted depending on your own operating system and how they package python.</p>
<p><strong>Disclaimer</strong>: Not a preferred method. If you are not an experienced user, please use docker approach.</p>
<p>In a shell, install <code>virtualenv</code> package:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># install virtualenv via pip3</span>
$<span class="w"> </span>sudo<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>virtualenv
</code></pre></div>
<p>Create a dedicated virtual environment where AVD will install all required Python packages:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">pwd</span>
/home/user/git_projects

<span class="c1"># Configure Python virtual environment</span>
$<span class="w"> </span>virtualenv<span class="w"> </span>-p<span class="w"> </span>python3<span class="w"> </span>.venv
$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>.venv/bin/activate

<span class="c1"># Install Python requirements</span>
$<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>ansible-avd/ansible_collections/arista/avd/requirements.txt
...
</code></pre></div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">February 4, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2019 - 2021 Arista Networks
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.top"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "stable", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js"></script>
      
        <script src="../stylesheets/tables.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
      
        <script src="../stylesheets/highlight.js"></script>
      
    
  </body>
</html>